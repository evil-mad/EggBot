MP2COD 5.00, COFF to COD File Converter
Copyright (c) 1998-2013 Microchip Technology Inc.
Listing File Generated: Sat Jan 27 09:31:58 2024


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
008efc   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008efe   f000                                                                                                               
008f00   ee2e     LFSR      0x2,0xe00          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008f02   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f04   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f06   9c3b     BCF       0x3b,0x6,0x0       bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008f08   eccf     CALL      0x8b9e,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
008f0a   f045                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
008f0c   ec97     CALL      0x8f2e,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
008f0e   f047                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
008f10   ecb6     CALL      0x876c,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
008f12   f043                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f14   d7fb     BRA       0x8f0c           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
008f16   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
008b9e   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
008ba0   6ef6     MOVWF     0xf6,0x0                                                                                        
008ba2   0e10     MOVLW     0x10                                                                                            
008ba4   6ef7     MOVWF     0xf7,0x0                                                                                        
008ba6   0e00     MOVLW     0x0                                                                                             
008ba8   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
008baa   0105     MOVLB     0x5                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
008bac   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008bae   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008bb0   6ff5     MOVWF     0xf5,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
008bb2   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008bb4   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008bb6   6ff6     MOVWF     0xf6,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
008bb8   e103     BNZ       0x8bc0              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
008bba   67f5     TSTFSZ    0xf5,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
008bbc   d001     BRA       0x8bc0             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008bbe   d03d     BRA       0x8c3a             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
008bc0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bc2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bc4   6ff0     MOVWF     0xf0,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
008bc6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bc8   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bca   6ff1     MOVWF     0xf1,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
008bcc   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bce   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bd0   6ff2     MOVWF     0xf2,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
008bd2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008bd4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bd6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bd8   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
008bda   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bdc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bde   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008be0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008be2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008be4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008be6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008be8   6ff3     MOVWF     0xf3,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
008bea   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bec   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008bee   6ff4     MOVWF     0xf4,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008bf0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008bf2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
008bf4   cff6     MOVFF     0xff6,0x5f7          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
008bf6   f5f7                                                                                                               
008bf8   cff7     MOVFF     0xff7,0x5f8                                                                                     
008bfa   f5f8                                                                                                               
008bfc   cff8     MOVFF     0xff8,0x5f9                                                                                     
008bfe   f5f9                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
008c00   c5f0     MOVFF     0x5f0,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
008c02   fff6                                                                                                               
008c04   c5f1     MOVFF     0x5f1,0xff7                                                                                     
008c06   fff7                                                                                                               
008c08   c5f2     MOVFF     0x5f2,0xff8                                                                                     
008c0a   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
008c0c   0105     MOVLB     0x5            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
008c0e   53f3     MOVF      0xf3,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
008c10   e102     BNZ       0x8c16         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
008c12   53f4     MOVF      0xf4,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
008c14   e007     BZ        0x8c24         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
008c16   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c18   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c1a   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
008c1c   07f3     DECF      0xf3,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
008c1e   e2f8     BC        0x8c10         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
008c20   07f4     DECF      0xf4,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
008c22   d7f9     BRA       0x8c16         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
008c24   c5f7     MOVFF     0x5f7,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
008c26   fff6                                                                                                               
008c28   c5f8     MOVFF     0x5f8,0xff7                                                                                     
008c2a   fff7                                                                                                               
008c2c   c5f9     MOVFF     0x5f9,0xff8                                                                                     
008c2e   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
008c30   0105     MOVLB     0x5                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
008c32   07f5     DECF      0xf5,0x1,0x1                                                                                    
008c34   0e00     MOVLW     0x0                                                                                             
008c36   5bf6     SUBWFB    0xf6,0x1,0x1                                                                                    
008c38   d7bf     BRA       0x8bb8               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
008c3a   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FileName:     	usb_device.c                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Dependencies:	See INCLUDES section                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               section) for list of available platforms.  The firmware may  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be modified for use on other USB platforms by editing the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               and C32 (for PIC32)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Company:		Microchip Technology, Inc.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB Device Stack File                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ..\\..\\MicrochipInclude                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            File Description:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    defintions to be more consistant with the host stack.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    and an odd number of packets had been sent on that endpoint             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed issue with dual role mode when device run in polling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    operation was complete.  This was incompatible with polling             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode operation.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bus if the bus voltage was still present.  This is now                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    possible.  It was also possible to move the device to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    present.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Improved error case handling when the host sends more OUT               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bytes in a control transfer than the firmware was expecting             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    function.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    devices.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    could be performed on a byte pointer resulting in possible address      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    errors with odd aligned pointers.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.8    Several changes to the way control transfers get processed,             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    so as to support the ability to allow application/class specific        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    handler code to defer the status stage.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Also implemented the following API functions and macros, for delaying   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    the data stage of a control transfer (with data stage):                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferINDataStage()                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferOUTDataStage()                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBOUTDataStageDeferred()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBINDataStageDeferred()                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBCtrlEPAllowDataStage()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    all ping pong mode and usage scenarios.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC24 and PIC32 devices.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 reset during set configuration events.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 in usb_device.h).                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9d  Added build option for disabling DTS checking                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9f  Adding pragma for PIC18F97J94 Family BDT location.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9h  Updated to be able to support optional Microsoft OS Descriptors         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9i  Updated to set UCON<SUSPND> bit on PIC16F USB devices during            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    suspend, so as to save power.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*---------------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           routine for the USB stack.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           of the available implemented functions/macros are provided in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework,  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB API documentation can be found from:                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           fashion.                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The faster of:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional details of the above timing limits are provided:                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           and is therefore recommended.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           performance, along with best possible compatibility with all existing USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           firmware design flexibility.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //----------------------------------------------------------------------------------*/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "../USB/usb_device_local.h"                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #include "./USB/usb_function_msd.h"                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #undef USB_BUS_SENSE                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define USB_BUS_SENSE 1                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_DEVICE_DISABLE_DTS_CHECKING)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED 0                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED _DTSEN                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DEFINITIONS ****************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** VARIABLES ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 2)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 2)+1)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 4)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 4)-2)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #error "No ping pong mode defined."                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata USB_BDT=USB_BDT_ADDRESS                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY BDT[BDT_NUM_ENTRIES] BDT_BASE_ADDR_TAG;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section B: EP0 Buffer Space                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt CTRL_TRF_SETUP_ADDR_TAG;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE] CTRL_TRF_DATA_ADDR_TAG;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section C: non-EP0 Buffer Space                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//#pragma udata                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#if defined(__18CXX)                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile char msd_buffer[512];                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Device descriptor                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Array of configuration descriptors                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           extern BYTE * USB_SD_Ptr[];                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DECLARATIONS ***************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma code                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Macros *********************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Prototypes ********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //External                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //This is the prototype for the required user event handler                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(int event, void *pdata, WORD size);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //Internal Functions                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPService(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfTxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfRxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdSetCfgHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetStatusHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void);                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void);                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBEPService(void);                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBProtocolResetHandler(void);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Implementations *************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Macros *********************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /****************************************************************************    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will advance the passed pointer to the next buffer based on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               only.  This function is not valid for EP0.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Parameters:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to the next buffer state                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** External API Functions ****************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceInit(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function initializes the device stack it in the default state. The  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USB module will be completely reset including all of the internal        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   variables, registers, and interrupt flags.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function must be called before any of the other USB Device          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions can be called, including USBDeviceTasks().                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006702   eceb     CALL      0x73d6,0x0     void USBDeviceInit(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006704   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006706   98a0     BCF       0xa0,0x4,0x0       USBDisableInterrupts();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear all USB error flags                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006708   6a63     CLRF      0x63,0x0           USBClearInterruptRegister(U1EIR);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clears all USB interrupts                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00670a   6a62     CLRF      0x62,0x0           USBClearInterruptRegister(U1IR);                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00670c   010f     MOVLB     0xf                U1EP0 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00670e   6b26     CLRF      0x26,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006710   ecca     CALL      0x7394,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006712   f039                                                                                                               
007394   0e02     MOVLW     0x2                                                                                             
007396   6ee6     MOVWF     0xe6,0x0                                                                                        
007398   6ae6     CLRF      0xe6,0x0                                                                                        
00739a   6ae6     CLRF      0xe6,0x0                                                                                        
00739c   0e27     MOVLW     0x27                                                                                            
00739e   6ee6     MOVWF     0xe6,0x0                                                                                        
0073a0   0e0f     MOVLW     0xf                                                                                             
0073a2   ef33     GOTO      0x7266                                                                                          
0073a4   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006714   010f     MOVLB     0xf                SetConfigurationOptions();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006716   ec89     CALL      0x7312,0x0                                                                                      
006718   f039                                                                                                               
007312   0e16     MOVLW     0x16                                                                                            
007314   6f39     MOVWF     0x39,0x1                                                                                        
007316   0e9f     MOVLW     0x9f                                                                                            
007318   6f37     MOVWF     0x37,0x1                                                                                        
00731a   0e7b     MOVLW     0x7b                                                                                            
00731c   6f36     MOVWF     0x36,0x1                                                                                        
00731e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //power up the module (if not already powered)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBPowerModule();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the address of the BDT (if applicable)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBSetBDTAddress(BDT);                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00671a   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00671c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00671e   6e4e     MOVWF     0x4e,0x0                                                                                        
006720   6a4f     CLRF      0x4f,0x0                                                                                        
006722   0e0c     MOVLW     0xc                                                                                             
006724   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006726   0e00     MOVLW     0x0                                                                                             
006728   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00672a   e210     BC        0x674c                                                                                          
006748   2adf     INCF      0xdf,0x1,0x0                                                                                    
00674a   d7e8     BRA       0x671c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00672c   50df     MOVF      0xdf,0x0,0x0           BDT[i].Val = 0x00;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00672e   0d04     MULLW     0x4                                                                                             
006730   cff3     MOVFF     0xff3,0xfe9                                                                                     
006732   ffe9                                                                                                               
006734   cff4     MOVFF     0xff4,0xfea                                                                                     
006736   ffea                                                                                                               
006738   0e00     MOVLW     0x0                                                                                             
00673a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00673c   0e04     MOVLW     0x4                                                                                             
00673e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006740   6aee     CLRF      0xee,0x0                                                                                        
006742   6aee     CLRF      0xee,0x0                                                                                        
006744   6aee     CLRF      0xee,0x0                                                                                        
006746   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674c   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Reset to default address                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674e   010f     MOVLB     0xf                U1ADDR = 0x00;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006750   6b38     CLRF      0x38,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Make sure packet processing is enabled                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006752   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006754   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Flush any pending transactions                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006756   a662     BTFSS     0x62,0x3,0x0       while(USBTransactionCompleteIF == 1u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006758   d007     BRA       0x6768                                                                                          
006766   d7f7     BRA       0x6756                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00675a   9662     BCF       0x62,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Initialize USB stack software state variables                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00675c   0105     MOVLB     0x5                    inPipes[0].info.Val = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00675e   6bd3     CLRF      0xd3,0x1                                                                                        
006760   6bd8     CLRF      0xd8,0x1               outPipes[0].info.Val = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006762   6bd9     CLRF      0xd9,0x1               outPipes[0].wCount.Val = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006764   6bda     CLRF      0xda,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006768   0105     MOVLB     0x5                USBStatusStageEnabledFlag1 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00676a   0e01     MOVLW     0x1                                                                                             
00676c   6fec     MOVWF     0xec,0x1                                                                                        
00676e   6fed     MOVWF     0xed,0x1           USBStatusStageEnabledFlag2 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Initialize other flags                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006770   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006772   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006774   6be0     CLRF      0xe0,0x1           USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006776   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006778   0e03     MOVLW     0x3                                                                                             
00677a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00677c   e211     BC        0x67a0                                                                                          
00679e   d7ec     BRA       0x6778                                                                                          
0072a4   2adf     INCF      0xdf,0x1,0x0                                                                                    
0072a6   0012     RETURN    0x0                                                                                             
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00677e   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006780   34df     RLCF      0xdf,0x0,0x0                                                                                    
006782   ecee     CALL      0x73dc,0x0                                                                                      
006784   f039                                                                                                               
006786   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006788   6aee     CLRF      0xee,0x0                                                                                        
00678a   6aed     CLRF      0xed,0x0                                                                                        
0073dc   0bfe     ANDLW     0xfe                                                                                            
0073de   36ea     RLCF      0xea,0x1,0x0                                                                                    
0073e0   6ee9     MOVWF     0xe9,0x0                                                                                        
0073e2   0ec9     MOVLW     0xc9                                                                                            
0073e4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0073e6   0e05     MOVLW     0x5                                                                                             
0073e8   0012     RETURN    0x0                                                                                             
00678c   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00678e   34df     RLCF      0xdf,0x0,0x0                                                                                    
006790   ecf5     CALL      0x73ea,0x0                                                                                      
006792   f039                                                                                                               
006794   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006796   6aee     CLRF      0xee,0x0                                                                                        
006798   6aed     CLRF      0xed,0x0                                                                                        
0073ea   0bfe     ANDLW     0xfe                                                                                            
0073ec   36ea     RLCF      0xea,0x1,0x0                                                                                    
0073ee   6ee9     MOVWF     0xe9,0x0                                                                                        
0073f0   0ec3     MOVLW     0xc3                                                                                            
0073f2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0073f4   0e05     MOVLW     0x5                                                                                             
0073f6   0012     RETURN    0x0                                                                                             
00679a   ec4a     CALL      0x7294,0x0     		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679c   f039                                                                                                               
007294   50df     MOVF      0xdf,0x0,0x0                                                                                    
007296   d8bc     RCALL     0x7410                                                                                          
007298   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00729a   6aef     CLRF      0xef,0x0                                                                                        
00729c   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729e   d8b3     RCALL     0x7406                                                                                          
0072a0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072a2   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Get ready for the first packet                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a0   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a2   0e08     MOVLW     0x8                                                                                             
0067a4   6fc9     MOVWF     0xc9,0x1                                                                                        
0067a6   0e04     MOVLW     0x4                                                                                             
0067a8   6fca     MOVWF     0xca,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067aa   010f     MOVLB     0xf                U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ac   0e16     MOVLW     0x16                                                                                            
0067ae   6f26     MOVWF     0x26,0x1                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b0   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b2   0e30     MOVLW     0x30                                                                                            
0067b4   6f02     MOVWF     0x2,0x1                                                                                         
0067b6   0e04     MOVLW     0x4                                                                                             
0067b8   6f03     MOVWF     0x3,0x1                                                                                         
0067ba   0e40     MOVLW     0x40               BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067bc   6f01     MOVWF     0x1,0x1                                                                                         
0067be   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c0   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear active configuration                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c2   0105     MOVLB     0x5                USBActiveConfiguration = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c4   6bbd     CLRF      0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Indicate that we are now in the detached state                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c6   6bbc     CLRF      0xbc,0x1           USBDeviceState = DETACHED_STATE;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ca   ef1c     GOTO      0x7238                                                                                          
0067cc   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceTasks(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceTasks(); //Takes care of enumeration and other USB events   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Either the device is not configured or we are suspended,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           // so we don't want to execute any USB related application code  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Otherwise we are free to run USB and non-USB related user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //application code.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Make sure the USBDeviceInit() function has been called prior to calling      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() for the first time.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() does not need to be called while in the USB suspend mode,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if the user application firmware in the USBCBSuspend() callback function     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enables the ACTVIF USB interrupt source and put the microcontroller into     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               sleep mode.  If the application firmware decides not to sleep the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               microcontroller core during USB suspend (ex: continues running at full       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               frequency, or clock switches to a lower frequency), then the USBDeviceTasks() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function must still be called periodically, at a rate frequent enough to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ensure the 10ms resume recovery interval USB specification is met.  Assuming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a worst case primary oscillator and PLL start up time of <5ms, then          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() should be called once every 5ms in this scenario.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB cable is detached, or the USB host is not actively powering     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the VBUS line to +5V nominal, the application firmware does not always have  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() frequently, as no USB activity will be taking       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               place.  However, if USBDeviceTasks() is not called regularly, some           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               alternative means of promptly detecting when VBUS is powered (indicating     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               host attachment), or not powered (host powered down or USB cable unplugged)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               is still needed.  For self or dual self/bus powered USB applications, see    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBDeviceAttach() and USBDeviceDetach() API documentation for additional  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               considerations.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX) || defined (_PIC14E)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBDeviceTasks(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__C30__) || defined __XC16__                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__PIC32MX__)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt(),vector(_USB_1_VECTOR))) _USB1Interrupt( void )  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ce   eceb     CALL      0x73d6,0x0     void USBDeviceTasks(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d0   f039                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SRP Time Out Check                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USBOTGSRPIsReady())                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear Interrupt Flag                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_POLLING)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d2   be82     BTFSC     0x82,0x7,0x0       if (USB_BUS_SENSE != 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d4   d006     BRA       0x67e2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d6   6a65     CLRF      0x65,0x0                U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d8   010f     MOVLB     0xf                     U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067da   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067dc   0105     MOVLB     0x5                     USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067de   6bbc     CLRF      0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBClearUSBInterrupt();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e0   d06f     BRA       0x68c0                  return;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e2   0105     MOVLB     0x5                if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e4   51bc     MOVF      0xbc,0x0,0x1                                                                                    
0067e6   e10c     BNZ       0x6800                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Initialize register to known value                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e8   6a65     CLRF      0x65,0x0               U1CON = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Mask all USB interrupts                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ea   010f     MOVLB     0xf                    U1IE = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ec   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ee   ec89     CALL      0x7312,0x0             SetConfigurationOptions();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f0   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Enable module & attach to bus                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f2   b665     BTFSC     0x65,0x3,0x0           while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f4   d002     BRA       0x67fa                                                                                          
0067f6   8665     BSF       0x65,0x3,0x0                                                                                    
0067f8   d7fc     BRA       0x67f2                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //moved to the attached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fa   0105     MOVLB     0x5                    USBDeviceState = ATTACHED_STATE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fc   0e01     MOVLW     0x1                                                                                             
0067fe   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006800   05bc     DECF      0xbc,0x0,0x1       if(USBDeviceState == ATTACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006802   e10a     BNZ       0x6818                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * After enabling the USB module, it takes some time for the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * as a USB bus reset from the USB host.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006804   ba65     BTFSC     0x65,0x5,0x0           if(!USBSE0Event)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006806   d008     BRA       0x6818                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006808   6a62     CLRF      0x62,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(USB_POLLING)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680a   010f     MOVLB     0xf                            U1IE=0;                        // Mask all USB interrupts        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680c   6b36     CLRF      0x36,0x1                                                                                        
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680e   8136     BSF       0x36,0x0,0x1               USBResetIE = 1;             // Unmask RESET interrupt                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006810   8936     BSF       0x36,0x4,0x1               USBIdleIE = 1;             // Unmask IDLE interrupt                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006812   0105     MOVLB     0x5                        USBDeviceState = POWERED_STATE;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006814   0e02     MOVLW     0x2                                                                                             
006816   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ID Pin Changed State                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Re-detect & Initialize                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGInitialize();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task A: Service USB Activity Interrupt                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006818   5062     MOVF      0x62,0x0,0x0       if(USBActivityIF && USBActivityIE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00681a   0b04     ANDLW     0x4                                                                                             
00681c   e006     BZ        0x682a                                                                                          
00681e   010f     MOVLB     0xf                                                                                             
006820   5136     MOVF      0x36,0x0,0x1                                                                                    
006822   0b04     ANDLW     0x4                                                                                             
006824   e002     BZ        0x682a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006826   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGIR = 0x10;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006828   db47     RCALL     0x6eb8                     USBWakeFromSuspend();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682a   b265     BTFSC     0x65,0x1,0x0       if(USBSuspendControl==1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682c   d049     BRA       0x68c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBClearUSBInterrupt();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * The USB reset flag is masked when the USB state is in                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * cause a USB reset event during these two states.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682e   5062     MOVF      0x62,0x0,0x0       if(USBResetIF && USBResetIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006830   0b01     ANDLW     0x1                                                                                             
006832   e009     BZ        0x6846                                                                                          
006834   010f     MOVLB     0xf                                                                                             
006836   5136     MOVF      0x36,0x0,0x1                                                                                    
006838   0b01     ANDLW     0x1                                                                                             
00683a   e005     BZ        0x6846                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683c   df62     RCALL     0x6702                 USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683e   0105     MOVLB     0x5                    USBDeviceState = DEFAULT_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006840   0e04     MOVLW     0x4                                                                                             
006842   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006844   9062     BCF       0x62,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task C: Service other USB interrupts                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006846   5062     MOVF      0x62,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006848   0b10     ANDLW     0x10                                                                                            
00684a   e006     BZ        0x6858                                                                                          
00684c   010f     MOVLB     0xf                                                                                             
00684e   5136     MOVF      0x36,0x0,0x1                                                                                    
006850   0b10     ANDLW     0x10                                                                                            
006852   e002     BZ        0x6858                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If Suspended, Try to switch to Host                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006854   db26     RCALL     0x6ea2                     USBSuspend();                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006856   9862     BCF       0x62,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006858   ac62     BTFSS     0x62,0x6,0x0       if(USBSOFIF)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685a   d010     BRA       0x687c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685c   010f     MOVLB     0xf                    if(USBSOFIE)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685e   ad36     BTFSS     0x36,0x6,0x1                                                                                    
006860   d005     BRA       0x686c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006862   ec90     CALL      0x7320,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006864   f039                                                                                                               
006866   0e73     MOVLW     0x73                                                                                            
006868   ec09     CALL      0x7212,0x0                                                                                      
00686a   f039                                                                                                               
007320   0e01     MOVLW     0x1                                                                                             
007322   6ee6     MOVWF     0xe6,0x0                                                                                        
007324   6ae6     CLRF      0xe6,0x0                                                                                        
007326   0e00     MOVLW     0x0                                                                                             
007328   6ee6     MOVWF     0xe6,0x0                                                                                        
00732a   6ae6     CLRF      0xe6,0x0                                                                                        
00732c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686c   9c62     BCF       0x62,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #warning "Double click this message.  See inline code comments." D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //transfers with data stage).                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //prior to executing the below code.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Decrement our status stage counter.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686e   0105     MOVLB     0x5                        if(USBStatusStageTimeoutCounter != 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006870   51ea     MOVF      0xea,0x0,0x1                                                                                    
006872   e001     BZ        0x6876                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006874   07ea     DECF      0xea,0x1,0x1                   USBStatusStageTimeoutCounter--;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Check if too much time has elapsed since progress was made in      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //processing the control transfer, without arming the status stage.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006876   51ea     MOVF      0xea,0x0,0x1               if(USBStatusStageTimeoutCounter == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006878   e101     BNZ       0x687c                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687a   d8f4     RCALL     0x6a64                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687c   5062     MOVF      0x62,0x0,0x0       if(USBStallIF && USBStallIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687e   0b20     ANDLW     0x20                                                                                            
006880   e005     BZ        0x688c                                                                                          
006882   010f     MOVLB     0xf                                                                                             
006884   5136     MOVF      0x36,0x0,0x1                                                                                    
006886   0b20     ANDLW     0x20                                                                                            
006888   e001     BZ        0x688c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688a   dafa     RCALL     0x6e80                 USBStallHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688c   5062     MOVF      0x62,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688e   0b02     ANDLW     0x2                                                                                             
006890   e00c     BZ        0x68aa                                                                                          
006892   010f     MOVLB     0xf                                                                                             
006894   5136     MOVF      0x36,0x0,0x1                                                                                    
006896   0b02     ANDLW     0x2                                                                                             
006898   e008     BZ        0x68aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689a   ec90     CALL      0x7320,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689c   f039                                                                                                               
00689e   68e6     SETF      0xe6,0x0                                                                                        
0068a0   0e7f     MOVLW     0x7f                                                                                            
0068a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0068a4   ecfc     CALL      0x73f8,0x0                                                                                      
0068a6   f039                                                                                                               
0073f8   ec13     CALL      0x8826,0x0                                                                                      
0073fa   f044                                                                                                               
0073fc   6e4e     MOVWF     0x4e,0x0                                                                                        
0073fe   0e06     MOVLW     0x6                                                                                             
007400   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007402   504e     MOVF      0x4e,0x0,0x0                                                                                    
007404   0012     RETURN    0x0                                                                                             
0068a8   6a63     CLRF      0x63,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  manually cleared.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(__C32__) || defined(__C30__) || defined __XC16__             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * state and is ready for communication.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068aa   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ac   0105     MOVLB     0x5                                                                                             
0068ae   6ee7     MOVWF     0xe7,0x0                                                                                        
0068b0   19bc     XORWF     0xbc,0x0,0x1                                                                                    
0068b2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0068b4   d002     BRA       0x68ba                                                                                          
0068b6   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0068b8   d002     BRA       0x68be                                                                                          
0068ba   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0068bc   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0068be   e202     BC        0x68c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c0   98a1     BCF       0xa1,0x4,0x0   	    USBClearUSBInterrupt();                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c2   d02f     BRA       0x6922         	    return;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c4   010f     MOVLB     0xf                if(USBTransactionCompleteIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c6   a736     BTFSS     0x36,0x3,0x1                                                                                    
0068c8   d02b     BRA       0x6920                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ca   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068cc   0e04     MOVLW     0x4                                                                                             
0068ce   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0068d0   e227     BC        0x6920                                                                                          
00691c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00691e   d7d6     BRA       0x68cc                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d2   a662     BTFSS     0x62,0x3,0x0   		    if(USBTransactionCompleteIF)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d4   d025     BRA       0x6920                                                                                          
                                           		    {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d6   cf64     MOVFF     0xf64,0x5e1                    USTATcopy.Val = U1STAT;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d8   f5e1                                                                                                               
0068da   0105     MOVLB     0x5                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068dc   51e1     MOVF      0xe1,0x0,0x1                                                                                    
0068de   0b78     ANDLW     0x78                                                                                            
0068e0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0068e2   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0068e4   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0068e6   6fe2     MOVWF     0xe2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e8   9662     BCF       0x62,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ea   b5e1     BTFSC     0xe1,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ec   d004     BRA       0x68f6                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ee   51e2     MOVF      0xe2,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1;  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f0   ec03     CALL      0x7406,0x0                                                                                      
0068f2   f03a                                                                                                               
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f4   d003     BRA       0x68fc                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f6   51e2     MOVF      0xe2,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f8   ec08     CALL      0x7410,0x0                                                                                      
0068fa   f03a                                                                                                               
0068fc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0068fe   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //It ignores all other EP transactions.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006900   51e2     MOVF      0xe2,0x0,0x1                   if(endpoint_number == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006902   e102     BNZ       0x6908                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006904   dae6     RCALL     0x6ed2                             USBCtrlEPService();                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006906   d00a     BRA       0x691c                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006908   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690a   6ee6     MOVWF     0xe6,0x0                                                                                        
00690c   6ae6     CLRF      0xe6,0x0                                                                                        
00690e   0ee1     MOVLW     0xe1                                                                                            
006910   6ee6     MOVWF     0xe6,0x0                                                                                        
006912   0e05     MOVLW     0x5                                                                                             
006914   6ee6     MOVWF     0xe6,0x0                                                                                        
006916   0e72     MOVLW     0x72                                                                                            
006918   ec09     CALL      0x7212,0x0                                                                                      
00691a   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}//end for()                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006920   98a1     BCF       0xa1,0x4,0x0       USBClearUSBInterrupt();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006922   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006924   ef1c     GOTO      0x7238                                                                                          
006926   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBCBInitEP(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBMSDInit();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep -       the endpoint to be configured                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be ORed together to form a single options string. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               available optional settings for the endpoint. The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               options should be ORed together to form a single options     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               string. The available options are the following\:            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_STALL_ENDPOINT STALLs this endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006928   ecbc     CALL      0x7378,0x0     void USBEnableEndpoint(BYTE ep, BYTE options)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692a   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               unsigned char* p;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //starting DTS state in the BDT entry.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692c   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692e   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
006930   d003     BRA       0x6938                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006932   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006934   ec81     CALL      0x7302,0x0                                                                                      
006936   f039                                                                                                               
007302   0efe     MOVLW     0xfe                                                                                            
007304   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007306   ffe6                                                                                                               
007308   ec77     CALL      0x6aee,0x0                                                                                      
00730a   f035                                                                                                               
00730c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00730e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007310   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006938   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693a   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00693c   d004     BRA       0x6946                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693e   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006940   6ee6     MOVWF     0xe6,0x0                                                                                        
006942   ec81     CALL      0x7302,0x0                                                                                      
006944   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //etc.)                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006946   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006948   50db     MOVF      0xdb,0x0,0x0                                                                                    
00694a   6a4f     CLRF      0x4f,0x0                                                                                        
00694c   0f26     ADDLW     0x26                                                                                            
00694e   6e4e     MOVWF     0x4e,0x0                                                                                        
006950   0e0f     MOVLW     0xf                                                                                             
006952   ec7b     CALL      0x72f6,0x0                                                                                      
006954   f039                                                                                                               
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006956   ec0d     CALL      0x721a,0x0         *p = options;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006958   f039                                                                                                               
00695a   0efd     MOVLW     0xfd                                                                                            
00695c   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00695e   ffef                                                                                                               
006960   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006962   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006964   e202     BC        0x696a                                                                                          
006966   6ae1     CLRF      0xe1,0x0                                                                                        
006968   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00696a   6ee1     MOVWF     0xe1,0x0                                                                                        
00696c   ef1c     GOTO      0x7238                                                                                          
00696e   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*************************************************************************       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE USBTransferOnePacket(BYTE ep, BYTE dir, BYTE* data, BYTE len)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Transfers a single packet (one transaction) of data on the USB bus.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() function prepares a USB endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               so that it may send data to the host (an IN transaction), or                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               receive data from the host (an OUT transaction).  The                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBTransferOnePacket() function can be used both to receive	and              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               send data to the host.  This function is the primary API function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               provided by the USB stack firmware for sending or receiving application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               data over the USB port.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() is intended for use with all application          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoints.  It is not used for sending or receiving applicaiton data         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               through endpoint 0 by using control transfers.  Separate API                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               functions, such as USBEP0Receive(), USBEP0SendRAMPtr(), and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBEP0SendROMPtr() are provided for this purpose.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The	USBTransferOnePacket() writes to the Buffer Descriptor Table (BDT)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               entry associated with an endpoint buffer, and sets the UOWN bit, which       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               prepares the USB hardware to allow the transaction to complete.  The         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application firmware can use the USBHandleBusy() macro to check the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               status of the transaction, to see if the data has been successfully          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               transmitted yet.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //make sure that the we are in the configured state                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBGetDeviceState() == CONFIGURED_STATE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //make sure that the last transaction isn't busy by checking the handle  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(!USBHandleBusy(USBInHandle))                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //Write the new data that we wish to send to the host to the INPacket[] array D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[0] = USEFUL_APPLICATION_VALUE1;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[1] = USEFUL_APPLICATION_VALUE2;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //INPacket[2] = ... (fill in the rest of the packet data)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Send the data contained in the INPacket[] array through endpoint "EP_NUM" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBInHandle = USBTransferOnePacket(EP_NUM,IN_TO_HOST,(BYTE*)&INPacket[0],sizeof(INPacket)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Before calling USBTransferOnePacket(), the following should be true.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               1.  The USB stack has already been initialized (USBDeviceInit() was called). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               2.  A transaction is not already pending on the specified endpoint.  This    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   is done by checking the previous request using the USBHandleBusy()       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro (see the typical usage example).                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               3.  The host has already sent a set configuration request and the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enumeration process is complete.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This can be checked by verifying that the USBGetDeviceState()            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro returns "CONFIGURED_STATE", prior to calling                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBTransferOnePacket().                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            					                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep - The endpoint number that the data will be transmitted or           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	          received on                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE dir - The direction of the transfer                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          This value is either OUT_FROM_HOST or IN_TO_HOST                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE* data - For IN transactions: pointer to the RAM buffer containing       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the data to be sent to the host.  For OUT transactions: pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            to the RAM buffer that the received data should get written to. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              BYTE len - Length of the data needing to be sent (for IN transactions).       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         For OUT transactions, the len parameter should normally be set     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         to the endpoint size specified in the endpoint descriptor.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE - handle to the transfer.  The handle is a pointer to             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the BDT entry associated with this transaction.  The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            status of the transaction (ex: if it is complete or still       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            pending) can be checked using the USBHandleBusy() macro         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            and supplying the USB_HANDLE provided by                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            USBTransferOnePacket().                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If calling the USBTransferOnePacket() function from within the USBCBInitEP() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               callback function, the set configuration is still being processed and the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceState may not be == CONFIGURED_STATE yet.  In this	special case,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBTransferOnePacket() may still be called, but make sure that the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoint has been enabled and initialized by the USBEnableEndpoint()         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function first.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006970   ecbc     CALL      0x7378,0x0     USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006972   f039                                                                                                               
007378   df5a     RCALL     0x722e                                                                                          
00737a   0e02     MOVLW     0x2                                                                                             
00737c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
00737e   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the direction is IN                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006974   0efd     MOVLW     0xfd               if(dir != 0u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006976   50db     MOVF      0xdb,0x0,0x0                                                                                    
006978   e003     BZ        0x6980                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //point to the IN BDT of the specified endpoint                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697a   ec04     CALL      0x7208,0x0             handle = pBDTEntryIn[ep];                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697c   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697e   d002     BRA       0x6984             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006980   ec3b     CALL      0x7276,0x0             handle = pBDTEntryOut[ep];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006982   f039                                                                                                               
006984   ec67     CALL      0x72ce,0x0                                                                                      
006986   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006988   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698a   ffe9                                                                                                               
00698c   cfda     MOVFF     0xfda,0xfea                                                                                     
00698e   ffea                                                                                                               
006990   50ee     MOVF      0xee,0x0,0x0                                                                                    
006992   10ed     IORWF     0xed,0x0,0x0                                                                                    
006994   e103     BNZ       0x699c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006996   6af3     CLRF      0xf3,0x0       	    return 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006998   6af4     CLRF      0xf4,0x0                                                                                        
00699a   d028     BRA       0x69ec                                                                                          
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Toggle the DTS bit if required                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(ep != 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699c   ec0d     CALL      0x721a,0x0         handle->ADR = ConvertToPhysicalAddress(data);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699e   f039                                                                                                               
0069a0   ec17     CALL      0x742e,0x0                                                                                      
0069a2   f03a                                                                                                               
0069a4   0efb     MOVLW     0xfb                                                                                            
0069a6   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0069a8   ffee                                                                                                               
0069aa   0efc     MOVLW     0xfc                                                                                            
0069ac   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0069ae   ffed                                                                                                               
0069b0   ec0d     CALL      0x721a,0x0         handle->CNT = len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b2   f039                                                                                                               
0069b4   52ee     MOVF      0xee,0x1,0x0                                                                                    
0069b6   0efa     MOVLW     0xfa                                                                                            
0069b8   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0069ba   ffef                                                                                                               
0069bc   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069be   ec0d     CALL      0x741a,0x0                                                                                      
0069c0   f03a                                                                                                               
0069c2   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | (_DTSEN & _DTS_CHECKING_ENABLED);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c4   ec1c     CALL      0x7438,0x0                                                                                      
0069c6   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Point to the next buffer for ping pong purposes.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c8   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ca   50db     MOVF      0xdb,0x0,0x0                                                                                    
0069cc   e003     BZ        0x69d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ce   ec04     CALL      0x7208,0x0             USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d0   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d2   d002     BRA       0x69d8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d4   ec3b     CALL      0x7276,0x0             USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d6   f039                                                                                                               
0069d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0069da   74ef     BTG       0xef,0x2,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069dc   cfde     MOVFF     0xfde,0x4e         return (USB_HANDLE)handle;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069de   f04e                                                                                                               
0069e0   cfdd     MOVFF     0xfdd,0x4f                                                                                      
0069e2   f04f                                                                                                               
0069e4   c04e     MOVFF     0x4e,0xff3                                                                                      
0069e6   fff3                                                                                                               
0069e8   c04f     MOVFF     0x4f,0xff4                                                                                      
0069ea   fff4                                                                                                               
0069ec   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ee   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0069f0   e202     BC        0x69f6                                                                                          
0069f2   6ae1     CLRF      0xe1,0x0                                                                                        
0069f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0069f6   6ee1     MOVWF     0xe1,0x0                                                                                        
0069f8   ef1c     GOTO      0x7238                                                                                          
0069fa   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBStallEndpoint(BYTE ep, BYTE dir)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Configures the specified endpoint to send STALL to the host, the next   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    time the host tries to access the endpoint.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PreCondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE ep - The endpoint number that should be configured to send STALL.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE dir - The direction of the endpoint to STALL, either                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                              IN_TO_HOST or OUT_FROM_HOST.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fc   ecbc     CALL      0x7378,0x0     void USBStallEndpoint(BYTE ep, BYTE dir)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fe   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a00   0efe     MOVLW     0xfe               if(ep == 0u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a02   50db     MOVF      0xdb,0x0,0x0                                                                                    
006a04   e103     BNZ       0x6a0c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packet that will arrrive.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a06   ecd3     CALL      0x73a6,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a08   f039                                                                                                               
0073a6   df2c     RCALL     0x7200                                                                                          
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073a8   0e8c     MOVLW     0x8c                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073aa   6eef     MOVWF     0xef,0x0                                                                                        
0073ac   df3b     RCALL     0x7224                 pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073ae   0e84     MOVLW     0x84                                                                                            
0073b0   6eef     MOVWF     0xef,0x0                                                                                        
0073b2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0a   d009     BRA       0x6a1e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0c   ec40     CALL      0x7280,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0e   f039                                                                                                               
006a10   ecaa     CALL      0x7354,0x0                                                                                      
006a12   f039                                                                                                               
007354   0d04     MULLW     0x4                                                                                             
007356   cff3     MOVFF     0xff3,0x4e                                                                                      
007358   f04e                                                                                                               
00735a   cff4     MOVFF     0xff4,0x4f                                                                                      
00735c   f04f                                                                                                               
00735e   0e00     MOVLW     0x0                                                                                             
007360   264e     ADDWF     0x4e,0x1,0x0                                                                                    
007362   0e04     MOVLW     0x4                                                                                             
007364   dfc8     RCALL     0x72f6                                                                                          
007366   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007368   ef1c     GOTO      0x7438                                                                                          
00736a   f03a                                                                                                               
007438   def0     RCALL     0x721a                                                                                          
00743a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00743c   12ef     IORWF     0xef,0x1,0x0                                                                                    
00743e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //then stall that entry as well                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a14   ec40     CALL      0x7280,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a16   f039                                                                                                               
006a18   0f01     ADDLW     0x1                                                                                             
006a1a   ecaa     CALL      0x7354,0x0                                                                                      
006a1c   f039                                                                                                               
0072f6   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0072f8   c04e     MOVFF     0x4e,0xfde                                                                                      
0072fa   ffde                                                                                                               
0072fc   c04f     MOVFF     0x4f,0xfdd                                                                                      
0072fe   ffdd                                                                                                               
007300   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a20   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006a22   e202     BC        0x6a28                                                                                          
006a24   6ae1     CLRF      0xe1,0x0                                                                                        
006a26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a28   6ee1     MOVWF     0xe1,0x0                                                                                        
006a2a   ef1c     GOTO      0x7238                                                                                          
006a2c   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function can only be used after a SETUP packet is received and      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   before that setup packet is handled.  This is the time period in which   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   returns to the stack.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel the transfers for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2e   ec17     CALL      0x722e,0x0     void USBCancelIO(BYTE endpoint)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a30   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a32   a865     BTFSS     0x65,0x4,0x0       if(USBPacketDisable == 1u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a34   d016     BRA       0x6a62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//to mess with the BDT right now.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a36   ece4     CALL      0x73c8,0x0         	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a38   f039                                                                                                               
006a3a   0e40     MOVLW     0x40                                                                                            
006a3c   16ee     ANDWF     0xee,0x1,0x0                                                                                    
006a3e   6aee     CLRF      0xee,0x0                                                                                        
006a40   6aee     CLRF      0xee,0x0                                                                                        
006a42   6aee     CLRF      0xee,0x0                                                                                        
006a44   ece4     CALL      0x73c8,0x0         	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a46   f039                                                                                                               
006a48   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4a   dbde     RCALL     0x7208                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006a4e   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a50   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a52   6e4e     MOVWF     0x4e,0x0                                                                                        
006a54   ece4     CALL      0x73c8,0x0                                                                                      
006a56   f039                                                                                                               
006a58   504e     MOVF      0x4e,0x0,0x0                                                                                    
006a5a   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006a5c   ece4     CALL      0x73c8,0x0         	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a5e   f039                                                                                                               
006a60   7cef     BTG       0xef,0x6,0x0                                                                                    
0073c8   df1f     RCALL     0x7208                                                                                          
0073ca   ef54     GOTO      0x72a8                                                                                          
0073cc   f039                                                                                                               
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a62   d3ea     BRA       0x7238         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceDetach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to "soft detach" itself from     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB host.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to perform a "soft detach"       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   lets the host know the device is present and attached.  This will make   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Additionally, this function should only be called from the main() loop   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   this function may modify global interrupt enable bits and settings.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application firmware calls USBDeviceDetach(), it is strongly      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   recommended that the firmware wait at least >= 80ms before calling       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach().  If the firmeware performs a soft detach, and then    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   re-attaches too soon (ex: after a few micro seconds for instance), some  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   hosts may interpret this as an unexpected "glitch" rather than as a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   physical removal/re-attachment of the USB device.  In this case the host D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may simply ignore the event without re-enumerating the device.  To       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ensure that the host properly detects and processes the device soft      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detach/re-attach, it is recommended to make sure the device remains      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detached long enough to mimic a real human controlled USB                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unplug/re-attach event (ex: after calling USBDeviceDetach(), do not      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   call USBDeviceAttach() for at least 80+ms, preferrably longer.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Neither the USBDeviceDetach() or USBDeviceAttach() functions are blocking D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   or take long to execute.  It is the application firmware's               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   responsibility for adding the 80+ms delay, when using these API          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Note: The Windows plug and play event handler processing is fairly       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   slow, especially in certain versions of Windows, and for certain USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device classes.  It has been observed that some device classes need to   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   provide even more USB detach dwell interval (before calling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach()), in order to work correctly after re-enumeration.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the USB device is a CDC class device, it is recommended to wait       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   at least 1.5 seconds or longer, before soft re-attaching to the host,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   to provide the plug and play event handler enough time to finish         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   processing the removal event, before the re-attach occurs.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application is using the USB_POLLING mode option, then the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceDetach() and USBDeviceAttach() functions are not available.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In this mode, the USB stack relies on the "#define USE_USB_BUS_SENSE_IO"  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   and "#define USB_BUS_SENSE" options in the                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   HardwareProfile  [platform name].h file.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   When using the USB_POLLING mode option, and the                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   "#define USE_USB_BUS_SENSE_IO" definition has been commented out, then   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB stack assumes that it should always enable the USB module at     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pretty much all times.  Basically, anytime the application firmware      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calls USBDeviceTasks(), the firmware will automatically enable the USB   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   module.  This mode would typically be selected if the application was    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   designed to be a purely bus powered device.  In this case, the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   application is powered from the +5V VBUS supply from the USB port, so    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   it is correct and sensible in this type of application to power up and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   turn on the USB module, at anytime that the microcontroller is           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered (which implies the USB cable is attached and the host is also    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered).                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In a self powered application, the USB stack is designed with the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   intention that the user will enable the "#define USE_USB_BUS_SENSE_IO"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option in the HardwareProfile  [platform name].h file.  When this     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option is defined, then the USBDeviceTasks() function will automatically  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   check the I/O pin port value of the designated pin (based on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #define USB_BUS_SENSE option in the HardwareProfile  [platform name].h  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   file), every time the application calls USBDeviceTasks().  If the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceTasks() function is executed and finds that the pin defined by  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the #define USB_BUS_SENSE is in a logic low state, then it will          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   automatically disable the USB module and tri-state the D+ and D- pins.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If however the USBDeviceTasks() function is executed and finds the pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   defined by the #define USB_BUS_SENSE is in a logic high state, then it   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   will automatically enable the USB module, if it has not already been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enabled.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceDetach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                     return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              {                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceAttach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attachment to the USB host.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function indicates to the USB host that the USB device has been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device to start to enumerate on the bus.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may modify global interrupt enable bits and settings.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   For normal USB devices:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   of glitch and ignore the event altogether.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		See also the USBDeviceDetach() API function documentation.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ****************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceAttach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	    //Initialize registers to known states.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1CON = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Mask all USB interrupts                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1IE = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //set the ping pong mode, and set internal transceiver               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       SetConfigurationOptions();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBEnableInterrupts();  //Modifies global interrupt settings         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Enable module & attach to bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //moved to the attached state                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceState = ATTACHED_STATE;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowStatusStage(void);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function prepares the proper endpoint 0 IN or endpoint 0 OUT     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (based on the controlTransferState) to allow the status stage packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of a control transfer to complete.  This function gets used          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       internally by the USB stack itself, but it may also be called from   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the application firmware, IF the application firmware called         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the USBDeferStatusStage() function during the initial processing     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of the control transfer request.  In this case, the application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       must call the USBCtrlEPAllowStatusStage() once, after it has fully   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       completed processing and handling the data stage portion of the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       request.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       If the application firmware has no need for delaying control         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       transfers, and therefore never calls USBDeferStatusStage(), then the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       application firmware should not call USBCtrlEPAllowStatusStage().    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //This double checking is necessary to make certain that                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a64   0105     MOVLB     0x5                if(USBStatusStageEnabledFlag1 == FALSE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a66   51ec     MOVF      0xec,0x0,0x1                                                                                    
006a68   e122     BNZ       0x6aae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6a   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6c   6fec     MOVWF     0xec,0x1                                                                                        
006a6e   51ed     MOVF      0xed,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a70   e11e     BNZ       0x6aae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a72   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a74   6fed     MOVWF     0xed,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //stage), based on the type of control transfer currently pending.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a76   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a78   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006a7a   e107     BNZ       0x6a8a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7c   dbd3     RCALL     0x7224                         pBDTEntryIn[0]->CNT = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7e   52ee     MOVF      0xee,0x1,0x0                                                                                    
006a80   6aef     CLRF      0xef,0x0                                                                                        
006a82   dbd0     RCALL     0x7224                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a84   0ec8     MOVLW     0xc8                                                                                            
006a86   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a88   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8a   05d0     DECF      0xd0,0x0,0x1                                                                                    
006a8c   e110     BNZ       0x6aae                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8e   6be3     CLRF      0xe3,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //next SETUP packet.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a90   dbdf     RCALL     0x7250                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a92   52ee     MOVF      0xee,0x1,0x0                                                                                    
006a94   0e40     MOVLW     0x40                                                                                            
006a96   6eef     MOVWF     0xef,0x0                                                                                        
006a98   dbdb     RCALL     0x7250                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a9a   ecb6     CALL      0x736c,0x0                                                                                      
006a9c   f039                                                                                                               
006a9e   dbd8     RCALL     0x7250                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa0   0e84     MOVLW     0x84                                                                                            
006aa2   6eef     MOVWF     0xef,0x0                                                                                        
006aa4   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa6   6fe3     MOVWF     0xe3,0x1                                                                                        
                                                   		#endif                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa8   dbab     RCALL     0x7200                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aaa   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aac   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aae   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       This function is meant to be used in conjunction with either the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       then the firmware does not need to manually call                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       instead.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           should have called either USBDeferOUTDataStage() or              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           the firmware will be calling this function manually.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab0   0105     MOVLB     0x5                USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab2   6bee     CLRF      0xee,0x1                                                                                        
006ab4   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab6   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab8   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006aba   e106     BNZ       0x6ac8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006abc   ec11     CALL      0x7422,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006abe   f03a                                                                                                               
006ac0   dbcc     RCALL     0x725a                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac2   eca5     CALL      0x734a,0x0             pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac4   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac6   d010     BRA       0x6ae8             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //value was no greater than the number of bytes the host requested.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac8   51d4     MOVF      0xd4,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aca   0104     MOVLB     0x4                                                                                             
006acc   5d36     SUBWF     0x36,0x0,0x1                                                                                    
006ace   0105     MOVLB     0x5                                                                                             
006ad0   51d5     MOVF      0xd5,0x0,0x1                                                                                    
006ad2   0104     MOVLB     0x4                                                                                             
006ad4   5937     SUBWFB    0x37,0x0,0x1                                                                                    
006ad6   e204     BC        0x6ae0                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad8   c436     MOVFF     0x436,0x5d4    			inPipes[0].wCount.Val = SetupPkt.wLength;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ada   f5d4                                                                                                               
006adc   c437     MOVFF     0x437,0x5d5                                                                                     
006ade   f5d5                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae0   d861     RCALL     0x6ba4         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae2   dba0     RCALL     0x7224         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae4   dbba     RCALL     0x725a                                                                                          
006ae6   db9e     RCALL     0x7224         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae8   0ec8     MOVLW     0xc8                                                                                            
006aea   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aec   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Functions *********************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  BYTE direction - the direction to be configured              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function will configure the specified                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aee   ecbc     CALL      0x7378,0x0     static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af0   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //EPNum and direction values passed to this function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af2   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af4   6ede     MOVWF     0xde,0x0                                                                                        
006af6   0e04     MOVLW     0x4                                                                                             
006af8   6edd     MOVWF     0xdd,0x0                                                                                        
006afa   dbc2     RCALL     0x7280             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afc   0d04     MULLW     0x4                                                                                             
006afe   cff4     MOVFF     0xff4,0x4f                                                                                      
006b00   f04f                                                                                                               
006b02   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006b04   ffe9                                                                                                               
006b06   cfda     MOVFF     0xfda,0xfea                                                                                     
006b08   ffea                                                                                                               
006b0a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006b0c   26ee     ADDWF     0xee,0x1,0x0                                                                                    
006b0e   504f     MOVF      0x4f,0x0,0x0                                                                                    
006b10   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
007280   0efd     MOVLW     0xfd                                                                                            
007282   50db     MOVF      0xdb,0x0,0x0                                                                                    
007284   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
007286   6e50     MOVWF     0x50,0x0                                                                                        
007288   0efe     MOVLW     0xfe                                                                                            
00728a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00728c   0d04     MULLW     0x4                                                                                             
00728e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
007290   2450     ADDWF     0x50,0x0,0x0                                                                                    
007292   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b12   db83     RCALL     0x721a             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b14   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //for USBTransferOnePacket() API calls.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b16   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b18   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b1a   e102     BNZ       0x6b20                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1c   dbac     RCALL     0x7276                 pBDTEntryOut[EPNum] = handle;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007276   0efe     MOVLW     0xfe                                                                                            
007278   6aea     CLRF      0xea,0x0                                                                                        
00727a   34db     RLCF      0xdb,0x0,0x0                                                                                    
00727c   eff5     GOTO      0x73ea                                                                                          
00727e   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1e   d001     BRA       0x6b22             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b20   db73     RCALL     0x7208                 pBDTEntryIn[EPNum] = handle;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b22   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b24   cfde     MOVFF     0xfde,0xfee                                                                                     
006b26   ffee                                                                                                               
006b28   cfdd     MOVFF     0xfdd,0xfed                                                                                     
006b2a   ffed                                                                                                               
007208   0efe     MOVLW     0xfe                                                                                            
00720a   6aea     CLRF      0xea,0x0                                                                                        
00720c   34db     RLCF      0xdb,0x0,0x0                                                                                    
00720e   efee     GOTO      0x73dc                                                                                          
007210   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2c   db76     RCALL     0x721a                 handle->STAT.DTS = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2e   9cef     BCF       0xef,0x6,0x0                                                                                    
006b30   db74     RCALL     0x721a                 (handle+1)->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b32   0e04     MOVLW     0x4                                                                                             
006b34   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006b36   0e00     MOVLW     0x0                                                                                             
006b38   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b3a   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Set DTS to one because the first thing we will do                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //when transmitting is toggle the bit                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.DTS = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b40   e202     BC        0x6b46                                                                                          
006b42   6ae1     CLRF      0xe1,0x0                                                                                        
006b44   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b46   6ee1     MOVWF     0xe1,0x0                                                                                        
006b48   d377     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  controls appropriately for a given situation. See code       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  below.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  There are three main scenarios:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a) There was no handler for the Request, in this case        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a STALL should be sent out.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  b) The host has requested a read control transfer,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     endpoints are required to be setup in a specific way.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  c) The host has requested a write control transfer, or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a control data stage is not required, endpoints are       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     required to be setup in a specific way.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Clear to resume packet processing.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4a   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4c   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4e   bfd3     BTFSC     0xd3,0x7,0x1                                                                                    
006b50   d00d     BRA       0x6b6c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b52   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b54   d009     BRA       0x6b68                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b56   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b58   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Control Write:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   once it is ready to begin receiving the data.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5a   51ef     MOVF      0xef,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5c   e101     BNZ       0x6b60                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5e   dfa8     RCALL     0x6ab0                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b60   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b62   6bed     CLRF      0xed,0x1                                                                                        
006b64   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b66   0012     RETURN    0x0                    else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * If no one knows how to service this request then stall.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b68   efd3     GOTO      0x73a6                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6a   f039                                                                                                               
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6c   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6e   af30     BTFSS     0x30,0x7,0x1                                                                                    
006b70   d00d     BRA       0x6b8c                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b72   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_TX;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b74   0e01     MOVLW     0x1                                                                                             
006b76   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			/*                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * Control Read:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 */                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b78   51ee     MOVF      0xee,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7a   e101     BNZ       0x6b7e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7c   df99     RCALL     0x6ab0                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    be written so that it can handle the early termination scenario. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        started the control transfer) has been reached.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        option can take care of this for you.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7e   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b80   6bed     CLRF      0xed,0x1                                                                                        
006b82   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b84   51eb     MOVF      0xeb,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b86   e10d     BNZ       0x6ba2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b88   ef32     GOTO      0x6a64                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8a   f035                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//This situation occurs for special types of control transfers,               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//control transfer.  Ex:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//an IN status stage.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8c   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8e   0e02     MOVLW     0x2                                                                                             
006b90   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b92   db36     RCALL     0x7200         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b94   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b96   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b98   6bed     CLRF      0xed,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9a   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9c   51eb     MOVF      0xeb,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9e   e101     BNZ       0x6ba2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba0   df61     RCALL     0x6a64                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba2   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for device to host control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(IN transactions).  This function takes care of managing a                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer over multiple USB transactions.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					This routine should be called from only two places.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  USBCtrlTrfInHandler().                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba4   eceb     CALL      0x73d6,0x0     static void USBCtrlTrfTxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba6   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToSend;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba8   0e40     MOVLW     0x40               byteToSend = USB_EP0_BUFF_SIZE;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006baa   6edf     MOVWF     0xdf,0x0                                                                                        
006bac   0105     MOVLB     0x5                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bae   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006bb0   0e00     MOVLW     0x0                                                                                             
006bb2   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006bb4   e20a     BC        0x6bca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb6   c5d4     MOVFF     0x5d4,0xfdf            byteToSend = inPipes[0].wCount.Val;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb8   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bba   51cf     MOVF      0xcf,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbc   e102     BNZ       0x6bc2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbe   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc0   d003     BRA       0x6bc8                 else if(shortPacketStatus == SHORT_PKT_PENDING)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc2   05cf     DECF      0xcf,0x0,0x1                                                                                    
006bc4   e102     BNZ       0x6bca                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc6   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc8   6fcf     MOVWF     0xcf,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bca   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bcc   6a4f     CLRF      0x4f,0x0                                                                                        
006bce   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006bd0   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006bd2   6fd4     MOVWF     0xd4,0x1                                                                                        
006bd4   504f     MOVF      0x4f,0x0,0x0                                                                                    
006bd6   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006bd8   6fd5     MOVWF     0xd5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bda   db24     RCALL     0x7224             pBDTEntryIn[0]->CNT = byteToSend;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bdc   52ee     MOVF      0xee,0x1,0x0                                                                                    
006bde   cfdf     MOVFF     0xfdf,0xfef                                                                                     
006be0   ffef                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //which we will send to the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be2   0e38     MOVLW     0x38               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be4   6fdd     MOVWF     0xdd,0x1                                                                                        
006be6   0e04     MOVLW     0x4                                                                                             
006be8   6fde     MOVWF     0xde,0x1                                                                                        
006bea   b1d3     BTFSC     0xd3,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bec   d00d     BRA       0x6c08                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bee   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf0   e017     BZ        0x6c20                                                                                          
006c06   d7f3     BRA       0x6bee                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf2   c5d1     MOVFF     0x5d1,0xff6                *pDst++ = *inPipes[0].pSrc.bRom++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf4   fff6                                                                                                               
006bf6   c5d2     MOVFF     0x5d2,0xff7                                                                                     
006bf8   fff7                                                                                                               
006bfa   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006bfc   0e00     MOVLW     0x0                                                                                             
006bfe   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006c00   0008     TBLRD                                                                                                     
006c02   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006c04   db57     RCALL     0x72b4                                                                                          
0072b4   6ee6     MOVWF     0xe6,0x0                                                                                        
0072b6   c5dd     MOVFF     0x5dd,0xfe9                                                                                     
0072b8   ffe9                                                                                                               
0072ba   c5de     MOVFF     0x5de,0xfea                                                                                     
0072bc   ffea                                                                                                               
0072be   2bdd     INCF      0xdd,0x1,0x1                                                                                    
0072c0   0e00     MOVLW     0x0                                                                                             
0072c2   23de     ADDWFC    0xde,0x1,0x1                                                                                    
0072c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0072c6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0072c8   6eef     MOVWF     0xef,0x0                                                                                        
0072ca   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072cc   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else  // RAM                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c08   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0a   e00a     BZ        0x6c20                                                                                          
006c1e   d7f4     BRA       0x6c08                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0c   c5d1     MOVFF     0x5d1,0xfe9                *pDst++ = *inPipes[0].pSrc.bRam++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0e   ffe9                                                                                                               
006c10   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006c12   ffea                                                                                                               
006c14   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006c16   0e00     MOVLW     0x0                                                                                             
006c18   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006c1a   50ef     MOVF      0xef,0x0,0x0                                                                                    
006c1c   db4b     RCALL     0x72b4                                                                                          
                                                       byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c20   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c22   d30a     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  wCount should be set to 0 at the start of each control       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for host to device control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					intended target firmware.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c24   dba9     RCALL     0x7378         static void USBCtrlTrfRxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToRead;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //last OUT transaction.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c26   db14     RCALL     0x7250             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c28   52ee     MOVF      0xee,0x1,0x0                                                                                    
006c2a   cfef     MOVFF     0xfef,0xfdf                                                                                     
006c2c   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //application firmware was expecting to receive.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2e   cfdf     MOVFF     0xfdf,0x4e         if(byteToRead > outPipes[0].wCount.Val)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c30   f04e                                                                                                               
006c32   504e     MOVF      0x4e,0x0,0x0                                                                                    
006c34   0105     MOVLB     0x5                                                                                             
006c36   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006c38   0e00     MOVLW     0x0                                                                                             
006c3a   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006c3c   e202     BC        0x6c42                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c3e   c5d9     MOVFF     0x5d9,0xfdf            byteToRead = outPipes[0].wCount.Val;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c40   ffdf                                                                                                               
                                               }	                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c42   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c44   6e4e     MOVWF     0x4e,0x0                                                                                        
006c46   6a4f     CLRF      0x4f,0x0                                                                                        
006c48   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006c4a   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006c4c   6fd9     MOVWF     0xd9,0x1                                                                                        
006c4e   504f     MOVF      0x4f,0x0,0x0                                                                                    
006c50   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006c52   6fda     MOVWF     0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //into the user application buffer space.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c54   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c56   6adb     CLRF      0xdb,0x0                                                                                        
006c58   50df     MOVF      0xdf,0x0,0x0                                                                                    
006c5a   6ef3     MOVWF     0xf3,0x0                                                                                        
006c5c   0e01     MOVLW     0x1                                                                                             
006c5e   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006c60   fff4                                                                                                               
006c62   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006c64   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006c66   e216     BC        0x6c94                                                                                          
006c8e   0e01     MOVLW     0x1                                                                                             
006c90   2adb     INCF      0xdb,0x1,0x0                                                                                    
006c92   d7e2     BRA       0x6c58                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c68   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6a   50db     MOVF      0xdb,0x0,0x0                                                                                    
006c6c   6aea     CLRF      0xea,0x0                                                                                        
006c6e   0f38     ADDLW     0x38                                                                                            
006c70   6ee9     MOVWF     0xe9,0x0                                                                                        
006c72   0e04     MOVLW     0x4                                                                                             
006c74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006c76   50ef     MOVF      0xef,0x0,0x0                                                                                    
006c78   6ee6     MOVWF     0xe6,0x0                                                                                        
006c7a   c5d6     MOVFF     0x5d6,0xfe9                                                                                     
006c7c   ffe9                                                                                                               
006c7e   c5d7     MOVFF     0x5d7,0xfea                                                                                     
006c80   ffea                                                                                                               
006c82   2bd6     INCF      0xd6,0x1,0x1                                                                                    
006c84   0e00     MOVLW     0x0                                                                                             
006c86   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
006c88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006c8a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006c8c   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the next packet in the sequence.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c94   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c96   80d8     BSF       0xd8,0x0,0x0                                                                                    
006c98   55d9     SUBFWB    0xd9,0x0,0x1                                                                                    
006c9a   0e00     MOVLW     0x0                                                                                             
006c9c   55da     SUBFWB    0xda,0x0,0x1                                                                                    
006c9e   e20d     BC        0x6cba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca0   dbc0     RCALL     0x7422                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007422   df93     RCALL     0x734a                                                                                          
007424   52ee     MOVF      0xee,0x1,0x0                                                                                    
007426   0e40     MOVLW     0x40                                                                                            
007428   6eef     MOVWF     0xef,0x0                                                                                        
006ca2   dadb     RCALL     0x725a                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00742a   efa5     GOTO      0x734a                                                                                          
00742c   f039                                                                                                               
006ca4   dad5     RCALL     0x7250                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca6   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ca8   0b40     ANDLW     0x40                                                                                            
006caa   e103     BNZ       0x6cb2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cac   db4e     RCALL     0x734a                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cae   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb0   d002     BRA       0x6cb6                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb2   db4b     RCALL     0x734a                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb4   0e88     MOVLW     0x88                                                                                            
006cb6   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb8   d012     BRA       0x6cde             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //We have received all OUT packets that we were expecting to                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the next SETUP transaction that may arrive.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cba   daa2     RCALL     0x7200                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more data than it claims it was going to send.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbc   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbe   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//received successfully.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc0   51db     MOVF      0xdb,0x0,0x1           if(outPipes[0].pFunc != NULL)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc2   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006cc4   e007     BZ        0x6cd4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__XC8)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Special pragmas to suppress an expected/harmless warning       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //message when building with the XC8 compiler                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning push                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning disable 1088                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning pop                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc6   d005     BRA       0x6cd2                         outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc8   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006cca   fffa                                                                                                               
006ccc   0105     MOVLB     0x5                                                                                             
006cce   51db     MOVF      0xdb,0x0,0x1                                                                                    
006cd0   6ef9     MOVWF     0xf9,0x0                                                                                        
006cd2   dffa     RCALL     0x6cc8                                                                                          
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd4   0105     MOVLB     0x5                    outPipes[0].info.bits.busy = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd6   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //and needs more time to finish handling the request, then the user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //this case, it is the application's firmware responsibility to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Note: The application firmware must process the request and call       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more details.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd8   51eb     MOVF      0xeb,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cda   e101     BNZ       0x6cde                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cdc   dec3     RCALL     0x6a64                     USBCtrlEPAllowStatusStage();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cde   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006ce2   e202     BC        0x6ce8                                                                                          
006ce4   6ae1     CLRF      0xe1,0x0                                                                                        
006ce6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ce8   6ee1     MOVWF     0xe1,0x0                                                                                        
006cea   d2a6     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine first disables all endpoints by                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  clearing UEP registers. It then configures                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  (initializes) endpoints by calling the callback              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  function USBCBInitEP().                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cec   db74     RCALL     0x73d6         static void USBStdSetCfgHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // This will generate a zero length packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cee   0105     MOVLB     0x5                inPipes[0].info.bits.busy = 1;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf0   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf2   db50     RCALL     0x7394             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf4   0e30     MOVLW     0x30               memset((void*)&BDT[0], 0x00, sizeof(BDT));                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf6   6ee6     MOVWF     0xe6,0x0                                                                                        
006cf8   6ae6     CLRF      0xe6,0x0                                                                                        
006cfa   6ae6     CLRF      0xe6,0x0                                                                                        
006cfc   0e00     MOVLW     0x0                                                                                             
006cfe   6ee6     MOVWF     0xe6,0x0                                                                                        
006d00   0e04     MOVLW     0x4                                                                                             
006d02   dab1     RCALL     0x7266                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d04   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d06   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d08   0e03     MOVLW     0x3                                                                                             
006d0a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006d0c   e202     BC        0x6d12                                                                                          
006d10   d7fb     BRA       0x6d08                                                                                          
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0e   dac2     RCALL     0x7294         		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //clear the alternate interface settings                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d12   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d14   6ee6     MOVWF     0xe6,0x0                                                                                        
006d16   6ae6     CLRF      0xe6,0x0                                                                                        
006d18   6ae6     CLRF      0xe6,0x0                                                                                        
006d1a   0ebe     MOVLW     0xbe                                                                                            
006d1c   6ee6     MOVWF     0xe6,0x0                                                                                        
006d1e   0e05     MOVLW     0x5                                                                                             
006d20   daa2     RCALL     0x7266                                                                                          
007266   6ee6     MOVWF     0xe6,0x0                                                                                        
007268   ec28     CALL      0x8e50,0x0                                                                                      
00726a   f047                                                                                                               
00726c   6e4e     MOVWF     0x4e,0x0                                                                                        
00726e   0e05     MOVLW     0x5                                                                                             
007270   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007272   504e     MOVF      0x4e,0x0,0x0                                                                                    
007274   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d22   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d24   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d26   0e08     MOVLW     0x8                                                                                             
006d28   6fc9     MOVWF     0xc9,0x1                                                                                        
006d2a   0e04     MOVLW     0x4                                                                                             
006d2c   6fca     MOVWF     0xca,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Set the next out to the current out packet                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2e   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d30   6fbf     MOVWF     0xbf,0x1                                                                                        
006d32   0e04     MOVLW     0x4                                                                                             
006d34   6fc0     MOVWF     0xc0,0x1                                                                                        
006d36   c5bf     MOVFF     0x5bf,0x5c1        pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d38   f5c1                                                                                                               
006d3a   6fc2     MOVWF     0xc2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the current configuration                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3c   c432     MOVFF     0x432,0x5bd        USBActiveConfiguration = SetupPkt.bConfigurationValue;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3e   f5bd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if the configuration value == 0                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d40   51bd     MOVF      0xbd,0x0,0x1       if(USBActiveConfiguration == 0u)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d42   e102     BNZ       0x6d48                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Go back to the addressed state                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d44   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d46   d00b     BRA       0x6d5e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //initialize the required endpoints                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d48   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d4a   6ee6     MOVWF     0xe6,0x0                                                                                        
006d4c   6ae6     CLRF      0xe6,0x0                                                                                        
006d4e   0ebd     MOVLW     0xbd                                                                                            
006d50   6ee6     MOVWF     0xe6,0x0                                                                                        
006d52   0e05     MOVLW     0x5                                                                                             
006d54   6ee6     MOVWF     0xe6,0x0                                                                                        
006d56   0e01     MOVLW     0x1                                                                                             
006d58   da5c     RCALL     0x7212                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after performing all of the set configuration related initialization   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //tasks.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5a   0105     MOVLB     0x5                    USBDeviceState = CONFIGURED_STATE;		                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5c   0e20     MOVLW     0x20                                                                                            
006d5e   6fbc     MOVWF     0xbc,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d60   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d62   d26a     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  request.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d64   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d66   0104     MOVLB     0x4                                                                                             
006d68   5d30     SUBWF     0x30,0x0,0x1                                                                                    
006d6a   e14e     BNZ       0x6e08                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d6c   0105     MOVLB     0x5                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d6e   0ec0     MOVLW     0xc0                                                                                            
006d70   6fd3     MOVWF     0xd3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d72   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d74   5133     MOVF      0x33,0x0,0x1                                                                                    
006d76   0a03     XORLW     0x3                                                                                             
006d78   e025     BZ        0x6dc4                                                                                          
006d7a   0a01     XORLW     0x1                                                                                             
006d7c   e009     BZ        0x6d90                                                                                          
006d7e   0a03     XORLW     0x3                                                                                             
006d80   e141     BNZ       0x6e04                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d82   0105     MOVLB     0x5                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d84   0eb0     MOVLW     0xb0                                                                                            
006d86   6fd1     MOVWF     0xd1,0x1                                                                                        
006d88   0e8d     MOVLW     0x8d                                                                                            
006d8a   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8c   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8e   d034     BRA       0x6df8                         break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d90   5132     MOVF      0x32,0x0,0x1                       inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d92   6ef6     MOVWF     0xf6,0x0                                                                                        
006d94   6af7     CLRF      0xf7,0x0                                                                                        
006d96   90d8     BCF       0xd8,0x0,0x0                                                                                    
006d98   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006d9a   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006d9c   0e05     MOVLW     0x5                                                                                             
006d9e   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006da0   0e8e     MOVLW     0x8e                                                                                            
006da2   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006da4   0009     TBLRDPOSTINC                                                                                              
006da6   cff5     MOVFF     0xff5,0x5d1                                                                                     
006da8   f5d1                                                                                                               
006daa   000a     TBLRDPOSTDEC                                                                                              
006dac   cff5     MOVFF     0xff5,0x5d2                                                                                     
006dae   f5d2                                                                                                               
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  in an address error on the dereference.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db0   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db2   0105     MOVLB     0x5                                                                                             
006db4   dabc     RCALL     0x732e                                                                                          
006db6   cff5     MOVFF     0xff5,0x5d4                                                                                     
006db8   f5d4                                                                                                               
00732e   6af7     CLRF      0xf7,0x0                                                                                        
007330   25d1     ADDWF     0xd1,0x0,0x1                                                                                    
007332   6ef6     MOVWF     0xf6,0x0                                                                                        
007334   51d2     MOVF      0xd2,0x0,0x1                                                                                    
007336   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
007338   0008     TBLRD                                                                                                     
00733a   0012     RETURN    0x0                                                                                             
006dba   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbc   dab8     RCALL     0x732e                                                                                          
006dbe   cff5     MOVFF     0xff5,0x5d5                                                                                     
006dc0   f5d5                                                                                                               
006dc2   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  indicate the number of string descriptors.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc4   0e04     MOVLW     0x4                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc6   5d32     SUBWF     0x32,0x0,0x1                                                                                    
006dc8   e21a     BC        0x6dfe                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set memory type to RAM                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dca   0105     MOVLB     0x5                                inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dcc   81d3     BSF       0xd3,0x0,0x1                                                                                    
                                                               //Get a pointer to the String descriptor requested           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dce   0104     MOVLB     0x4                                inPipes[0].pSrc.bRam = *(USB_SD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd0   5132     MOVF      0x32,0x0,0x1                                                                                    
006dd2   6ee9     MOVWF     0xe9,0x0                                                                                        
006dd4   6aea     CLRF      0xea,0x0                                                                                        
006dd6   90d8     BCF       0xd8,0x0,0x0                                                                                    
006dd8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006dda   36ea     RLCF      0xea,0x1,0x0                                                                                    
006ddc   0ef6     MOVLW     0xf6                                                                                            
006dde   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006de0   0e02     MOVLW     0x2                                                                                             
006de2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006de4   cfee     MOVFF     0xfee,0x5d1                                                                                     
006de6   f5d1                                                                                                               
006de8   cfed     MOVFF     0xfed,0x5d2                                                                                     
006dea   f5d2                                                                                                               
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dec   c5d1     MOVFF     0x5d1,0xfe9                        inPipes[0].wCount.Val = *inPipes[0].pSrc.bRam;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dee   ffe9                                                                                                               
006df0   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006df2   ffea                                                                                                               
006df4   50ef     MOVF      0xef,0x0,0x0                                                                                    
006df6   0105     MOVLB     0x5                                                                                             
006df8   6fd4     MOVWF     0xd4,0x1                                                                                        
006dfa   6bd5     CLRF      0xd5,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if defined(IMPLEMENT_MICROSOFT_OS_DESCRIPTOR)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else if(SetupPkt.bDscIndex == MICROSOFT_OS_DESCRIPTOR_INDEX)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Get a pointer to the special MS OS string descriptor requested D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&MSOSDescriptor;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dfc   0012     RETURN    0x0                            else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dfe   0105     MOVLB     0x5                                inPipes[0].info.Val = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e00   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e02   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       default:                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e04   0105     MOVLB     0x5                            inPipes[0].info.Val = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e06   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end switch                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e08   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0a   dab6     RCALL     0x7378         static void USBStdGetStatusHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0c   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0e   6b38     CLRF      0x38,0x1                                                                                        
006e10   6b39     CLRF      0x39,0x1           CtrlTrfData[1] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e12   5130     MOVF      0x30,0x0,0x1       switch(SetupPkt.Recipient)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e14   0b1f     ANDLW     0x1f                                                                                            
006e16   0a02     XORLW     0x2                                                                                             
006e18   e011     BZ        0x6e3c                                                                                          
006e1a   0a03     XORLW     0x3                                                                                             
006e1c   e00c     BZ        0x6e36                                                                                          
006e1e   0a01     XORLW     0x1                                                                                             
006e20   e11e     BNZ       0x6e5e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e22   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e24   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e26   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e28   8138     BSF       0x38,0x0,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2a   0105     MOVLB     0x5                        if(RemoteWakeup == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2c   05df     DECF      0xdf,0x0,0x1                                                                                    
006e2e   e117     BNZ       0x6e5e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e30   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e32   8338     BSF       0x38,0x1,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e34   d014     BRA       0x6e5e                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e36   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;     // No data to update              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e38   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006e3a   d011     BRA       0x6e5e                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3c   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3e   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           BDT_ENTRY *p;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e40   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0u)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e42   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006e44   d002     BRA       0x6e4a                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e46   dab6     RCALL     0x73b4                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e48   d001     BRA       0x6e4c                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4a   dab9     RCALL     0x73be                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4c   da40     RCALL     0x72ce                                                                                          
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4e   dabf     RCALL     0x73ce                         if((p->STAT.UOWN == 1u) && (p->STAT.BSTALL == 1u))               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e50   e006     BZ        0x6e5e                                                                                          
006e52   d9e3     RCALL     0x721a                                                                                          
006e54   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e56   0b04     ANDLW     0x4                                                                                             
006e58   e002     BZ        0x6e5e                                                                                          
006e5a   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5c   6f38     MOVWF     0x38,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5e   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 1u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e60   afd3     BTFSS     0xd3,0x7,0x1                                                                                    
006e62   d007     BRA       0x6e72                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e64   0e38     MOVLW     0x38                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e66   6fd1     MOVWF     0xd1,0x1                                                                                        
006e68   0e04     MOVLW     0x4                                                                                             
006e6a   6fd2     MOVWF     0xd2,0x1                                                                                        
006e6c   81d3     BSF       0xd3,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6e   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e70   6fd4     MOVWF     0xd4,0x1                                                                                        
                                               }//end if(...)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e72   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e74   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006e76   e202     BC        0x6e7c                                                                                          
006e78   6ae1     CLRF      0xe1,0x0                                                                                        
006e7a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006e7c   6ee1     MOVWF     0xe1,0x0                                                                                        
006e7e   d1dc     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStallHandler(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles the event of a STALL                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  occuring on the bus                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Does not really have to do anything here,                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * even for the control endpoint.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * but once a Setup Transaction is received, the ownership                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /* v2b fix */                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e80   010f     MOVLB     0xf                if(U1EP0bits.EPSTALL == 1u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e82   a126     BTFSS     0x26,0x0,0x1                                                                                    
006e84   d00c     BRA       0x6e9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e86   d9e4     RCALL     0x7250                 if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e88   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e8a   0880     SUBLW     0x80                                                                                            
006e8c   e107     BNZ       0x6e9c                                                                                          
006e8e   d9ca     RCALL     0x7224                                                                                          
006e90   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e92   0884     SUBLW     0x84                                                                                            
006e94   e103     BNZ       0x6e9c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Set ep0Bo to stall also                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e96   d9dc     RCALL     0x7250                     pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e98   0e8c     MOVLW     0x8c                                                                                            
006e9a   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e9c   9126     BCF       0x26,0x0,0x1           U1EP0bits.EPSTALL = 0;               // Clear stall status               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e9e   9a62     BCF       0x62,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea0   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBSuspend(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles if the host tries to                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  suspend the device                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Reason:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * the number of subsequent bus transitions.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * [       IDLE       ][bus activity ->                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * <--- 3 ms ----->     ^                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                ^     ACTVIF=1                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                IDLEIF=1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          ^                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          This polling loop will see both                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          However, the program services IDLEIF first       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          because ACTIVIE=0.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          If this routine clears the only ACTIVIF,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          then it can never get out of the suspend         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          mode.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea2   010f     MOVLB     0xf                USBActivityIE = 1;                     // Enable bus activity interrupt      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea4   8536     BSF       0x36,0x2,0x1                                                                                    
006ea6   9862     BCF       0x62,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea8   8265     BSF       0x65,0x1,0x0           U1CONbits.SUSPND = 1;                   // Put USB module in power conserve D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                           // mode, SIE clock inactive      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eaa   0105     MOVLB     0x5                USBBusIsSuspended = TRUE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eac   0e01     MOVLW     0x1                                                                                             
006eae   6fe0     MOVWF     0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * USBCBSuspend() if necessary.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb0   da14     RCALL     0x72da             USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb2   0e75     MOVLW     0x75                                                                                            
006eb4   ef09     GOTO      0x7212                                                                                          
006eb6   f039                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb8   0105     MOVLB     0x5                USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eba   6be0     CLRF      0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If using clock switching, the place to restore the original               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ebc   da0e     RCALL     0x72da             USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ebe   0e74     MOVLW     0x74                                                                                            
006ec0   d9a8     RCALL     0x7212                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec2   9265     BCF       0x65,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                           // mode.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec4   010f     MOVLB     0xf                USBActivityIE = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec6   9536     BCF       0x36,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               *********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               are required to synchronize the internal hardware state machine before       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               before the internal hardware is synchronized may not have an effect on       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PLL to lock.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ********************************************************************/        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec8   a462     BTFSS     0x62,0x2,0x0       while(USBActivityIF)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eca   d002     BRA       0x6ed0                                                                                          
006ece   d7fc     BRA       0x6ec8                                                                                          
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ecc   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }  // Added                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed0   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  types that it knows how to service and services              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  them:                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. EP0 SETUP                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. EP0 OUT                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. EP0 IN                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed2   da81     RCALL     0x73d6         static void USBCtrlEPService(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed4   0105     MOVLB     0x5                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed6   0e2d     MOVLW     0x2d                                                                                            
006ed8   6fea     MOVWF     0xea,0x1                                                                                        
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eda   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006edc   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006ede   e139     BNZ       0x6f52                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined (_PIC14E) || defined(__18CXX)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee0   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee2   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006ee4   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
006ee6   0b7f     ANDLW     0x7f                                                                                            
006ee8   0d04     MULLW     0x4                                                                                             
006eea   cff3     MOVFF     0xff3,0x5bf                                                                                     
006eec   f5bf                                                                                                               
006eee   cff4     MOVFF     0xff4,0x5c0                                                                                     
006ef0   f5c0                                                                                                               
006ef2   0e00     MOVLW     0x0                                                                                             
006ef4   27bf     ADDWF     0xbf,0x1,0x1                                                                                    
006ef6   0e04     MOVLW     0x4                                                                                             
006ef8   23c0     ADDWFC    0xc0,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__) || defined __XC16__           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #error "unimplemented"                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Set the next out to the current out packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efa   c5bf     MOVFF     0x5bf,0x5c1            pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efc   f5c1                                                                                                               
006efe   c5c0     MOVFF     0x5c0,0x5c2                                                                                     
006f00   f5c2                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f02   75c1     BTG       0xc1,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f04   d9a5     RCALL     0x7250                 if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f06   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f08   0b3c     ANDLW     0x3c                                                                                            
006f0a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006f0c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006f0e   080d     SUBLW     0xd                                                                                             
006f10   e11e     BNZ       0x6f4e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       unsigned char setup_cnt;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f12   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f14   0e08     MOVLW     0x8                                                                                             
006f16   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006f18   e216     BC        0x6f46                                                                                          
006f42   2adf     INCF      0xdf,0x1,0x0                                                                                    
006f44   d7e7     BRA       0x6f14                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1a   d99a     RCALL     0x7250                         *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1c   0e02     MOVLW     0x2                                                                                             
006f1e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006f20   0e00     MOVLW     0x0                                                                                             
006f22   d9c2     RCALL     0x72a8                                                                                          
006f24   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f26   6ee6     MOVWF     0xe6,0x0                                                                                        
006f28   50df     MOVF      0xdf,0x0,0x0                                                                                    
006f2a   6aea     CLRF      0xea,0x0                                                                                        
006f2c   0f30     ADDLW     0x30                                                                                            
006f2e   6ee9     MOVWF     0xe9,0x0                                                                                        
006f30   0e04     MOVLW     0x4                                                                                             
006f32   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006f34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006f36   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006f38   6eef     MOVWF     0xef,0x0                                                                                        
0072a8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072aa   50ee     MOVF      0xee,0x0,0x0                                                                                    
0072ac   cfef     MOVFF     0xfef,0xfea                                                                                     
0072ae   ffea                                                                                                               
0072b0   6ee9     MOVWF     0xe9,0x0                                                                                        
0072b2   0012     RETURN    0x0                                                                                             
006f3a   d98a     RCALL     0x7250                         pBDTEntryEP0OutCurrent->ADR++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3c   da78     RCALL     0x742e                                                                                          
006f3e   2aee     INCF      0xee,0x1,0x0                                                                                    
006f40   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f46   d984     RCALL     0x7250                     pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f48   da11     RCALL     0x736c                                                                                          
007250   c5bf     MOVFF     0x5bf,0xfe9                                                                                     
007252   ffe9                                                                                                               
007254   c5c0     MOVFF     0x5c0,0xfea                                                                                     
007256   ffea                                                                                                               
007258   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4a   d80a     RCALL     0x6f60                     USBCtrlTrfSetupHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4c   d007     BRA       0x6f5c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the DATA transfer                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4e   d823     RCALL     0x6f96                     USBCtrlTrfOutHandler();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f50   d005     BRA       0x6f5c             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f52   0efd     MOVLW     0xfd                                                                                            
006f54   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006f56   0804     SUBLW     0x4                                                                                             
006f58   e101     BNZ       0x6f5c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//  so take care of the IN transfer                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5a   d82c     RCALL     0x6fb4                 USBCtrlTrfInHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5c   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5e   d16c     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. It initializes the control transfer state machine.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. It calls on each of the module that may know how to       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     service the Setup Request from the host.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     is required to call other module handlers.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     it is responsible for servicing the request, stage 3      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     then checks direction of the transfer to determine how    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     to prepare EP0 for the control transfer.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  the control transfer state machine:                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. WAIT_SETUP                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Refer to firmware manual to find out how one state           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  is transitioned to another.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  When transferring data over multiple transactions,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  it is important to keep track of data source, data           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  destination, and data count. These three parameters are      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  note if the data source is from ROM or RAM.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f60   0105     MOVLB     0x5                shortPacketStatus = SHORT_PKT_NOT_USED;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f62   6bcf     CLRF      0xcf,0x1                                                                                        
006f64   6beb     CLRF      0xeb,0x1           USBDeferStatusStagePacket = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f66   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f68   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6a   6be3     CLRF      0xe3,0x1           BothEP0OutUOWNsSet = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6c   6bd0     CLRF      0xd0,0x1           controlTransferState = WAIT_SETUP;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //by the class request handler that will be called next.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6e   d95a     RCALL     0x7224             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f70   9eef     BCF       0xef,0x7,0x0                                                                                    
006f72   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f74   d957     RCALL     0x7224             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f76   9eef     BCF       0xef,0x7,0x0                                                                                    
006f78   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7a   d9e7     RCALL     0x734a             pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7c   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7e   6bd3     CLRF      0xd3,0x1           inPipes[0].info.Val = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f80   6bd4     CLRF      0xd4,0x1           inPipes[0].wCount.Val = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f82   6bd5     CLRF      0xd5,0x1                                                                                        
006f84   6bd8     CLRF      0xd8,0x1           outPipes[0].info.Val = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f86   6bd9     CLRF      0xd9,0x1           outPipes[0].wCount.Val = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f88   6bda     CLRF      0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8a   d851     RCALL     0x702e             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8c   d9a6     RCALL     0x72da             USB_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8e   0e03     MOVLW     0x3                                                                                             
006f90   d940     RCALL     0x7212                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   process the request.  In this case, the default behavior will be to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   perform protocol STALL on EP0.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //--------------------------------------------------------------------------  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f92   efa5     GOTO      0x6b4a             USBCtrlEPServiceComplete();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f94   f035                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Note that if the the control transfer was from               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  host to device, the session owner should be notified         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  at the end of each OUT transaction to service the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  received data.                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f96   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f98   0105     MOVLB     0x5                                                                                             
006f9a   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006f9c   e102     BNZ       0x6fa2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9e   ef12     GOTO      0x6c24                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa0   f036                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the status stage is complete, this means we are done with the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa2   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //to do anything to the BDT.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa4   51e3     MOVF      0xe3,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa6   e104     BNZ       0x6fb0                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa8   d92b     RCALL     0x7200         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007200   d910     RCALL     0x7422                                                                                          
00734a   c5c1     MOVFF     0x5c1,0xfe9                                                                                     
00734c   ffe9                                                                                                               
00734e   c5c2     MOVFF     0x5c2,0xfea                                                                                     
007350   ffea                                                                                                               
007352   0012     RETURN    0x0                                                                                             
007202   d8b4     RCALL     0x736c         	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00736c   d860     RCALL     0x742e                                                                                          
00736e   0e30     MOVLW     0x30                                                                                            
007370   6eee     MOVWF     0xee,0x0                                                                                        
007372   0e04     MOVLW     0x4                                                                                             
007374   6eed     MOVWF     0xed,0x0                                                                                        
007376   0012     RETURN    0x0                                                                                             
00742e   0e02     MOVLW     0x2                                                                                             
007430   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007432   0e00     MOVLW     0x0                                                                                             
007434   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007436   0012     RETURN    0x0                                                                                             
006faa   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL;			 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fac   6eef     MOVWF     0xef,0x0                                                                                        
007204   efa5     GOTO      0x734a                                                                                          
007206   f039                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fae   0012     RETURN    0x0            		else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb0   6be3     CLRF      0xe3,0x1       			BothEP0OutUOWNsSet = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb2   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an IN transaction according to          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  of the device until the completion of the control            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  to service this unique situation when the condition is       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb9.h and its function is to specifically service this      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  event.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb4   da10     RCALL     0x73d6         static void USBCtrlTrfInHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00722e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007230   ffe6                                                                                                               
007232   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007234   ffd9                                                                                                               
007236   0012     RETURN    0x0                                                                                             
0073d6   df2b     RCALL     0x722e                                                                                          
0073d8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0073da   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE lastDTS;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb6   d936     RCALL     0x7224             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb8   50ef     MOVF      0xef,0x0,0x0                                                                                    
006fba   0b40     ANDLW     0x40                                                                                            
006fbc   e001     BZ        0x6fc0                                                                                          
006fbe   0e01     MOVLW     0x1                                                                                             
006fc0   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //switch to the next ping pong buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc2   0105     MOVLB     0x5                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc4   75c9     BTG       0xc9,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //evidently completed successfully.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc6   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc8   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006fca   e10b     BNZ       0x6fe2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fcc   c432     MOVFF     0x432,0xf38            U1ADDR = SetupPkt.bDevADR.Val;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fce   ff38                                                                                                               
006fd0   010f     MOVLB     0xf                    if(U1ADDR != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd2   5138     MOVF      0x38,0x0,0x1                                                                                    
006fd4   e003     BZ        0x6fdc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd6   0105     MOVLB     0x5                        USBDeviceState=ADDRESS_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd8   0e10     MOVLW     0x10                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fda   d002     BRA       0x6fe0                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fdc   0105     MOVLB     0x5                        USBDeviceState=DEFAULT_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fde   0e04     MOVLW     0x4                                                                                             
006fe0   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe2   05d0     DECF      0xd0,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe4   e113     BNZ       0x700c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe6   d91e     RCALL     0x7224                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe8   d938     RCALL     0x725a                                                                                          
00725a   d8e9     RCALL     0x742e                                                                                          
00725c   0e38     MOVLW     0x38                                                                                            
00725e   6eee     MOVWF     0xee,0x0                                                                                        
007260   0e04     MOVLW     0x4                                                                                             
007262   6eed     MOVWF     0xed,0x0                                                                                        
007264   0012     RETURN    0x0                                                                                             
006fea   dddc     RCALL     0x6ba4                 USBCtrlTrfTxService();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //case that the host erroneously tries to receive more data than it      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //should).                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fec   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fee   0105     MOVLB     0x5                                                                                             
006ff0   5dcf     SUBWF     0xcf,0x0,0x1                                                                                    
006ff2   e103     BNZ       0x6ffa                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // stall next time if host is still trying to read.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff4   d917     RCALL     0x7224                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff6   0e84     MOVLW     0x84                                                                                            
007224   c5c9     MOVFF     0x5c9,0xfe9                                                                                     
007226   ffe9                                                                                                               
007228   c5ca     MOVFF     0x5ca,0xfea                                                                                     
00722a   ffea                                                                                                               
00722c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff8   d007     BRA       0x7008                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffa   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffc   e103     BNZ       0x7004                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffe   d912     RCALL     0x7224                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007000   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007002   d002     BRA       0x7008                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007004   d90f     RCALL     0x7224                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007006   0e88     MOVLW     0x88                                                                                            
007008   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end if(...)else                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700a   d00f     BRA       0x702a         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //if someone is still expecting data from the control transfer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  then make sure to terminate that request and let them know that      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  they are done                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700c   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700e   d00c     BRA       0x7028                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007010   51db     MOVF      0xdb,0x0,0x1               if(outPipes[0].pFunc != NULL)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007012   11dc     IORWF     0xdc,0x0,0x1                                                                                    
007014   e007     BZ        0x7024                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007016   d005     BRA       0x7022                         outPipes[0].pFunc();                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007018   c5dc     MOVFF     0x5dc,0xffa                                                                                     
00701a   fffa                                                                                                               
00701c   0105     MOVLB     0x5                                                                                             
00701e   51db     MOVF      0xdb,0x0,0x1                                                                                    
007020   6ef9     MOVWF     0xf9,0x0                                                                                        
007022   dffa     RCALL     0x7018                                                                                          
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007024   0105     MOVLB     0x5                        outPipes[0].info.bits.busy = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007026   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007028   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702c   d105     BRA       0x7238                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine checks the setup data packet to see             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  if it knows how to handle it                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702e   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007030   5130     MOVF      0x30,0x0,0x1                                                                                    
007032   0b60     ANDLW     0x60                                                                                            
007034   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007036   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007038   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00703a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00703c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00703e   0900     IORLW     0x0                                                                                             
007040   e001     BZ        0x7044                                                                                          
007042   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007044   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007046   0a0c     XORLW     0xc                                                                                             
007048   e045     BZ        0x70d4                                                                                          
00704a   0a0b     XORLW     0xb                                                                                             
00704c   e03f     BZ        0x70cc                                                                                          
00704e   0a0c     XORLW     0xc                                                                                             
007050   e031     BZ        0x70b4                                                                                          
007052   0a01     XORLW     0x1                                                                                             
007054   e022     BZ        0x709a                                                                                          
007056   0a0b     XORLW     0xb                                                                                             
007058   e01e     BZ        0x7096                                                                                          
00705a   0a02     XORLW     0x2                                                                                             
00705c   e01c     BZ        0x7096                                                                                          
00705e   0a03     XORLW     0x3                                                                                             
007060   e018     BZ        0x7092                                                                                          
007062   0a08     XORLW     0x8                                                                                             
007064   e010     BZ        0x7086                                                                                          
007066   0a01     XORLW     0x1                                                                                             
007068   e00c     BZ        0x7082                                                                                          
00706a   0a0f     XORLW     0xf                                                                                             
00706c   e008     BZ        0x707e                                                                                          
00706e   0a03     XORLW     0x3                                                                                             
007070   e001     BZ        0x7074                                                                                          
007072   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007074   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007076   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007078   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707a   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707c   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707e   efb2     GOTO      0x6d64                     USBStdGetDscHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007080   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007082   ef76     GOTO      0x6cec                     USBStdSetCfgHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007084   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007086   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007088   0ebd     MOVLW     0xbd                                                                                            
00708a   6fd1     MOVWF     0xd1,0x1                                                                                        
00708c   0e05     MOVLW     0x5                                                                                             
00708e   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007090   d00c     BRA       0x70aa                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007092   ef05     GOTO      0x6e0a                     USBStdGetStatusHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007094   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007096   ef6b     GOTO      0x70d6                     USBStdFeatureReqHandler();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007098   f038                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709a   5134     MOVF      0x34,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709c   0105     MOVLB     0x5                                                                                             
00709e   6fd1     MOVWF     0xd1,0x1                                                                                        
0070a0   6bd2     CLRF      0xd2,0x1                                                                                        
0070a2   0ebe     MOVLW     0xbe                                                                                            
0070a4   27d1     ADDWF     0xd1,0x1,0x1                                                                                    
0070a6   0e05     MOVLW     0x5                                                                                             
0070a8   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
0070aa   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ac   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ae   6fd4     MOVWF     0xd4,0x1                                                                                        
0070b0   8fd3     BSF       0xd3,0x7,0x1               inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b2   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b4   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b6   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0070b8   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ba   5134     MOVF      0x34,0x0,0x1                                                                                    
0070bc   6aea     CLRF      0xea,0x0                                                                                        
0070be   0fbe     ADDLW     0xbe                                                                                            
0070c0   6ee9     MOVWF     0xe9,0x0                                                                                        
0070c2   0e05     MOVLW     0x5                                                                                             
0070c4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0070c6   c432     MOVFF     0x432,0xfef                                                                                     
0070c8   ffef                                                                                                               
0070ca   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070cc   d906     RCALL     0x72da                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ce   0e02     MOVLW     0x2                                                                                             
0070d0   ef09     GOTO      0x7212                                                                                          
0070d2   f039                                                                                                               
0072da   0e00     MOVLW     0x0                                                                                             
0072dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0072de   6ae6     CLRF      0xe6,0x0                                                                                        
0072e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0072e2   6ae6     CLRF      0xe6,0x0                                                                                        
0072e4   0012     RETURN    0x0                                                                                             
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d4   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Maintained variables.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  FEATURES requests                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            This is a private function, intended for internal            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  feature requests.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d6   d8ab     RCALL     0x722e         static void USBStdFeatureReqHandler(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d8   0e05     MOVLW     0x5                                                                                             
0070da   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               EP_STATUS current_ep_data;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   DWORD* pUEP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unsigned char* pUEP;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableHnp();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableHnp();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableSupportHnp();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableSupportHnp();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableAltHnp();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableAltHnp();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070dc   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070de   0532     DECF      0x32,0x0,0x1                                                                                    
0070e0   e110     BNZ       0x7102                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e2   5130     MOVF      0x30,0x0,0x1                                                                                    
0070e4   0b1f     ANDLW     0x1f                                                                                            
0070e6   0900     IORLW     0x0                                                                                             
0070e8   e10c     BNZ       0x7102                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ea   0105     MOVLB     0x5                    inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ec   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0070ee   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f0   0104     MOVLB     0x4                                                                                             
0070f2   5d31     SUBWF     0x31,0x0,0x1                                                                                    
0070f4   e104     BNZ       0x70fe                                                                                          
0070f6   0105     MOVLB     0x5                        RemoteWakeup = TRUE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f8   0e01     MOVLW     0x1                                                                                             
0070fa   6fdf     MOVWF     0xdf,0x1                                                                                        
0070fc   d002     BRA       0x7102                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fe   0105     MOVLB     0x5                        RemoteWakeup = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007100   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007102   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007104   5132     MOVF      0x32,0x0,0x1                                                                                    
007106   e001     BZ        0x710a                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007108   d074     BRA       0x71f2                                                                                          
00710a   5130     MOVF      0x30,0x0,0x1                                                                                    
00710c   0b1f     ANDLW     0x1f                                                                                            
00710e   0802     SUBLW     0x2                                                                                             
007110   e170     BNZ       0x71f2                                                                                          
007112   5134     MOVF      0x34,0x0,0x1          (SetupPkt.EPNum != 0u) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007114   0b0f     ANDLW     0xf                                                                                             
007116   0900     IORLW     0x0                                                                                             
007118   e06c     BZ        0x71f2                                                                                          
00711a   5134     MOVF      0x34,0x0,0x1                                                                                    
00711c   0b0f     ANDLW     0xf                                                                                             
00711e   0802     SUBLW     0x2                                                                                             
007120   e368     BNC       0x71f2                                                                                          
007122   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007124   0105     MOVLB     0x5                                                                                             
007126   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
007128   e164     BNZ       0x71f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//The request was valid.  Take control of the control transfer and             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//perform the host requested action.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712a   8fd3     BSF       0xd3,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712c   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712e   bf34     BTFSC     0x34,0x7,0x1                                                                                    
007130   d004     BRA       0x713a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007132   d940     RCALL     0x73b4                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007134   d8cc     RCALL     0x72ce                                                                                          
007136   d8d7     RCALL     0x72e6                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007138   d003     BRA       0x7140                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00713a   d941     RCALL     0x73be                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00713c   d8c8     RCALL     0x72ce                                                                                          
0072ce   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072d0   cfee     MOVFF     0xfee,0xfde                                                                                     
0072d2   ffde                                                                                                               
0072d4   cfed     MOVFF     0xfed,0xfdd                                                                                     
0072d6   ffdd                                                                                                               
0072d8   0012     RETURN    0x0                                                                                             
00713e   d8d7     RCALL     0x72ee                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007140   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007142   0e02     MOVLW     0x2                                                                                             
007144   cfef     MOVFF     0xfef,0xfdb                                                                                     
007146   ffdb                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //use for the next attempted transaction on that EP number.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007148   d8f9     RCALL     0x733c                     if(current_ep_data.bits.ping_pong_state == 0u) //Check if even       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714a   0b01     ANDLW     0x1                                                                                             
00714c   e103     BNZ       0x7154                                                                                          
00733c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00733e   0f02     ADDLW     0x2                                                                                             
007340   6ee9     MOVWF     0xe9,0x0                                                                                        
007342   cfda     MOVFF     0xfda,0xfea                                                                                     
007344   ffea                                                                                                               
007346   50ef     MOVF      0xef,0x0,0x0                                                                                    
007348   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714e   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007150   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007152   d001     BRA       0x7156                     else //else must have been odd                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007154   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  request                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007156   bf34     BTFSC     0x34,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007158   d002     BRA       0x715e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00715a   d92c     RCALL     0x73b4                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007240   5134     MOVF      0x34,0x0,0x1                                                                                    
007242   0b0f     ANDLW     0xf                                                                                             
007244   6ee9     MOVWF     0xe9,0x0                                                                                        
007246   6aea     CLRF      0xea,0x0                                                                                        
007248   90d8     BCF       0xd8,0x0,0x0                                                                                    
00724a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00724c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00724e   0012     RETURN    0x0                                                                                             
0073b4   df45     RCALL     0x7240                                                                                          
0073b6   0ec3     MOVLW     0xc3                                                                                            
0073b8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0073ba   0e05     MOVLW     0x5                                                                                             
0073bc   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00715c   d001     BRA       0x7160                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00715e   d92f     RCALL     0x73be                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007160   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007162   cfde     MOVFF     0xfde,0xfee                                                                                     
007164   ffee                                                                                                               
007166   cfdd     MOVFF     0xfdd,0xfed                                                                                     
007168   ffed                                                                                                               
0073be   df40     RCALL     0x7240                                                                                          
0073c0   0ec9     MOVLW     0xc9                                                                                            
0073c2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0073c4   0e05     MOVLW     0x5                                                                                             
0073c6   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716a   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716c   5d31     SUBWF     0x31,0x0,0x1                                                                                    
00716e   e10c     BNZ       0x7188                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007170   d92e     RCALL     0x73ce                     if(p->STAT.UOWN == 1u)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007172   e007     BZ        0x7182                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Mark that we are terminating this transfer and that the user   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  needs to be notified later                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007174   bf34     BTFSC     0x34,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007176   d002     BRA       0x717c                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007178   d8b6     RCALL     0x72e6                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717a   d001     BRA       0x717e                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717c   d8b8     RCALL     0x72ee                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007180   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Then STALL the endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007182   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007184   d959     RCALL     0x7438                                                                                          
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007186   d035     BRA       0x71f2                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle over the to the non-active BDT                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007188   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718a   d921     RCALL     0x73ce                         if(p->STAT.UOWN == 1u)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718c   e006     BZ        0x719a                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718e   d845     RCALL     0x721a                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007190   9eef     BCF       0xef,0x7,0x0                                                                                    
007192   d843     RCALL     0x721a                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007194   8cef     BSF       0xef,0x6,0x0                                                                                    
007196   d8f4     RCALL     0x7380                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007380   0e02     MOVLW     0x2                                                                                             
007382   6ee6     MOVWF     0xe6,0x0                                                                                        
007384   6ae6     CLRF      0xe6,0x0                                                                                        
007386   cfde     MOVFF     0xfde,0xfe6                                                                                     
007388   ffe6                                                                                                               
00738a   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
00738c   ffe6                                                                                                               
00738e   0e05     MOVLW     0x5                                                                                             
007390   ef09     GOTO      0x7212                                                                                          
007392   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007198   d002     BRA       0x719e                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719a   d83f     RCALL     0x721a         					p->STAT.Val |= _DAT1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719c   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719e   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //set DTS to the proper state, and call the application callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a0   d8cd     RCALL     0x733c                         if((current_ep_data.bits.transfer_terminated != 0u) || (p->STAT.UOWN == 1u)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a2   0b02     ANDLW     0x2                                                                                             
0071a4   e102     BNZ       0x71aa                                                                                          
0071a6   d913     RCALL     0x73ce                                                                                          
0071a8   e00d     BZ        0x71c4                                                                                          
0073ce   df25     RCALL     0x721a                                                                                          
0073d0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0073d2   0b80     ANDLW     0x80                                                                                            
0073d4   0012     RETURN    0x0                                                                                             
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071aa   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ac   bf34     BTFSC     0x34,0x7,0x1                                                                                    
0071ae   d002     BRA       0x71b4                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b0   d89a     RCALL     0x72e6                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e6   5134     MOVF      0x34,0x0,0x1                                                                                    
0072e8   0b0f     ANDLW     0xf                                                                                             
0072ea   ef03     GOTO      0x7406                                                                                          
0072ec   f03a                                                                                                               
007406   6aea     CLRF      0xea,0x0                                                                                        
007408   0fe7     ADDLW     0xe7                                                                                            
00740a   6ee9     MOVWF     0xe9,0x0                                                                                        
00740c   0e05     MOVLW     0x5                                                                                             
00740e   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b2   d001     BRA       0x71b6                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b4   d89c     RCALL     0x72ee                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0071b8   92ef     BCF       0xef,0x1,0x0                                                                                    
0072ee   5134     MOVF      0x34,0x0,0x1                                                                                    
0072f0   0b0f     ANDLW     0xf                                                                                             
0072f2   ef08     GOTO      0x7410                                                                                          
0072f4   f03a                                                                                                               
007410   6aea     CLRF      0xea,0x0                                                                                        
007412   0fe4     ADDLW     0xe4                                                                                            
007414   6ee9     MOVWF     0xe9,0x0                                                                                        
007416   0e05     MOVLW     0x5                                                                                             
007418   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ba   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071bc   6e4e     MOVWF     0x4e,0x0                                                                                        
0071be   d92d     RCALL     0x741a                                                                                          
                                                               //Call the application event handler callback function, so it can  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c0   d8df     RCALL     0x7380                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007212   6ee6     MOVWF     0xe6,0x0                                                                                        
007214   6ae6     CLRF      0xe6,0x0                                                                                        
007216   effc     GOTO      0x73f8                                                                                          
007218   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c2   d002     BRA       0x71c8                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c4   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c6   d929     RCALL     0x741a                                                                                          
00721a   cfde     MOVFF     0xfde,0xfe9                                                                                     
00721c   ffe9                                                                                                               
00721e   cfdd     MOVFF     0xfdd,0xfea                                                                                     
007220   ffea                                                                                                               
007222   0012     RETURN    0x0                                                                                             
00741a   deff     RCALL     0x721a                                                                                          
00741c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00741e   16ef     ANDWF     0xef,0x1,0x0                                                                                    
007420   0012     RETURN    0x0                                                                                             
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //We are going to call the user transfer terminated callback. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //to call it again later.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Let the application firmware know a transaction just       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //got terminated by the host, and that it is now free to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__C32__)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c8   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ca   5134     MOVF      0x34,0x0,0x1                                                                                    
0071cc   0b0f     ANDLW     0xf                                                                                             
0071ce   6a4f     CLRF      0x4f,0x0                                                                                        
0071d0   0f26     ADDLW     0x26                                                                                            
0071d2   6e4e     MOVWF     0x4e,0x0                                                                                        
0071d4   0e0f     MOVLW     0xf                                                                                             
0071d6   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0071d8   0e03     MOVLW     0x3                                                                                             
0071da   c04e     MOVFF     0x4e,0xfdb                                                                                      
0071dc   ffdb                                                                                                               
0071de   0e04     MOVLW     0x4                                                                                             
0071e0   c04f     MOVFF     0x4f,0xfdb                                                                                      
0071e2   ffdb                                                                                                               
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Clear the STALL bit in the UEP register                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e4   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0071e8   ffe9                                                                                                               
0071ea   0e04     MOVLW     0x4                                                                                             
0071ec   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0071ee   ffea                                                                                                               
0071f0   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f2   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0071f6   e202     BC        0x71fc                                                                                          
0071f8   6ae1     CLRF      0xe1,0x0                                                                                        
0071fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0071fc   6ee1     MOVWF     0xe1,0x0                                                                                        
0071fe   d01c     BRA       0x7238                                                                                          
007238   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00723a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00723c   ffd9                                                                                                               
00723e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** EOF USBDevice.c *****************************************************/       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               FileName:       usb_function_cdc.c                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Dependencies:   See INCLUDES section                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Hardware:       The code is natively intended to be used on the following    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               hardware platforms: PICDEM(TM) FS USB Demo Board,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               PIC18F87J50 FS USB Plug-In Module, or                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               Explorer 16 + PIC24 USB PIM.  The firmware may be            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               modified for use on other USB platforms by editing the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               HardwareProfile.h file.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Complier:   Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Company:        Microchip Technology, Inc.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               (the "Company") for its PIC(R) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB CDC Function Driver File                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               ..\\Include                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\My Demo Application                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.3    Decricated the mUSBUSARTIsTxTrfReady() macro.  It is                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    replaced by the USBUSARTIsTxTrfReady() function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6    Minor definition changes                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6a   No Changes                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.7    Fixed error in the part support list of the variables section           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    where the address of the CDC variables are defined.  The                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    PIC18F2553 was incorrectly named PIC18F2453 and the PIC18F4558          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    was incorrectly named PIC18F4458.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    http://www.microchip.com/forums/fb.aspx?m=487397                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.8    Minor change to CDCInitEP() to enhance ruggedness in                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    multithreaded usage scenarios.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.9b   Updated to implement optional support for DTS reporting.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #ifdef USB_USE_CDC                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //The cdc_data_rx[] and cdc_data_tx[] arrays and associated variables are used  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //as USB packet buffers in this firmware.  Therefore, they must be located in D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //a USB module accessible portion of microcontroller RAM.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata usbram2                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F2458) || defined(__18F2553) || defined(__18F4458) || defined(__18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18LF24K50) || defined(__18F24K50) || defined(__18LF25K50)\  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F25K50) || defined(__18LF45K50) || defined(__18F45K50)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x500                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F4450) || defined(__18F2450)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x480                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__XC8)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(_18F14K50) || defined(_18F13K50) || defined(_18LF14K50) || defined(_18LF13K50) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x260                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif  defined(_18F2455)   || defined(_18F2550)   || defined(_18F4455)  || defined(_18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F2458)   || defined(_18F2453)   || defined(_18F4558)  || defined(_18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18LF24K50) || defined(_18F24K50)  || defined(_18LF25K50)\    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F25K50)  || defined(_18LF45K50) || defined(_18F45K50)      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x500                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_18F4450) || defined(_18F2450)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x480                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_16F1459) || defined(_16LF1459) || defined(_16F1454) || defined(_16LF1454) || defined(_16F1455) || defined(_16LF1455) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x2140                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS 0x2190                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS 0x20A0                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define IN_DATA_BUFFER_ADDRESS_TAG                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define OUT_DATA_BUFFER_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define LINE_CODING_ADDRESS_TAG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define NOTICE_ADDRESS_TAG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_tx[CDC_DATA_IN_EP_SIZE] IN_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_rx[CDC_DATA_OUT_EP_SIZE] OUT_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           LINE_CODING line_coding LINE_CODING_ADDRESS_TAG;    // Buffer to store line coding information D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR CDC_NOTICE cdc_notice NOTICE_ADDRESS_TAG;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               SERIAL_STATE_NOTIFICATION SerialStatePacket;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_rx_len;            // total rx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_trf_state;         // States are defined cdc.h                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_tx_len;            // total tx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_mem_type;          // _ROM, _RAM                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataOutHandle;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataInHandle;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           DWORD BaudRateGen;			// BRG value calculated from baudrate                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE SerialStateBitmap;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE OldSerialStateBitmap;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_HANDLE CDCNotificationInHandle;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             requests according to the CDC specification.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             However, it is not really being used here, therefore a dummy buffer is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             used for conformance.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            **************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #define dummy_length    0x08                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE_VAL dummy_encapsulated_cmd_response[dummy_length];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SET_LINE_CODING_HANDLER)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CTRL_TRF_RETURN USB_CDC_SET_LINE_CODING_HANDLER(CTRL_TRF_PARAMS);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCDCSetLineCoding(void);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           //#pragma code                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		void USBCheckCDCRequest(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This routine checks the most recently received SETUP data packet to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		see if the request is specific to the CDC class.  If the request was          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		a CDC specific request, this function will take care of handling the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		request and responding appropriately.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	PreCondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This function should only be called after a control transfer SETUP            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		packet has arrived from the host.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Parameters:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Return Values:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Remarks:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		This function does not change status or do anything if the SETUP packet        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		did not contain a CDC class specific request.		                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCheckCDCRequest(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request recipient is not an interface then return                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c9e   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ca0   5130     MOVF      0x30,0x0,0x1                                                                                    
007ca2   0b1f     ANDLW     0x1f                                                                                            
007ca4   0801     SUBLW     0x1                                                                                             
007ca6   e001     BZ        0x7caa                                                                                          
007ca8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request type is not class-specific then return                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007caa   5130     MOVF      0x30,0x0,0x1       if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD) return;            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cac   0b60     ANDLW     0x60                                                                                            
007cae   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cb0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cb2   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cb4   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cb6   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cb8   0801     SUBLW     0x1                                                                                             
007cba   e001     BZ        0x7cbe                                                                                          
007cbc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Interface ID must match interface numbers associated with                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * CDC class, else return                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cbe   5134     MOVF      0x34,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cc0   e003     BZ        0x7cc8                (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cc2   0534     DECF      0x34,0x0,0x1                                                                                    
007cc4   e001     BZ        0x7cc8                                                                                          
007cc6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cc8   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cca   0a22     XORLW     0x22                                                                                            
007ccc   e031     BZ        0x7d30                                                                                          
007cce   0a03     XORLW     0x3                                                                                             
007cd0   e024     BZ        0x7d1a                                                                                          
007cd2   0a01     XORLW     0x1                                                                                             
007cd4   e015     BZ        0x7d00                                                                                          
007cd6   0a21     XORLW     0x21                                                                                            
007cd8   e00d     BZ        0x7cf4                                                                                          
007cda   0a01     XORLW     0x1                                                                                             
007cdc   e001     BZ        0x7ce0                                                                                          
007cde   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** These commands are required ******//                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    //send the packet                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce0   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce2   0eb4     MOVLW     0xb4                                                                                            
007ce4   6fd1     MOVWF     0xd1,0x1                                                                                        
007ce6   0e05     MOVLW     0x5                                                                                             
007ce8   6fd2     MOVWF     0xd2,0x1                                                                                        
007cea   0e08     MOVLW     0x8                        inPipes[0].wCount.Val = dummy_length;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cec   6fd4     MOVWF     0xd4,0x1                                                                                        
007cee   6bd5     CLRF      0xd5,0x1                                                                                        
007cf0   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf2   d021     BRA       0x7d36                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       // Populate dummy_encapsulated_cmd_response first.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf4   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf6   0eb4     MOVLW     0xb4                                                                                            
007cf8   6fd1     MOVWF     0xd1,0x1                                                                                        
007cfa   0e05     MOVLW     0x5                                                                                             
007cfc   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cfe   d01b     BRA       0x7d36                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** End of required commands ******//                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D1) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d00   c436     MOVFF     0x436,0x5d9                outPipes[0].wCount.Val = SetupPkt.wLength;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d02   f5d9                                                                                                               
007d04   c437     MOVFF     0x437,0x5da                                                                                     
007d06   f5da                                                                                                               
007d08   0105     MOVLB     0x5                        outPipes[0].pDst.bRam = (BYTE*)LINE_CODING_TARGET;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d0a   0e94     MOVLW     0x94                                                                                            
007d0c   6fd6     MOVWF     0xd6,0x1                                                                                        
007d0e   0e05     MOVLW     0x5                                                                                             
007d10   6fd7     MOVWF     0xd7,0x1                                                                                        
007d12   6bdb     CLRF      0xdb,0x1                   outPipes[0].pFunc = LINE_CODING_PFUNC;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d14   6bdc     CLRF      0xdc,0x1                                                                                        
007d16   8fd8     BSF       0xd8,0x7,0x1               outPipes[0].info.bits.busy = 1;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d18   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d1a   0105     MOVLB     0x5                        USBEP0SendRAMPtr(                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d1c   0e94     MOVLW     0x94                                                                                            
007d1e   6fd1     MOVWF     0xd1,0x1                                                                                        
007d20   0e05     MOVLW     0x5                                                                                             
007d22   6fd2     MOVWF     0xd2,0x1                                                                                        
007d24   0e07     MOVLW     0x7                                                                                             
007d26   6fd4     MOVWF     0xd4,0x1                                                                                        
007d28   6bd5     CLRF      0xd5,0x1                                                                                        
007d2a   0ec1     MOVLW     0xc1                                                                                            
007d2c   6fd3     MOVWF     0xd3,0x1                                                                                        
007d2e   0012     RETURN    0x0                            (BYTE*)&line_coding,                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           LINE_CODING_LENGTH,                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           USB_EP0_INCLUDE_ZERO);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d30   c432     MOVFF     0x432,0x5af                break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d32   f5af                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       control_signal_bitmap._byte = (BYTE)SetupPkt.W_Value.v[0];           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //One way to control the RTS pin is to allow the USB host to decide the value D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //that should be output on the RTS pin.  Although RTS and CTS pin functions D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //are technically intended for UART hardware based flow control, some legacy D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //UART devices use the RTS pin like a "general purpose" output pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //from the PC host.  In this usage model, the RTS pin is not related D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //to flow control for RX/TX.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //In this scenario, the USB host would want to be able to control the RTS D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //pin, and the below line of code should be uncommented.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //However, if the intention is to implement true RTS/CTS flow control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //for the RX/TX pair, then this application firmware should override D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //the USB host's setting for RTS, and instead generate a real RTS signal, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //based on the amount of remaining buffer space available for the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //actual hardware UART of this microcontroller.  In this case, the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //below code should be left commented out, but instead RTS should be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //controlled in the application firmware reponsible for operating the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //hardware UART of this microcontroller.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //---------                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //CONFIGURE_RTS(control_signal_bitmap.CARRIER_CONTROL);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           if(control_signal_bitmap.DTE_PRESENT == 1)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = USB_CDC_DTR_ACTIVE_LEVEL;                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = (USB_CDC_DTR_ACTIVE_LEVEL ^ 1);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d34   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d36   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007d38   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D2) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_BREAK:                        // Optional                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			if (SetupPkt.wValue == 0xFFFF)  //0xFFFF means send break indefinitely until a new SEND_BREAK command is received D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_Tx = 0;       // Prepare to drive TX low (for break signalling)         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 0;   // Make sure TX pin configured as an output               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_ENABLE = 0;   // Turn off USART (to relinquish TX pin control)          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else if (SetupPkt.wValue == 0x0000) //0x0000 means stop sending indefinite break  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               			UART_ENABLE = 1;   // turn on USART                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 1;   // Make TX pin an input                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Send break signalling on the pin for (SetupPkt.wValue) milliseconds D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UART_SEND_BREAK();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//end USBCheckCDCRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** U S E R  A P I ***********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCInitEP(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function should      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               be called after the SET_CONFIGURATION command (ex: within the context of     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the USBCBInitEP() function).                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function sets        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the default line coding (baud rate, bit parity, number of data bits,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               and format). This function also enables the endpoints and prepares for       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the first transfer from the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function should be called after the SET_CONFIGURATION command.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This is most simply done by calling this function from the                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBCBInitEP() function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void USBCBInitEP(void)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       CDCInitEP();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCInitEP(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                              	//Abstract line coding information                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d3a   0105     MOVLB     0x5               	line_coding.dwDTERate.Val = 19200;      // baud rate                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d3c   6b94     CLRF      0x94,0x1                                                                                        
007d3e   0e4b     MOVLW     0x4b                                                                                            
007d40   6f95     MOVWF     0x95,0x1                                                                                        
007d42   6b96     CLRF      0x96,0x1                                                                                        
007d44   6b97     CLRF      0x97,0x1                                                                                        
007d46   6b98     CLRF      0x98,0x1          	line_coding.bCharFormat = 0x00;             // 1 stop bit                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d48   6b99     CLRF      0x99,0x1          	line_coding.bParityType = 0x00;             // None                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d4a   0e08     MOVLW     0x8               	line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d4c   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d4e   6ba3     CLRF      0xa3,0x1           cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Reason:  Number of BYTEs to send to the host                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          varies from one transaction to                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          another. Cnt should equal the exact                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          number of BYTEs to transmit for                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          a given IN transaction.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          This number of BYTEs will only                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          be known right before the data is                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          sent.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d50   0e1a     MOVLW     0x1a               USBEnableEndpoint(CDC_COMM_EP,USB_IN_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d52   6ee6     MOVWF     0xe6,0x0                                                                                        
007d54   0e01     MOVLW     0x1                                                                                             
007d56   6ee6     MOVWF     0xe6,0x0                                                                                        
007d58   ec94     CALL      0x6928,0x0                                                                                      
007d5a   f034                                                                                                               
007d5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007d5e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007d60   0e1e     MOVLW     0x1e               USBEnableEndpoint(CDC_DATA_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d62   6ee6     MOVWF     0xe6,0x0                                                                                        
007d64   0e02     MOVLW     0x2                                                                                             
007d66   6ee6     MOVWF     0xe6,0x0                                                                                        
007d68   ec94     CALL      0x6928,0x0                                                                                      
007d6a   f034                                                                                                               
007d6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007d6e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d70   d91c     RCALL     0x7faa             CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d72   0105     MOVLB     0x5                CDCDataInHandle = NULL;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d74   6bad     CLRF      0xad,0x1                                                                                        
007d76   6bae     CLRF      0xae,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	CDCNotificationInHandle = NULL;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   mInitDTSPin();  //Configure DTS as a digital input                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	SerialStateBitmap.byte = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	OldSerialStateBitmap.byte = !SerialStateBitmap.byte;    //To force firmware to send an initial serial state packet to the host. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Prepare a SerialState notification element packet (contains info like DSR state) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bmRequestType = 0xA1; //Always 0xA1 for this type of packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bNotification = SERIAL_STATE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wValue = 0x0000;  //Always 0x0000 for this type of packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wIndex = CDC_COMM_INTF_ID;  //Interface number         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = 0x00;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.Reserved = 0x00;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wLength = 0x02;   //Always 2 bytes for this type of packet     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationHandler();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitDTRPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_HARDWARE_FLOW_CONTROL)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitRTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitCTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d78   6ba4     CLRF      0xa4,0x1           cdc_trf_state = CDC_TX_READY;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7a   0012     RETURN    0x0            }//end CDCInitEP                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function: void CDCNotificationHandler(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary: Checks for changes in DSR status and reports them to the USB host.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description: Checks for changes in DSR pin state and reports any changes       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          to the USB host.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions: CDCInitEP() must have been called previously, prior to calling     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                         CDCNotificationHandler() for the first time.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is only implemented and needed when the                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_CDC_SUPPORT_DSR_REPORTING option has been enabled.  If the function is   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               enabled, it should be called periodically to sample the DSR pin and feed     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the information to the USB host.  This can be done by calling                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler() by itself, or, by calling CDCTxService() which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               also calls CDCNotificationHandler() internally, when appropriate.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCNotificationHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //Check the DTS I/O pin and if a state change is detected, notify the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //USB host by sending a serial state notification element packet.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if(UART_DTS == USB_CDC_DSR_ACTIVE_LEVEL) //UART_DTS must be defined to be an I/O pin in the hardware profile to use the DTS feature (ex: "PORTXbits.RXY") D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 1;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //If the state has changed, and the endpoint is available, send a packet to  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //notify the hUSB host of the change.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if((SerialStateBitmap.byte != OldSerialStateBitmap.byte) && (!USBHandleBusy(CDCNotificationInHandle))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Copy the updated value into the USB packet buffer to send.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = SerialStateBitmap.byte;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //We don't need to write to the other bytes in the SerialStatePacket USB D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //buffer, since they don't change and will always be the same as our     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //initialized value.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Send the packet over USB to the host.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationInHandle = USBTransferOnePacket(CDC_COMM_EP, IN_TO_HOST, (BYTE*)&SerialStatePacket, sizeof(SERIAL_STATE_NOTIFICATION)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Save the old value, so we can detect changes later.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   OldSerialStateBitmap.byte = SerialStateBitmap.byte;                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//void CDCNotificationHandler(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define CDCNotificationHandler() {}                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack, which may have an effect on the CDC       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint(s).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack.  This function should be called when      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               there is a USB event that needs to be processed by the CDC driver.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               event - the type of event that occured                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pdata - pointer to the data that caused the event                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               size - the size of the data that is pointed to by pdata                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7c   d941     RCALL     0x8000         BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7e   d965     RCALL     0x804a             switch( (INT)event )                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d80   0e05     MOVLW     0x5                                                                                             
007d82   1842     XORWF     0x42,0x0,0x0                                                                                    
007d84   e101     BNZ       0x7d88                                                                                          
007d86   5043     MOVF      0x43,0x0,0x0                                                                                    
007d88   e002     BZ        0x7d8e                                                                                          
00804a   0efd     MOVLW     0xfd                                                                                            
00804c   cfdb     MOVFF     0xfdb,0x42                                                                                      
00804e   f042                                                                                                               
008050   0efe     MOVLW     0xfe                                                                                            
008052   cfdb     MOVFF     0xfdb,0x43                                                                                      
008054   f043                                                                                                               
008056   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case EVENT_TRANSFER_TERMINATED:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8e   d948     RCALL     0x8020                     if(pdata == CDCDataOutHandle)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d90   0105     MOVLB     0x5                                                                                             
007d92   51ab     MOVF      0xab,0x0,0x1                                                                                    
007d94   184e     XORWF     0x4e,0x0,0x0                                                                                    
007d96   e104     BNZ       0x7da0                                                                                          
007d98   51ac     MOVF      0xac,0x0,0x1                                                                                    
007d9a   184f     XORWF     0x4f,0x0,0x0                                                                                    
007d9c   e101     BNZ       0x7da0                                                                                          
008020   0efb     MOVLW     0xfb                                                                                            
008022   cfdb     MOVFF     0xfdb,0x4e                                                                                      
008024   f04e                                                                                                               
008026   0efc     MOVLW     0xfc                                                                                            
008028   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00802a   f04f                                                                                                               
00802c   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d9e   d905     RCALL     0x7faa                         CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx));   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da0   d93f     RCALL     0x8020                     if(pdata == CDCDataInHandle)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da2   0105     MOVLB     0x5                                                                                             
007da4   51ad     MOVF      0xad,0x0,0x1                                                                                    
007da6   184e     XORWF     0x4e,0x0,0x0                                                                                    
007da8   e105     BNZ       0x7db4                                                                                          
007daa   51ae     MOVF      0xae,0x0,0x1                                                                                    
007dac   184f     XORWF     0x4f,0x0,0x0                                                                                    
007dae   e102     BNZ       0x7db4                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //flush all of the data in the CDC buffer                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db0   6ba4     CLRF      0xa4,0x1                       cdc_trf_state = CDC_TX_READY;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db2   6ba9     CLRF      0xa9,0x1                       cdc_tx_len = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8a   0e00     MOVLW     0x0                        return FALSE;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8c   d014     BRA       0x7db6                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db4   0e01     MOVLW     0x1                return TRUE;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db6   d129     BRA       0x800a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE getsUSBUSART(char *buffer, BYTE len)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE numBytes;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE buffer[64]                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   numBytes = getsUSBUSART(buffer,sizeof(buffer)); //until the buffer is free. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(numBytes \> 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //we received numBytes bytes of data and they are copied into        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  the "buffer" variable.  We can do something with the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  here.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               buffer -  Pointer to where received BYTEs are to be stored                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               len -     The number of BYTEs expected.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db8   d923     RCALL     0x8000         BYTE getsUSBUSART(char *buffer, BYTE len)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dba   0105     MOVLB     0x5                cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dbc   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dbe   51ab     MOVF      0xab,0x0,0x1       if(!USBHandleBusy(CDCDataOutHandle))                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dc0   11ac     IORWF     0xac,0x0,0x1                                                                                    
007dc2   e102     BNZ       0x7dc8                                                                                          
007dc4   0e00     MOVLW     0x0                                                                                             
007dc6   d005     BRA       0x7dd2                                                                                          
007dc8   d932     RCALL     0x802e                                                                                          
007dca   50ef     MOVF      0xef,0x0,0x0                                                                                    
007dcc   0b80     ANDLW     0x80                                                                                            
007dce   e001     BZ        0x7dd2                                                                                          
007dd0   0e01     MOVLW     0x1                                                                                             
007dd2   0900     IORLW     0x0                                                                                             
007dd4   e12d     BNZ       0x7e30                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Adjust the expected number of BYTEs to equal                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * the actual number of BYTEs received.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dd6   0efc     MOVLW     0xfc                   if(len > USBHandleGetLength(CDCDataOutHandle))                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dd8   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007dda   f04e                                                                                                               
007ddc   d928     RCALL     0x802e                                                                                          
007dde   52ee     MOVF      0xee,0x1,0x0                                                                                    
007de0   50ef     MOVF      0xef,0x0,0x0                                                                                    
007de2   80d8     BSF       0xd8,0x0,0x0                                                                                    
007de4   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
007de6   e205     BC        0x7df2                                                                                          
007de8   d922     RCALL     0x802e                     len = USBHandleGetLength(CDCDataOutHandle);                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dea   52ee     MOVF      0xee,0x1,0x0                                                                                    
007dec   0efc     MOVLW     0xfc                                                                                            
007dee   cfef     MOVFF     0xfef,0xfdb                                                                                     
007df0   ffdb                                                                                                               
00802e   c5ab     MOVFF     0x5ab,0xfe9                                                                                     
008030   ffe9                                                                                                               
008032   c5ac     MOVFF     0x5ac,0xfea                                                                                     
008034   ffea                                                                                                               
008036   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df2   6ba3     CLRF      0xa3,0x1               for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df4   0efc     MOVLW     0xfc                                                                                            
007df6   50db     MOVF      0xdb,0x0,0x0                                                                                    
007df8   5da3     SUBWF     0xa3,0x0,0x1                                                                                    
007dfa   e219     BC        0x7e2e                                                                                          
007e2a   2ba3     INCF      0xa3,0x1,0x1                                                                                    
007e2c   d7e3     BRA       0x7df4                                                                                          
007dfc   51a3     MOVF      0xa3,0x0,0x1               buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfe   6aea     CLRF      0xea,0x0                                                                                        
007e00   0f54     ADDLW     0x54                                                                                            
007e02   6ee9     MOVWF     0xe9,0x0                                                                                        
007e04   0e05     MOVLW     0x5                                                                                             
007e06   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007e08   50ef     MOVF      0xef,0x0,0x0                                                                                    
007e0a   6ee6     MOVWF     0xe6,0x0                                                                                        
007e0c   51a3     MOVF      0xa3,0x0,0x1                                                                                    
007e0e   6ee7     MOVWF     0xe7,0x0                                                                                        
007e10   0efd     MOVLW     0xfd                                                                                            
007e12   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007e14   ffe9                                                                                                               
007e16   0efe     MOVLW     0xfe                                                                                            
007e18   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007e1a   ffea                                                                                                               
007e1c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007e1e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007e20   0e00     MOVLW     0x0                                                                                             
007e22   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007e24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007e26   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007e28   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e2e   d8bd     RCALL     0x7faa                 CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007faa   0e40     MOVLW     0x40                                                                                            
007fac   6ee6     MOVWF     0xe6,0x0                                                                                        
007fae   0e54     MOVLW     0x54                                                                                            
007fb0   6ee6     MOVWF     0xe6,0x0                                                                                        
007fb2   0e05     MOVLW     0x5                                                                                             
007fb4   6ee6     MOVWF     0xe6,0x0                                                                                        
007fb6   6ae6     CLRF      0xe6,0x0                                                                                        
007fb8   d83f     RCALL     0x8038                                                                                          
007fba   cff3     MOVFF     0xff3,0x5ab                                                                                     
007fbc   f5ab                                                                                                               
007fbe   cff4     MOVFF     0xff4,0x5ac                                                                                     
007fc0   f5ac                                                                                                               
007fc2   0012     RETURN    0x0                                                                                             
008038   0e02     MOVLW     0x2                                                                                             
00803a   6ee6     MOVWF     0xe6,0x0                                                                                        
00803c   ecb8     CALL      0x6970,0x0                                                                                      
00803e   f034                                                                                                               
008040   6e4e     MOVWF     0x4e,0x0                                                                                        
008042   0e05     MOVLW     0x5                                                                                             
008044   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
008046   504e     MOVF      0x4e,0x0,0x0                                                                                    
008048   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e30   0105     MOVLB     0x5                return cdc_rx_len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e32   51a3     MOVF      0xa3,0x0,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e34   d0ea     BRA       0x800a         }//end getsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	void putUSBUSART(char *data, BYTE length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = {0x00, 0x01, 0x02, 0x03, 0x04};                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putUSBUSART(data,5);                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data - pointer to a RAM array of data to be transfered to the host     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE length - the number of bytes to be transfered (must be less than 255).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e36   d8e4     RCALL     0x8000         void putUSBUSART(char *data, BYTE  length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e38   0105     MOVLB     0x5                if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e3a   51a4     MOVF      0xa4,0x0,0x1                                                                                    
007e3c   e107     BNZ       0x7e4c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e3e   d8e9     RCALL     0x8012                 mUSBUSARTTxRam((BYTE*)data, length);     // See cdc.h                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e40   0efc     MOVLW     0xfc                                                                                            
007e42   cfdb     MOVFF     0xfdb,0x5a9                                                                                     
007e44   f5a9                                                                                                               
007e46   0e01     MOVLW     0x1                                                                                             
007e48   6faa     MOVWF     0xaa,0x1                                                                                        
007e4a   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e4c   d0de     BRA       0x800a         }//end putUSBUSART                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Function:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		void putsUSBUSART(char *data)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = "Hello World";                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putsUSBUSART(data);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data -  null\-terminated string of constant data. If a                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e4e   d904     RCALL     0x8058         void putsUSBUSART(char *data)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008058   dfd3     RCALL     0x8000                                                                                          
00805a   0e03     MOVLW     0x3                                                                                             
00805c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *pData;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData, Length);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e50   e117     BNZ       0x7e80             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00805e   0105     MOVLB     0x5                                                                                             
008060   51a4     MOVF      0xa4,0x0,0x1                                                                                    
008062   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e52   d8c0     RCALL     0x7fd4             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fd4   6adf     CLRF      0xdf,0x0                                                                                        
007fd6   d839     RCALL     0x804a             pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fd8   52de     MOVF      0xde,0x1,0x0                                                                                    
007fda   c042     MOVFF     0x42,0xfde                                                                                      
007fdc   ffde                                                                                                               
007fde   c043     MOVFF     0x43,0xfdd                                                                                      
007fe0   ffdd                                                                                                               
007fe2   52dd     MOVF      0xdd,0x1,0x0                                                                                    
007fe4   0012     RETURN    0x0                                                                                             
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e54   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e56   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e58   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007e5a   e00b     BZ        0x7e72                                                                                          
007e5c   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e5e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007e60   ffe9                                                                                                               
007e62   2adb     INCF      0xdb,0x1,0x0                                                                                    
007e64   0e02     MOVLW     0x2                                                                                             
007e66   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007e68   ffea                                                                                                               
007e6a   e301     BNC       0x7e6e                                                                                          
007e6c   2adb     INCF      0xdb,0x1,0x0                                                                                    
007e6e   50ef     MOVF      0xef,0x0,0x0                                                                                    
007e70   e1f1     BNZ       0x7e54                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e72   d8cf     RCALL     0x8012             mUSBUSARTTxRam((BYTE*)data, len);     // See cdc.h                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e74   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007e76   f5a9                                                                                                               
007e78   0105     MOVLB     0x5                                                                                             
007e7a   0e01     MOVLW     0x1                                                                                             
007e7c   6faa     MOVWF     0xaa,0x1                                                                                        
007e7e   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e80   0e03     MOVLW     0x3            }//end putsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e82   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007e84   e202     BC        0x7e8a                                                                                          
007e86   6ae1     CLRF      0xe1,0x0                                                                                        
007e88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007e8a   6ee1     MOVWF     0xe1,0x0                                                                                        
007e8c   d0be     BRA       0x800a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void putrsUSBUSART(const ROM char *data)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putrsUSBUSART("Hello World");                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *data -  null\-terminated string of constant data. If a       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e8e   d8e4     RCALL     0x8058         void putrsUSBUSART(const ROM char *data)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *pData;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e90   e118     BNZ       0x7ec2             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e92   d8a0     RCALL     0x7fd4             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e94   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e96   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e98   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007e9a   e00c     BZ        0x7eb4                                                                                          
007e9c   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e9e   cfdb     MOVFF     0xfdb,0xff6                                                                                     
007ea0   fff6                                                                                                               
007ea2   2adb     INCF      0xdb,0x1,0x0                                                                                    
007ea4   0e02     MOVLW     0x2                                                                                             
007ea6   cfdb     MOVFF     0xfdb,0xff7                                                                                     
007ea8   fff7                                                                                                               
007eaa   e301     BNC       0x7eae                                                                                          
007eac   2adb     INCF      0xdb,0x1,0x0                                                                                    
007eae   0008     TBLRD                                                                                                     
007eb0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007eb2   e1f0     BNZ       0x7e94                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb4   d8ae     RCALL     0x8012             mUSBUSARTTxRom((ROM BYTE*)data,len); // See cdc.h                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb6   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007eb8   f5a9                                                                                                               
007eba   0105     MOVLB     0x5                                                                                             
007ebc   6baa     CLRF      0xaa,0x1                                                                                        
007ebe   0e01     MOVLW     0x1                                                                                             
007ec0   6fa4     MOVWF     0xa4,0x1                                                                                        
008012   0efd     MOVLW     0xfd                                                                                            
008014   cfdb     MOVFF     0xfdb,0x5a5                                                                                     
008016   f5a5                                                                                                               
008018   0efe     MOVLW     0xfe                                                                                            
00801a   cfdb     MOVFF     0xfdb,0x5a6                                                                                     
00801c   f5a6                                                                                                               
00801e   0012     RETURN    0x0                                                                                             
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec2   0e03     MOVLW     0x3            }//end putrsUSBUSART                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007ec6   e202     BC        0x7ecc                                                                                          
007ec8   6ae1     CLRF      0xe1,0x0                                                                                        
007eca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ecc   6ee1     MOVWF     0xe1,0x0                                                                                        
007ece   d09d     BRA       0x800a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /************************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCTxService(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state.                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state (after the CDCIniEP() function has already executed).   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is needed, in order to advance the internal software state     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               machine that takes care of sending multiple transactions worth of IN USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data to the host, associated with CDC serial data.  Failure to call          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService() perioidcally will prevent data from being sent to the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB host, over the CDC serial data interface.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       USBDeviceTasks();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Either the device is not configured or we are suspended        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //  so we don't want to do execute any application code          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Keep trying to send data to the PC as required                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           CDCTxService();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Run application code.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCIniEP() function should have already executed/the device should be        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               in the CONFIGURED_STATE.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ************************************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed0   d897     RCALL     0x8000         void CDCTxService(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed2   0e02     MOVLW     0x2                                                                                             
007ed4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
008000   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008002   ffe6                                                                                                               
008004   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008006   ffd9                                                                                                               
008008   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE byte_to_send;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed6   0105     MOVLB     0x5                if(USBHandleBusy(CDCDataInHandle))                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed8   51ad     MOVF      0xad,0x0,0x1                                                                                    
007eda   11ae     IORWF     0xae,0x0,0x1                                                                                    
007edc   e102     BNZ       0x7ee2                                                                                          
007ede   0e00     MOVLW     0x0                                                                                             
007ee0   d008     BRA       0x7ef2                                                                                          
007ee2   c5ad     MOVFF     0x5ad,0xfe9                                                                                     
007ee4   ffe9                                                                                                               
007ee6   c5ae     MOVFF     0x5ae,0xfea                                                                                     
007ee8   ffea                                                                                                               
007eea   50ef     MOVF      0xef,0x0,0x0                                                                                    
007eec   0b80     ANDLW     0x80                                                                                            
007eee   e001     BZ        0x7ef2                                                                                          
007ef0   0e01     MOVLW     0x1                                                                                             
007ef2   0900     IORLW     0x0                                                                                             
007ef4   e153     BNZ       0x7f9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ef6   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ef8   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007efa   e101     BNZ       0x7efe                                                                                          
007efc   6ba4     CLRF      0xa4,0x1               cdc_trf_state = CDC_TX_READY;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007efe   51a4     MOVF      0xa4,0x0,0x1       if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f00   e04d     BZ        0x7f9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f02   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f04   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007f06   e109     BNZ       0x7f1a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f08   6ae6     CLRF      0xe6,0x0               CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,NULL,0);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f0a   0e00     MOVLW     0x0                                                                                             
007f0c   6ee6     MOVWF     0xe6,0x0                                                                                        
007f0e   6ae6     CLRF      0xe6,0x0                                                                                        
007f10   d859     RCALL     0x7fc4                                                                                          
007fc4   0e01     MOVLW     0x1                                                                                             
007fc6   6ee6     MOVWF     0xe6,0x0                                                                                        
007fc8   d837     RCALL     0x8038                                                                                          
007fca   cff3     MOVFF     0xff3,0x5ad                                                                                     
007fcc   f5ad                                                                                                               
007fce   cff4     MOVFF     0xff4,0x5ae                                                                                     
007fd0   f5ae                                                                                                               
007fd2   0012     RETURN    0x0                                                                                             
                                                   //CDC_DATA_BD_IN.CNT = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f12   0105     MOVLB     0x5                    cdc_trf_state = CDC_TX_COMPLETING;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f14   0e03     MOVLW     0x3                                                                                             
007f16   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f18   d041     BRA       0x7f9c             else if(cdc_trf_state == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f1a   05a4     DECF      0xa4,0x0,0x1                                                                                    
007f1c   e13f     BNZ       0x7f9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * First, have to figure out how many byte of data to send.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f1e   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f20   6e4e     MOVWF     0x4e,0x0                                                                                        
007f22   6a4f     CLRF      0x4f,0x0                                                                                        
007f24   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007f26   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007f28   0e00     MOVLW     0x0                                                                                             
007f2a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
007f2c   e203     BC        0x7f34                                                                                          
007f2e   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f30   6edf     MOVWF     0xdf,0x0                                                                                        
007f32   d002     BRA       0x7f38             	else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f34   c5a9     MOVFF     0x5a9,0xfdf        	    byte_to_send = cdc_tx_len;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f36   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f38   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f3a   5da9     SUBWF     0xa9,0x0,0x1                                                                                    
007f3c   6fa9     MOVWF     0xa9,0x1                                                                                        
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f3e   0e14     MOVLW     0x14                   pCDCDst.bRam = (BYTE*)&cdc_data_tx; // Set destination pointer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f40   6fa7     MOVWF     0xa7,0x1                                                                                        
007f42   0e05     MOVLW     0x5                                                                                             
007f44   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f46   0e01     MOVLW     0x1                    i = byte_to_send;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f48   cfdf     MOVFF     0xfdf,0xfdb                                                                                     
007f4a   ffdb                                                                                                               
007f4c   51aa     MOVF      0xaa,0x0,0x1           if(cdc_mem_type == USB_EP0_ROM)            // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f4e   e10b     BNZ       0x7f66                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f50   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f52   50db     MOVF      0xdb,0x0,0x0                                                                                    
007f54   e012     BZ        0x7f7a                                                                                          
007f64   d7f5     BRA       0x7f50                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f56   c5a5     MOVFF     0x5a5,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f58   fff6                                                                                                               
007f5a   c5a6     MOVFF     0x5a6,0xff7                                                                                     
007f5c   fff7                                                                                                               
007f5e   0008     TBLRD                                                                                                     
007f60   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007f62   d841     RCALL     0x7fe6                                                                                          
007fe6   c5a7     MOVFF     0x5a7,0xfe9                                                                                     
007fe8   ffe9                                                                                                               
007fea   c5a8     MOVFF     0x5a8,0xfea                                                                                     
007fec   ffea                                                                                                               
007fee   6eef     MOVWF     0xef,0x0                                                                                        
007ff0   2ba7     INCF      0xa7,0x1,0x1                   pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ff2   0e00     MOVLW     0x0                                                                                             
007ff4   23a8     ADDWFC    0xa8,0x1,0x1                                                                                    
007ff6   2ba5     INCF      0xa5,0x1,0x1                   pCDCSrc.bRom++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ff8   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
007ffa   0e01     MOVLW     0x1                            i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ffc   06db     DECF      0xdb,0x1,0x0                                                                                    
007ffe   0012     RETURN    0x0                                                                                             
                                                       }//end while(byte_to_send)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   else // _RAM                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f66   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f68   50db     MOVF      0xdb,0x0,0x0                                                                                    
007f6a   e007     BZ        0x7f7a                                                                                          
007f78   d7f6     BRA       0x7f66                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f6c   c5a5     MOVFF     0x5a5,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f6e   ffe9                                                                                                               
007f70   c5a6     MOVFF     0x5a6,0xfea                                                                                     
007f72   ffea                                                                                                               
007f74   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f76   d837     RCALL     0x7fe6                                                                                          
                                                           pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           pCDCSrc.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }//end while(byte_to_send._word)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }//end if(cdc_mem_type...)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f7a   0105     MOVLB     0x5                    if(cdc_tx_len == 0u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f7c   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007f7e   e107     BNZ       0x7f8e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f80   0e40     MOVLW     0x40                       if(byte_to_send == CDC_DATA_IN_EP_SIZE)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f82   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007f84   e102     BNZ       0x7f8a                                                                                          
007f86   0e02     MOVLW     0x2                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f88   d001     BRA       0x7f8c                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f8a   0e03     MOVLW     0x3                            cdc_trf_state = CDC_TX_COMPLETING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f8c   6fa4     MOVWF     0xa4,0x1                                                                                        
                                                   }//end if(cdc_tx_len...)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f8e   cfdf     MOVFF     0xfdf,0xfe6            CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_tx,byte_to_send); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f90   ffe6                                                                                                               
007f92   0e14     MOVLW     0x14                                                                                            
007f94   6ee6     MOVWF     0xe6,0x0                                                                                        
007f96   0e05     MOVLW     0x5                                                                                             
007f98   6ee6     MOVWF     0xe6,0x0                                                                                        
007f9a   d814     RCALL     0x7fc4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f9c   0e02     MOVLW     0x2            }//end CDCTxService                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f9e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007fa0   e202     BC        0x7fa6                                                                                          
007fa2   6ae1     CLRF      0xe1,0x0                                                                                        
007fa4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007fa6   6ee1     MOVWF     0xe1,0x0                                                                                        
007fa8   d030     BRA       0x800a                                                                                          
00800a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00800c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00800e   ffd9                                                                                                               
008010   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif //USB_USE_CDC                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** EOF cdc.c ****************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * FileName:        ebb.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Versions:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8 -                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.1 5/19/10 - Only change is to recompile with Microchip USB Stack v2.7     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.2 5/31/10 - Only change is to change name in USB enumeration string to Ei D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Bot Board - using new PID for SchmalzHaus                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9   6/11/10 - Added two commands:                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SQ - Solenoid Query - returns 0 or 1 for down and up         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ST - Solenoid Toggle - toggles state of the servo/solenoid   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.2 6/15/10 - Added commands:                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,11 sets pen up speed                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,12 sets pen down speed                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SL - sets the current layer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QL - queries the current layer                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - sets move (node) count                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QN - Query node count                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QB - Query Button command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.3 6/16/10 - Replaced SN with CL (Clear Node) command                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.4 6/22/10 - Node Count now incremented on pauses (SM with zero step size) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  as well                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.5 7/2/10 - Node count no longer incremented at all except for NI command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NI - Node count Increment                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ND - Node count Decrement                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - Set Node count (with 8 byte variable)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  BL - With latest bootloader, will jump to Boot Load mode     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.6 7/3/10 - Removed extra vectors below 0x1000 for easier merging of HEX   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      files                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - use c018i_HID_BL.o now                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.0 9/9/10 - Add in                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QC - Query Current - reads voltage of current adjustment pot D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: This is NOT done the 'right way'. Instead, we set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      up the pin for analog input at boot, then when the QC    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      comes in, we activate the ADC and take one reading and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      then shut it down. Eventually, we should re-write the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      'UBW' ADC routines to work with the much more flexible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ADC in the 46J50 part and then just use that generic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      code for reading the value of the pot.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,13,{0,1} - enables/disables RB0 as another PRG button for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pause detection                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.1 9/13/10 - Bug fix - on v1.1 EBB hardware, need to disable RB0 alt pause D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      button. Switched it to RB2 on v1.1 hardware              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.2 10/3/10 - Bug fix - QC command not returning proper results - added     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      cast and now works OK                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.0 10/21/10- Added in                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE - Set Engraver - turns engraver (on RB3) on or off, or    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      set to PWM power level                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Added code in init to pre-charge RC7 (USB_SENSE_IO) high   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      before running rest of code                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      to get around wrong resistor value on hardware.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1 11/21/10- Removed Microchip USB stack v2.7, replaced it with v2.8 from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  MAL 2010_10_19.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Also using generic Microchip folder now rather than re-named D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      one (simpler to update).                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated code in main.c (and others) to match updates from    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      latest MAL CDC example.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1cTest1 01/17/11 - Added third parameter to SP command to use any PortB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pin for servo output.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  For this version only - used PortB2 as standard servo output D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1d 02/11/11 - Reverted back to RB1 for servo output                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                 - Updated check_and_send_TX_data() to allow unlimited data to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      go out without overrunning the output buffer, same as    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      UBW 1.4.7.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.2 11/04/11 - Fixed PI command to return just a 0 or a 1                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated to USB stack 2.9a                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Created MPLAB X project for this firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,<state> to enable/disable solenoid output on RB4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command and solenoid command interaction - D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      we now turn off solenoid output on RB4 if user uses S2   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to use RB4 for RC servo output.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command where a duration of 0 would not    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      shut off the PWM channel                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug in S2 command where <rate> variable was not being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used correctly                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Switched default number of S2 channels to 8 (from 7 before)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.3 12/12/11 - RB3 now defaults to digital I/O on boot, can still use SE    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to do PWM later if you want                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Compiled with latest UBW stack - 2.9b from MAL 2011-10-18    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.4 12/14/11 - RB3 now defaults to OFF, rather than ON, at boot.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.5 12/15/11 - Fixed problem with pen servo (RB1) being inverted on boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.0 11/07/12 - Fixed problem with SP command not working properly with      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ports other than RB1 because we don't properly use S2    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands for SP up/down within ISR. Tested on all PortB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.1 09/19/13 - Expanded internal delay counter to 32 bits so we can have    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      delays longer than 2.1s. Now up to 64K ms.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with all <duration> parameters, SP, TP             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands. Now in ms, defaults to 500ms, and actually     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      works up to 64Kms.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed uninitialized data bug with command FIFO. We were seeing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      very long random delays first time SM,<delay>,0,0 was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - SP command was executing servo move at end of <duration>. It D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      now starts servo move and <duration> delay at same time. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated USB stack to Microchip MAL USB v2.9j                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.2 10/15/13 - Fixed bug with SE command that was preventing anything other D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  than 50% duty cycle from working.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,2,{0,1,2} to control PIC and drivers connection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  0 = PIC controls built in drivers                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  1 = PIC controls external step/dir/en drives                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  2 = external step/dir/en controls built-in drivers           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Also updated the pins that are used for driving external     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step/dir/en drives. (See documentation)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,1,{0,1,2} documentation to match code and removed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,14 which is not needed.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated logic for EM command to use state of SC,2,{0,1,2}    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  properly.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,{0,1} to switch between default of 1/25Khz units D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for SP and TP command <duration> parameters, and 1ms units   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.3 01/11/14 - Rewrote analog system so we don't have problems with QC      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands anymore. New command AC.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.4 04/26/14 - Fixed bug where 0 for duration in SM would cause problems    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Found bug where the <servo_min> and <servo_max> values were  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  reversed in the SP command. This has now been fixed so that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SP commands will operate the same as 2.0.1 version.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Set initial  'position' of main servo to be 1mS to mimic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  behavior of v2.0.1 firmware.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated license to BSD 3-clause                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Changed SP and TP commands so that if no <duration> parameter D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  is used, it does not default to 500mS delay, but rather 0mS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  This should now work exactly as 2.0.1 when no parameter is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Tested 2.2.4 against 2.0.1 with Saleae Logic analyzer. Looked D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  at several Inkscape plots. Confirmed that timing of steppers D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and servo are the same. Confirmed that all RB0 through RB7   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  outputs are the same between the two versions.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.5 04/29/14 - Added 'long' arguments to SM for <move_duration> and <axis1> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and <axis2>. All can be 3 bytes now. Also added checks in    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command to make sure that arguments don't result in a     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step speed that's too low (<0.76Hz).                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.6 01/01/15 - Added 'QM' command - Query Motor, tells PC what is moving.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.7 08/13/15 - Added 'ES' command, which will immediately abort any SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  but leave the motors energized. (E-stop) It returns "1" if   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  it aborted a move in progress, "0" otherwise. It will also   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  delete any pending SM command in the FIFO.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.8 08/14/15 - Corrected error checking in SM command to accurately reflect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  too fast and too slow requests. (>25K or <1.31 steps per     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  second). Also added type cast that now allows for full range D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  of step values to work properly.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.9 08/18/15 - Added extra values to output of ES command to indicate how   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  many steps were aborted.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.3.0 08/28/15 - Added new XM command as per issue #29 for driving mixed-axis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  geometry machines.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.0 03/14/16 - Added new AM command for using accelerated                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  stepper motion. Includes going to 32 bit accumulators in ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  to achieve necessary resolution, which includes changes to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command as well. Also added "CU,2,0" to turn of SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  parameter checking for speed.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: AM command may not be quite 'right' yet. Although it   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  has passed simple tests, it could not be made to reliably    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  work from the Inkscape plugin, so it is not currently being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used. It may have to change in future versions of this       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  firmware.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.1 08/08/16 - Added new form of SE command, with optional parameter that   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  puts SE in motion queue. (issue #51)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed issue #52 (bug in parameter check in parse_SM_packet()) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.2 08/10/16 - Fixed bug in SE command that would set engraver to 50% if    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE,1,0 was used. Also added engraver power to FIFO structure D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for when third SE parameter is 1.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.3 11/07/16 - Added QS (Query Step position) and CS (Clear Step position)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.4 11/16/16 - Added extra value to QM command to show status of FIFO       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.5 01/07/17 - Fixed math error in SM/XM commands (see issue #71)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.6 01/08/17 - Added special case code for moves less than 30ms long (this  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  special case just un-does the change for issue #71 for these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  short moves)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.0 01/09/17 - Added LM (low level move) command to allow PC to do all math D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.1 01/18/17 - Fixed LM command to take negative and positive Accel         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed 25KHz ISR to be much closer to 25KHz                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.2 07/07/17 - Fixed issue #78 : detected and reject 0,0 for LM command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed some uninitialized variables                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  LM Accel parameter went to 32 bits signed from 16 bit signed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.3 07/09/17 - Fixed bug in LM command that would corrupt currently running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    moves with new data.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.4 01/06/18 - Added ST (Set Tag), QT (Query Tag) commands.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added RB (ReBoot) command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added any name set with ST command to end of USB Device Name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed problem with reading bit 7 of any I/O port (issue #82) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.5 07/06/18 - Enhanced ST command by writing to both Device name and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    serial number USB fields.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.6 07/11/18 - Added RC Servo power control functionality on pin RA3        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Includes new QR and SR commands. See issue #103 for more   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.0 09/08/18 - Added direct servo power toggle command SR                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Set servo default timeout to 15 minutes, pen up at boot,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo power off at boot                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Changed default pen up/down positions                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.1 01/07/19 - Added "QG" general query command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.2 01/11/19 - Added "HM" Home Motor command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.3 05/24/19 - Changed default RC servo power down time from 15min to 60s   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.4 11/05/19 - Fixed bug #124 (Math error in SM command for edge case       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    input parameters)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.5 11/29/19 - Changed SR command behavior so it only enables servo power   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    after SP command, not also after stepper movement          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.6 05/26/20 - Fixed a bug with the PC/PG command which caused some changes D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    not to take effect for up to 64K more milliseconds.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       11/10/20 - Fixed bug where S2 command wouldn't turn power on to RB1     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo output if it had been turned off.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.7.0 11/19/20 - No longer allow Rate to go negative (like from LM command)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    inside ISR                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Removed AM command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional parameter <Clear> to all stepper motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    commands to allow explicit zeroing of accumulators         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Renamed internal parameters for some commands (LT/LM) for    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    clarity. Also queue structure members got renamed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional absolute position values to HM command        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added LT command, based on LM command                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in LM command based on Kinematics analysis      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in ISR (for LM/LT) based on Kinematics analysis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed bug where negative accelerations could cause delays before  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    last step.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  EM command now always clears accumulators                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Reduced effective pulse width for step pulses down to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    between 1.6 and 2.3 uS.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.0 04/22/21 - Issue 151: Added QE command to return state of motor enables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    and their microstep resolution                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 152: Move EM command to motion queue                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 153: Add optional parameter to ES command to disable   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    motors.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fix bug in ES command that didn't send return packet         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.1 07/26/22 - Issue 180: Add CU,3,1 to turn on RED LED reporting of FIFO empty D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.2 05/05/23 - Add CU,50 to control automatic motor enable                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.9.0 11/2/22  - Issue 185 : Get LT and LM commands to allow accelerations    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    through zero (i.e. reverse direction mid-move)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Massive refactor of motion ISR to improve performance        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Proper formatting/indenting of entire EBB codebase for readability D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Turned all warnings/messages on in compiler, fixed all       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <math.h>                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ubw.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "delays.h"                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_demo.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Define this to enable the use of the C step (high) ISR. Undefine for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the assembly language version                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define USE_C_ISR                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the value that gets multiplied by Steps/Duration to compute           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the StepAdd values.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define OVERFLOW_MUL            (0x8000 / HIGH_ISR_TICKS_PER_MS)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define MAX_RC_DURATION         11890                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The number of individual addressable unsigned bytes that are available        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // in the SL and QL commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define SL_STORAGE_SIZE         32u                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           typedef enum                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_OFF = 0,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_ON,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_PWM                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           } SolenoidStateType;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the FIFO that stores the motion commands. It spans multiple RAM       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // banks from 0x600 through 0xDFF (length 0x800 or 2048d), and must only be      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // accessed via pointer.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that no matter what COMMAND_FIFO_MAX_LENGTH is set to, we reserve the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // entire 0x800 bytes of space in the FIFO_scn here. That prevents the linker    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // from putting variables after this section.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata FIFO_scn                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CommandFIFO[COMMAND_FIFO_SIZE_BYTES];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These global variables are deliberately put into "Bank" 0 of RAM (the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access/near bank).                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the small global variables that the 25KHz ISR has to access.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // With them all being in bank 0, no bank switch instructions are needed         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to access them.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata access ISR_access                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //static UINT8 TookStep;       // LSb set if a step was taken                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AllDone;        // LSb set if this command is complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 isr_i;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AxisActive[NUMBER_OF_STEPPERS];     // LSb set if an axis is not done stepping D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near DriverConfigurationType DriverConfiguration;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable RC Servo output for pen up/down                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gUseRCPenServo;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable red LED lit when FIFO is empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gRedLEDEmptyFIFO;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set when user presses the PRG or alternate PRG button                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 ButtonPushed;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable use of alternate PRG (pause) button                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 UseAltPause;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bitfield used to keep track of what test modes are enabled/disabled           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 TestMode;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Used as temporary variable inside ISR for servo channel index                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 ISR_Channel;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary holder for PortB value in ISR so we don't have to sample more than once D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 PortBTemp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchMask;      // 8-bit PortB mask                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTarget;    // 8-bit PortB target values          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTriggered; // Non-zero if limit switch trigger has fired D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables for managing FIFO depth/indexes                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOLength;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOIn;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOOut;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Holds a local copy of the Command from CommandFIFO[gFIFOOut].Command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gFIFOCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Current length of FIFO                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gCurrentFIFOLength;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporarily store FSR0 during command copy assembly (note these can be in any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // bank)                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0L_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0H_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer in RAM to the first byte of the next unplayed FIFO command            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_high;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_low;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These values hold the global step position of each axis                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer to a MoveCommandType element of the FIFO array                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near MoveCommandType * FIFOPtr = (near MoveCommandType *)&CommandFIFO[0];        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Accumulator for each axis                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near u32b4_t acc_union[2];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // ISR globals used in test modes for keeping track of each move                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRTickCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount0ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition0ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount1ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition1ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bank 1 is the "ISR Bank". By placing all variables that the ISR needs         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access to either in the access bank (above) or in Bank 1, then the bank       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // select register can be kept pointing to Bank 1 and no bank switch instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are needed in the iSR.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata ISR_globals = 0x180                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Variables used during debug printing within ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static u32b4_t xx;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8 nib;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The move command containing the currently executing move command in the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           MoveCommandType CurrentCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned int DemoModeActive;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static SolenoidStateType SolenoidState;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned int SolenoidDelay;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // track the latest state of the pen                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static PenStateType PenState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned long NodeCount;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned char QC_ms_timer;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT StoredEngraverPower;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set TRUE to enable solenoid output for pen up/down                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gUseSolenoid;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When FALSE, we skip parameter checks for motor move commands so they can run faster D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gLimitChecks;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable all strings to use '\n' line endings, and use standardized  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // command reply format                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 gStandardizedCommandFormat;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals replace the local (stack) variables used during processing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and parsing of stepper motor commands. They also take the place of parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for the two low-level (process_low_level and process_simple) move functions.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Since we know that we can never be working on more than one of these commands D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // at the same time, and since we have enough global RAM space, it makes some    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // sense to make these static globals. This reduces the change of a stack        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // overflow.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_3;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_4;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_5;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_6;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_7;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_8;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_9;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_10;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_11;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These next set of defines create local, meaningful names. They reference the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // above globals, but in ways that make sense for the routine they are used in.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For HM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_StepRate    gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos1        gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos2        gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For XM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_ASteps      gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_BSteps      gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_motor_move_fp                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gDurationMS     gUInt32_1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gIntervals      gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gClearAccs      gUInt32_3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate1          gInt32_4                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps1         gInt32_5                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel1         gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk1          gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate2          gInt32_8                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps2         gInt32_9                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel2         gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk2          gInt32_11                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_rate_move_fp()                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSRM_Rate       gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /* List of functions which use (in some way) the above globals/defines           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_motor_move_fp()                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gIntervals    UINT32  gUInt32_2 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_rate_move_fp()                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSRM_Rate     UINT32  gUInt32_2 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               (none)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           parse_XM_packet()                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_ASteps    INT32   gInt32_6  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_BSteps    INT32   gInt32_10 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           */                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals are now set to be put anywhere the linker can find space for them D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static MoveCommandType gMoveTemp;     // Commands fill this then copy to FIFO    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Storage for the 32 bytes of "SL" command values                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8   gSL_Storage[32];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Local function definitions                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_StepCounters(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_low_level_move(BOOL TimedMove,  ExtractReturnType ClearRet); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_motor_move_fp(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_rate_move_fp(void);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           extern void FIFO_COPY(void);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // High ISR                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma interrupt high_ISR                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001050   cfda     MOVFF     0xfda,0xfe4    void high_ISR(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001052   ffe4                                                                                                               
001054   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001056   ffe4                                                                                                               
001058   cfea     MOVFF     0xfea,0xfe4                                                                                     
00105a   ffe4                                                                                                               
00105c   cff3     MOVFF     0xff3,0xfe4                                                                                     
00105e   ffe4                                                                                                               
001060   cff4     MOVFF     0xff4,0xfe4                                                                                     
001062   ffe4                                                                                                               
001064   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 25KHz ISR fire. Note: For speed, we don't check that PIR1bits.TMR1IF is set D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // here. We assume it is, as it's the only interrupt that should be triggering D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // calls to high_ISR()                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the interrupt                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001066   909e     BCF       0x9e,0x0,0x0     PIR1bits.TMR1IF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001068   0efe     MOVLW     0xfe             TMR1H = TIMER1_H_RELOAD;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106a   6ecf     MOVWF     0xcf,0x0                                                                                        
00106c   0e36     MOVLW     0x36             TMR1L = TIMER1_L_RELOAD;  // Reload for 25KHz ISR fire                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106e   6ece     MOVWF     0xce,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001070   b209     BTFSC     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001072   828c     BSF       0x8c,0x1,0x0       LATDbits.LATD1 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001074   8000     BSF       0x0,0x0,0x0      bitsetzero(AllDone);      // Start every ISR assuming we are done with the current command - set bit 0 of AllDone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Process a motor move command of any type                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This is the main chunk of code for EBB : the step generation code in the 25KHz ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The first section determines if we need to take any steps this time through the ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It is broken into sections, one for each type of stepper motion command because  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // they each have different amounts of processing needed to determine if a step is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // necessary or not.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then the second section is common to all stepper motion commands and handles D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the actual step pulse generation as well as direction bit control.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Active bits will be set if there is still motion left to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // generate on an axis. They are set when the command is first loaded          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into CurrentCommand and then cleared once all steps have been taken         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (either in time or in step count). They are checked inside each             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // command's step processing (below) so that we only spend time working        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // on axis that have activity left                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Important assumptions:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // There is only one bit set in the CurrentCommand.Command byte                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // A very complete mathematical analysis of the way the various stepper        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands are expected to work can be found here;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // https://evilmadscience.s3.amazonaws.com/dl/ad/public/AxiDrawKinematics.pdf  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here we handle the 'simple' (non accelerating) stepper commands.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These three command (SM, XM and HM) do not use                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // acceleration and so that code is left out to save time. This is also        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the most common command used by the various PC softwares so we check        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for it first.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001076   0e05     MOVLW     0x5              if (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001078   0101     MOVLB     0x1                                                                                             
00107a   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00107c   e142     BNZ       0x1102                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Direction bits need to be output before step bits. Since we know step bis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are clear at this point, it's safe to always output direction bits here   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // before we start messing with the step bits                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107e   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001080   e104     BNZ       0x108a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001082   0e5f     MOVLW     0x5f                 LATD = (PORTD & ~(DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001084   1483     ANDWF     0x83,0x0,0x0                                                                                    
001086   1186     IORWF     0x86,0x0,0x1                                                                                    
001088   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108a   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108c   d00b     BRA       0x10a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108e   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001090   1402     ANDWF     0x2,0x0,0x0                                                                                     
001092   e103     BNZ       0x109a                                                                                          
001094   0e01     MOVLW     0x1                                                                                             
001096   1403     ANDWF     0x3,0x0,0x0                                                                                     
001098   e005     BZ        0x10a4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109a   2a26     INCF      0x26,0x1,0x0           gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109c   0e00     MOVLW     0x0                                                                                             
00109e   2227     ADDWFC    0x27,0x1,0x0                                                                                    
0010a0   2228     ADDWFC    0x28,0x1,0x0                                                                                    
0010a2   2229     ADDWFC    0x29,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a4   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a6   d012     BRA       0x10cc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Add the rate to the accumulator and see if the MSb got set. If so       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // then take a step and record that the step was taken                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a8   ec8f     CALL      0x391e,0x0           acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010aa   f01c                                                                                                               
00391e   518c     MOVF      0x8c,0x0,0x1                                                                                    
003920   261e     ADDWF     0x1e,0x1,0x0                                                                                    
003922   518d     MOVF      0x8d,0x0,0x1                                                                                    
003924   221f     ADDWFC    0x1f,0x1,0x0                                                                                    
003926   518e     MOVF      0x8e,0x0,0x1                                                                                    
003928   2220     ADDWFC    0x20,0x1,0x0                                                                                    
00392a   518f     MOVF      0x8f,0x0,0x1                                                                                    
00392c   2221     ADDWFC    0x21,0x1,0x0                                                                                    
00392e   0012     RETURN    0x0                                                                                             
0010ac   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ae   d00e     BRA       0x10cc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b0   9e21     BCF       0x21,0x7,0x0           acc_union[0].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b2   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b4   ec1c     CALL      0x3638,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b6   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b8   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ba   d004     BRA       0x10c4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010bc   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010be   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0010c0   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0010c2   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // For these stepper motion commands zero steps left means               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // the axis is no longer active                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c4   ecd3     CALL      0x35a6,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c6   f01a                                                                                                               
0010c8   e101     BNZ       0x10cc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ca   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010cc   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ce   d011     BRA       0x10f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d0   ec98     CALL      0x3930,0x0           acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d2   f01c                                                                                                               
003930   5190     MOVF      0x90,0x0,0x1                                                                                    
003932   2622     ADDWF     0x22,0x1,0x0                                                                                    
003934   5191     MOVF      0x91,0x0,0x1                                                                                    
003936   2223     ADDWFC    0x23,0x1,0x0                                                                                    
003938   5192     MOVF      0x92,0x0,0x1                                                                                    
00393a   2224     ADDWFC    0x24,0x1,0x0                                                                                    
00393c   5193     MOVF      0x93,0x0,0x1                                                                                    
00393e   2225     ADDWFC    0x25,0x1,0x0                                                                                    
003940   0012     RETURN    0x0                                                                                             
0010d4   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d6   d00d     BRA       0x10f2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d8   9e25     BCF       0x25,0x7,0x0           acc_union[1].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010da   ec65     CALL      0x36ca,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036ca   8986                                                                                                               
0010dc   f01b     WORD2     0x1b                   CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036cc   0798     DECF      0x98,0x1,0x1                                                                                    
0036ce   0e00     MOVLW     0x0                                                                                             
0036d0   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
0036d2   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
0036d4   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
0036d6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010de   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e0   d004     BRA       0x10ea                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e2   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e4   2233     ADDWFC    0x33,0x1,0x0                                                                                    
0010e6   2234     ADDWFC    0x34,0x1,0x0                                                                                    
0010e8   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ea   ec31     CALL      0x3662,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ec   f01b                                                                                                               
0010ee   e101     BNZ       0x10f2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f0   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f2   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f4   1402     ANDWF     0x2,0x0,0x0                                                                                     
0010f6   e147     BNZ       0x1186                                                                                          
0010f8   0e01     MOVLW     0x1                                                                                             
0010fa   1403     ANDWF     0x3,0x0,0x0                                                                                     
0010fc   e101     BNZ       0x1100                                                                                          
0010fe   d07d     BRA       0x11fa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001100   d042     BRA       0x1186             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Low level Move (LM) : This one uses acceleration, so take that              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into account.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001102   0e06     MOVLW     0x6              if (CurrentCommand.Command == COMMAND_LM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001104   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001106   e141     BNZ       0x118a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1   LM ////                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001108   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110a   d01b     BRA       0x1142                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110c   ecc4     CALL      0x3388,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110e   f019                                                                                                               
003388   519c     MOVF      0x9c,0x0,0x1                                                                                    
00338a   27a4     ADDWF     0xa4,0x1,0x1                                                                                    
00338c   519d     MOVF      0x9d,0x0,0x1                                                                                    
00338e   23a5     ADDWFC    0xa5,0x1,0x1                                                                                    
003390   519e     MOVF      0x9e,0x0,0x1                                                                                    
003392   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
003394   519f     MOVF      0x9f,0x0,0x1                                                                                    
003396   23a7     ADDWFC    0xa7,0x1,0x1                                                                                    
003398   51a4     MOVF      0xa4,0x0,0x1         CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00339a   278c     ADDWF     0x8c,0x1,0x1                                                                                    
00339c   51a5     MOVF      0xa5,0x0,0x1                                                                                    
00339e   238d     ADDWFC    0x8d,0x1,0x1                                                                                    
0033a0   51a6     MOVF      0xa6,0x0,0x1                                                                                    
0033a2   238e     ADDWFC    0x8e,0x1,0x1                                                                                    
0033a4   51a7     MOVF      0xa7,0x0,0x1                                                                                    
0033a6   238f     ADDWFC    0x8f,0x1,0x1                                                                                    
0033a8   ef8f     GOTO      0x391e               acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033aa   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001110   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001112   d017     BRA       0x1142                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001114   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001116   1421     ANDWF     0x21,0x0,0x0                                                                                    
001118   6e21     MOVWF     0x21,0x0                                                                                        
00111a   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111c   ec1c     CALL      0x3638,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001120   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001122   d004     BRA       0x112c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001124   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001126   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
001128   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
00112a   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112c   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112e   d003     BRA       0x1136                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001130   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001132   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001134   d002     BRA       0x113a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001136   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001138   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113a   ecd3     CALL      0x35a6,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113c   f01a                                                                                                               
00113e   e101     BNZ       0x1142                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001140   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2    LM ////                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001142   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001144   d01a     BRA       0x117a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001146   ecd6     CALL      0x33ac,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001148   f019                                                                                                               
0033ac   51a0     MOVF      0xa0,0x0,0x1                                                                                    
0033ae   27a8     ADDWF     0xa8,0x1,0x1                                                                                    
0033b0   51a1     MOVF      0xa1,0x0,0x1                                                                                    
0033b2   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
0033b4   51a2     MOVF      0xa2,0x0,0x1                                                                                    
0033b6   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
0033b8   51a3     MOVF      0xa3,0x0,0x1                                                                                    
0033ba   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
0033bc   51a8     MOVF      0xa8,0x0,0x1         CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033be   2790     ADDWF     0x90,0x1,0x1                                                                                    
0033c0   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0033c2   2391     ADDWFC    0x91,0x1,0x1                                                                                    
0033c4   51aa     MOVF      0xaa,0x0,0x1                                                                                    
0033c6   2392     ADDWFC    0x92,0x1,0x1                                                                                    
0033c8   51ab     MOVF      0xab,0x0,0x1                                                                                    
0033ca   2393     ADDWFC    0x93,0x1,0x1                                                                                    
0033cc   ef98     GOTO      0x3930               acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033ce   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114a   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114c   d016     BRA       0x117a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114e   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001150   1425     ANDWF     0x25,0x0,0x0                                                                                    
001152   6e25     MOVWF     0x25,0x0                                                                                        
001154   ec65     CALL      0x36ca,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001156   f01b                                      CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001158   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115a   d004     BRA       0x1164                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115c   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115e   2233     ADDWFC    0x33,0x1,0x0                                                                                    
001160   2234     ADDWFC    0x34,0x1,0x0                                                                                    
001162   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001164   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001166   d003     BRA       0x116e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001168   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116a   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116c   d002     BRA       0x1172                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116e   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001170   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001172   ec31     CALL      0x3662,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001174   f01b                                                                                                               
001176   e101     BNZ       0x117a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001178   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117a   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117c   1402     ANDWF     0x2,0x0,0x0                                                                                     
00117e   e103     BNZ       0x1186                                                                                          
001180   0e01     MOVLW     0x1                                                                                             
001182   1403     ANDWF     0x3,0x0,0x0                                                                                     
001184   e03a     BZ        0x11fa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001186   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001188   d038     BRA       0x11fa             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Low level Timed (LT) command is pretty special. Instead of running      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until all step counts are zero, it runs for a certain amount of 25Khz       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ISR ticks (stored in .Steps[0]). Both axis continue to produce steps        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until the time is used up. This affects how AxisActive is computed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Only AxisActive[0] is used for this command, not AxisActive[1].             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118a   0e07     MOVLW     0x7              if (CurrentCommand.Command == COMMAND_LT_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00118e   e135     BNZ       0x11fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Has time run out for this command yet?                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001190   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001192   d033     BRA       0x11fa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // A simple optimization: we only have one 'count' for LT, to know         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // when we're done, so we can directly clear AllDone here if we are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // not yet done with this move.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001194   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Nope not done. So count this ISR tick, and then see if we need to take  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // a step                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001196   ec1c     CALL      0x3638,0x0           CurrentCommand.m.sm.Steps[0]--;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001198   f01b                                                                                                               
003638   0794     DECF      0x94,0x1,0x1                                                                                    
00363a   0e00     MOVLW     0x0                                                                                             
00363c   5b95     SUBWFB    0x95,0x1,0x1                                                                                    
00363e   5b96     SUBWFB    0x96,0x1,0x1                                                                                    
003640   5b97     SUBWFB    0x97,0x1,0x1                                                                                    
003642   0012     RETURN    0x0                                                                                             
00119a   ecd3     CALL      0x35a6,0x0           if (CurrentCommand.m.sm.Steps[0] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119c   f01a                                                                                                               
00119e   e101     BNZ       0x11a2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a0   9002     BCF       0x2,0x0,0x0            bitclrzero(AxisActive[0]);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 1   LT ////                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a2   ecc4     CALL      0x3388,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a4   f019                                                                                                               
                                                 CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a6   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a8   d012     BRA       0x11ce                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011aa   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ac   1421     ANDWF     0x21,0x0,0x0                                                                                    
0011ae   6e21     MOVWF     0x21,0x0                                                                                        
0011b0   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b2   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b4   d005     BRA       0x11c0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b6   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b8   0e00     MOVLW     0x0                                                                                             
0011ba   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0011bc   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0011be   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c0   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c2   d003     BRA       0x11ca                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c4   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c6   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c8   d002     BRA       0x11ce                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ca   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011cc   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 2    LT  ////                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ce   ecd6     CALL      0x33ac,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d0   f019                                                                                                               
                                                 CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d2   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d4   d012     BRA       0x11fa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d6   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d8   1425     ANDWF     0x25,0x0,0x0                                                                                    
0011da   6e25     MOVWF     0x25,0x0                                                                                        
0011dc   8986     BSF       0x86,0x4,0x1           CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011de   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e0   d005     BRA       0x11ec                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e2   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e4   0e00     MOVLW     0x0                                                                                             
0011e6   2233     ADDWFC    0x33,0x1,0x0                                                                                    
0011e8   2234     ADDWFC    0x34,0x1,0x0                                                                                    
0011ea   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ec   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ee   d003     BRA       0x11f6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f0   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f2   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f4   d002     BRA       0x11fa                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f6   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f8   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This next block of code (OutputBits:) is common to all of the above         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // stepper motion commands. Each of them either jumps here when they           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // are done or falls through in the case of the last command above.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This block sets/clears step and direction GPIO bits if the command that just D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ran needs to output something new. Also takes care of recording this        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // step properly.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // NOTE: Even though it seems like a bad idea to have non-stepper              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands execute this block before they are caught below, doing it this     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // way saves a few instruction cycles for the commands where speed matters     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // most - the stepper commands.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           OutputBits:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check to see if either stepper needs to actually output a step pulse    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fa   0e50     MOVLW     0x50             if ((CurrentCommand.m.sm.DirBits & (STEP1_BIT | STEP2_BIT)) != 0u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fc   1586     ANDWF     0x86,0x0,0x1                                                                                    
0011fe   e042     BZ        0x1284                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001200   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001202   e105     BNZ       0x120e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001204   0e0f     MOVLW     0xf                  LATD = (PORTD & ~(STEP1_BIT | STEP2_BIT | DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001206   1483     ANDWF     0x83,0x0,0x0                                                                                    
001208   1186     IORWF     0x86,0x0,0x1                                                                                    
00120a   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120c   d00e     BRA       0x122a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the DIR Bits                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120e   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001210   d002     BRA       0x1216                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001212   848b     BSF       0x8b,0x2,0x0           Dir1AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001214   d001     BRA       0x1218               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001216   948b     BCF       0x8b,0x2,0x0           Dir1AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001218   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121a   d002     BRA       0x1220                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121c   8489     BSF       0x89,0x2,0x0           Dir2AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121e   d001     BRA       0x1222               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001220   9489     BCF       0x89,0x2,0x0           Dir2AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the STEP bits                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001222   bd86     BTFSC     0x86,0x6,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001224   8c8b     BSF       0x8b,0x6,0x0           Step1AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001226   b986     BTFSC     0x86,0x4,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001228   8a89     BSF       0x89,0x5,0x0           Step2AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This next section not only counts the step(s) we are taking, but          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // also acts as a delay to keep the step bit set for a little while.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122a   ad86     BTFSS     0x86,0x6,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122c   d019     BRA       0x1260                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122e   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001230   d00c     BRA       0x124a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001232   0616     DECF      0x16,0x1,0x0           globalStepCounter1--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001234   0e00     MOVLW     0x0                                                                                             
001236   5a17     SUBWFB    0x17,0x1,0x0                                                                                    
001238   5a18     SUBWFB    0x18,0x1,0x0                                                                                    
00123a   5a19     SUBWFB    0x19,0x1,0x0                                                                                    
00123c   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123e   d010     BRA       0x1260                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001240   062e     DECF      0x2e,0x1,0x0             gISRPosition0ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001242   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
001244   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
001246   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001248   d00b     BRA       0x1260               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124a   2a16     INCF      0x16,0x1,0x0           globalStepCounter1++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124c   0e00     MOVLW     0x0                                                                                             
00124e   2217     ADDWFC    0x17,0x1,0x0                                                                                    
001250   2218     ADDWFC    0x18,0x1,0x0                                                                                    
001252   2219     ADDWFC    0x19,0x1,0x0                                                                                    
001254   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001256   d004     BRA       0x1260                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001258   2a2e     INCF      0x2e,0x1,0x0             gISRPosition0ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125a   222f     ADDWFC    0x2f,0x1,0x0                                                                                    
00125c   2230     ADDWFC    0x30,0x1,0x0                                                                                    
00125e   2231     ADDWFC    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001260   a986     BTFSS     0x86,0x4,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001262   d00d     BRA       0x127e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001264   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001266   d006     BRA       0x1274                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001268   061a     DECF      0x1a,0x1,0x0           globalStepCounter2--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00126a   0e00     MOVLW     0x0                                                                                             
00126c   5a1b     SUBWFB    0x1b,0x1,0x0                                                                                    
00126e   5a1c     SUBWFB    0x1c,0x1,0x0                                                                                    
001270   5a1d     SUBWFB    0x1d,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001272   d005     BRA       0x127e               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001274   2a1a     INCF      0x1a,0x1,0x0           globalStepCounter2++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001276   0e00     MOVLW     0x0                                                                                             
001278   221b     ADDWFC    0x1b,0x1,0x0                                                                                    
00127a   221c     ADDWFC    0x1c,0x1,0x0                                                                                    
00127c   221d     ADDWFC    0x1d,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the two step bits so they're empty for the next pass through ISR    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127e   0eaf     MOVLW     0xaf               CurrentCommand.m.sm.DirBits &= ~(STEP1_BIT | STEP2_BIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001280   1786     ANDWF     0x86,0x1,0x1                                                                                    
                                               // We need to skip over all the rest of command checks, since we already     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // handled the command that is currently executing.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001282   d0e2     BRA       0x1448             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           NonStepperCommands:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check for all the other (non-stepper based) motion FIFO commands        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001284   0e02     MOVLW     0x2              if (CurrentCommand.Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001286   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001288   e158     BNZ       0x133a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should change the state of the pen                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128a   a005     BTFSS     0x5,0x0,0x0        if (bittstzero(gUseRCPenServo))                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128c   d03a     BRA       0x1302                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Precompute the channel, since we use it all over the place              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128e   05af     DECF      0xaf,0x0,0x1         ISR_Channel = CurrentCommand.m.sm.ServoChannel - 1;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001290   6e0a     MOVWF     0xa,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This code below is the meat of the RCServo2_Move() function             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We have to manually write it in here rather than calling                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the function because a real function inside the ISR                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // causes the compiler to generate enormous amounts of setup/tear down     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // code and things run way too slowly.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the user is trying to turn off this channel's RC servo output        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001292   51ad     MOVF      0xad,0x0,0x1         if (0u == CurrentCommand.m.sm.ServoPosition)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001294   11ae     IORWF     0xae,0x0,0x1                                                                                    
001296   e11a     BNZ       0x12cc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Turn off the PPS routing to the pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001298   eccc     CALL      0x3598,0x0             *(gRC2RPORPtr + gRC2RPn[ISR_Channel]) = 0;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00129a   f01a                                                                                                               
00129c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00129e   0100     MOVLB     0x0                                                                                             
0012a0   6aea     CLRF      0xea,0x0                                                                                        
0012a2   2580     ADDWF     0x80,0x0,0x1                                                                                    
0012a4   6ee9     MOVWF     0xe9,0x0                                                                                        
0012a6   5181     MOVF      0x81,0x0,0x1                                                                                    
0012a8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0012aa   6aef     CLRF      0xef,0x0                                                                                        
                                                   // Clear everything else out for this channel                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ac   ecd6     CALL      0x39ac,0x0             gRC2Rate[ISR_Channel] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ae   f01c                                                                                                               
0012b0   6aee     CLRF      0xee,0x0                                                                                        
0012b2   6aed     CLRF      0xed,0x0                                                                                        
0039ac   dce0     RCALL     0x336e                                                                                          
0039ae   0e75     MOVLW     0x75                                                                                            
0039b0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039b2   0e00     MOVLW     0x0                                                                                             
0039b4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039b6   0012     RETURN    0x0                                                                                             
0012b4   ecdc     CALL      0x39b8,0x0             gRC2Target[ISR_Channel] = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b6   f01c                                                                                                               
0012b8   6aee     CLRF      0xee,0x0                                                                                        
0012ba   6aed     CLRF      0xed,0x0                                                                                        
0039b8   dcda     RCALL     0x336e                                                                                          
0039ba   0e6d     MOVLW     0x6d                                                                                            
0039bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039be   0e00     MOVLW     0x0                                                                                             
0039c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039c2   0012     RETURN    0x0                                                                                             
0012bc   eccc     CALL      0x3598,0x0             gRC2RPn[ISR_Channel] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012be   f01a                                                                                                               
0012c0   6aef     CLRF      0xef,0x0                                                                                        
0012c2   ecf6     CALL      0x39ec,0x0             gRC2Value[ISR_Channel] = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c4   f01c                                                                                                               
0012c6   6aee     CLRF      0xee,0x0                                                                                        
0012c8   6aed     CLRF      0xed,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ca   d01b     BRA       0x1302               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Otherwise, set all of the values that start this RC servo moving      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012cc   ecd6     CALL      0x39ac,0x0             gRC2Rate[ISR_Channel] = CurrentCommand.m.sm.ServoRate;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ce   f01c                                                                                                               
0012d0   c1b0     MOVFF     0x1b0,0xfee                                                                                     
0012d2   ffee                                                                                                               
0012d4   c1b1     MOVFF     0x1b1,0xfed                                                                                     
0012d6   ffed                                                                                                               
0012d8   ecdc     CALL      0x39b8,0x0             gRC2Target[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012da   f01c                                                                                                               
0012dc   c1ad     MOVFF     0x1ad,0xfee                                                                                     
0012de   ffee                                                                                                               
0012e0   c1ae     MOVFF     0x1ae,0xfed                                                                                     
0012e2   ffed                                                                                                               
0012e4   eccc     CALL      0x3598,0x0             gRC2RPn[ISR_Channel] = CurrentCommand.m.sm.ServoRPn;                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012e6   f01a                                                                                                               
0012e8   c1ac     MOVFF     0x1ac,0xfef                                                                                     
0012ea   ffef                                                                                                               
003598   500a     MOVF      0xa,0x0,0x0                                                                                     
00359a   6aea     CLRF      0xea,0x0                                                                                        
00359c   0f69     ADDLW     0x69                                                                                            
00359e   6ee9     MOVWF     0xe9,0x0                                                                                        
0035a0   0e00     MOVLW     0x0                                                                                             
0035a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0035a4   0012     RETURN    0x0                                                                                             
0012ec   ecf6     CALL      0x39ec,0x0             if (gRC2Value[ISR_Channel] == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ee   f01c                                                                                                               
0012f0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0012f2   10ed     IORWF     0xed,0x0,0x0                                                                                    
0012f4   e106     BNZ       0x1302                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012f6   ecf6     CALL      0x39ec,0x0               gRC2Value[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012f8   f01c                                                                                                               
0012fa   c1ad     MOVFF     0x1ad,0xfee                                                                                     
0012fc   ffee                                                                                                               
0012fe   c1ae     MOVFF     0x1ae,0xfed                                                                                     
001300   ffed                                                                                                               
00336e   500a     MOVF      0xa,0x0,0x0                                                                                     
003370   6ee9     MOVWF     0xe9,0x0                                                                                        
003372   6aea     CLRF      0xea,0x0                                                                                        
003374   90d8     BCF       0xd8,0x0,0x0                                                                                    
003376   36e9     RLCF      0xe9,0x1,0x0                                                                                    
003378   36ea     RLCF      0xea,0x1,0x0                                                                                    
00337a   0012     RETURN    0x0                                                                                             
003710   0e61     MOVLW     0x61                                                                                            
003712   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003714   0e00     MOVLW     0x0                                                                                             
003716   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003718   0012     RETURN    0x0                                                                                             
0039ec   dcc0     RCALL     0x336e                                                                                          
0039ee   ef88     GOTO      0x3710                                                                                          
0039f0   f01b                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If this servo is the pen servo (on g_servo2_RPn)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001302   0100     MOVLB     0x0                if (CurrentCommand.m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001304   518a     MOVF      0x8a,0x0,0x1                                                                                    
001306   0101     MOVLB     0x1                                                                                             
001308   5dac     SUBWF     0xac,0x0,0x1                                                                                    
00130a   e117     BNZ       0x133a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Then set its new state based on the new position                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130c   0100     MOVLB     0x0                  if (CurrentCommand.m.sm.ServoPosition == g_servo2_min)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130e   5184     MOVF      0x84,0x0,0x1                                                                                    
001310   0101     MOVLB     0x1                                                                                             
001312   19ad     XORWF     0xad,0x0,0x1                                                                                    
001314   e10c     BNZ       0x132e                                                                                          
001316   0100     MOVLB     0x0                                                                                             
001318   5185     MOVF      0x85,0x0,0x1                                                                                    
00131a   0101     MOVLB     0x1                                                                                             
00131c   19ae     XORWF     0xae,0x0,0x1                                                                                    
00131e   e107     BNZ       0x132e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001320   0e01     MOVLW     0x1                    PenState = PEN_UP;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001322   6fb9     MOVWF     0xb9,0x1                                                                                        
001324   6bb6     CLRF      0xb6,0x1               SolenoidState = SOLENOID_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001326   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001328   e008     BZ        0x133a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00132a   988a     BCF       0x8a,0x4,0x0             PenUpDownIO = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00132c   d006     BRA       0x133a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00132e   6bb9     CLRF      0xb9,0x1               PenState = PEN_DOWN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001330   0e01     MOVLW     0x1                    SolenoidState = SOLENOID_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001332   6fb6     MOVWF     0xb6,0x1                                                                                        
001334   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001336   e001     BZ        0x133a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001338   888a     BSF       0x8a,0x4,0x0             PenUpDownIO = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001346   0e02     MOVLW     0x2                (CurrentCommand.Command == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001348   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00134a   e002     BZ        0x1350                                                                                          
00134c   0e00     MOVLW     0x0                                                                                             
00134e   d001     BRA       0x1352                                                                                          
001350   0e01     MOVLW     0x1                                                                                             
                                               |                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133a   0585     DECF      0x85,0x0,0x1       (CurrentCommand.Command == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133c   e002     BZ        0x1342                                                                                          
00133e   0e00     MOVLW     0x0                                                                                             
001340   d001     BRA       0x1344                                                                                          
001342   0e01     MOVLW     0x1                                                                                             
001344   6e5a     MOVWF     0x5a,0x0                                                                                        
001352   105a     IORWF     0x5a,0x0,0x0     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001354   e00d     BZ        0x1370                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: Intentional fall-through to COMMAND_DELAY here                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Because the only two commands that ever use DelayCounter are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // COMMAND_DELAY and COMMAND_SERVO_MOVE. So we handle the servo stuff        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // above, and then let it fall through to the delay code below.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Handle a delay                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001356   ec36     CALL      0x366c,0x0         if (CurrentCommand.m.sm.DelayCounter)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001358   f01b                                                                                                               
00135a   e076     BZ        0x1448                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135c   0787     DECF      0x87,0x1,0x1         CurrentCommand.m.sm.DelayCounter--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135e   0e00     MOVLW     0x0                                                                                             
001360   5b88     SUBWFB    0x88,0x1,0x1                                                                                    
001362   5b89     SUBWFB    0x89,0x1,0x1                                                                                    
001364   5b8a     SUBWFB    0x8a,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001366   ec36     CALL      0x366c,0x0           if (CurrentCommand.m.sm.DelayCounter)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001368   f01b                                                                                                               
00136a   e06e     BZ        0x1448                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136c   9000     BCF       0x0,0x0,0x0            bitclrzero(AllDone);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136e   d06c     BRA       0x1448             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001370   0e03     MOVLW     0x3              if (CurrentCommand.Command == COMMAND_SE)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001372   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001374   e129     BNZ       0x13c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should start or stop the engraver                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State of the SE command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001376   518b     MOVF      0x8b,0x0,0x1       if (CurrentCommand.m.sm.SEState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001378   e022     BZ        0x13be                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00137a   c1b2     MOVFF     0x1b2,0x5a           CCPR1L = CurrentCommand.m.sm.SEPower >> 2;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00137c   f05a                                                                                                               
00137e   c1b3     MOVFF     0x1b3,0x5b                                                                                      
001380   f05b                                                                                                               
001382   90d8     BCF       0xd8,0x0,0x0                                                                                    
001384   325b     RRCF      0x5b,0x1,0x0                                                                                    
001386   325a     RRCF      0x5a,0x1,0x0                                                                                    
001388   90d8     BCF       0xd8,0x0,0x0                                                                                    
00138a   325b     RRCF      0x5b,0x1,0x0                                                                                    
00138c   325a     RRCF      0x5a,0x1,0x0                                                                                    
00138e   505a     MOVF      0x5a,0x0,0x0                                                                                    
001390   6ebb     MOVWF     0xbb,0x0                                                                                        
001392   c1bf     MOVFF     0x1bf,0x5c           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001394   f05c                                                                                                               
001396   c1c0     MOVFF     0x1c0,0x5d                                                                                      
001398   f05d                                                                                                               
00139a   0e04     MOVLW     0x4                                                                                             
00139c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00139e   365c     RLCF      0x5c,0x1,0x0                                                                                    
0013a0   365d     RLCF      0x5d,0x1,0x0                                                                                    
0013a2   04e8     DECF      0xe8,0x0,0x0                                                                                    
0013a4   e1fb     BNZ       0x139c                                                                                          
0013a6   0e30     MOVLW     0x30                                                                                            
0013a8   165c     ANDWF     0x5c,0x1,0x0                                                                                    
0013aa   0e00     MOVLW     0x0                                                                                             
0013ac   165d     ANDWF     0x5d,0x1,0x0                                                                                    
0013ae   0ecf     MOVLW     0xcf                                                                                            
0013b0   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013b2   105c     IORWF     0x5c,0x0,0x0                                                                                    
0013b4   6e5a     MOVWF     0x5a,0x0                                                                                        
0013b6   c05d     MOVFF     0x5d,0x5b                                                                                       
0013b8   f05b                                                                                                               
0013ba   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013bc   d003     BRA       0x13c4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013be   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c0   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013c4   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c6   d03f     BRA       0x1446             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c8   0e04     MOVLW     0x4              if (CurrentCommand.Command == COMMAND_EM)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ca   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0013cc   e13d     BNZ       0x1448                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As of version 2.8.0, we now have the EM command transplanted here into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the motion queue. This is so that changes to motor enable or microstep    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution happen at predictable times rather than randomly.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We use CurrentCommand.m.sm.DirBits as "EA1" (the first parameter) and     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // CurrentCommand.m.sm.ServoRPn as "EA2" (the second parameter) since they're D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // both UINT8s.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ce   5186     MOVF      0x86,0x0,0x1       if (CurrentCommand.m.sm.DirBits > 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d0   0800     SUBLW     0x0                                                                                             
0013d2   e223     BC        0x141a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d4   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d6   e102     BNZ       0x13dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d8   908d     BCF       0x8d,0x0,0x0           Enable1IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013da   d001     BRA       0x13de               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013dc   928c     BCF       0x8c,0x1,0x0           Enable1AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013de   0586     DECF      0x86,0x0,0x1         if (CurrentCommand.m.sm.DirBits == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e0   e103     BNZ       0x13e8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e2   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e4   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e6   8c89     BSF       0x89,0x6,0x0           MS3_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e8   0e02     MOVLW     0x2                  if (CurrentCommand.m.sm.DirBits == 2u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ea   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013ec   e103     BNZ       0x13f4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ee   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f0   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f2   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f4   0e03     MOVLW     0x3                  if (CurrentCommand.m.sm.DirBits == 3u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f6   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013f8   e103     BNZ       0x1400                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fa   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fc   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fe   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001400   0e04     MOVLW     0x4                  if (CurrentCommand.m.sm.DirBits == 4u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001402   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001404   e103     BNZ       0x140c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001406   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001408   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140a   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140c   0e05     MOVLW     0x5                  if (CurrentCommand.m.sm.DirBits == 5u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140e   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001410   e109     BNZ       0x1424                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001412   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001414   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001416   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001418   d005     BRA       0x1424             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141a   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141c   e102     BNZ       0x1422                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141e   808d     BSF       0x8d,0x0,0x0           Enable1IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001420   d001     BRA       0x1424               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001422   828c     BSF       0x8c,0x1,0x0           Enable1AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001424   51ac     MOVF      0xac,0x0,0x1       if (CurrentCommand.m.sm.ServoRPn > 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001426   0800     SUBLW     0x0                                                                                             
001428   e206     BC        0x1436                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142a   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142c   e102     BNZ       0x1432                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142e   928b     BCF       0x8b,0x1,0x0           Enable2IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001430   d007     BRA       0x1440               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001432   9289     BCF       0x89,0x1,0x0           Enable2AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001434   d005     BRA       0x1440             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001436   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001438   e102     BNZ       0x143e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143a   828b     BSF       0x8b,0x1,0x0           Enable2IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143c   d001     BRA       0x1440               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143e   8289     BSF       0x89,0x1,0x0           Enable2AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Always clear the step counts if motors are enabled/disabled or            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution is changed.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: This section is the same code as clear_StepCounters(), but since    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // we can't have any function calls in an ISR (or the ISR blows up in        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // space and speed) we have to copy the guts of that function here.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear out the global step counters                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001440   ec15     CALL      0x342a,0x0         globalStepCounter1 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001442   f01a                                                                                                               
00342a   6a16     CLRF      0x16,0x0                                                                                        
00342c   6a17     CLRF      0x17,0x0                                                                                        
00342e   6a18     CLRF      0x18,0x0                                                                                        
003430   6a19     CLRF      0x19,0x0                                                                                        
003432   6a1a     CLRF      0x1a,0x0           globalStepCounter2 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003434   6a1b     CLRF      0x1b,0x0                                                                                        
003436   6a1c     CLRF      0x1c,0x0                                                                                        
003438   6a1d     CLRF      0x1d,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear both step accumulators as well                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00343a   6a1e     CLRF      0x1e,0x0           acc_union[0].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00343c   6a1f     CLRF      0x1f,0x0                                                                                        
00343e   6a20     CLRF      0x20,0x0                                                                                        
003440   6a21     CLRF      0x21,0x0                                                                                        
003442   6a22     CLRF      0x22,0x0           acc_union[1].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003444   6a23     CLRF      0x23,0x0                                                                                        
003446   6a24     CLRF      0x24,0x0                                                                                        
003448   6a25     CLRF      0x25,0x0                                                                                        
00344a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // All EM command clear the limit switch trigger                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001444   900e     BCF       0xe,0x0,0x0        bitclrzero(gLimitSwitchTriggered);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001446   8000     BSF       0x0,0x0,0x0        bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If no bits in CurrentCommand.Command are set then AllDone will be true,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // so we'll go on to the next command (if there is one)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           CheckForNextCommand:                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Deal with printing out internal ISR values                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Note that TEST_MODE_USART_ISR_BIT is set for both normal (only end of move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and full (every ISR tick) printing.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001448   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144a   d0fd     BRA       0x1646                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144c   0e01     MOVLW     0x1                if (bittstzero(AllDone) || bittst(TestMode, TEST_MODE_USART_ISR_FULL_NUM))   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144e   1400     ANDWF     0x0,0x0,0x0                                                                                     
001450   e104     BNZ       0x145a                                                                                          
001452   0e08     MOVLW     0x8                                                                                             
001454   1409     ANDWF     0x9,0x0,0x0                                                                                     
001456   e101     BNZ       0x145a                                                                                          
001458   d0f6     BRA       0x1646                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If this is the end of an LM move, then print out all the important values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of everything (now that global step positions have been taken into      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // account) for checking that our math is working right                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001478   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147a   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00147c   e002     BZ        0x1482                                                                                          
00147e   0e00     MOVLW     0x0                                                                                             
001480   d001     BRA       0x1484                                                                                          
001482   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146a   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00146e   e002     BZ        0x1474                                                                                          
001470   0e00     MOVLW     0x0                                                                                             
001472   d001     BRA       0x1476                                                                                          
001474   0e01     MOVLW     0x1                                                                                             
001476   6e5a     MOVWF     0x5a,0x0                                                                                        
001484   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145a   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145c   0101     MOVLB     0x1                                                                                             
00145e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001460   e002     BZ        0x1466                                                                                          
001462   0e00     MOVLW     0x0                                                                                             
001464   d001     BRA       0x1468                                                                                          
001466   0e01     MOVLW     0x1                                                                                             
001468   6e5b     MOVWF     0x5b,0x0                                                                                        
001486   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001488   e101     BNZ       0x148c                                                                                          
00148a   d0dd     BRA       0x1646                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Setting this bit when we have something to print out will cause the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // ISR to be rescheduled so we have as much time as we need to print     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00148c   8e09     BSF       0x9,0x7,0x0            bitset(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Move is complete, output "T:" (ISR ticks), "Steps:" (total steps from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // this move) "C:" (accumulator value), "R:" (rate value), "Pos:"        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // (step position)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// TODO: This could use some MASSIVE cleanup - turn this into a buffered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// ISR driven serial output for best efficiency. Or at the very least   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// make signed and unsigned printing macros.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //#define ISR_DEBUG_PRINT_ASCII 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if ISR_DEBUG_PRINT_ASCII                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('T')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRTickCountForThisCommand) // Macro for printing HEX value in ASCII D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Print all values using raw binary                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00148e   c026     MOVFF     0x26,0x180             BinPrint(gISRTickCountForThisCommand) // Macro for printing raw binary value D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001490   f180                                                                                                               
001492   c027     MOVFF     0x27,0x181                                                                                      
001494   f181                                                                                                               
001496   c028     MOVFF     0x28,0x182                                                                                      
001498   f182                                                                                                               
00149a   c029     MOVFF     0x29,0x183                                                                                      
00149c   f183                                                                                                               
00149e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014a0   d7fe     BRA       0x149e                                                                                          
0014a2   c183     MOVFF     0x183,0xfae                                                                                     
0014a4   ffae                                                                                                               
0014a6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014a8   d7fe     BRA       0x14a6                                                                                          
0014aa   c182     MOVFF     0x182,0xfae                                                                                     
0014ac   ffae                                                                                                               
0014ae   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014b0   d7fe     BRA       0x14ae                                                                                          
0014b2   c181     MOVFF     0x181,0xfae                                                                                     
0014b4   ffae                                                                                                               
0014b6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014b8   d7fe     BRA       0x14b6                                                                                          
0014ba   c180     MOVFF     0x180,0xfae                                                                                     
0014bc   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014be   c02a     MOVFF     0x2a,0x180             BinPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c0   f180                                                                                                               
0014c2   c02b     MOVFF     0x2b,0x181                                                                                      
0014c4   f181                                                                                                               
0014c6   c02c     MOVFF     0x2c,0x182                                                                                      
0014c8   f182                                                                                                               
0014ca   c02d     MOVFF     0x2d,0x183                                                                                      
0014cc   f183                                                                                                               
0014ce   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014d0   d7fe     BRA       0x14ce                                                                                          
0014d2   c183     MOVFF     0x183,0xfae                                                                                     
0014d4   ffae                                                                                                               
0014d6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014d8   d7fe     BRA       0x14d6                                                                                          
0014da   c182     MOVFF     0x182,0xfae                                                                                     
0014dc   ffae                                                                                                               
0014de   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e0   d7fe     BRA       0x14de                                                                                          
0014e2   c181     MOVFF     0x181,0xfae                                                                                     
0014e4   ffae                                                                                                               
0014e6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e8   d7fe     BRA       0x14e6                                                                                          
0014ea   c180     MOVFF     0x180,0xfae                                                                                     
0014ec   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014ee   c01e     MOVFF     0x1e,0x180             BinPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f0   f180                                                                                                               
0014f2   c01f     MOVFF     0x1f,0x181                                                                                      
0014f4   f181                                                                                                               
0014f6   c020     MOVFF     0x20,0x182                                                                                      
0014f8   f182                                                                                                               
0014fa   c021     MOVFF     0x21,0x183                                                                                      
0014fc   f183                                                                                                               
0014fe   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001500   d7fe     BRA       0x14fe                                                                                          
001502   c183     MOVFF     0x183,0xfae                                                                                     
001504   ffae                                                                                                               
001506   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001508   d7fe     BRA       0x1506                                                                                          
00150a   c182     MOVFF     0x182,0xfae                                                                                     
00150c   ffae                                                                                                               
00150e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001510   d7fe     BRA       0x150e                                                                                          
001512   c181     MOVFF     0x181,0xfae                                                                                     
001514   ffae                                                                                                               
001516   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001518   d7fe     BRA       0x1516                                                                                          
00151a   c180     MOVFF     0x180,0xfae                                                                                     
00151c   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00151e   c18c     MOVFF     0x18c,0x180            BinPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001520   f180                                                                                                               
001522   c18d     MOVFF     0x18d,0x181                                                                                     
001524   f181                                                                                                               
001526   c18e     MOVFF     0x18e,0x182                                                                                     
001528   f182                                                                                                               
00152a   c18f     MOVFF     0x18f,0x183                                                                                     
00152c   f183                                                                                                               
00152e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001530   d7fe     BRA       0x152e                                                                                          
001532   c183     MOVFF     0x183,0xfae                                                                                     
001534   ffae                                                                                                               
001536   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001538   d7fe     BRA       0x1536                                                                                          
00153a   c182     MOVFF     0x182,0xfae                                                                                     
00153c   ffae                                                                                                               
00153e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001540   d7fe     BRA       0x153e                                                                                          
001542   c181     MOVFF     0x181,0xfae                                                                                     
001544   ffae                                                                                                               
001546   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001548   d7fe     BRA       0x1546                                                                                          
00154a   c180     MOVFF     0x180,0xfae                                                                                     
00154c   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00154e   c02e     MOVFF     0x2e,0x180             BinPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001550   f180                                                                                                               
001552   c02f     MOVFF     0x2f,0x181                                                                                      
001554   f181                                                                                                               
001556   c030     MOVFF     0x30,0x182                                                                                      
001558   f182                                                                                                               
00155a   c031     MOVFF     0x31,0x183                                                                                      
00155c   f183                                                                                                               
00155e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001560   d7fe     BRA       0x155e                                                                                          
001562   c183     MOVFF     0x183,0xfae                                                                                     
001564   ffae                                                                                                               
001566   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001568   d7fe     BRA       0x1566                                                                                          
00156a   c182     MOVFF     0x182,0xfae                                                                                     
00156c   ffae                                                                                                               
00156e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001570   d7fe     BRA       0x156e                                                                                          
001572   c181     MOVFF     0x181,0xfae                                                                                     
001574   ffae                                                                                                               
001576   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001578   d7fe     BRA       0x1576                                                                                          
00157a   c180     MOVFF     0x180,0xfae                                                                                     
00157c   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps2 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00157e   c032     MOVFF     0x32,0x180             BinPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001580   f180                                                                                                               
001582   c033     MOVFF     0x33,0x181                                                                                      
001584   f181                                                                                                               
001586   c034     MOVFF     0x34,0x182                                                                                      
001588   f182                                                                                                               
00158a   c035     MOVFF     0x35,0x183                                                                                      
00158c   f183                                                                                                               
00158e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001590   d7fe     BRA       0x158e                                                                                          
001592   c183     MOVFF     0x183,0xfae                                                                                     
001594   ffae                                                                                                               
001596   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001598   d7fe     BRA       0x1596                                                                                          
00159a   c182     MOVFF     0x182,0xfae                                                                                     
00159c   ffae                                                                                                               
00159e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015a0   d7fe     BRA       0x159e                                                                                          
0015a2   c181     MOVFF     0x181,0xfae                                                                                     
0015a4   ffae                                                                                                               
0015a6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015a8   d7fe     BRA       0x15a6                                                                                          
0015aa   c180     MOVFF     0x180,0xfae                                                                                     
0015ac   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ae   c022     MOVFF     0x22,0x180             BinPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b0   f180                                                                                                               
0015b2   c023     MOVFF     0x23,0x181                                                                                      
0015b4   f181                                                                                                               
0015b6   c024     MOVFF     0x24,0x182                                                                                      
0015b8   f182                                                                                                               
0015ba   c025     MOVFF     0x25,0x183                                                                                      
0015bc   f183                                                                                                               
0015be   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015c0   d7fe     BRA       0x15be                                                                                          
0015c2   c183     MOVFF     0x183,0xfae                                                                                     
0015c4   ffae                                                                                                               
0015c6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015c8   d7fe     BRA       0x15c6                                                                                          
0015ca   c182     MOVFF     0x182,0xfae                                                                                     
0015cc   ffae                                                                                                               
0015ce   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015d0   d7fe     BRA       0x15ce                                                                                          
0015d2   c181     MOVFF     0x181,0xfae                                                                                     
0015d4   ffae                                                                                                               
0015d6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015d8   d7fe     BRA       0x15d6                                                                                          
0015da   c180     MOVFF     0x180,0xfae                                                                                     
0015dc   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015de   c190     MOVFF     0x190,0x180            BinPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e0   f180                                                                                                               
0015e2   c191     MOVFF     0x191,0x181                                                                                     
0015e4   f181                                                                                                               
0015e6   c192     MOVFF     0x192,0x182                                                                                     
0015e8   f182                                                                                                               
0015ea   c193     MOVFF     0x193,0x183                                                                                     
0015ec   f183                                                                                                               
0015ee   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015f0   d7fe     BRA       0x15ee                                                                                          
0015f2   c183     MOVFF     0x183,0xfae                                                                                     
0015f4   ffae                                                                                                               
0015f6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015f8   d7fe     BRA       0x15f6                                                                                          
0015fa   c182     MOVFF     0x182,0xfae                                                                                     
0015fc   ffae                                                                                                               
0015fe   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001600   d7fe     BRA       0x15fe                                                                                          
001602   c181     MOVFF     0x181,0xfae                                                                                     
001604   ffae                                                                                                               
001606   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001608   d7fe     BRA       0x1606                                                                                          
00160a   c180     MOVFF     0x180,0xfae                                                                                     
00160c   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00160e   c036     MOVFF     0x36,0x180             BinPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001610   f180                                                                                                               
001612   c037     MOVFF     0x37,0x181                                                                                      
001614   f181                                                                                                               
001616   c038     MOVFF     0x38,0x182                                                                                      
001618   f182                                                                                                               
00161a   c039     MOVFF     0x39,0x183                                                                                      
00161c   f183                                                                                                               
00161e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001620   d7fe     BRA       0x161e                                                                                          
001622   c183     MOVFF     0x183,0xfae                                                                                     
001624   ffae                                                                                                               
001626   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001628   d7fe     BRA       0x1626                                                                                          
00162a   c182     MOVFF     0x182,0xfae                                                                                     
00162c   ffae                                                                                                               
00162e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001630   d7fe     BRA       0x162e                                                                                          
001632   c181     MOVFF     0x181,0xfae                                                                                     
001634   ffae                                                                                                               
001636   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001638   d7fe     BRA       0x1636                                                                                          
00163a   c180     MOVFF     0x180,0xfae                                                                                     
00163c   ffae                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00163e   a2ad     BTFSS     0xad,0x1,0x0           PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001640   d7fe     BRA       0x163e                                                                                          
001642   0e0a     MOVLW     0xa                                                                                             
001644   6eae     MOVWF     0xae,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It limit switch checking is enabled, check to see if a limit switch value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // has been seen (CU,51 and CU,52)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001646   500c     MOVF      0xc,0x0,0x0      if (gLimitSwitchMask)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001648   e01c     BZ        0x1682                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00164a   5081     MOVF      0x81,0x0,0x0       PortBTemp = PORTB;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00164c   6e0b     MOVWF     0xb,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00164e   50e8     MOVF      0xe8,0x0,0x0       if (((~(PortBTemp ^ gLimitSwitchTarget)) & gLimitSwitchMask) && !bittstzero(gLimitSwitchTriggered)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001650   180d     XORWF     0xd,0x0,0x0                                                                                     
001652   1ce8     COMF      0xe8,0x0,0x0                                                                                    
001654   140c     ANDWF     0xc,0x0,0x0                                                                                     
001656   e015     BZ        0x1682                                                                                          
001658   0e01     MOVLW     0x1                                                                                             
00165a   140e     ANDWF     0xe,0x0,0x0                                                                                     
00165c   e112     BNZ       0x1682                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // At least one of the bits in PortB that we are looking at is in a state  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // now where it has 'triggered' and so we need to shut down the current    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // move, and remove all remaining commands from the FIFO                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00165e   c00b     MOVFF     0xb,0xdc             gLimitSwitchPortB = PortBTemp;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001660   f0dc                                                                                                               
001662   800e     BSF       0xe,0x0,0x0          bitsetzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001664   6a02     CLRF      0x2,0x0              AxisActive[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001666   6a03     CLRF      0x3,0x0              AxisActive[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001668   8000     BSF       0x0,0x0,0x0          bitsetzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00166a   6a0f     CLRF      0xf,0x0              gFIFOLength = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00166c   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00166e   6a11     CLRF      0x11,0x0             gFIFOOut = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Flush the whole FIFO by clearing each element's Command field           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001670   6a01     CLRF      0x1,0x0              for (isr_i=0; isr_i < COMMAND_FIFO_MAX_LENGTH; isr_i++)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001672   0e20     MOVLW     0x20                                                                                            
001674   5c01     SUBWF     0x1,0x0,0x0                                                                                     
001676   e205     BC        0x1682                                                                                          
00167e   2a01     INCF      0x1,0x1,0x0                                                                                     
001680   d7f8     BRA       0x1672                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001678   5001     MOVF      0x1,0x0,0x0            FIFOPtr[isr_i].Command = COMMAND_NONE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167a   ec26     CALL      0x344c,0x0                                                                                      
00167c   f01a                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're done with our current command, load in the next one                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001682   a000     BTFSS     0x0,0x0,0x0      if (bittstzero(AllDone))                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001684   d109     BRA       0x1898                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001686   0101     MOVLB     0x1                CurrentCommand.Command = COMMAND_NONE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001688   6b85     CLRF      0x85,0x1                                                                                        
00168a   500f     MOVF      0xf,0x0,0x0        if (gFIFOLength != 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00168c   e101     BNZ       0x1690                                                                                          
00168e   d0ec     BRA       0x1868                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001690   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001692   808c     BSF       0x8c,0x0,0x0           LATDbits.LATD0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001694   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001696   948c     BCF       0x8c,0x2,0x0           mLED_2_Off()                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If enabled, move stepper disable state to primed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001698   0100     MOVLB     0x0                  if (g_StepperDisableState != kSTEPPER_TIMEOUT_DISABLED)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169a   51a8     MOVF      0xa8,0x0,0x1                                                                                    
00169c   e002     BZ        0x16a2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169e   0e01     MOVLW     0x1                    g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a0   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO_COPY();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Check to see if the FIFO_out_ptr needs wrapping                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_C_ISR)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Instead of copying over the entire MoveCommandType every time, to save  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // time we will check which command is next in the FIFO, and then only     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // copy over those fields that the new command actually uses.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The order that we check these is the same as the main ISR check order   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // above, where we want to have the most common commands checked first     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // since they will then happen faster.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a2   5011     MOVF      0x11,0x0,0x0         gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a4   eca8     CALL      0x3b50,0x0                                                                                      
0016a6   f01d                                                                                                               
0016a8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0016aa   6e12     MOVWF     0x12,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ac   0e05     MOVLW     0x5                  if (gFIFOCommand == COMMAND_SM_XM_HM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ae   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016b0   e103     BNZ       0x16b8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b2   ec11     CALL      0x3a22,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b4   f01d                                                                                                               
003a22   d8e1     RCALL     0x3be6                                                                                          
003be6   ec84     CALL      0x3108,0x0                                                                                      
003be8   f018                                                                                                               
003bea   cfef     MOVFF     0xfef,0x185                                                                                     
003bec   f185                                                                                                               
003bee   0012     RETURN    0x0                                                                                             
003a24   d8c3     RCALL     0x3bac                 CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a26   0e06     MOVLW     0x6                                                                                             
003a28   d8c5     RCALL     0x3bb4                                                                                          
003a2a   cfee     MOVFF     0xfee,0x18c                                                                                     
003a2c   f18c                                                                                                               
003a2e   cfee     MOVFF     0xfee,0x18d                                                                                     
003a30   f18d                                                                                                               
003a32   cfee     MOVFF     0xfee,0x18e                                                                                     
003a34   f18e                                                                                                               
003a36   cfef     MOVFF     0xfef,0x18f                                                                                     
003a38   f18f                                                                                                               
003bb4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003bb6   0e00     MOVLW     0x0                                                                                             
003bb8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003bba   0012     RETURN    0x0                                                                                             
003a3a   d8b8     RCALL     0x3bac                 CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a3c   0e06     MOVLW     0x6                                                                                             
003a3e   dc37     RCALL     0x32ae                                                                                          
003a40   ef3e     GOTO      0x347c                                                                                          
003a42   f01a                                                                                                               
003bac   ec84     CALL      0x3108,0x0                                                                                      
003bae   f018                                                                                                               
003bb0   52ee     MOVF      0xee,0x1,0x0                                                                                    
003bb2   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b6   d005     BRA       0x16c2               else if (gFIFOCommand == COMMAND_LM_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b8   0e06     MOVLW     0x6                                                                                             
0016ba   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016bc   e114     BNZ       0x16e6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016be   eca6     CALL      0x374c,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c0   f01b                                                                                                               
00374c   d96a     RCALL     0x3a22                                                                                          
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00374e   da2e     RCALL     0x3bac                 CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003750   0e1e     MOVLW     0x1e                                                                                            
003752   da30     RCALL     0x3bb4                                                                                          
003754   cfee     MOVFF     0xfee,0x1a4                                                                                     
003756   f1a4                                                                                                               
003758   cfee     MOVFF     0xfee,0x1a5                                                                                     
00375a   f1a5                                                                                                               
00375c   cfee     MOVFF     0xfee,0x1a6                                                                                     
00375e   f1a6                                                                                                               
003760   cfef     MOVFF     0xfef,0x1a7                                                                                     
003762   f1a7                                                                                                               
003764   da23     RCALL     0x3bac                 CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003766   0e1e     MOVLW     0x1e                                                                                            
003768   dda2     RCALL     0x32ae                                                                                          
00376a   cfee     MOVFF     0xfee,0x1a8                                                                                     
00376c   f1a8                                                                                                               
00376e   cfee     MOVFF     0xfee,0x1a9                                                                                     
003770   f1a9                                                                                                               
003772   cfee     MOVFF     0xfee,0x1aa                                                                                     
003774   f1aa                                                                                                               
003776   cfef     MOVFF     0xfef,0x1ab                                                                                     
003778   f1ab                                                                                                               
00377a   da18     RCALL     0x3bac                 CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00377c   0e16     MOVLW     0x16                                                                                            
00377e   da1a     RCALL     0x3bb4                                                                                          
003780   cfee     MOVFF     0xfee,0x19c                                                                                     
003782   f19c                                                                                                               
003784   cfee     MOVFF     0xfee,0x19d                                                                                     
003786   f19d                                                                                                               
003788   cfee     MOVFF     0xfee,0x19e                                                                                     
00378a   f19e                                                                                                               
00378c   cfef     MOVFF     0xfef,0x19f                                                                                     
00378e   f19f                                                                                                               
0035ba   cfee     MOVFF     0xfee,0x1a0            CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035bc   f1a0                                                                                                               
0035be   cfee     MOVFF     0xfee,0x1a1                                                                                     
0035c0   f1a1                                                                                                               
0035c2   cfee     MOVFF     0xfee,0x1a2                                                                                     
0035c4   f1a2                                                                                                               
0035c6   cfef     MOVFF     0xfef,0x1a3                                                                                     
0035c8   f1a3                                                                                                               
0035ca   0012     RETURN    0x0                                                                                             
003790   da0d     RCALL     0x3bac                                                                                          
003792   0e16     MOVLW     0x16                                                                                            
003794   dd8c     RCALL     0x32ae                                                                                          
003796   efdd     GOTO      0x35ba                                                                                          
003798   f01a                                                                                                               
0016c2   ec84     CALL      0x3108,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c4   f018                                                                                                               
0016c6   ec74     CALL      0x34e8,0x0                                                                                      
0016c8   f01a                                                                                                               
0034e8   52ee     MOVF      0xee,0x1,0x0                                                                                    
0034ea   0e0e     MOVLW     0xe                                                                                             
0034ec   db63     RCALL     0x3bb4                                                                                          
0034ee   cfee     MOVFF     0xfee,0x194                                                                                     
0034f0   f194                                                                                                               
0034f2   cfee     MOVFF     0xfee,0x195                                                                                     
0034f4   f195                                                                                                               
0034f6   cfee     MOVFF     0xfee,0x196                                                                                     
0034f8   f196                                                                                                               
0034fa   cfef     MOVFF     0xfef,0x197                                                                                     
0034fc   f197                                                                                                               
0034fe   0012     RETURN    0x0                                                                                             
0016ca   ecd6     CALL      0x3bac,0x0             CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016cc   f01d                                                                                                               
0016ce   0e0e     MOVLW     0xe                                                                                             
0016d0   ec57     CALL      0x32ae,0x0                                                                                      
0016d2   f019                                                                                                               
0016d4   cfee     MOVFF     0xfee,0x198                                                                                     
0016d6   f198                                                                                                               
0016d8   cfee     MOVFF     0xfee,0x199                                                                                     
0016da   f199                                                                                                               
0016dc   cfee     MOVFF     0xfee,0x19a                                                                                     
0016de   f19a                                                                                                               
0016e0   cfef     MOVFF     0xfef,0x19b                                                                                     
0016e2   f19b                                                                                                               
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e4   d009     BRA       0x16f8               else if (gFIFOCommand == COMMAND_LT_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e6   0e07     MOVLW     0x7                                                                                             
0016e8   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016ea   e10d     BNZ       0x1706                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ec   eca6     CALL      0x374c,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ee   f01b                                                                                                               
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032ae   ecda     CALL      0x3bb4,0x0             CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032b0   f01d                                                                                                               
0032b2   0e04     MOVLW     0x4                                                                                             
0032b4   d3ae     BRA       0x3a12                                                                                          
00347c   cfee     MOVFF     0xfee,0x190                                                                                     
00347e   f190                                                                                                               
003480   cfee     MOVFF     0xfee,0x191                                                                                     
003482   f191                                                                                                               
003484   cfee     MOVFF     0xfee,0x192                                                                                     
003486   f192                                                                                                               
003488   cfef     MOVFF     0xfef,0x193                                                                                     
00348a   f193                                                                                                               
00348c   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f0   ec84     CALL      0x3108,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f2   f018                                                                                                               
0016f4   ec74     CALL      0x34e8,0x0                                                                                      
0016f6   f01a                                                                                                               
0016f8   ecb4     CALL      0x3968,0x0             CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016fa   f01c                                                                                                               
003968   d921     RCALL     0x3bac                                                                                          
00396a   cfef     MOVFF     0xfef,0x186                                                                                     
00396c   f186                                                                                                               
0016fc   eca4     CALL      0x3348,0x0             CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016fe   f019                                                                                                               
00396e   ef84     GOTO      0x3108                                                                                          
003970   f018                                                                                                               
001700   ece2     CALL      0x39c4,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001702   f01c                                                                                                               
0039c4   ec84     CALL      0x3108,0x0                                                                                      
0039c6   f018                                                                                                               
0039c8   de3d     RCALL     0x3644                                                                                          
0039ca   cfef     MOVFF     0xfef,0x18b                                                                                     
0039cc   f18b                                                                                                               
0039ce   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001704   d046     BRA       0x1792               else if (gFIFOCommand == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001706   0e02     MOVLW     0x2                                                                                             
001708   5c12     SUBWF     0x12,0x0,0x0                                                                                    
00170a   e122     BNZ       0x1750                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00170c   ec51     CALL      0x38a2,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00170e   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001710   ecd6     CALL      0x3bac,0x0             CurrentCommand.m.sm.ServoPosition  = FIFOPtr[gFIFOOut].m.sm.ServoPosition; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001712   f01d                                                                                                               
001714   0e27     MOVLW     0x27                                                                                            
001716   ecda     CALL      0x3bb4,0x0                                                                                      
001718   f01d                                                                                                               
00171a   cfee     MOVFF     0xfee,0x1ad                                                                                     
00171c   f1ad                                                                                                               
00171e   cfed     MOVFF     0xfed,0x1ae                                                                                     
001720   f1ae                                                                                                               
001722   ec84     CALL      0x3108,0x0             CurrentCommand.m.sm.ServoRPn       = FIFOPtr[gFIFOOut].m.sm.ServoRPn;    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001724   f018                                                                                                               
001726   ec25     CALL      0x364a,0x0                                                                                      
001728   f01b                                                                                                               
00172a   cfef     MOVFF     0xfef,0x1ac                                                                                     
00172c   f1ac                                                                                                               
00172e   ecd6     CALL      0x3bac,0x0             CurrentCommand.m.sm.ServoChannel   = FIFOPtr[gFIFOOut].m.sm.ServoChannel; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001730   f01d                                                                                                               
001732   0e29     MOVLW     0x29                                                                                            
001734   ecda     CALL      0x3bb4,0x0                                                                                      
001736   f01d                                                                                                               
001738   cfef     MOVFF     0xfef,0x1af                                                                                     
00173a   f1af                                                                                                               
00173c   ecd6     CALL      0x3bac,0x0             CurrentCommand.m.sm.ServoRate      = FIFOPtr[gFIFOOut].m.sm.ServoRate;   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173e   f01d                                                                                                               
001740   0e2a     MOVLW     0x2a                                                                                            
001742   ecda     CALL      0x3bb4,0x0                                                                                      
001744   f01d                                                                                                               
001746   cfee     MOVFF     0xfee,0x1b0                                                                                     
001748   f1b0                                                                                                               
00174a   cfed     MOVFF     0xfed,0x1b1                                                                                     
00174c   f1b1                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00174e   d021     BRA       0x1792               else if (gFIFOCommand == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001750   0412     DECF      0x12,0x0,0x0                                                                                    
001752   e103     BNZ       0x175a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001754   ec51     CALL      0x38a2,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001756   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001758   d01c     BRA       0x1792               else if (gFIFOCommand == COMMAND_SE)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00175a   0e03     MOVLW     0x3                                                                                             
00175c   5c12     SUBWF     0x12,0x0,0x0                                                                                    
00175e   e10e     BNZ       0x177c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001760   ec51     CALL      0x38a2,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001762   f01c                                                                                                               
0038a2   d9a1     RCALL     0x3be6                                                                                          
003348   52ee     MOVF      0xee,0x1,0x0           CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00334a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00334c   cfee     MOVFF     0xfee,0x187                                                                                     
00334e   f187                                                                                                               
003350   cfee     MOVFF     0xfee,0x188                                                                                     
003352   f188                                                                                                               
003354   cfee     MOVFF     0xfee,0x189                                                                                     
003356   f189                                                                                                               
003358   cfef     MOVFF     0xfef,0x18a                                                                                     
00335a   f18a                                                                                                               
00335c   0012     RETURN    0x0                                                                                             
0038a4   dc31     RCALL     0x3108                                                                                          
0038a6   efa4     GOTO      0x3348                                                                                          
0038a8   f019                                                                                                               
001764   ece2     CALL      0x39c4,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001766   f01c                                                                                                               
003644   52ee     MOVF      0xee,0x1,0x0                                                                                    
003646   0e05     MOVLW     0x5                                                                                             
003648   d1e4     BRA       0x3a12                                                                                          
001768   ecd6     CALL      0x3bac,0x0             CurrentCommand.m.sm.SEPower        = FIFOPtr[gFIFOOut].m.sm.SEPower;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00176a   f01d                                                                                                               
00176c   0e2c     MOVLW     0x2c                                                                                            
00176e   ecda     CALL      0x3bb4,0x0                                                                                      
001770   f01d                                                                                                               
001772   cfee     MOVFF     0xfee,0x1b2                                                                                     
001774   f1b2                                                                                                               
001776   cfed     MOVFF     0xfed,0x1b3                                                                                     
001778   f1b3                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00177a   d00b     BRA       0x1792               else if (gFIFOCommand == COMMAND_EM)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00177c   0e04     MOVLW     0x4                                                                                             
00177e   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001780   e108     BNZ       0x1792                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001782   ecf3     CALL      0x3be6,0x0             CurrentCommand.Command       = FIFOPtr[gFIFOOut].Command;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001784   f01d                                                                                                               
003108   5011     MOVF      0x11,0x0,0x0                                                                                    
00310a   0d2f     MULLW     0x2f                                                                                            
00310c   ef13     GOTO      0x3826                                                                                          
00310e   f01c                                                                                                               
001786   ecb4     CALL      0x3968,0x0             CurrentCommand.m.sm.DirBits       = FIFOPtr[gFIFOOut].m.sm.DirBits;      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001788   f01c                                                                                                               
00178a   ec25     CALL      0x364a,0x0             CurrentCommand.m.sm.ServoRPn      = FIFOPtr[gFIFOOut].m.sm.ServoRPn;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178c   f01b                                                                                                               
00178e   cfef     MOVFF     0xfef,0x1ac                                                                                     
001790   f1ac                                                                                                               
00364a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00364c   0e26     MOVLW     0x26                                                                                            
00364e   d1e1     BRA       0x3a12                                                                                          
003a12   efda     GOTO      0x3bb4                                                                                          
003a14   f01d                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // gFIFOCommand had a value that is not allowed                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (bittst(TestMode, TEST_MODE_USART_ISR_BIT_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint((UINT32)CurrentCommand.Command)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Steps[0])                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Take care of clearing the step accumulators for the next move if        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it's a motor move (of any type) - if the command requests it            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b0   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b2   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017b4   e002     BZ        0x17ba                                                                                          
0017b6   0e00     MOVLW     0x0                                                                                             
0017b8   d001     BRA       0x17bc                                                                                          
0017ba   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a2   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a4   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017a6   e002     BZ        0x17ac                                                                                          
0017a8   0e00     MOVLW     0x0                                                                                             
0017aa   d001     BRA       0x17ae                                                                                          
0017ac   0e01     MOVLW     0x1                                                                                             
0017ae   6e5a     MOVWF     0x5a,0x0                                                                                        
0017bc   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001792   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001794   0101     MOVLB     0x1                                                                                             
001796   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001798   e002     BZ        0x179e                                                                                          
00179a   0e00     MOVLW     0x0                                                                                             
00179c   d001     BRA       0x17a0                                                                                          
00179e   0e01     MOVLW     0x1                                                                                             
0017a0   6e5b     MOVWF     0x5b,0x0                                                                                        
0017be   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c0   e031     BZ        0x1824                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c2   a98b     BTFSS     0x8b,0x4,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c4   d009     BRA       0x17d8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c6   c187     MOVFF     0x187,0x1e                 acc_union[0].value = CurrentCommand.m.sm.DelayCounter;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c8   f01e                                                                                                               
0017ca   c188     MOVFF     0x188,0x1f                                                                                      
0017cc   f01f                                                                                                               
0017ce   c189     MOVFF     0x189,0x20                                                                                      
0017d0   f020                                                                                                               
0017d2   c18a     MOVFF     0x18a,0x21                                                                                      
0017d4   f021                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d6   d01a     BRA       0x180c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     // Use the SEState to determine which accumulators to clear.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d8   a18b     BTFSS     0x8b,0x0,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC1_BIT)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017da   d004     BRA       0x17e4                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017dc   6a1e     CLRF      0x1e,0x0                   acc_union[0].value = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017de   6a1f     CLRF      0x1f,0x0                                                                                        
0017e0   6a20     CLRF      0x20,0x0                                                                                        
0017e2   6a21     CLRF      0x21,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e4   a38b     BTFSS     0x8b,0x1,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC2_BIT)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e6   d004     BRA       0x17f0                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e8   6a22     CLRF      0x22,0x0                   acc_union[1].value = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ea   6a23     CLRF      0x23,0x0                                                                                        
0017ec   6a24     CLRF      0x24,0x0                                                                                        
0017ee   6a25     CLRF      0x25,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f0   a58b     BTFSS     0x8b,0x2,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC1_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f2   d005     BRA       0x17fe                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f4   681e     SETF      0x1e,0x0                   acc_union[0].value = 0x7FFFFFFFUL;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f6   681f     SETF      0x1f,0x0                                                                                        
0017f8   6820     SETF      0x20,0x0                                                                                        
0017fa   0e7f     MOVLW     0x7f                                                                                            
0017fc   6e21     MOVWF     0x21,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fe   a78b     BTFSS     0x8b,0x3,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC2_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001800   d005     BRA       0x180c                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001802   6822     SETF      0x22,0x0                   acc_union[1].value = 0x7FFFFFFFUL;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001804   6823     SETF      0x23,0x0                                                                                        
001806   6824     SETF      0x24,0x0                                                                                        
001808   0e7f     MOVLW     0x7f                                                                                            
00180a   6e25     MOVWF     0x25,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the "Active" flags for this move based on steps for each axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180c   ecd3     CALL      0x35a6,0x0             if (CurrentCommand.m.sm.Steps[0])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180e   f01a                                                                                                               
001810   e002     BZ        0x1816                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001812   8002     BSF       0x2,0x0,0x0              bitsetzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001814   d001     BRA       0x1818                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001816   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001818   ec31     CALL      0x3662,0x0             if (CurrentCommand.m.sm.Steps[1])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00181a   f01b                                                                                                               
00181c   e002     BZ        0x1822                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00181e   8003     BSF       0x3,0x0,0x0              bitsetzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001820   d001     BRA       0x1824                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001822   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001824   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001826   d014     BRA       0x1850                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001828   6a26     CLRF      0x26,0x0               gISRTickCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182a   6a27     CLRF      0x27,0x0                                                                                        
00182c   6a28     CLRF      0x28,0x0                                                                                        
00182e   6a29     CLRF      0x29,0x0                                                                                        
001830   6a2a     CLRF      0x2a,0x0               gISRStepCount0ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001832   6a2b     CLRF      0x2b,0x0                                                                                        
001834   6a2c     CLRF      0x2c,0x0                                                                                        
001836   6a2d     CLRF      0x2d,0x0                                                                                        
001838   6a2e     CLRF      0x2e,0x0               gISRPosition0ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183a   6a2f     CLRF      0x2f,0x0                                                                                        
00183c   6a30     CLRF      0x30,0x0                                                                                        
00183e   6a31     CLRF      0x31,0x0                                                                                        
001840   6a32     CLRF      0x32,0x0               gISRStepCount1ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001842   6a33     CLRF      0x33,0x0                                                                                        
001844   6a34     CLRF      0x34,0x0                                                                                        
001846   6a35     CLRF      0x35,0x0                                                                                        
001848   6a36     CLRF      0x36,0x0               gISRPosition1ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00184a   6a37     CLRF      0x37,0x0                                                                                        
00184c   6a38     CLRF      0x38,0x0                                                                                        
00184e   6a39     CLRF      0x39,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Zero out command in FIFO we just copied, but leave the rest of the fields alone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001850   5011     MOVF      0x11,0x0,0x0         FIFOPtr[gFIFOOut].Command = COMMAND_NONE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001852   ec26     CALL      0x344c,0x0                                                                                      
001854   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Increment gFIFO_Out                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001856   2a11     INCF      0x11,0x1,0x0         gFIFOOut++;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001858   5013     MOVF      0x13,0x0,0x0         if (gFIFOOut >= gCurrentFIFOLength)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185a   5c11     SUBWF     0x11,0x0,0x0                                                                                    
00185c   e301     BNC       0x1860                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185e   6a11     CLRF      0x11,0x0               gFIFOOut = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001860   500f     MOVF      0xf,0x0,0x0          if (gFIFOLength)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001862   e01a     BZ        0x1898                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001864   060f     DECF      0xf,0x1,0x0            gFIFOLength--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001866   d018     BRA       0x1898             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Current command is done, and the FIFO is completely empty.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Start up stepper motor disable timeout (if enabled)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001868   0100     MOVLB     0x0                  if (g_StepperDisableState == kSTEPPER_TIMEOUT_PRIMED)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186a   05a8     DECF      0xa8,0x0,0x1                                                                                    
00186c   e10c     BNZ       0x1886                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186e   0100     MOVLB     0x0                    g_StepperDisableSecondCounter = 1000u;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001870   0ee8     MOVLW     0xe8                                                                                            
001872   6fab     MOVWF     0xab,0x1                                                                                        
001874   0e03     MOVLW     0x3                                                                                             
001876   6fac     MOVWF     0xac,0x1                                                                                        
001878   c0a9     MOVFF     0xa9,0xad              g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00187a   f0ad                                                                                                               
00187c   c0aa     MOVFF     0xaa,0xae                                                                                       
00187e   f0ae                                                                                                               
001880   0100     MOVLB     0x0                    g_StepperDisableState = kSTEPPER_TIMEOUT_TIMING;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001882   0e02     MOVLW     0x2                                                                                             
001884   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001886   0101     MOVLB     0x1                  CurrentCommand.m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001888   6b87     CLRF      0x87,0x1                                                                                        
00188a   6b88     CLRF      0x88,0x1                                                                                        
00188c   6b89     CLRF      0x89,0x1                                                                                        
00188e   6b8a     CLRF      0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001890   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001892   848c     BSF       0x8c,0x2,0x0           mLED_2_On()                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001894   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001896   8289     BSF       0x89,0x1,0x0           LATAbits.LATA1 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for button being pushed                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001898   ae80     BTFSS     0x80,0x7,0x0     if (!swProgram)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189a   8007     BSF       0x7,0x0,0x0        bitsetzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189c   a008     BTFSS     0x8,0x0,0x0      if (bittstzero(UseAltPause))                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189e   d002     BRA       0x18a4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a0   a081     BTFSS     0x81,0x0,0x0       if (!PORTBbits.RB0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a2   8007     BSF       0x7,0x0,0x0          bitsetzero(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // To give as much time for the step pulses to be high, we clear them as the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // very last thing we do before leaving the ISR. It never hurts us to clear    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // these bits even if no step happened this ISR tick                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a4   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a6   e103     BNZ       0x18ae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a8   9c8c     BCF       0x8c,0x6,0x0       Step1IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018aa   988c     BCF       0x8c,0x4,0x0       Step2IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ac   d002     BRA       0x18b2           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ae   9c8b     BCF       0x8b,0x6,0x0       Step1AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b0   9a89     BCF       0x89,0x5,0x0       Step2AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b2   ae09     BTFSS     0x9,0x7,0x0      if (bittst(TestMode, TEST_MODE_PRINT_TRIGGER_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b4   d006     BRA       0x18c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the interrupt as the last thing we do. This allows us to have       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // arbitrarily long interrupts to print debug information out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b6   909e     BCF       0x9e,0x0,0x0       PIR1bits.TMR1IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b8   0efe     MOVLW     0xfe               TMR1H = TIMER1_H_RELOAD;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ba   6ecf     MOVWF     0xcf,0x0                                                                                        
0018bc   0e36     MOVLW     0x36               TMR1L = TIMER1_L_RELOAD;  // Reload for 25KHz ISR fire                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018be   6ece     MOVWF     0xce,0x0                                                                                        
0018c0   9e09     BCF       0x9,0x7,0x0        bitclr(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c2   a209     BTFSS     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c4   d003     BRA       0x18cc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c6   9289     BCF       0x89,0x1,0x0       LATAbits.LATA1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c8   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ca   928c     BCF       0x8c,0x1,0x0       LATDbits.LATD1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018cc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ce   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0018d0   fff4                                                                                                               
0018d2   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0018d4   fff3                                                                                                               
0018d6   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0018d8   ffea                                                                                                               
0018da   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0018dc   ffe9                                                                                                               
0018de   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0018e0   ffda                                                                                                               
0018e2   0011     RETFIE    0x1                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Zero out all global variables used for parameter passing between motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parsing commands                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e4   0101     MOVLB     0x1              gUInt32_1 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e6   6bc4     CLRF      0xc4,0x1                                                                                        
0018e8   6bc5     CLRF      0xc5,0x1                                                                                        
0018ea   6bc6     CLRF      0xc6,0x1                                                                                        
0018ec   6bc7     CLRF      0xc7,0x1                                                                                        
0018ee   ec8d     CALL      0x371a,0x0       gUInt32_2 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f0   f01b                                                                                                               
0018f2   6bcc     CLRF      0xcc,0x1         gUInt32_3 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f4   6bcd     CLRF      0xcd,0x1                                                                                        
0018f6   6bce     CLRF      0xce,0x1                                                                                        
0018f8   6bcf     CLRF      0xcf,0x1                                                                                        
0018fa   6bd0     CLRF      0xd0,0x1         gInt32_4 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fc   6bd1     CLRF      0xd1,0x1                                                                                        
0018fe   6bd2     CLRF      0xd2,0x1                                                                                        
001900   6bd3     CLRF      0xd3,0x1                                                                                        
001902   6bd4     CLRF      0xd4,0x1         gInt32_5 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001904   6bd5     CLRF      0xd5,0x1                                                                                        
001906   6bd6     CLRF      0xd6,0x1                                                                                        
001908   6bd7     CLRF      0xd7,0x1                                                                                        
00190a   6bd8     CLRF      0xd8,0x1         gInt32_6 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190c   6bd9     CLRF      0xd9,0x1                                                                                        
00190e   6bda     CLRF      0xda,0x1                                                                                        
001910   6bdb     CLRF      0xdb,0x1                                                                                        
001912   6bdc     CLRF      0xdc,0x1         gInt32_7 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001914   6bdd     CLRF      0xdd,0x1                                                                                        
001916   6bde     CLRF      0xde,0x1                                                                                        
001918   6bdf     CLRF      0xdf,0x1                                                                                        
00191a   6be0     CLRF      0xe0,0x1         gInt32_8 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00191c   6be1     CLRF      0xe1,0x1                                                                                        
00191e   6be2     CLRF      0xe2,0x1                                                                                        
001920   6be3     CLRF      0xe3,0x1                                                                                        
001922   6be4     CLRF      0xe4,0x1         gInt32_9 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001924   6be5     CLRF      0xe5,0x1                                                                                        
001926   6be6     CLRF      0xe6,0x1                                                                                        
001928   6be7     CLRF      0xe7,0x1                                                                                        
00192a   6be8     CLRF      0xe8,0x1         gInt32_10 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00192c   6be9     CLRF      0xe9,0x1                                                                                        
00192e   6bea     CLRF      0xea,0x1                                                                                        
001930   6beb     CLRF      0xeb,0x1                                                                                        
001932   6bec     CLRF      0xec,0x1         gInt32_11 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001934   6bed     CLRF      0xed,0x1                                                                                        
001936   6bee     CLRF      0xee,0x1                                                                                        
001938   6bef     CLRF      0xef,0x1                                                                                        
00193a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Init code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193c   cfd9     MOVFF     0xfd9,0xfe6    void EBB_Init(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193e   ffe6                                                                                                               
001940   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001942   ffd9                                                                                                               
001944   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Initialize all Current Command values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001946   6adf     CLRF      0xdf,0x0         for (i = 0; i < NUMBER_OF_STEPPERS; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001948   0e02     MOVLW     0x2                                                                                             
00194a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00194c   e22d     BC        0x19a8                                                                                          
0019a4   2adf     INCF      0xdf,0x1,0x0                                                                                    
0019a6   d7d0     BRA       0x1948                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00194e   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Rate[i].value = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001950   0d04     MULLW     0x4                                                                                             
001952   cff3     MOVFF     0xff3,0xfe9                                                                                     
001954   ffe9                                                                                                               
001956   cff4     MOVFF     0xff4,0xfea                                                                                     
001958   ffea                                                                                                               
00195a   0e8c     MOVLW     0x8c                                                                                            
00195c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00195e   0e01     MOVLW     0x1                                                                                             
001960   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001962   0e01     MOVLW     0x1                                                                                             
001964   6eee     MOVWF     0xee,0x0                                                                                        
001966   6aee     CLRF      0xee,0x0                                                                                        
001968   6aee     CLRF      0xee,0x0                                                                                        
00196a   6aee     CLRF      0xee,0x0                                                                                        
00196c   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Steps[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00196e   0d04     MULLW     0x4                                                                                             
001970   cff3     MOVFF     0xff3,0xfe9                                                                                     
001972   ffe9                                                                                                               
001974   cff4     MOVFF     0xff4,0xfea                                                                                     
001976   ffea                                                                                                               
001978   0e94     MOVLW     0x94                                                                                            
00197a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00197c   0e01     MOVLW     0x1                                                                                             
00197e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001980   6aee     CLRF      0xee,0x0                                                                                        
001982   6aee     CLRF      0xee,0x0                                                                                        
001984   6aee     CLRF      0xee,0x0                                                                                        
001986   6aee     CLRF      0xee,0x0                                                                                        
001988   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Accel[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00198a   0d04     MULLW     0x4                                                                                             
00198c   cff3     MOVFF     0xff3,0xfe9                                                                                     
00198e   ffe9                                                                                                               
001990   cff4     MOVFF     0xff4,0xfea                                                                                     
001992   ffea                                                                                                               
001994   0ea4     MOVLW     0xa4                                                                                            
001996   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001998   0e01     MOVLW     0x1                                                                                             
00199a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00199c   6aee     CLRF      0xee,0x0                                                                                        
00199e   6aee     CLRF      0xee,0x0                                                                                        
0019a0   6aee     CLRF      0xee,0x0                                                                                        
0019a2   6aee     CLRF      0xee,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019a8   0101     MOVLB     0x1              CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019aa   6b85     CLRF      0x85,0x1                                                                                        
0019ac   0101     MOVLB     0x1              CurrentCommand.m.sm.DirBits = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ae   6b86     CLRF      0x86,0x1                                                                                        
0019b0   0101     MOVLB     0x1              CurrentCommand.m.sm.DelayCounter = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019b2   6b87     CLRF      0x87,0x1                                                                                        
0019b4   6b88     CLRF      0x88,0x1                                                                                        
0019b6   6b89     CLRF      0x89,0x1                                                                                        
0019b8   6b8a     CLRF      0x8a,0x1                                                                                        
0019ba   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoPosition = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019bc   6bad     CLRF      0xad,0x1                                                                                        
0019be   6bae     CLRF      0xae,0x1                                                                                        
0019c0   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRPn = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c2   6bac     CLRF      0xac,0x1                                                                                        
0019c4   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoChannel = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c6   6baf     CLRF      0xaf,0x1                                                                                        
0019c8   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRate = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ca   6bb0     CLRF      0xb0,0x1                                                                                        
0019cc   6bb1     CLRF      0xb1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ce   9006     BCF       0x6,0x0,0x0      bitclrzero(gRedLEDEmptyFIFO);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d0   6a09     CLRF      0x9,0x0          TestMode = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up TMR1 for our 25KHz High ISR for stepping                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d2   82cd     BSF       0xcd,0x1,0x0     T1CONbits.RD16 = 1;       // Set 16 bit mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d4   9ecd     BCF       0xcd,0x7,0x0     T1CONbits.TMR1CS1 = 0;    // System clocked from Fosc/4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d6   9ccd     BCF       0xcd,0x6,0x0     T1CONbits.TMR1CS0 = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d8   9acd     BCF       0xcd,0x5,0x0     T1CONbits.T1CKPS1 = 0;    // Use 1:1 Prescale value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019da   98cd     BCF       0xcd,0x4,0x0     T1CONbits.T1CKPS0 = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019dc   96cd     BCF       0xcd,0x3,0x0     T1CONbits.T1OSCEN = 0;    // Don't use external osc                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019de   94cd     BCF       0xcd,0x2,0x0     T1CONbits.T1SYNC = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e0   6acf     CLRF      0xcf,0x0         TMR1H = 0x00;             //                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e2   6ace     CLRF      0xce,0x0         TMR1L = 0x00;             // Give the timer about 5ms before it fires the first time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e4   809f     BSF       0x9f,0x0,0x0     IPR1bits.TMR1IP = 1;      // Use high priority interrupt                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e6   909e     BCF       0x9e,0x0,0x0     PIR1bits.TMR1IF = 0;      // Clear the interrupt                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e8   809d     BSF       0x9d,0x0,0x0     PIE1bits.TMR1IE = 1;      // Turn on the interrupt                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ea   80cd     BSF       0xcd,0x0,0x0     T1CONbits.TMR1ON = 1;     // Turn the timer on                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTA = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ec   8092     BSF       0x92,0x0,0x0     RefRA0_IO_TRIS = INPUT_PIN;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTB = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  INTCON2bits.RBPU = 0;   // Turn on weak-pull ups for port B                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTC = 0;              // Start out low                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISC = 0x80;           // Make portC output except for PortC bit 7, USB bus sense D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And make sure to always use low priority for ADC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ee   9c9f     BCF       0x9f,0x6,0x0     IPR1bits.ADIP = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Turn on AN0 (RA0) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f0   0e01     MOVLW     0x1              AnalogConfigure(RA0_CUR_ADJ_ADC_CHANNEL,1);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0019f4   6ae6     CLRF      0xe6,0x0                                                                                        
0019f6   ec90     CALL      0x5320,0x0                                                                                      
0019f8   f029                                                                                                               
0019fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             // Turn on AN11 (V+) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019fe   0e01     MOVLW     0x1              AnalogConfigure(RA11_VPLUS_POWER_ADC_CHANNEL,1);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a00   6ee6     MOVWF     0xe6,0x0                                                                                        
001a02   0e0b     MOVLW     0xb                                                                                             
001a04   6ee6     MOVWF     0xe6,0x0                                                                                        
001a06   ec90     CALL      0x5320,0x0                                                                                      
001a08   f029                                                                                                               
001a0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0e   848d     BSF       0x8d,0x2,0x0     MS1_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a10   9496     BCF       0x96,0x2,0x0     MS1_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a12   828d     BSF       0x8d,0x1,0x0     MS2_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a14   9296     BCF       0x96,0x1,0x0     MS2_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a16   8c89     BSF       0x89,0x6,0x0     MS3_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a18   9c92     BCF       0x92,0x6,0x0     MS3_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1a   808d     BSF       0x8d,0x0,0x0     Enable1IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1c   9096     BCF       0x96,0x0,0x0     Enable1IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1e   828b     BSF       0x8b,0x1,0x0     Enable2IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a20   9294     BCF       0x94,0x1,0x0     Enable2IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a22   9c8c     BCF       0x8c,0x6,0x0     Step1IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a24   9c95     BCF       0x95,0x6,0x0     Step1IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a26   9e8c     BCF       0x8c,0x7,0x0     Dir1IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a28   9e95     BCF       0x95,0x7,0x0     Dir1IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2a   988c     BCF       0x8c,0x4,0x0     Step2IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2c   9895     BCF       0x95,0x4,0x0     Step2IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2e   9a8c     BCF       0x8c,0x5,0x0     Dir2IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a30   9a95     BCF       0x95,0x5,0x0     Dir2IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // For bug in VUSB divider resistor, set RC7 as output and set high            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait a little while to charge up                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then set back as an input                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The idea here is to get the Schmidt trigger input RC7 high before           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // we make it an input, thus getting it above the 2.65V ST threshold           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And allowing VUSB to keep the logic level on the pin high at 2.5V           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a32   9e94     BCF       0x94,0x7,0x0     tris_usb_bus_sense = OUTPUT_PIN; // See HardwareProfile.h                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a34   8e82     BSF       0x82,0x7,0x0     USB_BUS_SENSE = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a36   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a38   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a40   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a42   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a44   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a46   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a48   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a50   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a52   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a54   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a56   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a58   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5c   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5e   9e82     BCF       0x82,0x7,0x0     USB_BUS_SENSE = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a60   0101     MOVLB     0x1              gUseSolenoid = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a62   0e01     MOVLW     0x1                                                                                             
001a64   6fc1     MOVWF     0xc1,0x1                                                                                        
001a66   8005     BSF       0x5,0x0,0x0      bitsetzero(gUseRCPenServo);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up pen up/down direction as output                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a68   988a     BCF       0x8a,0x4,0x0     PenUpDownIO = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6a   9893     BCF       0x93,0x4,0x0     PenUpDownIO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up RC Servo power control to be off                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6c   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6e   9692     BCF       0x92,0x3,0x0     RCServoPowerIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a70   0101     MOVLB     0x1              SolenoidState = SOLENOID_ON;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a72   0e01     MOVLW     0x1                                                                                             
001a74   6fb6     MOVWF     0xb6,0x1                                                                                        
001a76   6a04     CLRF      0x4,0x0          DriverConfiguration = PIC_CONTROLS_DRIVERS;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a78   0101     MOVLB     0x1              PenState = PEN_UP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7a   0e01     MOVLW     0x1                                                                                             
001a7c   6fb9     MOVWF     0xb9,0x1                                                                                        
001a7e   6adf     CLRF      0xdf,0x0         for (i=0; i < SL_STORAGE_SIZE; i++)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a80   0e20     MOVLW     0x20                                                                                            
001a82   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001a84   e209     BC        0x1a98                                                                                          
001a94   2adf     INCF      0xdf,0x1,0x0                                                                                    
001a96   d7f4     BRA       0x1a80                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a86   50df     MOVF      0xdf,0x0,0x0       gSL_Storage[i] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a88   6aea     CLRF      0xea,0x0                                                                                        
001a8a   0f58     ADDLW     0x58                                                                                            
001a8c   6ee9     MOVWF     0xe9,0x0                                                                                        
001a8e   0e01     MOVLW     0x1                                                                                             
001a90   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001a92   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a98   0101     MOVLB     0x1              NodeCount = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9a   6bba     CLRF      0xba,0x1                                                                                        
001a9c   6bbb     CLRF      0xbb,0x1                                                                                        
001a9e   6bbc     CLRF      0xbc,0x1                                                                                        
001aa0   6bbd     CLRF      0xbd,0x1                                                                                        
001aa2   6a07     CLRF      0x7,0x0          ButtonPushed = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa4   0101     MOVLB     0x1              gStandardizedCommandFormat = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa6   6bc3     CLRF      0xc3,0x1                                                                                        
001aa8   0101     MOVLB     0x1              gLimitChecks = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aaa   0e01     MOVLW     0x1                                                                                             
001aac   6fc2     MOVWF     0xc2,0x1                                                                                        
001aae   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab0   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab2   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab4   0e01     MOVLW     0x1              gCurrentFIFOLength = 1; // Default the FIFO length to 1 on boot                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab6   6e13     MOVWF     0x13,0x0                                                                                        
                                             //isr_FSR0L_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //isr_FSR0H_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Start out FIFO out pointer on first element in FIFO array, which starts at  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // address 0x500                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab8   0e05     MOVLW     0x5              FIFO_out_ptr_high = 0x05;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aba   6e14     MOVWF     0x14,0x0                                                                                        
001abc   6a15     CLRF      0x15,0x0         FIFO_out_ptr_low  = 0x00;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Default RB0 to be an input, with the pull-up enabled, for use as alternate  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // PAUSE button (just like PRG)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Except for v1.1 hardware, use RB2                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001abe   8093     BSF       0x93,0x0,0x0     TRISBbits.TRISB0 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac0   9ef1     BCF       0xf1,0x7,0x0     INTCON2bits.RBPU = 0;       // Turn on all of PortB pull-ups                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac2   8008     BSF       0x8,0x0,0x0      bitsetzero(UseAltPause);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac4   9693     BCF       0x93,0x3,0x0     TRISBbits.TRISB3 = 0;       // Make RB3 an output (for engraver)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac6   9681     BCF       0x81,0x3,0x0     PORTBbits.RB3 = 0;          // And make sure it starts out off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These are ISR variables, can't set them to zero in their definitions or     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the linker puts them in a different bank and ISR expands with more MOVLB    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // instructions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac8   6a0b     CLRF      0xb,0x0          PortBTemp = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aca   6a0c     CLRF      0xc,0x0          gLimitSwitchMask = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001acc   6a0d     CLRF      0xd,0x0          gLimitSwitchTarget = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ace   900e     BCF       0xe,0x0,0x0      bitclrzero(gLimitSwitchTriggered);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out global stepper positions                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad0   ec6a     CALL      0x30d4,0x0       clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad2   f018                                                                                                               
001ad4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ad8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001ada   ffd9                                                                                                               
001adc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Stepper (mode) Configure command                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,0<CR> will use just solenoid output for pen up/down                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,1<CR> will use servo on RB1 for pen up/down                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,2<CR> will use servo on RB1 for pen up/down, but with ECCP2 (PWM) in hardware (default) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,0<CR> will make PIC control drivers (default)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,1<CR> will make PIC control external drivers using these pins            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE1 = RD1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE2 = RA1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP1 = RC6                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR1 = RC2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP2 = RA5                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR2 = RA2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,2<CR> will disconnect PIC from drivers and allow external step/dir source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,4,<servo2_min><CR> will set <servo2_min> as the minimum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,5,<servo2_max><CR> will set <servo2_max> as the maximum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,6,<servo_min><CR> will set <servo_min> as the minimum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,7,<servo_max><CR> will set <servo_max> as the maximum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,8,<servo2_slots><CR> sets the number of slots for the servo2 system (1 to 24) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,9,<servo2_slotMS><CR> sets the number of ms in duration for each slot (1 to 6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,10,<servo2_rate><CR> sets the rate of change for the servo (both up and down) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,11,<servo2_rate><CR> sets the pen up speed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,12,<servo2_rate><CR> sets the pen down speed                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,1<CR> enables RB3 as parallel input to PRG button for pause detection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,0<CR> disables RB3 as parallel input to PRG button for pause detection  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ade   ec4d     CALL      0x329a,0x0     void parse_SC_packet (void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae0   f019                                                                                                               
001ae2   0e03     MOVLW     0x3                                                                                             
001ae4   ec01     CALL      0x3402,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae6   f01a                                unsigned char Para1 = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned int Para2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae8   ec07     CALL      0x380e,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aea   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Para1, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aec   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &Para2, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aee   ece8     CALL      0x39d0,0x0                                                                                      
001af0   f01c                                                                                                               
001af2   ec0b     CALL      0x3a16,0x0                                                                                      
001af4   f01d                                                                                                               
0039d0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0039d2   0f01     ADDLW     0x1                                                                                             
0039d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0039d6   0e00     MOVLW     0x0                                                                                             
0039d8   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0039da   6ee6     MOVWF     0xe6,0x0                                                                                        
0039dc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af6   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af8   5197     MOVF      0x97,0x0,0x1                                                                                    
001afa   e001     BZ        0x1afe                                                                                          
001afc   d0ab     BRA       0x1c54                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to select which (solenoid/servo) gets used for pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afe   04df     DECF      0xdf,0x0,0x0     if (Para1 == 1u)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b00   e120     BNZ       0x1b42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just solenoid                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b02   ecf9     CALL      0x39f2,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b04   f01c                                                                                                               
001b06   e107     BNZ       0x1b16                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b08   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0a   0e01     MOVLW     0x1                                                                                             
001b0c   6fc1     MOVWF     0xc1,0x1                                                                                        
001b0e   9005     BCF       0x5,0x0,0x0          bitclrzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Turn off RC signal on Pen Servo output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b10   ec29     CALL      0x3452,0x0           RCServo2_Move(0, g_servo2_RPn, 0, 0);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b12   f01a                                                                                                               
003452   0e00     MOVLW     0x0                                                                                             
003454   6ee6     MOVWF     0xe6,0x0                                                                                        
003456   6ae6     CLRF      0xe6,0x0                                                                                        
003458   6ee6     MOVWF     0xe6,0x0                                                                                        
00345a   6ae6     CLRF      0xe6,0x0                                                                                        
00345c   c08a     MOVFF     0x8a,0xfe6                                                                                      
00345e   ffe6                                                                                                               
003460   6ee6     MOVWF     0xe6,0x0                                                                                        
003462   6ae6     CLRF      0xe6,0x0                                                                                        
003464   efef     GOTO      0x39de                                                                                          
003466   f01c                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just RC servo                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b14   d00e     BRA       0x1b32             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b16   ecbe     CALL      0x337c,0x0                                                                                      
001b18   f019                                                                                                               
001b1a   0e01     MOVLW     0x1                                                                                             
001b1c   18ee     XORWF     0xee,0x0,0x0                                                                                    
001b1e   e105     BNZ       0x1b2a                                                                                          
001b20   50ed     MOVF      0xed,0x0,0x0                                                                                    
001b22   e103     BNZ       0x1b2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b24   0101     MOVLB     0x1                  gUseSolenoid = FALSE;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b26   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use solenoid AND servo (default)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b28   d003     BRA       0x1b30             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2a   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2c   0e01     MOVLW     0x1                                                                                             
001b2e   6fc1     MOVWF     0xc1,0x1                                                                                        
001b30   8005     BSF       0x5,0x0,0x0          bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Send a new command to set the state of the servo/solenoid                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b32   0e00     MOVLW     0x0                process_SP(PenState, 0);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b34   6ee6     MOVWF     0xe6,0x0                                                                                        
001b36   6ae6     CLRF      0xe6,0x0                                                                                        
001b38   c1b9     MOVFF     0x1b9,0xfe6                                                                                     
001b3a   ffe6                                                                                                               
001b3c   ec28     CALL      0x3650,0x0                                                                                      
001b3e   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to switch between built-in drivers and external drivers   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b40   d087     BRA       0x1c50           else if (Para1 == 2u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b42   0e02     MOVLW     0x2                                                                                             
001b44   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b46   e12d     BNZ       0x1ba2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b48   ecf9     CALL      0x39f2,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4a   f01c                                                                                                               
001b4c   e108     BNZ       0x1b5e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4e   6a04     CLRF      0x4,0x0              DriverConfiguration = PIC_CONTROLS_DRIVERS;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Connections to drivers become outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b50   9096     BCF       0x96,0x0,0x0         Enable1IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b52   9294     BCF       0x94,0x1,0x0         Enable2IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b54   9c95     BCF       0x95,0x6,0x0         Step1IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b56   9e95     BCF       0x95,0x7,0x0         Dir1IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b58   9895     BCF       0x95,0x4,0x0         Step2IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b5a   9a95     BCF       0x95,0x5,0x0         Dir2IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b5c   d01b     BRA       0x1b94             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b5e   ecbe     CALL      0x337c,0x0                                                                                      
001b60   f019                                                                                                               
001b62   0e01     MOVLW     0x1                                                                                             
001b64   18ee     XORWF     0xee,0x0,0x0                                                                                    
001b66   e10c     BNZ       0x1b80                                                                                          
001b68   50ed     MOVF      0xed,0x0,0x0                                                                                    
001b6a   e10a     BNZ       0x1b80                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6c   0e01     MOVLW     0x1                  DriverConfiguration = PIC_CONTROLS_EXTERNAL;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6e   ec45     CALL      0x368a,0x0                                                                                      
00368a   6e04                                                                                                               
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b70   f01b     WORD2     0x1b                 Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00368c   8096     BSF       0x96,0x0,0x0                                                                                    
00368e   8294     BSF       0x94,0x1,0x0         Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003690   8c95     BSF       0x95,0x6,0x0         Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003692   8e95     BSF       0x95,0x7,0x0         Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003694   8895     BSF       0x95,0x4,0x0         Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003696   8a95     BSF       0x95,0x5,0x0         Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003698   0012     RETURN    0x0                                                                                             
                                                 // Alternate I/O pins become outputs                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b72   9494     BCF       0x94,0x2,0x0         Dir1AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b74   9492     BCF       0x92,0x2,0x0         Dir2AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b76   9c94     BCF       0x94,0x6,0x0         Step1AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b78   9a92     BCF       0x92,0x5,0x0         Step2AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7a   9295     BCF       0x95,0x1,0x0         Enable1AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7c   9292     BCF       0x92,0x1,0x0         Enable2AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7e   d068     BRA       0x1c50             else if (Para2 == 2u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b80   ecbe     CALL      0x337c,0x0                                                                                      
001b82   f019                                                                                                               
001b84   0e02     MOVLW     0x2                                                                                             
001b86   18ee     XORWF     0xee,0x0,0x0                                                                                    
001b88   e163     BNZ       0x1c50                                                                                          
001b8a   50ed     MOVF      0xed,0x0,0x0                                                                                    
001b8c   e161     BNZ       0x1c50                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8e   0e02     MOVLW     0x2                  DriverConfiguration = EXTERNAL_CONTROLS_DRIVERS;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b90   ec45     CALL      0x368a,0x0                                                                                      
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b92   f01b                                    Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b94   8494     BSF       0x94,0x2,0x0         Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b96   8492     BSF       0x92,0x2,0x0         Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b98   8c94     BSF       0x94,0x6,0x0         Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9a   8a92     BSF       0x92,0x5,0x0         Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9c   8295     BSF       0x95,0x1,0x0         Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9e   8292     BSF       0x92,0x1,0x0         Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <min_servo> for Servo2 method                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba0   d057     BRA       0x1c50           else if (Para1 == 4u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba2   0e04     MOVLW     0x4                                                                                             
001ba4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001ba6   e107     BNZ       0x1bb6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba8   0e01     MOVLW     0x1                g_servo2_min = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001baa   cfdb     MOVFF     0xfdb,0x84                                                                                      
001bac   f084                                                                                                               
001bae   0e02     MOVLW     0x2                                                                                             
001bb0   cfdb     MOVFF     0xfdb,0x85                                                                                      
001bb2   f085                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <max_servo> for Servo2                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb4   d04d     BRA       0x1c50           else if (Para1 == 5u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb6   0e05     MOVLW     0x5                                                                                             
001bb8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001bba   e107     BNZ       0x1bca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbc   0e01     MOVLW     0x1                g_servo2_max = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbe   cfdb     MOVFF     0xfdb,0x82                                                                                      
001bc0   f082                                                                                                               
001bc2   0e02     MOVLW     0x2                                                                                             
001bc4   cfdb     MOVFF     0xfdb,0x83                                                                                      
001bc6   f083                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <gRC2Slots>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bc8   d043     BRA       0x1c50           else if (Para1 == 8u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bca   0e08     MOVLW     0x8                                                                                             
001bcc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001bce   e10f     BNZ       0x1bee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd0   ecbe     CALL      0x337c,0x0         if (Para2 > MAX_RC2_SERVOS)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd2   f019                                                                                                               
001bd4   0e04     MOVLW     0x4                                                                                             
001bd6   80d8     BSF       0xd8,0x0,0x0                                                                                    
001bd8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001bda   0e00     MOVLW     0x0                                                                                             
001bdc   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001bde   e203     BC        0x1be6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be0   0e04     MOVLW     0x4                  Para2 = MAX_RC2_SERVOS;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be2   ec6c     CALL      0x36d8,0x0                                                                                      
001be4   f01b                                                                                                               
0036d8   6ef3     MOVWF     0xf3,0x0                                                                                        
0036da   0e01     MOVLW     0x1                                                                                             
0036dc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0036de   ffdb                                                                                                               
0036e0   0e02     MOVLW     0x2                                                                                             
0036e2   6adb     CLRF      0xdb,0x0                                                                                        
0036e4   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be6   0e01     MOVLW     0x1                gRC2Slots = Para2;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be8   cfdb     MOVFF     0xfdb,0x7e                                                                                      
001bea   f07e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bec   d031     BRA       0x1c50           else if (Para1 == 9u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bee   0e09     MOVLW     0x9                                                                                             
001bf0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001bf2   e10f     BNZ       0x1c12                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf4   ecbe     CALL      0x337c,0x0         if (Para2 > 6u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf6   f019                                                                                                               
001bf8   0e06     MOVLW     0x6                                                                                             
001bfa   80d8     BSF       0xd8,0x0,0x0                                                                                    
001bfc   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001bfe   0e00     MOVLW     0x0                                                                                             
001c00   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001c02   e203     BC        0x1c0a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c04   0e06     MOVLW     0x6                  Para2 = 6;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c06   ec6c     CALL      0x36d8,0x0                                                                                      
001c08   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0a   0e01     MOVLW     0x1                gRC2SlotMS = Para2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0c   cfdb     MOVFF     0xfdb,0x7f                                                                                      
001c0e   f07f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c10   d01f     BRA       0x1c50           else if (Para1 == 10u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c12   0e0a     MOVLW     0xa                                                                                             
001c14   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c16   e103     BNZ       0x1c1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c18   ec73     CALL      0x36e6,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c1a   f01b                                                                                                               
0036e6   0e01     MOVLW     0x1                                                                                             
0036e8   cfdb     MOVFF     0xfdb,0x86                                                                                      
0036ea   f086                                                                                                               
0036ec   0e02     MOVLW     0x2                                                                                             
0036ee   cfdb     MOVFF     0xfdb,0x87                                                                                      
0036f0   f087                                                                                                               
0036f2   0012     RETURN    0x0                                                                                             
                                               g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c1c   d009     BRA       0x1c30           else if (Para1 == 11u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c1e   0e0b     MOVLW     0xb                                                                                             
001c20   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c22   e103     BNZ       0x1c2a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c24   ec73     CALL      0x36e6,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c26   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c28   d013     BRA       0x1c50           else if (Para1 == 12u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c2a   0e0c     MOVLW     0xc                                                                                             
001c2c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c2e   e107     BNZ       0x1c3e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c30   0e01     MOVLW     0x1                g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c32   cfdb     MOVFF     0xfdb,0x88                                                                                      
001c34   f088                                                                                                               
001c36   0e02     MOVLW     0x2                                                                                             
001c38   cfdb     MOVFF     0xfdb,0x89                                                                                      
001c3a   f089                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c3c   d009     BRA       0x1c50             else if (Para1 == 13u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c3e   0e0d     MOVLW     0xd                                                                                             
001c40   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c42   e106     BNZ       0x1c50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c44   ecf9     CALL      0x39f2,0x0         if (Para2)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c46   f01c                                                                                                               
001c48   e002     BZ        0x1c4e                                                                                          
00337c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00337e   0f01     ADDLW     0x1                                                                                             
003380   6ee9     MOVWF     0xe9,0x0                                                                                        
003382   cfda     MOVFF     0xfda,0xfea                                                                                     
003384   ffea                                                                                                               
003386   0012     RETURN    0x0                                                                                             
0039f2   dcc4     RCALL     0x337c                                                                                          
0039f4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0039f6   10ed     IORWF     0xed,0x0,0x0                                                                                    
0039f8   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4a   8008     BSF       0x8,0x0,0x0          bitsetzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4c   d001     BRA       0x1c50             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4e   9008     BCF       0x8,0x0,0x0          bitclrzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c50   ec52     CALL      0x32a4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c52   f019                                                                                                               
001c54   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c56   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001c58   e202     BC        0x1c5e                                                                                          
001c5a   6ae1     CLRF      0xe1,0x0                                                                                        
001c5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001c5e   ef4b     GOTO      0x3296                                                                                          
001c60   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Move command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LM,<Rate1>,<Steps1>,<Accel1>,<Rate2>,<Steps2>,<Accel2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for v2.8.0 and below                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions you can use the sign of the steps values to control the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c62   ec22     CALL      0x3a44,0x0     void parse_LM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c64   f01d                                                                                                               
003a44   dfad     RCALL     0x39a0                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a46   d8ba     RCALL     0x3bbc           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bbc   ec72     CALL      0x18e4,0x0                                                                                      
003bbe   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc0   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc2   ec24     CALL      0x3248,0x0                                                                                      
003bc4   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a48   0ed0     MOVLW     0xd0             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a4a   6ee6     MOVWF     0xe6,0x0                                                                                        
003a4c   0e01     MOVLW     0x1                                                                                             
003a4e   dea5     RCALL     0x379a                                                                                          
003bc6   6ae6     CLRF      0xe6,0x0                                                                                        
003bc8   0012     RETURN    0x0                                                                                             
003a50   0ed4     MOVLW     0xd4             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a52   6ee6     MOVWF     0xe6,0x0                                                                                        
003a54   0e01     MOVLW     0x1                                                                                             
003a56   d0c1     BRA       0x3bda                                                                                          
003bda   dddf     RCALL     0x379a                                                                                          
003bdc   0ed8     MOVLW     0xd8             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bde   6ee6     MOVWF     0xe6,0x0                                                                                        
003be0   0e01     MOVLW     0x1                                                                                             
003be2   efcd     GOTO      0x379a                                                                                          
003be4   f01b                                                                                                               
001c66   0ee0     MOVLW     0xe0             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c68   6ee6     MOVWF     0xe6,0x0                                                                                        
001c6a   0e01     MOVLW     0x1                                                                                             
001c6c   ec9e     CALL      0x3b3c,0x0                                                                                      
001c6e   f01d                                                                                                               
001c70   ec6e     CALL      0x3adc,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c72   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c74   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c76   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c78   5197     MOVF      0x97,0x0,0x1                                                                                    
001c7a   e127     BNZ       0x1cca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7c   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7e   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001c80   e01d     BZ        0x1cbc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LM,1,0,2,0,0,0. Or LM,0,1,0,0,0,0,0 GH issue #78                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c82   51d0     MOVF      0xd0,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c84   11d1     IORWF     0xd1,0x0,0x1                                                                                    
001c86   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001c88   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001c8a   e105     BNZ       0x1c96                                                                                          
001c8c   51d8     MOVF      0xd8,0x0,0x1                                                                                    
001c8e   11d9     IORWF     0xd9,0x0,0x1                                                                                    
001c90   11da     IORWF     0xda,0x0,0x1                                                                                    
001c92   11db     IORWF     0xdb,0x0,0x1                                                                                    
001c94   e003     BZ        0x1c9c                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c96   ec9c     CALL      0x3538,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c98   f01a                                                                                                               
001c9a   e110     BNZ       0x1cbc               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c9c   51e0     MOVF      0xe0,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c9e   11e1     IORWF     0xe1,0x0,0x1                                                                                    
001ca0   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001ca2   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001ca4   e105     BNZ       0x1cb0                                                                                          
001ca6   51e8     MOVF      0xe8,0x0,0x1                                                                                    
001ca8   11e9     IORWF     0xe9,0x0,0x1                                                                                    
001caa   11ea     IORWF     0xea,0x0,0x1                                                                                    
001cac   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001cae   e003     BZ        0x1cb6                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb0   eca1     CALL      0x3542,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb2   f01a                                                                                                               
001cb4   e103     BNZ       0x1cbc               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb6   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb8   8d97     BSF       0x97,0x6,0x1                                                                                    
001cba   d007     BRA       0x1cca               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't need Intervals or Jerks, so set them to zero before calling low_level D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbc   ec8d     CALL      0x371a,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbe   f01b                                                                                                               
001cc0   ecb2     CALL      0x3564,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc2   f01a                                                                                                               
003564   6bdc     CLRF      0xdc,0x1                                                                                        
003566   6bdd     CLRF      0xdd,0x1                                                                                        
003568   6bde     CLRF      0xde,0x1                                                                                        
00356a   6bdf     CLRF      0xdf,0x1                                                                                        
00356c   6bec     CLRF      0xec,0x1         gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00356e   6bed     CLRF      0xed,0x1                                                                                        
003570   6bee     CLRF      0xee,0x1                                                                                        
003572   6bef     CLRF      0xef,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc4   6ae6     CLRF      0xe6,0x0         process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc6   ec3b     CALL      0x3676,0x0                                                                                      
001cc8   f01b                                                                                                               
003574   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
003576   ffe6                                                                                                               
003578   0012     RETURN    0x0                                                                                             
001cca   ef0d     GOTO      0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ccc   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level third derivative Move command                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Rate1>,<Steps1>,<Accel1>,<Jerk1>,<Rate2>,<Steps2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration and jerk,             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are applied to <Rate1> and <Rate2> every ISR tick.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // See full EBB docs for more complete documentation.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for compatibility with v2.8.0 and below            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions. You can use the sign of the steps values to control the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis, but then <Rate> must not be negative.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cce   ec22     CALL      0x3a44,0x0     void parse_L3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd0   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd2   ece5     CALL      0x3bca,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd4   f01d                                                                                                               
003bca   0edc     MOVLW     0xdc                                                                                            
003bcc   6ee6     MOVWF     0xe6,0x0                                                                                        
003bce   0e01     MOVLW     0x1                                                                                             
003bd0   dde4     RCALL     0x379a                                                                                          
001cd6   ec9e     CALL      0x3b3c,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd8   f01d                                                                                                               
003b3c   de2e     RCALL     0x379a                                                                                          
003bd2   0ee0     MOVLW     0xe0                                                                                            
003bd4   6ee6     MOVWF     0xe6,0x0                                                                                        
003bd6   0e01     MOVLW     0x1                                                                                             
003bd8   0012     RETURN    0x0                                                                                             
001cda   ec2c     CALL      0x3a58,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cdc   f01d                                                                                                               
003a58   dea0     RCALL     0x379a                                                                                          
003b3e   0ee4     MOVLW     0xe4                                                                                            
003b40   6ee6     MOVWF     0xe6,0x0                                                                                        
003b42   0e01     MOVLW     0x1                                                                                             
003b44   0012     RETURN    0x0                                                                                             
003a5a   0ee8     MOVLW     0xe8             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a5c   6ee6     MOVWF     0xe6,0x0                                                                                        
003a5e   0e01     MOVLW     0x1                                                                                             
003a60   de9c     RCALL     0x379a                                                                                          
003a62   0eec     MOVLW     0xec             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a64   6ee6     MOVWF     0xe6,0x0                                                                                        
003a66   0e01     MOVLW     0x1                                                                                             
003a68   de9d     RCALL     0x37a4                                                                                          
003a6a   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cde   e131     BNZ       0x1d42           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a6c   0100     MOVLB     0x0                                                                                             
003a6e   5197     MOVF      0x97,0x0,0x1                                                                                    
003a70   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce0   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce2   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001ce4   e027     BZ        0x1d34                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like L3,1,0,2,3,0,0,0,0. Or L3,0,1,0,0,0,0,0,0,0 GH issue #78             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce6   51d0     MOVF      0xd0,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce8   11d1     IORWF     0xd1,0x0,0x1                                                                                    
001cea   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001cec   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001cee   e10a     BNZ       0x1d04                                                                                          
001cf0   51d8     MOVF      0xd8,0x0,0x1                                                                                    
001cf2   11d9     IORWF     0xd9,0x0,0x1                                                                                    
001cf4   11da     IORWF     0xda,0x0,0x1                                                                                    
001cf6   11db     IORWF     0xdb,0x0,0x1                                                                                    
001cf8   e105     BNZ       0x1d04                                                                                          
001cfa   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001cfc   11dd     IORWF     0xdd,0x0,0x1                                                                                    
001cfe   11de     IORWF     0xde,0x0,0x1                                                                                    
001d00   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d02   e003     BZ        0x1d0a                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d04   ec9c     CALL      0x3538,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d06   f01a                                                                                                               
001d08   e115     BNZ       0x1d34               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0a   51e0     MOVF      0xe0,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0c   11e1     IORWF     0xe1,0x0,0x1                                                                                    
001d0e   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001d10   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001d12   e10a     BNZ       0x1d28                                                                                          
001d14   51e8     MOVF      0xe8,0x0,0x1                                                                                    
001d16   11e9     IORWF     0xe9,0x0,0x1                                                                                    
001d18   11ea     IORWF     0xea,0x0,0x1                                                                                    
001d1a   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001d1c   e105     BNZ       0x1d28                                                                                          
001d1e   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001d20   11dd     IORWF     0xdd,0x0,0x1                                                                                    
001d22   11de     IORWF     0xde,0x0,0x1                                                                                    
001d24   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d26   e003     BZ        0x1d2e                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d28   eca1     CALL      0x3542,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d2a   f01a                                                                                                               
001d2c   e103     BNZ       0x1d34               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d2e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d30   8d97     BSF       0x97,0x6,0x1                                                                                    
001d32   d007     BRA       0x1d42               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Intervals, so set it to zero here                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d34   ec8d     CALL      0x371a,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d36   f01b                                                                                                               
00371a   6bc8     CLRF      0xc8,0x1                                                                                        
00371c   6bc9     CLRF      0xc9,0x1                                                                                        
00371e   6bca     CLRF      0xca,0x1                                                                                        
003720   6bcb     CLRF      0xcb,0x1                                                                                        
003722   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d38   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d3a   ffe6                                                                                                               
001d3c   6ae6     CLRF      0xe6,0x0                                                                                        
001d3e   ec3b     CALL      0x3676,0x0                                                                                      
001d40   f01b                                                                                                               
001d42   ef0d     GOTO      0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d44   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed third derivative Move command                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Intervals>,<Rate1>,<Accel1>,<Jerk1>,<Rate2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d46   ec39     CALL      0x3a72,0x0     void parse_T3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d48   f01d                                                                                                               
003a72   df96     RCALL     0x39a0                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a74   deb3     RCALL     0x37dc           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a76   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a78   0ed0     MOVLW     0xd0                                                                                            
003a7a   6ee6     MOVWF     0xe6,0x0                                                                                        
003a7c   0e01     MOVLW     0x1                                                                                             
003a7e   d0ad     BRA       0x3bda                                                                                          
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4a   ece5     CALL      0x3bca,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4c   f01d                                                                                                               
001d4e   ec2c     CALL      0x3a58,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d50   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d52   e111     BNZ       0x1d76           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d54   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d56   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d58   e006     BZ        0x1d66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d5a   ecd8     CALL      0x35b0,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d5c   f01a                                                                                                               
001d5e   e103     BNZ       0x1d66                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d60   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d62   8d97     BSF       0x97,0x6,0x1                                                                                    
001d64   d008     BRA       0x1d76               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps so clear them here before calling low_level              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d66   ece6     CALL      0x35cc,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d68   f01a                                                                                                               
0035cc   6bd4     CLRF      0xd4,0x1                                                                                        
0035ce   6bd5     CLRF      0xd5,0x1                                                                                        
0035d0   6bd6     CLRF      0xd6,0x1                                                                                        
0035d2   6bd7     CLRF      0xd7,0x1                                                                                        
0035d4   6be4     CLRF      0xe4,0x1         gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035d6   6be5     CLRF      0xe5,0x1                                                                                        
0035d8   6be6     CLRF      0xe6,0x1                                                                                        
0035da   6be7     CLRF      0xe7,0x1                                                                                        
0035dc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6a   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6c   ffe6                                                                                                               
001d6e   0e01     MOVLW     0x1                                                                                             
001d70   6ee6     MOVWF     0xe6,0x0                                                                                        
001d72   ec3b     CALL      0x3676,0x0                                                                                      
001d74   f01b                                                                                                               
001d76   ef0d     GOTO      0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d78   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed Move command                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LT,<Intervals>,<Rate1>,<Accel1>,<Rate2>,<Accel2>,<ClearAccs><CR>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints, and <Rate1> and <Rate2> are 32 bit signed ints.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d7a   ec39     CALL      0x3a72,0x0     void parse_LT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d7c   f01d                                                                                                               
0039a0   dc7c     RCALL     0x329a                                                                                          
0039a2   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0039a4   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d7e   0ee0     MOVLW     0xe0             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d80   6ee6     MOVWF     0xe6,0x0                                                                                        
001d82   0e01     MOVLW     0x1                                                                                             
001d84   ec6e     CALL      0x3adc,0x0                                                                                      
001d86   f01d                                                                                                               
003adc   de5e     RCALL     0x379a                                                                                          
0037a4   d9a1     RCALL     0x3ae8           extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ade   0ee8     MOVLW     0xe8                                                                                            
003ae0   6ee6     MOVWF     0xe6,0x0                                                                                        
003ae2   0e01     MOVLW     0x1                                                                                             
003ae4   efd2     GOTO      0x37a4                                                                                          
003ae6   f01b                                                                                                               
003ae8   6ee6     MOVWF     0xe6,0x0                                                                                        
003aea   0e06     MOVLW     0x6                                                                                             
003aec   ec73     CALL      0x30e6,0x0                                                                                      
003aee   f018                                                                                                               
001d88   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0037a8   0ecc     MOVLW     0xcc                                                                                            
0037aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0037ac   0e01     MOVLW     0x1                                                                                             
0037ae   efcf     GOTO      0x3b9e                                                                                          
0037b0   f01d                                                                                                               
003af0   0e01     MOVLW     0x1                                                                                             
003af2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8a   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8c   5197     MOVF      0x97,0x0,0x1                                                                                    
001d8e   e111     BNZ       0x1db2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d90   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d92   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d94   e006     BZ        0x1da2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d96   ecd8     CALL      0x35b0,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d98   f01a                                                                                                               
001d9a   e103     BNZ       0x1da2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9e   8d97     BSF       0x97,0x6,0x1                                                                                    
001da0   d008     BRA       0x1db2               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps or Jerk, so set them to zero here                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da2   ece6     CALL      0x35cc,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da4   f01a                                                                                                               
                                             gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da6   ecb2     CALL      0x3564,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da8   f01a                                                                                                               
                                             gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001daa   0e01     MOVLW     0x1              process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dac   6ee6     MOVWF     0xe6,0x0                                                                                        
001dae   ec3b     CALL      0x3676,0x0                                                                                      
001db0   f01b                                                                                                               
003676   ecdb     CALL      0x1db6,0x0                                                                                      
003678   f00e                                                                                                               
00367a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00367c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00367e   0012     RETURN    0x0                                                                                             
001db2   ef0d     GOTO      0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db4   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because the code for LM, L3, LT and T3 is really the same we call a common    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // processing function from all of them once their parameters are parsed into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // variables.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The caller must understand that this function changes some/all of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // global values used to pass in parameters. If it needs to preserve any         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // of those values it should make copies.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function takes input parameters in:                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gIntervals                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gClearAccs                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db6   ec4d     CALL      0x329a,0x0     void process_low_level_move(BOOL TimedMove, ExtractReturnType ClearRet)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db8   f019                                                                                                               
001dba   0e05     MOVLW     0x5                                                                                             
001dbc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dbe   6ade     CLRF      0xde,0x0         INT32 RateTemp = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dc0   6ade     CLRF      0xde,0x0                                                                                        
001dc2   6ade     CLRF      0xde,0x0                                                                                        
001dc4   6add     CLRF      0xdd,0x0                                                                                        
001dc6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
001dc8   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                             BOOL NeedNegativeAccumulator;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dca   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dcc   d211     BRA       0x21f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dce   b409     BTFSC     0x9,0x2,0x0      if (!bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd0   d008     BRA       0x1de2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd2   ecbd     CALL      0x357a,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd4   f01a                                                                                                               
001dd6   e205     BC        0x1de2                                                                                          
00357a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00357c   0e03     MOVLW     0x3                                                                                             
00357e   0101     MOVLB     0x1                                                                                             
003580   55cc     SUBFWB    0xcc,0x0,0x1                                                                                    
003582   0e00     MOVLW     0x0                                                                                             
003584   55cd     SUBFWB    0xcd,0x0,0x1                                                                                    
003586   0e00     MOVLW     0x0                                                                                             
003588   55ce     SUBFWB    0xce,0x0,0x1                                                                                    
00358a   0e00     MOVLW     0x0                                                                                             
00358c   55cf     SUBFWB    0xcf,0x0,0x1                                                                                    
00358e   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd8   0e03     MOVLW     0x3                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dda   6fcc     MOVWF     0xcc,0x1                                                                                        
001ddc   6bcd     CLRF      0xcd,0x1                                                                                        
001dde   6bce     CLRF      0xce,0x1                                                                                        
001de0   6bcf     CLRF      0xcf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If not a timed move, check for legacy opposite direction support            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de2   0efe     MOVLW     0xfe             if (!TimedMove)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de4   50db     MOVF      0xdb,0x0,0x0                                                                                    
001de6   e132     BNZ       0x1e4c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Since we will only use the sign of Rate as the signal for initial         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // stepper direction, if the user has sent us negative step counts, we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // apply a 'legacy' mode rule here : if steps are negative, make sure        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // rate is positive, then make steps positive and rate negative and invert   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // acceleration too to compensate. After this step, the sign of rate completely D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // controls the direction.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de8   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dea   0e80     MOVLW     0x80                                                                                            
001dec   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
001dee   e014     BZ        0x1e18                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df0   0e80     MOVLW     0x80                 if (gRate1 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df2   15d3     ANDWF     0xd3,0x0,0x1                                                                                    
001df4   e117     BNZ       0x1e24                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df6   0e00     MOVLW     0x0                    gSteps1 = -gSteps1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df8   ecb9     CALL      0x3972,0x0                                                                                      
001dfa   f01c                                                                                                               
003972   6dd4     NEGF      0xd4,0x1                                                                                        
003974   1fd5     COMF      0xd5,0x1,0x1                                                                                    
003976   23d5     ADDWFC    0xd5,0x1,0x1                                                                                    
003978   1fd6     COMF      0xd6,0x1,0x1                                                                                    
00397a   23d6     ADDWFC    0xd6,0x1,0x1                                                                                    
00397c   1fd7     COMF      0xd7,0x1,0x1                                                                                    
00397e   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
003980   0012     RETURN    0x0                                                                                             
001dfc   6dd0     NEGF      0xd0,0x1               gRate1 = -gRate1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dfe   1fd1     COMF      0xd1,0x1,0x1                                                                                    
001e00   23d1     ADDWFC    0xd1,0x1,0x1                                                                                    
001e02   1fd2     COMF      0xd2,0x1,0x1                                                                                    
001e04   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
001e06   1fd3     COMF      0xd3,0x1,0x1                                                                                    
001e08   23d3     ADDWFC    0xd3,0x1,0x1                                                                                    
001e0a   6dd8     NEGF      0xd8,0x1               gAccel1 = -gAccel1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0c   1fd9     COMF      0xd9,0x1,0x1                                                                                    
001e0e   23d9     ADDWFC    0xd9,0x1,0x1                                                                                    
001e10   1fda     COMF      0xda,0x1,0x1                                                                                    
001e12   23da     ADDWFC    0xda,0x1,0x1                                                                                    
001e14   1fdb     COMF      0xdb,0x1,0x1                                                                                    
001e16   23db     ADDWFC    0xdb,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e18   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1a   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
001e1c   e017     BZ        0x1e4c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1e   0e80     MOVLW     0x80                 if (gRate2 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e20   15e3     ANDWF     0xe3,0x0,0x1                                                                                    
001e22   e003     BZ        0x1e2a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e24   0100     MOVLB     0x0                    bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e26   8d97     BSF       0x97,0x6,0x1                                                                                    
001e28   d1e3     BRA       0x21f0                 return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e2a   0e00     MOVLW     0x0                    gSteps2 = -gSteps2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e2c   ecc1     CALL      0x3982,0x0                                                                                      
001e2e   f01c                                                                                                               
003982   6de4     NEGF      0xe4,0x1                                                                                        
003984   1fe5     COMF      0xe5,0x1,0x1                                                                                    
003986   23e5     ADDWFC    0xe5,0x1,0x1                                                                                    
003988   1fe6     COMF      0xe6,0x1,0x1                                                                                    
00398a   23e6     ADDWFC    0xe6,0x1,0x1                                                                                    
00398c   1fe7     COMF      0xe7,0x1,0x1                                                                                    
00398e   23e7     ADDWFC    0xe7,0x1,0x1                                                                                    
003990   0012     RETURN    0x0                                                                                             
001e30   6de0     NEGF      0xe0,0x1               gRate2 = -gRate2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e32   1fe1     COMF      0xe1,0x1,0x1                                                                                    
001e34   23e1     ADDWFC    0xe1,0x1,0x1                                                                                    
001e36   1fe2     COMF      0xe2,0x1,0x1                                                                                    
001e38   23e2     ADDWFC    0xe2,0x1,0x1                                                                                    
001e3a   1fe3     COMF      0xe3,0x1,0x1                                                                                    
001e3c   23e3     ADDWFC    0xe3,0x1,0x1                                                                                    
001e3e   6de8     NEGF      0xe8,0x1               gAccel2 = -gAccel2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e40   1fe9     COMF      0xe9,0x1,0x1                                                                                    
001e42   23e9     ADDWFC    0xe9,0x1,0x1                                                                                    
001e44   1fea     COMF      0xea,0x1,0x1                                                                                    
001e46   23ea     ADDWFC    0xea,0x1,0x1                                                                                    
001e48   1feb     COMF      0xeb,0x1,0x1                                                                                    
001e4a   23eb     ADDWFC    0xeb,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4c   0101     MOVLB     0x1              gMoveTemp.m.sm.DirBits = 0;       // Start by assuming motors start CW         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4e   6b2a     CLRF      0x2a,0x1                                                                                        
001e50   6b2b     CLRF      0x2b,0x1         gMoveTemp.m.sm.DelayCounter = 0;  // No delay for motor moves                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e52   6b2c     CLRF      0x2c,0x1                                                                                        
001e54   6b2d     CLRF      0x2d,0x1                                                                                        
001e56   6b2e     CLRF      0x2e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Subtract off half of the Accel term and add 1/6th of the Jerk before we add the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // move to the queue. Why? Because it makes the math cleaner (see LM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // documentation)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e58   c1d8     MOVFF     0x1d8,0x40       gRate1 = gRate1 - (gAccel1/2) + (gJerk1/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5a   f040                                                                                                               
001e5c   c1d9     MOVFF     0x1d9,0x41                                                                                      
001e5e   f041                                                                                                               
001e60   c1da     MOVFF     0x1da,0x42                                                                                      
001e62   f042                                                                                                               
001e64   c1db     MOVFF     0x1db,0x43                                                                                      
001e66   f043                                                                                                               
001e68   0e02     MOVLW     0x2                                                                                             
001e6a   ec6b     CALL      0x34d6,0x0                                                                                      
001e6c   f01a                                                                                                               
001e6e   5040     MOVF      0x40,0x0,0x0                                                                                    
001e70   0101     MOVLB     0x1                                                                                             
001e72   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
001e74   6e4e     MOVWF     0x4e,0x0                                                                                        
001e76   5041     MOVF      0x41,0x0,0x0                                                                                    
001e78   59d1     SUBWFB    0xd1,0x0,0x1                                                                                    
001e7a   6e4f     MOVWF     0x4f,0x0                                                                                        
001e7c   5042     MOVF      0x42,0x0,0x0                                                                                    
001e7e   59d2     SUBWFB    0xd2,0x0,0x1                                                                                    
001e80   6e50     MOVWF     0x50,0x0                                                                                        
001e82   5043     MOVF      0x43,0x0,0x0                                                                                    
001e84   59d3     SUBWFB    0xd3,0x0,0x1                                                                                    
001e86   6e51     MOVWF     0x51,0x0                                                                                        
001e88   c1dc     MOVFF     0x1dc,0x40                                                                                      
001e8a   f040                                                                                                               
001e8c   c1dd     MOVFF     0x1dd,0x41                                                                                      
001e8e   f041                                                                                                               
001e90   c1de     MOVFF     0x1de,0x42                                                                                      
001e92   f042                                                                                                               
001e94   c1df     MOVFF     0x1df,0x43                                                                                      
001e96   f043                                                                                                               
001e98   0e06     MOVLW     0x6                                                                                             
001e9a   ec6b     CALL      0x34d6,0x0                                                                                      
001e9c   f01a                                                                                                               
001e9e   504e     MOVF      0x4e,0x0,0x0                                                                                    
001ea0   2440     ADDWF     0x40,0x0,0x0                                                                                    
001ea2   0101     MOVLB     0x1                                                                                             
001ea4   6fd0     MOVWF     0xd0,0x1                                                                                        
001ea6   504f     MOVF      0x4f,0x0,0x0                                                                                    
001ea8   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001eaa   6fd1     MOVWF     0xd1,0x1                                                                                        
001eac   5050     MOVF      0x50,0x0,0x0                                                                                    
001eae   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001eb0   6fd2     MOVWF     0xd2,0x1                                                                                        
001eb2   5051     MOVF      0x51,0x0,0x0                                                                                    
001eb4   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001eb6   6fd3     MOVWF     0xd3,0x1                                                                                        
001eb8   c1e8     MOVFF     0x1e8,0x40       gRate2 = gRate2 - (gAccel2/2) + (gJerk2/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eba   f040                                                                                                               
001ebc   c1e9     MOVFF     0x1e9,0x41                                                                                      
001ebe   f041                                                                                                               
001ec0   c1ea     MOVFF     0x1ea,0x42                                                                                      
001ec2   f042                                                                                                               
001ec4   c1eb     MOVFF     0x1eb,0x43                                                                                      
001ec6   f043                                                                                                               
001ec8   0e02     MOVLW     0x2                                                                                             
001eca   ec6b     CALL      0x34d6,0x0                                                                                      
001ecc   f01a                                                                                                               
001ece   5040     MOVF      0x40,0x0,0x0                                                                                    
001ed0   0101     MOVLB     0x1                                                                                             
001ed2   5de0     SUBWF     0xe0,0x0,0x1                                                                                    
001ed4   6e4e     MOVWF     0x4e,0x0                                                                                        
001ed6   5041     MOVF      0x41,0x0,0x0                                                                                    
001ed8   59e1     SUBWFB    0xe1,0x0,0x1                                                                                    
001eda   6e4f     MOVWF     0x4f,0x0                                                                                        
001edc   5042     MOVF      0x42,0x0,0x0                                                                                    
001ede   59e2     SUBWFB    0xe2,0x0,0x1                                                                                    
001ee0   6e50     MOVWF     0x50,0x0                                                                                        
001ee2   5043     MOVF      0x43,0x0,0x0                                                                                    
001ee4   59e3     SUBWFB    0xe3,0x0,0x1                                                                                    
001ee6   6e51     MOVWF     0x51,0x0                                                                                        
001ee8   c1ec     MOVFF     0x1ec,0x40                                                                                      
001eea   f040                                                                                                               
001eec   c1ed     MOVFF     0x1ed,0x41                                                                                      
001eee   f041                                                                                                               
001ef0   c1ee     MOVFF     0x1ee,0x42                                                                                      
001ef2   f042                                                                                                               
001ef4   c1ef     MOVFF     0x1ef,0x43                                                                                      
001ef6   f043                                                                                                               
001ef8   0e06     MOVLW     0x6                                                                                             
001efa   ec6b     CALL      0x34d6,0x0                                                                                      
001efc   f01a                                                                                                               
001efe   504e     MOVF      0x4e,0x0,0x0                                                                                    
001f00   2440     ADDWF     0x40,0x0,0x0                                                                                    
001f02   0101     MOVLB     0x1                                                                                             
001f04   6fe0     MOVWF     0xe0,0x1                                                                                        
001f06   504f     MOVF      0x4f,0x0,0x0                                                                                    
001f08   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001f0a   6fe1     MOVWF     0xe1,0x1                                                                                        
001f0c   5050     MOVF      0x50,0x0,0x0                                                                                    
001f0e   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001f10   6fe2     MOVWF     0xe2,0x1                                                                                        
001f12   5051     MOVF      0x51,0x0,0x0                                                                                    
001f14   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001f16   6fe3     MOVWF     0xe3,0x1                                                                                        
0034d6   6e45     MOVWF     0x45,0x0                                                                                        
0034d8   6a46     CLRF      0x46,0x0                                                                                        
0034da   6a47     CLRF      0x47,0x0                                                                                        
0034dc   6a48     CLRF      0x48,0x0                                                                                        
0034de   effb     GOTO      0x75f6                                                                                          
0034e0   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We will use the SEState move parameter to hold a bitfield. This bitfield    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // will tell the ISR if the accumulators need any special treatment when       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the command is loaded. We can zero it, or set it to 2^31-1, or leave        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it alone.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We need to check to see if the rate at the first step < 0, and              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // if so, we need the FIFO to set the accumulator to 2^31-1 before             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // as the command is loaded. So we use two bits in SEState to indicate         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // this.                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f18   0101     MOVLB     0x1              gMoveTemp.m.sm.SEState = 0;           // Start with all bits clear             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f1a   6b2f     CLRF      0x2f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f1c   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f1e   d02e     BRA       0x1f7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the ISR_BIT_NUM test mode is on, then interpret the Clear parameter    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // as the initial value for the accumulator.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f20   0efd     MOVLW     0xfd               if (ClearRet == kEXTRACT_OK)  // We got a Clear parameter                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f22   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f24   e10b     BNZ       0x1f3c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f26   0e10     MOVLW     0x10                 gMoveTemp.m.sm.SEState = SESTATE_ARBITRARY_ACC_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f28   6f2f     MOVWF     0x2f,0x1                                                                                        
001f2a   c1cc     MOVFF     0x1cc,0x12b          gMoveTemp.m.sm.DelayCounter = gClearAccs;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f2c   f12b                                                                                                               
001f2e   c1cd     MOVFF     0x1cd,0x12c                                                                                     
001f30   f12c                                                                                                               
001f32   c1ce     MOVFF     0x1ce,0x12d                                                                                     
001f34   f12d                                                                                                               
001f36   c1cf     MOVFF     0x1cf,0x12e                                                                                     
001f38   f12e                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f3a   d087     BRA       0x204a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // But if we didn't get a Clear parameter, then treat it as if the user    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // wants the accumulator cleared                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This block "looks ahead" at the start of a move (while it is being      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // parsed) to figure out if we need to negate the accumulator (i.e. start from D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // 0x7FFFFFFFUL). Since this is common to LM/LT/L3/T3, and once for each axis, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it gets its own function.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f3c   ec1a     CALL      0x3834,0x0           NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f3e   f01c                                                                                                               
003834   0e04     MOVLW     0x4                                                                                             
003836   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003838   0ed8     MOVLW     0xd8                 RateTemp = gRate1 + gAccel1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00383a   6ee9     MOVWF     0xe9,0x0                                                                                        
00383c   0e01     MOVLW     0x1                                                                                             
00383e   6eea     MOVWF     0xea,0x0                                                                                        
003840   0101     MOVLB     0x1                                                                                             
003842   51d0     MOVF      0xd0,0x0,0x1                                                                                    
003844   24ee     ADDWF     0xee,0x0,0x0                                                                                    
003846   6e4e     MOVWF     0x4e,0x0                                                                                        
003848   51d1     MOVF      0xd1,0x0,0x1                                                                                    
00384a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00384c   6e4f     MOVWF     0x4f,0x0                                                                                        
00384e   51d2     MOVF      0xd2,0x0,0x1                                                                                    
003850   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
003852   6e50     MOVWF     0x50,0x0                                                                                        
003854   51d3     MOVF      0xd3,0x0,0x1                                                                                    
003856   ef11     GOTO      0x3222                                                                                          
003858   f019                                                                                                               
001f40   e602     BN        0x1f46               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f42   ec80     CALL      0x3300,0x0                                                                                      
001f44   f019                                                                                                               
001f46   e30f     BNC       0x1f66                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f48   ec2f     CALL      0x325e,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f4a   f019                                                                                                               
001f4c   e10e     BNZ       0x1f6a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f4e   ec3d     CALL      0x387a,0x0               RateTemp = gAccel1 + gJerk1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f50   f01c                                                                                                               
00387a   df54     RCALL     0x3724                                                                                          
00387c   51d8     MOVF      0xd8,0x0,0x1                                                                                    
00387e   24ee     ADDWF     0xee,0x0,0x0                                                                                    
003880   6e4e     MOVWF     0x4e,0x0                                                                                        
003882   51d9     MOVF      0xd9,0x0,0x1                                                                                    
003884   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
003886   6e4f     MOVWF     0x4f,0x0                                                                                        
003888   51da     MOVF      0xda,0x0,0x1                                                                                    
00388a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00388c   6e50     MOVWF     0x50,0x0                                                                                        
00388e   51db     MOVF      0xdb,0x0,0x1                                                                                    
003890   ef11     GOTO      0x3222                                                                                          
003892   f019                                                                                                               
001f52   e602     BN        0x1f58                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f54   ec80     CALL      0x3300,0x0                                                                                      
001f56   f019                                                                                                               
001f58   e306     BNC       0x1f66                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5a   ec2f     CALL      0x325e,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5c   f019                                                                                                               
001f5e   e105     BNZ       0x1f6a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f60   0e80     MOVLW     0x80                         if (gJerk1 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f62   15df     ANDWF     0xdf,0x0,0x1                                                                                    
001f64   e002     BZ        0x1f6a                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f66   ec2b     CALL      0x3656,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f68   f01b                                                                                                               
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f6a   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f6c   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f6e   e003     BZ        0x1f76                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f70   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f72   852f     BSF       0x2f,0x2,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f74   d06a     BRA       0x204a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f76   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f78   812f     BSF       0x2f,0x0,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7a   d067     BRA       0x204a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Test mode not active, so just check Clear parameter bits 0 and 1          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if user wants to start move with cleared accumulator. If so,       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // check for need to invert accumulator when move loaded into FIFO.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7c   c1cc     MOVFF     0x1cc,0x4e         if (gClearAccs & 0x01)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7e   f04e                                                                                                               
001f80   0e01     MOVLW     0x1                                                                                             
001f82   ecef     CALL      0x35de,0x0                                                                                      
001f84   f01a                                                                                                               
001f86   e01f     BZ        0x1fc6                                                                                          
0035de   164e     ANDWF     0x4e,0x1,0x0                                                                                    
0035e0   6a4f     CLRF      0x4f,0x0                                                                                        
0035e2   6a50     CLRF      0x50,0x0                                                                                        
0035e4   6a51     CLRF      0x51,0x0                                                                                        
0035e6   504e     MOVF      0x4e,0x0,0x0                                                                                    
0035e8   104f     IORWF     0x4f,0x0,0x0                                                                                    
0035ea   1050     IORWF     0x50,0x0,0x0                                                                                    
0035ec   1051     IORWF     0x51,0x0,0x0                                                                                    
0035ee   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f88   ec1a     CALL      0x3834,0x0           NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8a   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 RateTemp = gRate1 + gAccel1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8c   e602     BN        0x1f92               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8e   ec80     CALL      0x3300,0x0                                                                                      
001f90   f019                                                                                                               
001f92   e30f     BNC       0x1fb2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f94   ec2f     CALL      0x325e,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f96   f019                                                                                                               
001f98   e10e     BNZ       0x1fb6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9a   ec3d     CALL      0x387a,0x0               RateTemp = gAccel1 + gJerk1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9c   f01c                                                                                                               
003724   0edc     MOVLW     0xdc                                                                                            
003726   6ee9     MOVWF     0xe9,0x0                                                                                        
003728   0e01     MOVLW     0x1                                                                                             
00372a   6eea     MOVWF     0xea,0x0                                                                                        
00372c   0012     RETURN    0x0                                                                                             
001f9e   e602     BN        0x1fa4                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa0   ec80     CALL      0x3300,0x0                                                                                      
001fa2   f019                                                                                                               
001fa4   e306     BNC       0x1fb2                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa6   ec2f     CALL      0x325e,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa8   f019                                                                                                               
001faa   e105     BNZ       0x1fb6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fac   0e80     MOVLW     0x80                         if (gJerk1 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fae   15df     ANDWF     0xdf,0x0,0x1                                                                                    
001fb0   e002     BZ        0x1fb6                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb2   ec2b     CALL      0x3656,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb4   f01b                                                                                                               
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb6   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb8   50db     MOVF      0xdb,0x0,0x0                                                                                    
001fba   e003     BZ        0x1fc2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fbc   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fbe   852f     BSF       0x2f,0x2,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc0   d002     BRA       0x1fc6               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc2   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc4   812f     BSF       0x2f,0x0,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc6   c1cc     MOVFF     0x1cc,0x4e         if (gClearAccs & 0x02)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc8   f04e                                                                                                               
001fca   0e02     MOVLW     0x2                                                                                             
001fcc   ecef     CALL      0x35de,0x0                                                                                      
001fce   f01a                                                                                                               
001fd0   e03c     BZ        0x204a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fd2   0e04     MOVLW     0x4                  NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fd4   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fd6   ec97     CALL      0x372e,0x0           RateTemp = gRate2 + gAccel2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fd8   f01b                                                                                                               
001fda   0101     MOVLB     0x1                                                                                             
001fdc   51e0     MOVF      0xe0,0x0,0x1                                                                                    
001fde   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001fe0   6e4e     MOVWF     0x4e,0x0                                                                                        
001fe2   51e1     MOVF      0xe1,0x0,0x1                                                                                    
001fe4   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fe6   6e4f     MOVWF     0x4f,0x0                                                                                        
001fe8   51e2     MOVF      0xe2,0x0,0x1                                                                                    
001fea   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fec   6e50     MOVWF     0x50,0x0                                                                                        
001fee   51e3     MOVF      0xe3,0x0,0x1                                                                                    
001ff0   ec11     CALL      0x3222,0x0                                                                                      
001ff2   f019                                                                                                               
001ff4   e602     BN        0x1ffa               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff6   ec80     CALL      0x3300,0x0                                                                                      
001ff8   f019                                                                                                               
001ffa   e31d     BNC       0x2036                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffc   ec2f     CALL      0x325e,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffe   f019                                                                                                               
002000   e11c     BNZ       0x203a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002002   0eec     MOVLW     0xec                     RateTemp = gAccel2 + gJerk2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002004   6ee9     MOVWF     0xe9,0x0                                                                                        
002006   0e01     MOVLW     0x1                                                                                             
002008   6eea     MOVWF     0xea,0x0                                                                                        
00200a   51e8     MOVF      0xe8,0x0,0x1                                                                                    
00200c   24ee     ADDWF     0xee,0x0,0x0                                                                                    
00200e   6e4e     MOVWF     0x4e,0x0                                                                                        
002010   51e9     MOVF      0xe9,0x0,0x1                                                                                    
002012   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002014   6e4f     MOVWF     0x4f,0x0                                                                                        
002016   51ea     MOVF      0xea,0x0,0x1                                                                                    
002018   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00201a   6e50     MOVWF     0x50,0x0                                                                                        
00201c   51eb     MOVF      0xeb,0x0,0x1                                                                                    
00201e   ec11     CALL      0x3222,0x0                                                                                      
002020   f019                                                                                                               
003222   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
003224   6e51     MOVWF     0x51,0x0                                                                                        
003226   c04e     MOVFF     0x4e,0xfdf                                                                                      
003228   ffdf                                                                                                               
00322a   0e01     MOVLW     0x1                                                                                             
00322c   c04f     MOVFF     0x4f,0xfdb                                                                                      
00322e   ffdb                                                                                                               
003230   0e02     MOVLW     0x2                                                                                             
003232   c050     MOVFF     0x50,0xfdb                                                                                      
003234   ffdb                                                                                                               
003236   0e03     MOVLW     0x3                                                                                             
003238   c051     MOVFF     0x51,0xfdb                                                                                      
00323a   ffdb                                                                                                               
002022   e602     BN        0x2028                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002024   ec80     CALL      0x3300,0x0                                                                                      
002026   f019                                                                                                               
002028   e306     BNC       0x2036                                                                                          
00323c   ecac     CALL      0x3b58,0x0                                                                                      
00323e   f01d                                                                                                               
003240   90d8     BCF       0xd8,0x0,0x0                                                                                    
003242   50eb     MOVF      0xeb,0x0,0x0                                                                                    
003244   0a00     XORLW     0x0                                                                                             
003246   0012     RETURN    0x0                                                                                             
003300   0e00     MOVLW     0x0                                                                                             
003302   5cee     SUBWF     0xee,0x0,0x0                                                                                    
003304   0e00     MOVLW     0x0                                                                                             
003306   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003308   0e00     MOVLW     0x0                                                                                             
00330a   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00330c   0e00     MOVLW     0x0                                                                                             
00330e   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003310   0012     RETURN    0x0                                                                                             
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202a   ec2f     CALL      0x325e,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202c   f019                                                                                                               
00202e   e105     BNZ       0x203a                                                                                          
00325e   dad9     RCALL     0x3812                                                                                          
003260   504e     MOVF      0x4e,0x0,0x0                                                                                    
003262   104f     IORWF     0x4f,0x0,0x0                                                                                    
003264   1050     IORWF     0x50,0x0,0x0                                                                                    
003266   1051     IORWF     0x51,0x0,0x0                                                                                    
003268   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002030   0e80     MOVLW     0x80                         if (gJerk2 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002032   15ef     ANDWF     0xef,0x0,0x1                                                                                    
002034   e002     BZ        0x203a                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002036   ec2b     CALL      0x3656,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002038   f01b                                                                                                               
003656   0e01     MOVLW     0x1                                                                                             
003658   6ef3     MOVWF     0xf3,0x0                                                                                        
00365a   0e04     MOVLW     0x4                                                                                             
00365c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00365e   ffdb                                                                                                               
003660   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00203a   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00203c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00203e   e003     BZ        0x2046                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002040   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC2_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002042   872f     BSF       0x2f,0x3,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002044   d002     BRA       0x204a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002046   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC2_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002048   832f     BSF       0x2f,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00204a   ec92     CALL      0x3724,0x0       gAccel1 = gAccel1 - gJerk1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00204c   f01b                                                                                                               
00204e   50ee     MOVF      0xee,0x0,0x0                                                                                    
002050   0101     MOVLB     0x1                                                                                             
002052   5dd8     SUBWF     0xd8,0x0,0x1                                                                                    
002054   6fd8     MOVWF     0xd8,0x1                                                                                        
002056   50ee     MOVF      0xee,0x0,0x0                                                                                    
002058   59d9     SUBWFB    0xd9,0x0,0x1                                                                                    
00205a   6fd9     MOVWF     0xd9,0x1                                                                                        
00205c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00205e   59da     SUBWFB    0xda,0x0,0x1                                                                                    
002060   6fda     MOVWF     0xda,0x1                                                                                        
002062   50ee     MOVF      0xee,0x0,0x0                                                                                    
002064   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
002066   6fdb     MOVWF     0xdb,0x1                                                                                        
002068   0eec     MOVLW     0xec             gAccel2 = gAccel2 - gJerk2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00206a   6ee9     MOVWF     0xe9,0x0                                                                                        
00206c   0e01     MOVLW     0x1                                                                                             
00206e   6eea     MOVWF     0xea,0x0                                                                                        
002070   50ee     MOVF      0xee,0x0,0x0                                                                                    
002072   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
002074   6fe8     MOVWF     0xe8,0x1                                                                                        
002076   50ee     MOVF      0xee,0x0,0x0                                                                                    
002078   59e9     SUBWFB    0xe9,0x0,0x1                                                                                    
00207a   6fe9     MOVWF     0xe9,0x1                                                                                        
00207c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00207e   59ea     SUBWFB    0xea,0x0,0x1                                                                                    
002080   6fea     MOVWF     0xea,0x1                                                                                        
002082   50ee     MOVF      0xee,0x0,0x0                                                                                    
002084   59eb     SUBWFB    0xeb,0x0,0x1                                                                                    
002086   6feb     MOVWF     0xeb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002088   0100     MOVLB     0x0              if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208a   05d9     DECF      0xd9,0x0,0x1                                                                                    
00208c   e102     BNZ       0x2092                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // (To be more logical this should happen in the ISR when this move          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // is loaded rather than here.)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208e   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002090   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load up the move structure with all needed values                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002092   c1d0     MOVFF     0x1d0,0x130      gMoveTemp.m.sm.Rate[0].value = gRate1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002094   f130                                                                                                               
002096   c1d1     MOVFF     0x1d1,0x131                                                                                     
002098   f131                                                                                                               
00209a   c1d2     MOVFF     0x1d2,0x132                                                                                     
00209c   f132                                                                                                               
00209e   c1d3     MOVFF     0x1d3,0x133                                                                                     
0020a0   f133                                                                                                               
0020a2   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020a4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020a6   e009     BZ        0x20ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020a8   c1c8     MOVFF     0x1c8,0x138        gMoveTemp.m.sm.Steps[0] = gIntervals;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020aa   f138                                                                                                               
0020ac   c1c9     MOVFF     0x1c9,0x139                                                                                     
0020ae   f139                                                                                                               
0020b0   c1ca     MOVFF     0x1ca,0x13a                                                                                     
0020b2   f13a                                                                                                               
0020b4   c1cb     MOVFF     0x1cb,0x13b                                                                                     
0020b6   f13b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020b8   d002     BRA       0x20be           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ba   ec47     CALL      0x348e,0x0         gMoveTemp.m.sm.Steps[0] = gSteps1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020bc   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020be   c1d8     MOVFF     0x1d8,0x148      gMoveTemp.m.sm.Accel[0] = gAccel1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020c0   f148                                                                                                               
0020c2   c1d9     MOVFF     0x1d9,0x149                                                                                     
0020c4   f149                                                                                                               
0020c6   c1da     MOVFF     0x1da,0x14a                                                                                     
0020c8   f14a                                                                                                               
0020ca   c1db     MOVFF     0x1db,0x14b                                                                                     
0020cc   f14b                                                                                                               
0020ce   c1dc     MOVFF     0x1dc,0x140      gMoveTemp.m.sm.Jerk[0] = gJerk1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d0   f140                                                                                                               
0020d2   c1dd     MOVFF     0x1dd,0x141                                                                                     
0020d4   f141                                                                                                               
0020d6   c1de     MOVFF     0x1de,0x142                                                                                     
0020d8   f142                                                                                                               
0020da   c1df     MOVFF     0x1df,0x143                                                                                     
0020dc   f143                                                                                                               
0020de   c1e0     MOVFF     0x1e0,0x134      gMoveTemp.m.sm.Rate[1].value = gRate2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e0   f134                                                                                                               
0020e2   c1e1     MOVFF     0x1e1,0x135                                                                                     
0020e4   f135                                                                                                               
0020e6   c1e2     MOVFF     0x1e2,0x136                                                                                     
0020e8   f136                                                                                                               
0020ea   c1e3     MOVFF     0x1e3,0x137                                                                                     
0020ec   f137                                                                                                               
0020ee   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020f2   e006     BZ        0x2100                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f4   0101     MOVLB     0x1                gMoveTemp.m.sm.Steps[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f6   6b3c     CLRF      0x3c,0x1                                                                                        
0020f8   6b3d     CLRF      0x3d,0x1                                                                                        
0020fa   6b3e     CLRF      0x3e,0x1                                                                                        
0020fc   6b3f     CLRF      0x3f,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020fe   d002     BRA       0x2104           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002100   ec50     CALL      0x34a0,0x0         gMoveTemp.m.sm.Steps[1] = gSteps2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002102   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002104   c1e8     MOVFF     0x1e8,0x14c      gMoveTemp.m.sm.Accel[1] = gAccel2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002106   f14c                                                                                                               
002108   c1e9     MOVFF     0x1e9,0x14d                                                                                     
00210a   f14d                                                                                                               
00210c   c1ea     MOVFF     0x1ea,0x14e                                                                                     
00210e   f14e                                                                                                               
002110   c1eb     MOVFF     0x1eb,0x14f                                                                                     
002112   f14f                                                                                                               
002114   c1ec     MOVFF     0x1ec,0x144      gMoveTemp.m.sm.Jerk[1] = gJerk2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002116   f144                                                                                                               
002118   c1ed     MOVFF     0x1ed,0x145                                                                                     
00211a   f145                                                                                                               
00211c   c1ee     MOVFF     0x1ee,0x146                                                                                     
00211e   f146                                                                                                               
002120   c1ef     MOVFF     0x1ef,0x147                                                                                     
002122   f147                                                                                                               
002124   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002126   50db     MOVF      0xdb,0x0,0x0                                                                                    
002128   e003     BZ        0x2130                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212a   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LT_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212c   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212e   d002     BRA       0x2134           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002130   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LM_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002132   0e06     MOVLW     0x6                                                                                             
002134   6f29     MOVWF     0x29,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002136   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002138   d04d     BRA       0x21d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Print the final values used by the ISR for this move                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00213a   ecb1     CALL      0x3b62,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00213c   f01d                                                                                                               
003b62   0eaf     MOVLW     0xaf                                                                                            
003b64   6e4e     MOVWF     0x4e,0x0                                                                                        
003b66   0e81     MOVLW     0x81                                                                                            
003b68   ec79     CALL      0x30f2,0x0                                                                                      
003b6a   f018                                                                                                               
00213e   ecea     CALL      0x37d4,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[0].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002140   f01b                                                                                                               
003b6c   ef59     GOTO      0x34b2                                                                                          
003b6e   f01a                                                                                                               
002142   ec40     CALL      0x3a80,0x0         ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002144   f01d                                                                                                               
003a80   0eaa     MOVLW     0xaa                                                                                            
003a82   6e4e     MOVWF     0x4e,0x0                                                                                        
003a84   0e81     MOVLW     0x81                                                                                            
003a86   ec79     CALL      0x30f2,0x0                                                                                      
003a88   f018                                                                                                               
003a8a   c138     MOVFF     0x138,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a8c   ffe6                                                                                                               
003a8e   c139     MOVFF     0x139,0xfe6                                                                                     
003a90   ffe6                                                                                                               
003a92   c13a     MOVFF     0x13a,0xfe6                                                                                     
003a94   ffe6                                                                                                               
003a96   c13b     MOVFF     0x13b,0xfe6                                                                                     
003a98   ffe6                                                                                                               
003a9a   ef2a     GOTO      0x3254                                                                                          
003a9c   f019                                                                                                               
002146   0ea5     MOVLW     0xa5               ebb_print((far rom char *)" A1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002148   6e4e     MOVWF     0x4e,0x0                                                                                        
00214a   0e81     MOVLW     0x81                                                                                            
00214c   ec79     CALL      0x30f2,0x0                                                                                      
00214e   f018                                                                                                               
002150   c148     MOVFF     0x148,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[0]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002152   ffe6                                                                                                               
002154   c149     MOVFF     0x149,0xfe6                                                                                     
002156   ffe6                                                                                                               
002158   c14a     MOVFF     0x14a,0xfe6                                                                                     
00215a   ffe6                                                                                                               
00215c   c14b     MOVFF     0x14b,0xfe6                                                                                     
00215e   ffe6                                                                                                               
002160   ecea     CALL      0x37d4,0x0                                                                                      
002162   f01b                                                                                                               
002164   0ea0     MOVLW     0xa0               ebb_print((far rom char *)" J1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002166   6e4e     MOVWF     0x4e,0x0                                                                                        
002168   0e81     MOVLW     0x81                                                                                            
00216a   ec79     CALL      0x30f2,0x0                                                                                      
00216c   f018                                                                                                               
00216e   c140     MOVFF     0x140,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[0]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002170   ffe6                                                                                                               
002172   c141     MOVFF     0x141,0xfe6                                                                                     
002174   ffe6                                                                                                               
002176   c142     MOVFF     0x142,0xfe6                                                                                     
002178   ffe6                                                                                                               
00217a   c143     MOVFF     0x143,0xfe6                                                                                     
00217c   ffe6                                                                                                               
00217e   ecea     CALL      0x37d4,0x0                                                                                      
002180   f01b                                                                                                               
002182   ecb8     CALL      0x3b70,0x0         ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002184   f01d                                                                                                               
003b70   0e9b     MOVLW     0x9b                                                                                            
003b72   6e4e     MOVWF     0x4e,0x0                                                                                        
003b74   0e81     MOVLW     0x81                                                                                            
003b76   ec79     CALL      0x30f2,0x0                                                                                      
003b78   f018                                                                                                               
002186   ecea     CALL      0x37d4,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[1].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002188   f01b                                                                                                               
003b7a   ef62     GOTO      0x34c4                                                                                          
003b7c   f01a                                                                                                               
00218a   0e96     MOVLW     0x96               ebb_print((far rom char *)" A2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218c   6e4e     MOVWF     0x4e,0x0                                                                                        
00218e   0e81     MOVLW     0x81                                                                                            
002190   ec62     CALL      0x3ac4,0x0                                                                                      
002192   f01d                                                                                                               
003ac4   ec79     CALL      0x30f2,0x0                                                                                      
003ac6   f018                                                                                                               
003ac8   c13c     MOVFF     0x13c,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003aca   ffe6                                                                                                               
003acc   c13d     MOVFF     0x13d,0xfe6                                                                                     
003ace   ffe6                                                                                                               
003ad0   c13e     MOVFF     0x13e,0xfe6                                                                                     
003ad2   ffe6                                                                                                               
003ad4   c13f     MOVFF     0x13f,0xfe6                                                                                     
003ad6   ffe6                                                                                                               
003ad8   ef2a     GOTO      0x3254                                                                                          
003ada   f019                                                                                                               
002194   0e91     MOVLW     0x91               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002196   6e4e     MOVWF     0x4e,0x0                                                                                        
002198   0e81     MOVLW     0x81                                                                                            
00219a   ec79     CALL      0x30f2,0x0                                                                                      
00219c   f018                                                                                                               
00219e   c14c     MOVFF     0x14c,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[1]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a0   ffe6                                                                                                               
0021a2   c14d     MOVFF     0x14d,0xfe6                                                                                     
0021a4   ffe6                                                                                                               
0021a6   c14e     MOVFF     0x14e,0xfe6                                                                                     
0021a8   ffe6                                                                                                               
0021aa   c14f     MOVFF     0x14f,0xfe6                                                                                     
0021ac   ffe6                                                                                                               
0021ae   ecea     CALL      0x37d4,0x0                                                                                      
0021b0   f01b                                                                                                               
0021b2   0e8c     MOVLW     0x8c               ebb_print((far rom char *)" J2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021b4   6e4e     MOVWF     0x4e,0x0                                                                                        
0021b6   0e81     MOVLW     0x81                                                                                            
0021b8   ec79     CALL      0x30f2,0x0                                                                                      
0021ba   f018                                                                                                               
0021bc   c144     MOVFF     0x144,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[1]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021be   ffe6                                                                                                               
0021c0   c145     MOVFF     0x145,0xfe6                                                                                     
0021c2   ffe6                                                                                                               
0021c4   c146     MOVFF     0x146,0xfe6                                                                                     
0021c6   ffe6                                                                                                               
0021c8   c147     MOVFF     0x147,0xfe6                                                                                     
0021ca   ffe6                                                                                                               
0021cc   ecea     CALL      0x37d4,0x0                                                                                      
0021ce   f01b                                                                                                               
0021d0   ec54     CALL      0x32a8,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021d2   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021d4   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021d6   d00a     BRA       0x21ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021d8   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021da   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0021dc   e2fd     BC        0x21d8                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021de   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e0   d005     BRA       0x21ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e2   ec88     CALL      0x3110,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e4   f018                                                                                                               
                                                 gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e6   e301     BNC       0x21ea               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e8   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ea   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ec   ec52     CALL      0x32a4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ee   f019                                                                                                               
0021f0   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021f2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0021f4   e202     BC        0x21fa                                                                                          
0021f6   6ae1     CLRF      0xe1,0x0                                                                                        
0021f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0021fa   ef4b     GOTO      0x3296                                                                                          
0021fc   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Stepper Motor command                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SM,<move_duration>,<axis1_steps>,<axis2_steps>,<CleaAccs><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is 32 bit unsigned, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisX_steps> is a signed 32 bit number indicating how many steps (and what direction) the axis should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE1: <axis2_steps> is optional and can be left off                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional value of 0, 1, 2 or 3.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 will leave accumulators alone at the beginning of the move               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 will clear Motor1 accumulator and leave Motor2 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 will clear Motor2 accumulator and leave Motor1 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 will clear both Motor1 and Motor2 accumulators                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If the EBB can not make the move in the specified time, it will take as long as it needs to at max speed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // i.e. SM,1,1000 will not produce 1000steps in 1ms. Instead, it will take 40ms (25KHz max step rate) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE2: If you specify zero steps for the axis, then you effectively create a delay. Use for small D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // pauses before raising or lowering the pen, for example.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_SM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021fe   ec4a     CALL      0x3894,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002200   f01c                                                                                                               
003894   d993     RCALL     0x3bbc                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003896   0ec4     MOVLW     0xc4             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003898   6ee6     MOVWF     0xe6,0x0                                                                                        
00389a   0e01     MOVLW     0x1                                                                                             
00389c   d980     RCALL     0x3b9e                                                                                          
002202   0ed4     MOVLW     0xd4             extract_number(kLONG,  &gSteps1,  kREQUIRED);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002204   6ee6     MOVWF     0xe6,0x0                                                                                        
002206   0e01     MOVLW     0x1                                                                                             
002208   ec74     CALL      0x3ae8,0x0                                                                                      
00220a   f01d                                                                                                               
00389e   6ae6     CLRF      0xe6,0x0                                                                                        
0038a0   0012     RETURN    0x0                                                                                             
00220c   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gSteps2,  kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00220e   0ee4     MOVLW     0xe4                                                                                            
002210   6ee6     MOVWF     0xe6,0x0                                                                                        
002212   0e01     MOVLW     0x1                                                                                             
002214   ecd2     CALL      0x37a4,0x0                                                                                      
002216   f01b                                                                                                               
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002218   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00221a   5197     MOVF      0x97,0x0,0x1                                                                                    
00221c   e001     BZ        0x2220                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00221e   0012     RETURN    0x0                return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002220   da8a     RCALL     0x2736           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002222   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002224   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Circle Move command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: CM,<frequency>,<dest_x>,<dest_y>,<center_x>,<center_y>,<direction><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y>,<center_x>,<center_y> are required signed 16 bit numbers    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <frequency> is a required unsigned integer from 2 to 25000                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> is a required 0 for CW or 1 for CCW                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional 0, 1, 2 or 3                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y> are the relative coordinates where the arc should end up    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <center_x>,<center_y> are the relative coordinates where the center of the arc is D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <rate> is the step frequency in steps/second                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> specifies which direction the arc should take                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is the same as for SM                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002226   ec4d     CALL      0x329a,0x0     void parse_CM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002228   f019                                                                                                               
00222a   0e25     MOVLW     0x25                                                                                            
00222c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// TODO: This burden on the stack is huge - use globals for some of this      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00222e   6ade     CLRF      0xde,0x0         UINT16 frequency = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002230   6add     CLRF      0xdd,0x0                                                                                        
002232   0e02     MOVLW     0x2              INT32 dest_x = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002234   6adb     CLRF      0xdb,0x0                                                                                        
002236   0e03     MOVLW     0x3                                                                                             
002238   6adb     CLRF      0xdb,0x0                                                                                        
00223a   0e04     MOVLW     0x4                                                                                             
00223c   6adb     CLRF      0xdb,0x0                                                                                        
00223e   0e05     MOVLW     0x5                                                                                             
002240   6adb     CLRF      0xdb,0x0                                                                                        
002242   0e06     MOVLW     0x6              INT32 dest_y = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002244   6adb     CLRF      0xdb,0x0                                                                                        
002246   0e07     MOVLW     0x7                                                                                             
002248   6adb     CLRF      0xdb,0x0                                                                                        
00224a   0e08     MOVLW     0x8                                                                                             
00224c   6adb     CLRF      0xdb,0x0                                                                                        
00224e   0e09     MOVLW     0x9                                                                                             
002250   6adb     CLRF      0xdb,0x0                                                                                        
002252   0e0a     MOVLW     0xa              INT32 center_x = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002254   6adb     CLRF      0xdb,0x0                                                                                        
002256   0e0b     MOVLW     0xb                                                                                             
002258   6adb     CLRF      0xdb,0x0                                                                                        
00225a   0e0c     MOVLW     0xc                                                                                             
00225c   6adb     CLRF      0xdb,0x0                                                                                        
00225e   0e0d     MOVLW     0xd                                                                                             
002260   6adb     CLRF      0xdb,0x0                                                                                        
002262   0e0e     MOVLW     0xe              INT32 center_y = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002264   6adb     CLRF      0xdb,0x0                                                                                        
002266   0e0f     MOVLW     0xf                                                                                             
002268   6adb     CLRF      0xdb,0x0                                                                                        
00226a   0e10     MOVLW     0x10                                                                                            
00226c   6adb     CLRF      0xdb,0x0                                                                                        
00226e   0e11     MOVLW     0x11                                                                                            
002270   6adb     CLRF      0xdb,0x0                                                                                        
002272   0e12     MOVLW     0x12             UINT8 direction = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002274   6adb     CLRF      0xdb,0x0                                                                                        
002276   0e13     MOVLW     0x13             UINT32 rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002278   6adb     CLRF      0xdb,0x0                                                                                        
00227a   0e14     MOVLW     0x14                                                                                            
00227c   6adb     CLRF      0xdb,0x0                                                                                        
00227e   0e15     MOVLW     0x15                                                                                            
002280   6adb     CLRF      0xdb,0x0                                                                                        
002282   0e16     MOVLW     0x16                                                                                            
002284   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT32 temp;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_1;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_2;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT32 radius;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 typ_seg_long;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002286   ec72     CALL      0x18e4,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002288   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228a   eca3     CALL      0x3b46,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228c   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228e   ec0b     CALL      0x3a16,0x0       extract_number(kUINT,  &frequency,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002290   f01d                                                                                                               
002292   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &dest_x, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002294   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002296   0f02     ADDLW     0x2                                                                                             
002298   ec5c     CALL      0x3ab8,0x0                                                                                      
00229a   f01d                                                                                                               
00229c   0f06     ADDLW     0x6              extract_number(kLONG,  &dest_y,  kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229e   ec5c     CALL      0x3ab8,0x0                                                                                      
0022a0   f01d                                                                                                               
0022a2   0f0a     ADDLW     0xa              extract_number(kLONG,  &center_x,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022a4   ec5c     CALL      0x3ab8,0x0                                                                                      
0022a6   f01d                                                                                                               
0022a8   0f0e     ADDLW     0xe              extract_number(kLONG,  &center_y,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022aa   ec5c     CALL      0x3ab8,0x0                                                                                      
0022ac   f01d                                                                                                               
003ab8   6ee6     MOVWF     0xe6,0x0                                                                                        
003aba   0e00     MOVLW     0x0                                                                                             
003abc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003abe   de6d     RCALL     0x379a                                                                                          
0022ae   0f12     ADDLW     0x12             extract_number(kUCHAR, &direction,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022b0   ec70     CALL      0x38e0,0x0                                                                                      
0022b2   f01c                                                                                                               
003ac0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003ac2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022b4   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022b6   51c2     MOVF      0xc2,0x0,0x1                                                                                    
0022b8   e101     BNZ       0x22bc                                                                                          
0022ba   d084     BRA       0x23c4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // direction can only be 0 or 1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022bc   0e12     MOVLW     0x12               if (direction > 1u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0022c0   0801     SUBLW     0x1                                                                                             
0022c2   e202     BC        0x22c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c4   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c6   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Rate has to be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c8   cfde     MOVFF     0xfde,0x4e         if ((frequency < 1u) || (frequency > 25000u))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ca   f04e                                                                                                               
0022cc   cfdd     MOVFF     0xfdd,0x4f                                                                                      
0022ce   f04f                                                                                                               
0022d0   0e01     MOVLW     0x1                                                                                             
0022d2   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0022d4   0e00     MOVLW     0x0                                                                                             
0022d6   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0022d8   e308     BNC       0x22ea                                                                                          
0022da   ecac     CALL      0x3b58,0x0                                                                                      
0022dc   f01d                                                                                                               
0022de   0ea8     MOVLW     0xa8                                                                                            
0022e0   80d8     BSF       0xd8,0x0,0x0                                                                                    
0022e2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0022e4   0e61     MOVLW     0x61                                                                                            
0022e6   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
0022e8   e202     BC        0x22ee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ea   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ec   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check four positions for out of bounds                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ee   0e02     MOVLW     0x2                if ((dest_x > 32768) || (dest_x < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f0   cfdb     MOVFF     0xfdb,0x41                                                                                      
0022f2   f041                                                                                                               
0022f4   0e03     MOVLW     0x3                                                                                             
0022f6   cfdb     MOVFF     0xfdb,0x42                                                                                      
0022f8   f042                                                                                                               
0022fa   0e04     MOVLW     0x4                                                                                             
0022fc   cfdb     MOVFF     0xfdb,0x43                                                                                      
0022fe   f043                                                                                                               
002300   0e05     MOVLW     0x5                                                                                             
002302   eca6     CALL      0x354c,0x0                                                                                      
002304   f01a                                                                                                               
002306   e602     BN        0x230c                                                                                          
002308   ece8     CALL      0x33d0,0x0                                                                                      
00230a   f019                                                                                                               
00230c   e308     BNC       0x231e                                                                                          
00230e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002310   0f02     ADDLW     0x2                                                                                             
002312   ec05     CALL      0x340a,0x0                                                                                      
002314   f01a                                                                                                               
002316   e602     BN        0x231c                                                                                          
002318   ecf2     CALL      0x33e4,0x0                                                                                      
00231a   f019                                                                                                               
00231c   e202     BC        0x2322                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00231e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002320   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002322   0e06     MOVLW     0x6                if ((dest_y > 32768) || (dest_y < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002324   cfdb     MOVFF     0xfdb,0x41                                                                                      
002326   f041                                                                                                               
002328   0e07     MOVLW     0x7                                                                                             
00232a   cfdb     MOVFF     0xfdb,0x42                                                                                      
00232c   f042                                                                                                               
00232e   0e08     MOVLW     0x8                                                                                             
002330   cfdb     MOVFF     0xfdb,0x43                                                                                      
002332   f043                                                                                                               
002334   0e09     MOVLW     0x9                                                                                             
002336   eca6     CALL      0x354c,0x0                                                                                      
002338   f01a                                                                                                               
00233a   e602     BN        0x2340                                                                                          
00233c   ece8     CALL      0x33d0,0x0                                                                                      
00233e   f019                                                                                                               
002340   e308     BNC       0x2352                                                                                          
002342   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002344   0f06     ADDLW     0x6                                                                                             
002346   ec05     CALL      0x340a,0x0                                                                                      
002348   f01a                                                                                                               
00234a   e602     BN        0x2350                                                                                          
00234c   ecf2     CALL      0x33e4,0x0                                                                                      
00234e   f019                                                                                                               
002350   e202     BC        0x2356                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002352   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002354   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002356   0e0a     MOVLW     0xa                if ((center_x > 32768) || (center_x < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002358   cfdb     MOVFF     0xfdb,0x41                                                                                      
00235a   f041                                                                                                               
00235c   0e0b     MOVLW     0xb                                                                                             
00235e   cfdb     MOVFF     0xfdb,0x42                                                                                      
002360   f042                                                                                                               
002362   0e0c     MOVLW     0xc                                                                                             
002364   cfdb     MOVFF     0xfdb,0x43                                                                                      
002366   f043                                                                                                               
002368   0e0d     MOVLW     0xd                                                                                             
00236a   eca6     CALL      0x354c,0x0                                                                                      
00236c   f01a                                                                                                               
00236e   e602     BN        0x2374                                                                                          
002370   ece8     CALL      0x33d0,0x0                                                                                      
002372   f019                                                                                                               
002374   e308     BNC       0x2386                                                                                          
002376   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002378   0f0a     ADDLW     0xa                                                                                             
00237a   ec05     CALL      0x340a,0x0                                                                                      
00237c   f01a                                                                                                               
00237e   e602     BN        0x2384                                                                                          
002380   ecf2     CALL      0x33e4,0x0                                                                                      
002382   f019                                                                                                               
002384   e202     BC        0x238a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002386   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002388   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00238a   0e0e     MOVLW     0xe                if ((center_y > 32768) || (center_y < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00238c   cfdb     MOVFF     0xfdb,0x41                                                                                      
00238e   f041                                                                                                               
002390   0e0f     MOVLW     0xf                                                                                             
002392   cfdb     MOVFF     0xfdb,0x42                                                                                      
002394   f042                                                                                                               
002396   0e10     MOVLW     0x10                                                                                            
002398   cfdb     MOVFF     0xfdb,0x43                                                                                      
00239a   f043                                                                                                               
00239c   0e11     MOVLW     0x11                                                                                            
00239e   eca6     CALL      0x354c,0x0                                                                                      
0023a0   f01a                                                                                                               
0023a2   e602     BN        0x23a8                                                                                          
0023a4   ece8     CALL      0x33d0,0x0                                                                                      
0023a6   f019                                                                                                               
0023a8   e308     BNC       0x23ba                                                                                          
0023aa   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0023ac   0f0e     ADDLW     0xe                                                                                             
0023ae   ec05     CALL      0x340a,0x0                                                                                      
0023b0   f01a                                                                                                               
0023b2   e602     BN        0x23b8                                                                                          
0023b4   ecf2     CALL      0x33e4,0x0                                                                                      
0023b6   f019                                                                                                               
0023b8   e202     BC        0x23be                                                                                          
0033d0   80d8     BSF       0xd8,0x0,0x0                                                                                    
0033d2   0e00     MOVLW     0x0                                                                                             
0033d4   5441     SUBFWB    0x41,0x0,0x0                                                                                    
0033d6   0e80     MOVLW     0x80                                                                                            
0033d8   5442     SUBFWB    0x42,0x0,0x0                                                                                    
0033da   0e00     MOVLW     0x0                                                                                             
0033dc   5443     SUBFWB    0x43,0x0,0x0                                                                                    
0033de   0e00     MOVLW     0x0                                                                                             
0033e0   5444     SUBFWB    0x44,0x0,0x0                                                                                    
0033e2   0012     RETURN    0x0                                                                                             
0033e4   0e00     MOVLW     0x0                                                                                             
0033e6   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0033e8   0e80     MOVLW     0x80                                                                                            
0033ea   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033ec   0eff     MOVLW     0xff                                                                                            
0033ee   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033f0   0eff     MOVLW     0xff                                                                                            
0033f2   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033f4   0012     RETURN    0x0                                                                                             
00340a   6ee9     MOVWF     0xe9,0x0                                                                                        
00340c   cfda     MOVFF     0xfda,0xfea                                                                                     
00340e   ffea                                                                                                               
003410   80d8     BSF       0xd8,0x0,0x0                                                                                    
003412   0e03     MOVLW     0x3                                                                                             
003414   50eb     MOVF      0xeb,0x0,0x0                                                                                    
003416   0aff     XORLW     0xff                                                                                            
003418   0012     RETURN    0x0                                                                                             
00354c   cfdb     MOVFF     0xfdb,0x44                                                                                      
00354e   f044                                                                                                               
003550   3444     RLCF      0x44,0x0,0x0                                                                                    
003552   0e00     MOVLW     0x0                                                                                             
003554   1844     XORWF     0x44,0x0,0x0                                                                                    
003556   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ba   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023bc   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Bail if a there is a parameter limit error                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023be   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c0   5197     MOVF      0x97,0x0,0x1                                                                                    
0023c2   e144     BNZ       0x244c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c4   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c6   d042     BRA       0x244c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out input parameters for debugging                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c8   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ca   d039     BRA       0x243e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023cc   0e86     MOVLW     0x86               ebb_print((far rom char *)"Freq=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ce   6e4e     MOVWF     0x4e,0x0                                                                                        
0023d0   0e81     MOVLW     0x81                                                                                            
0023d2   ec79     CALL      0x30f2,0x0                                                                                      
0023d4   f018                                                                                                               
0023d6   cfde     MOVFF     0xfde,0x4e         ebb_print_int(frequency);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023d8   f04e                                                                                                               
0023da   cfdd     MOVFF     0xfdd,0x4f                                                                                      
0023dc   f04f                                                                                                               
0023de   ec0e     CALL      0x321c,0x0                                                                                      
0023e0   f019                                                                                                               
0023e2   0e7d     MOVLW     0x7d               ebb_print((far rom char *)" Dest_X=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023e4   6e4e     MOVWF     0x4e,0x0                                                                                        
0023e6   0e81     MOVLW     0x81                                                                                            
0023e8   ec79     CALL      0x30f2,0x0                                                                                      
0023ea   f018                                                                                                               
0023ec   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_x);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ee   0f02     ADDLW     0x2                                                                                             
0023f0   ec0e     CALL      0x3a1c,0x0                                                                                      
0023f2   f01d                                                                                                               
0023f4   0e74     MOVLW     0x74               ebb_print((far rom char *)" Dest_Y=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023f6   6e4e     MOVWF     0x4e,0x0                                                                                        
0023f8   0e81     MOVLW     0x81                                                                                            
0023fa   ec79     CALL      0x30f2,0x0                                                                                      
0023fc   f018                                                                                                               
0023fe   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_y);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002400   0f06     ADDLW     0x6                                                                                             
002402   ec0e     CALL      0x3a1c,0x0                                                                                      
002404   f01d                                                                                                               
002406   0e69     MOVLW     0x69               ebb_print((far rom char *)" Center_X=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002408   6e4e     MOVWF     0x4e,0x0                                                                                        
00240a   0e81     MOVLW     0x81                                                                                            
00240c   ec79     CALL      0x30f2,0x0                                                                                      
00240e   f018                                                                                                               
002410   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_x);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002412   0f0a     ADDLW     0xa                                                                                             
002414   ec0e     CALL      0x3a1c,0x0                                                                                      
002416   f01d                                                                                                               
002418   0e5e     MOVLW     0x5e               ebb_print((far rom char *)" Center_Y=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00241a   6e4e     MOVWF     0x4e,0x0                                                                                        
00241c   0e81     MOVLW     0x81                                                                                            
00241e   ec79     CALL      0x30f2,0x0                                                                                      
002420   f018                                                                                                               
002422   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_y);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002424   0f0e     ADDLW     0xe                                                                                             
002426   ec0e     CALL      0x3a1c,0x0                                                                                      
002428   f01d                                                                                                               
00242a   0e52     MOVLW     0x52               ebb_print((far rom char *)" Direction=");                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00242c   6e4e     MOVWF     0x4e,0x0                                                                                        
00242e   0e81     MOVLW     0x81                                                                                            
002430   ec79     CALL      0x30f2,0x0                                                                                      
002432   f018                                                                                                               
002434   0e12     MOVLW     0x12               ebb_print_int(direction);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002436   ec7d     CALL      0x38fa,0x0                                                                                      
002438   f01c                                                                                                               
00243a   ec54     CALL      0x32a8,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243c   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243e   0e30     MOVLW     0x30             ebb_print((far rom char *)"CM command disabled in this build");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002440   6e4e     MOVWF     0x4e,0x0                                                                                        
002442   0e81     MOVLW     0x81                                                                                            
002444   ecfd     CALL      0x39fa,0x0                                                                                      
002446   f01c                                                                                                               
                                             print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Current "turtle" position, relative to arc center: x_t, y_t:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_t = -center_x;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_t = -center_y;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Final ("target") position, relative to arc center: x_f, y_f                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_f = dest_x - center_x; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_f = dest_y - center_y; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here's that square root.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The argument, (center_x * center_x + center_y * center_y), is up to 31 bits. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = (center_x * center_x) + (center_y * center_y);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             radius = Sqrt(temp);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next calculate the "m_alpha" factor. This finds the smallest integer value m_alpha, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       such that 2^(2 * m_alpha + 3) >= radius                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   Possible values of m_alpha: 0 - 6                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       The radius can be as small as 5, such that 2^(2*0 + 3) = 8, already > radius 5. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 0 if radius = 5.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       Since the radius can be as large as 32767, (2^15), 2*alpha + 3 = 15   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 6 if radius = 32767.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Once m_alpha is computed, each straight subsegment around the circle spans an arc of D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   alpha = 1/(2^m_alpha) radians between its vertices.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since m_alpha is in the range 0-6, each arc angle is between 0.9 and 57.3 degrees: D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At smallest radius, (1/2^0) = 1; angle between vertices is 1 radian (57.3). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At largest radius, (1/2^6) = 1/64; angle between vertices is 1/64 =0.15625 radian, (0.9). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Rather than computing alpha (usually fractional), we keep track of m_alpha, and use it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   with bit shifts.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.m_alpha = 0; // uint8                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = 1 << ((2 * 0) + 3);  // left this way for clarity                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while (temp < radius)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gMoveTemp.m.cm.m_alpha += 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               temp = (1 << ((2 * gMoveTemp.m.cm.m_alpha) + 3)); // temp is uint16 (use bit shift instead of power) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next, compute what 1.5 * the typical subsegment length is.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the final vertex is within this distance of the start, just use a single D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   move between them, rather than an arc with multiple subsegments.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The typical length of a subsegment around the circumference is:             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (radius * angle_between_vertices_in_radians) = radius * alpha               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                   = radius * (1/2^m_alpha) = radius >> m_alpha D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 0.5 times the length is radius >> (m_alpha + 1)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Thus 1.5 times the length is (radius >> m_alpha) + (radius >> (m_alpha + 1)): D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.typ_seg = (radius >> gMoveTemp.m.cm.m_alpha);   // uint8        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             typ_seg_long = gMoveTemp.m.cm.typ_seg + (radius >> (gMoveTemp.m.cm.m_alpha + 1)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Get absolute value of move length in X and Y                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_1 = (gMoveTemp.m.cm.x_t - gMoveTemp.m.cm.x_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_1 = -sTemp16_1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_2 = (gMoveTemp.m.cm.y_t - gMoveTemp.m.cm.y_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_2 = -sTemp16_2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And if both x and y move length are too small, then just do a simple        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // straight move by calling process_simple_rate_move_fp()                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if ((sTemp16_1 < (INT16)typ_seg_long) && (sTemp16_2 < (INT16)typ_seg_long))    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is a very short move; cannot make an arc here.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Instead, process it like an SM or HM move with:                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_x = x_f - x_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_y = y_f - y_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      And step frequency given by StepFreq.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1 = gMoveTemp.m.cm.x_f - gMoveTemp.m.cm.x_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2 = gMoveTemp.m.cm.y_f - gMoveTemp.m.cm.y_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gHM_StepRate = frequency;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               process_simple_rate_move_fp();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // After making our short straight line, we're done.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_OK_NORM);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                              # Next: Precompute VScaleK (Velocity Scaling Factor K):                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This is a scaling factor that we will later use, in the ISR, to calculate the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   correct velocity in each axis from the number of steps in each axis.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # At a given vertex around the circle, the distance to the next vertex is (Dx, Dy). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   The velocity at that vertex is (K * Dx, K * Dy), where the velocity scale factor K D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   is K = (Forward_velocity/typical_length_of_subsegment)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^31/ 25000) / (radius * alpha)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28/ 3125) / (radius >> m_alpha)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28 << m_alpha ) / ( 3125 * radius)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   (Here, we have noted that 25000 = 8 * 3125 = 3125 * 2^3)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # To keep the multiplication within the ISR as 16 x 16 bit, we need a final VScaleK D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   that can be represented by uint16 (without losing too many digits of precision). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   Most of the special cases are to manage the great variation in K that is possible D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   because radius can range from 5-32767, and StepFreq can range from 1-25000. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left = 28                  # Counter for bits remaining to shift (int8) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left += m_alpha                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (StepFreq >= 256):   # StepFreq is in range 256 - 25000                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 17                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 17                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 3.35E7 - 3.27E9 (Almost 2^25 - Almost 2^32)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # StepFreq is in range 1 - 255                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 24                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 24                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               denom = 3125 * radius # uint32                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # denom is in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (radius >= 256):     # Radius is in range 256 - 32767                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 11                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 11                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 3906 - 50000 (Almost 2^12 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # Radius is in range 1 - 255                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 1                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 1                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 1562 - 39843 (Almost 2^11 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Now the "big" division operation -- just one, thankfully.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               VScaleK = int(StepFreq / denom) # (uint24?)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Largest possible VScaleK: 4.27E9 / 1562 = 2.733E6 (almost 2^22)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Smallest possible VScaleK: 1.67E7 / 50000 = 334 (almost 2^9)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if VScaleK > 65536:             # possibly check that high bytes are nonzero. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   VScaleK = VScaleK >> 4                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left += 4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # VScaleK value range is now 334 - 42,703, all < 2^16.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # ->  VScaleK can now be re-cast as a uint16.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Finally, set up variables to manage "local" position in ISR.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t # int16 Variables to store last (16-bit) position value     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t # int16                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Scale X, Y values up by 65536. The step positions are 16-bit signed, but   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   we need additional resolution to avoid adding rounding errors since we   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   do compute each new position from the last position.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t = x_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t = y_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               -----------------------------------------                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This concludes the "precomputation" stage. We now -- still in the "parsing" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   stage -- compute the velocities and step counts for the first subsegment only. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # The nominal step distances to move are:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_x = -1 * ( x_t >> (2 * m_alpha + 1)) - (y_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_y = -1 * ( y_t >> (2 * m_alpha + 1)) + (x_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # HOWEVER, right-shift division of negative integers isn't "clean" (e.g., -1 >> 1 == -1), D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   so we instead use several cases with positive integers and right shifts. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               alpha_shift = (m_alpha << 1) + 1                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = ( - x_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = -( - x_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = -( x_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = ( x_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = ( - y_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = -( - y_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = -( y_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = ( y_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if direction:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 + y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 - x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 - y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 + x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Update 32-bit position values:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t += d_x                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t += d_y                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find new 16-bit position value.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # In firmware, take two high bytes of position; do not actually shift/divide. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t_16 = x_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t_16 = y_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find Step count and directions.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_steps = x_t_16 - x_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_steps = y_t_16 - y_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = -x_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = x_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = -y_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = y_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Rate factors: Rate_x, Rate_y : 32-bit unsigned                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if bits_left >= 0:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Now, begin an SM/XM/HM type linear move with:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * stepdir_x, stepdir_y                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * x_stepcount, y_stepcount                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * Rate_x, Rate_y                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               In addition to the step/direction/rate values (normally in the FIFO),        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   I think we'll need the following values attached to this command:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - VScaleK       # uint16                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - m_alpha       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - bits_left     # int8                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - direction     # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - typ_seg       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// For CM, how do we know which direction we need to move first?              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps1 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps1 = -gTmpSteps1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps2 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps2 = -gTmpSteps2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[0].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[0] = gTmpSteps1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[0] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[1].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[1] = gTmpSteps2;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[1] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.Command = COMMAND_CM_OUTER_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_BIT_NUM))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002448   ec52     CALL      0x32a4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244a   f019                                                                                                               
00244c   0e25     MOVLW     0x25           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002450   e202     BC        0x2456                                                                                          
002452   6ae1     CLRF      0xe1,0x0                                                                                        
002454   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002456   ef4b     GOTO      0x3296                                                                                          
002458   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Home the motors                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // "HM,<StepFrequency>,<Pos1>,<Pos2><CR>"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <StepFrequency> is the desired rate of the primary (larger) axis in steps/s.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   It is allowed to be from 1 to 25000.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both optional. If <Pos1> is present, <Pos2> must        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // also be present. If not present they are both assumed to be 0 (i.e.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a true 'home' move). If present, they will instruct the EBB to perform        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a move to the absolute position <Pos1>,<Pos2>.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both signed 32 bit integers. Values from                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // -2147483647 to 2147483647 are allowed for each.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command uses the current global step counts compute the number of        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to reach the target position. (either 0,0 or Pos1,Pos2)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // There is a limitation to <Pos1> and <Pos2>. When they are each added          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to the negative of the current global position to compute the number of       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to complete this HM move, the sum must not overflow a         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // signed 32 bit number. An overflow like this will generate an error.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that this situation is very unlikely to occur, as 0x7FFFFFFF steps       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (the maximum number of steps a signed 32 bit int can represent) will take     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 23 hours to execute at the highest step rate (25Ks/s).                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The primary axis will be whichever one has to move more steps.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The secondary axis will be the non-primary axis.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For this function, if <StepFrequency> is too high or too low, we don't error  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // out, we just use a legal value instead (25,000 or 1 s/s).                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When parsing this command, we always wait until both the FIFO is empty and    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the motion commands are finished. By waiting until both the FIFO (queue) and  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // motion commands are empty, we get an accurate picture of where the global     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // step position is.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once the move has been figured out, we call process_simple_rate_move_fp().    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Some global variables are used in this function instead of local ones:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate is used for StepRate                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos1 is used for Pos1                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos2 is used for Pos2                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245a   ecd0     CALL      0x39a0,0x0     void parse_HM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245c   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245e   0e01     MOVLW     0x1              BOOL   CommandExecuting = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002460   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002462   ecee     CALL      0x37dc,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002464   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002466   0e01     MOVLW     0x1              extract_number(kLONG,  &gHM_Pos1,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002468   6ee6     MOVWF     0xe6,0x0                                                                                        
00246a   0ed8     MOVLW     0xd8                                                                                            
00246c   6ee6     MOVWF     0xe6,0x0                                                                                        
00246e   0e01     MOVLW     0x1                                                                                             
002470   ec74     CALL      0x3ae8,0x0                                                                                      
002472   f01d                                                                                                               
002474   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gHM_Pos2,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002476   0ee8     MOVLW     0xe8                                                                                            
002478   6ee6     MOVWF     0xe6,0x0                                                                                        
00247a   0e01     MOVLW     0x1                                                                                             
00247c   ec74     CALL      0x3ae8,0x0                                                                                      
00247e   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // StepRate must be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002480   0101     MOVLB     0x1              if (gHM_StepRate < 1u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002482   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
002484   0e00     MOVLW     0x0                                                                                             
002486   59c9     SUBWFB    0xc9,0x0,0x1                                                                                    
002488   0e00     MOVLW     0x0                                                                                             
00248a   59ca     SUBWFB    0xca,0x0,0x1                                                                                    
00248c   0e00     MOVLW     0x0                                                                                             
00248e   59cb     SUBWFB    0xcb,0x0,0x1                                                                                    
002490   e204     BC        0x249a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002492   0e01     MOVLW     0x1                gHM_StepRate = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002494   6fc8     MOVWF     0xc8,0x1                                                                                        
002496   6bc9     CLRF      0xc9,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002498   d009     BRA       0x24ac           else if (gHM_StepRate > 25000u)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00249a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00249c   0ea8     MOVLW     0xa8                                                                                            
00249e   ec4d     CALL      0x369a,0x0                                                                                      
0024a0   f01b                                                                                                               
0024a2   e206     BC        0x24b0                                                                                          
00369a   55c8     SUBFWB    0xc8,0x0,0x1                                                                                    
00369c   0e61     MOVLW     0x61                                                                                            
00369e   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
0036a0   0e00     MOVLW     0x0                                                                                             
0036a2   55ca     SUBFWB    0xca,0x0,0x1                                                                                    
0036a4   0e00     MOVLW     0x0                                                                                             
0036a6   55cb     SUBFWB    0xcb,0x0,0x1                                                                                    
0036a8   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a4   0ea8     MOVLW     0xa8               gHM_StepRate = 25000;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a6   6fc8     MOVWF     0xc8,0x1                                                                                        
0024a8   0e61     MOVLW     0x61                                                                                            
0024aa   6fc9     MOVWF     0xc9,0x1                                                                                        
0024ac   6bca     CLRF      0xca,0x1                                                                                        
0024ae   6bcb     CLRF      0xcb,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait until FIFO is empty                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b0   5013     MOVF      0x13,0x0,0x0     while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b2   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0024b4   e2fd     BC        0x24b0                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then wait for motion command to finish (if one's running)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b6   04df     DECF      0xdf,0x0,0x0     while (CommandExecuting == TRUE)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b8   e10a     BNZ       0x24ce                                                                                          
0024cc   d7f4     BRA       0x24b6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ba   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // See if there is either a delay or a command executing                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024bc   0101     MOVLB     0x1                if ((CurrentCommand.m.sm.DelayCounter == 0u) && (CurrentCommand.Command == COMMAND_NONE)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024be   ec36     CALL      0x366c,0x0                                                                                      
0024c0   f01b                                                                                                               
0024c2   e103     BNZ       0x24ca                                                                                          
0024c4   5185     MOVF      0x85,0x0,0x1                                                                                    
0024c6   e101     BNZ       0x24ca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c8   6adf     CLRF      0xdf,0x0             CommandExecuting = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ca   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about. This is how far we need to move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ce   c016     MOVFF     0x16,0x40        gSteps1 = -globalStepCounter1 + gHM_Pos1;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d0   f040                                                                                                               
0024d2   c017     MOVFF     0x17,0x41                                                                                       
0024d4   f041                                                                                                               
0024d6   c018     MOVFF     0x18,0x42                                                                                       
0024d8   f042                                                                                                               
0024da   c019     MOVFF     0x19,0x43                                                                                       
0024dc   f043                                                                                                               
0024de   ec55     CALL      0x36aa,0x0                                                                                      
0024e0   f01b                                                                                                               
0024e2   0101     MOVLB     0x1                                                                                             
0024e4   25d8     ADDWF     0xd8,0x0,0x1                                                                                    
0024e6   6fd4     MOVWF     0xd4,0x1                                                                                        
0024e8   503d     MOVF      0x3d,0x0,0x0                                                                                    
0024ea   21d9     ADDWFC    0xd9,0x0,0x1                                                                                    
0024ec   6fd5     MOVWF     0xd5,0x1                                                                                        
0024ee   503e     MOVF      0x3e,0x0,0x0                                                                                    
0024f0   21da     ADDWFC    0xda,0x0,0x1                                                                                    
0024f2   6fd6     MOVWF     0xd6,0x1                                                                                        
0024f4   503f     MOVF      0x3f,0x0,0x0                                                                                    
0024f6   21db     ADDWFC    0xdb,0x0,0x1                                                                                    
0024f8   6fd7     MOVWF     0xd7,0x1                                                                                        
0036aa   6845     SETF      0x45,0x0                                                                                        
0036ac   6846     SETF      0x46,0x0                                                                                        
0036ae   6847     SETF      0x47,0x0                                                                                        
0036b0   6848     SETF      0x48,0x0                                                                                        
0036b2   eca0     CALL      0x8d40,0x0                                                                                      
0036b4   f046                                                                                                               
0036b6   503c     MOVF      0x3c,0x0,0x0                                                                                    
0036b8   0012     RETURN    0x0                                                                                             
0024fa   c01a     MOVFF     0x1a,0x40        gSteps2 = -globalStepCounter2 + gHM_Pos2;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024fc   f040                                                                                                               
0024fe   c01b     MOVFF     0x1b,0x41                                                                                       
002500   f041                                                                                                               
002502   c01c     MOVFF     0x1c,0x42                                                                                       
002504   f042                                                                                                               
002506   c01d     MOVFF     0x1d,0x43                                                                                       
002508   f043                                                                                                               
00250a   ec55     CALL      0x36aa,0x0                                                                                      
00250c   f01b                                                                                                               
00250e   0101     MOVLB     0x1                                                                                             
002510   25e8     ADDWF     0xe8,0x0,0x1                                                                                    
002512   6fe4     MOVWF     0xe4,0x1                                                                                        
002514   503d     MOVF      0x3d,0x0,0x0                                                                                    
002516   21e9     ADDWFC    0xe9,0x0,0x1                                                                                    
002518   6fe5     MOVWF     0xe5,0x1                                                                                        
00251a   503e     MOVF      0x3e,0x0,0x0                                                                                    
00251c   21ea     ADDWFC    0xea,0x0,0x1                                                                                    
00251e   6fe6     MOVWF     0xe6,0x1                                                                                        
002520   503f     MOVF      0x3f,0x0,0x0                                                                                    
002522   21eb     ADDWFC    0xeb,0x0,0x1                                                                                    
002524   6fe7     MOVWF     0xe7,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Always clear accumulators for this type of move                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002526   6bcc     CLRF      0xcc,0x1         gClearAccs = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002528   6bcd     CLRF      0xcd,0x1                                                                                        
00252a   6bce     CLRF      0xce,0x1                                                                                        
00252c   6bcf     CLRF      0xcf,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSRM_Rate                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gSRM_Rate = gHM_StepRate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252e   d811     RCALL     0x2552           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002530   ec52     CALL      0x32a4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002532   f019                                                                                                               
002534   ef0d     GOTO      0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002536   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Test Rate                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simple function to allow testing of the process_simple_rate_move_fp() command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simply take the parameters from the user and pass them on to the move.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_TR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002538   ecee     CALL      0x37dc,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253a   f01b                                                                                                               
0037dc   d9ef     RCALL     0x3bbc                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037de   0ec8     MOVLW     0xc8             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0037e2   0e01     MOVLW     0x1                                                                                             
0037e4   efcf     GOTO      0x3b9e                                                                                          
0037e6   f01d                                                                                                               
003b9e   6ee6     MOVWF     0xe6,0x0                                                                                        
003ba0   0e07     MOVLW     0x7                                                                                             
003ba2   ef73     GOTO      0x30e6                                                                                          
003ba4   f018                                                                                                               
00253c   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gSteps1,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253e   0ed4     MOVLW     0xd4                                                                                            
002540   6ee6     MOVWF     0xe6,0x0                                                                                        
002542   0e01     MOVLW     0x1                                                                                             
002544   ec9e     CALL      0x3b3c,0x0                                                                                      
002546   f01d                                                                                                               
002548   ecd2     CALL      0x37a4,0x0       extract_number(kLONG,  &gSteps2,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00254a   f01b                                                                                                               
                                             extract_number(kULONG, &gClearAccs,   kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00254c   d802     RCALL     0x2552           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00254e   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002550   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the generic function for processing simple moves which use a          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 'rate' input parameter rather than a duration. The 'rate' parameter           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // is applied to the axis that has more steps (primary axis). The other axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (secondary axis) gets a rate which is appropriate to making a straight line.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gHM_StepRate can be between 1 and 25000 inclusive                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gSteps1 and gSteps2 are signed 32 bit numbers                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSRM_Rate   UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gClearAccs  UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002552   ecb0     CALL      0x3960,0x0     void process_simple_rate_move_fp(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002554   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002556   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002558   d01b     BRA       0x2590                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00255a   0e2a     MOVLW     0x2a               ebb_print((far rom char *)"Rate=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00255c   6e4e     MOVWF     0x4e,0x0                                                                                        
00255e   0e81     MOVLW     0x81                                                                                            
002560   ec79     CALL      0x30f2,0x0                                                                                      
002562   f018                                                                                                               
002564   c1c8     MOVFF     0x1c8,0xfe6        ebb_print_uint(gHM_StepRate);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002566   ffe6                                                                                                               
002568   c1c9     MOVFF     0x1c9,0xfe6                                                                                     
00256a   ffe6                                                                                                               
00256c   c1ca     MOVFF     0x1ca,0xfe6                                                                                     
00256e   ffe6                                                                                                               
002570   c1cb     MOVFF     0x1cb,0xfe6                                                                                     
002572   ffe6                                                                                                               
002574   ec2a     CALL      0x3254,0x0                                                                                      
002576   f019                                                                                                               
002578   0eaa     MOVLW     0xaa               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00257a   6e4e     MOVWF     0x4e,0x0                                                                                        
00257c   0e81     MOVLW     0x81                                                                                            
00257e   ec79     CALL      0x30f2,0x0                                                                                      
002580   f018                                                                                                               
002582   ec34     CALL      0x3468,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002584   f01a                                                                                                               
003468   c1d4     MOVFF     0x1d4,0xfe6                                                                                     
00346a   ffe6                                                                                                               
00346c   c1d5     MOVFF     0x1d5,0xfe6                                                                                     
00346e   ffe6                                                                                                               
003470   c1d6     MOVFF     0x1d6,0xfe6                                                                                     
003472   ffe6                                                                                                               
003474   c1d7     MOVFF     0x1d7,0xfe6                                                                                     
003476   ffe6                                                                                                               
003478   efea     GOTO      0x37d4                                                                                          
00347a   f01b                                                                                                               
0037d4   ec22     CALL      0x8444,0x0                                                                                      
0037d6   f042                                                                                                               
0037d8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0037da   d193     BRA       0x3b02                                                                                          
003b02   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b06   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b08   0012     RETURN    0x0                                                                                             
002586   0e91     MOVLW     0x91               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002588   6e4e     MOVWF     0x4e,0x0                                                                                        
00258a   0e81     MOVLW     0x81                                                                                            
00258c   ec4f     CALL      0x3a9e,0x0                                                                                      
00258e   f01d                                                                                                               
003a9e   ec79     CALL      0x30f2,0x0                                                                                      
003aa0   f018                                                                                                               
003aa2   c1e4     MOVFF     0x1e4,0xfe6        ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003aa4   ffe6                                                                                                               
003aa6   c1e5     MOVFF     0x1e5,0xfe6                                                                                     
003aa8   ffe6                                                                                                               
003aaa   c1e6     MOVFF     0x1e6,0xfe6                                                                                     
003aac   ffe6                                                                                                               
003aae   c1e7     MOVFF     0x1e7,0xfe6                                                                                     
003ab0   ffe6                                                                                                               
003ab2   de90     RCALL     0x37d4                                                                                          
003ab4   ef54     GOTO      0x32a8             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ab6   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002590   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002592   d0a3     BRA       0x26da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And check for a bad rate value                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002594   80d8     BSF       0xd8,0x0,0x0     if ((gHM_StepRate > 25000u) || (gHM_StepRate == 0u))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002596   0ea8     MOVLW     0xa8                                                                                            
002598   0101     MOVLB     0x1                                                                                             
00259a   ec4d     CALL      0x369a,0x0                                                                                      
00259c   f01b                                                                                                               
00259e   e303     BNC       0x25a6                                                                                          
0025a0   ecd8     CALL      0x35b0,0x0                                                                                      
0025a2   f01a                                                                                                               
0025a4   e106     BNZ       0x25b2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a6   0e0a     MOVLW     0xa                ebb_print((far rom char *)"!0 Err: StepRate invalid value.");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a8   6e4e     MOVWF     0x4e,0x0                                                                                        
0025aa   0e81     MOVLW     0x81                                                                                            
0025ac   ecfd     CALL      0x39fa,0x0                                                                                      
0025ae   f01c                                                                                                               
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b0   d094     BRA       0x26da             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If, for some reason, we're called with zero steps for both axis, then bail  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b2   ec9c     CALL      0x3538,0x0       if ((gSteps1 == 0) && (gSteps2 == 0))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b4   f01a                                                                                                               
0025b6   e104     BNZ       0x25c0                                                                                          
0025b8   eca1     CALL      0x3542,0x0                                                                                      
0025ba   f01a                                                                                                               
0025bc   e101     BNZ       0x25c0                                                                                          
0025be   d08d     BRA       0x26da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c0   c1cc     MOVFF     0x1cc,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c2   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c4   ecf8     CALL      0x35f0,0x0       gMoveTemp.m.sm.DelayCounter = 0;    // A rate move is never a delay, so clear  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c6   f01a                                                                                                               
0035f0   0101     MOVLB     0x1                                                                                             
0035f2   6b2b     CLRF      0x2b,0x1                                                                                        
0035f4   6b2c     CLRF      0x2c,0x1                                                                                        
0035f6   6b2d     CLRF      0x2d,0x1                                                                                        
0035f8   6b2e     CLRF      0x2e,0x1                                                                                        
0035fa   6b2a     CLRF      0x2a,0x1         gMoveTemp.m.sm.DirBits = 0;         // Start with positive direction for both  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c8   e102     BNZ       0x25ce           if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035fc   0100     MOVLB     0x0                                                                                             
0035fe   05d9     DECF      0xd9,0x0,0x1                                                                                    
003600   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ca   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025cc   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ce   0101     MOVLB     0x1              if (gSteps1 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d0   0e80     MOVLW     0x80                                                                                            
0025d2   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
0025d4   e002     BZ        0x25da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d6   ec80     CALL      0x3500,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d8   f01a                                                                                                               
003500   0e80     MOVLW     0x80                                                                                            
003502   0101     MOVLB     0x1                                                                                             
003504   112a     IORWF     0x2a,0x0,0x1                                                                                    
003506   6f2a     MOVWF     0x2a,0x1                                                                                        
003508   0e00     MOVLW     0x0                gSteps1 = -gSteps1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00350a   0101     MOVLB     0x1                                                                                             
00350c   efb9     GOTO      0x3972                                                                                          
00350e   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025da   0e80     MOVLW     0x80             if (gSteps2 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025dc   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
0025de   e002     BZ        0x25e4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e0   ec88     CALL      0x3510,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e2   f01a                                                                                                               
003510   0e20     MOVLW     0x20                                                                                            
003512   0101     MOVLB     0x1                                                                                             
003514   112a     IORWF     0x2a,0x0,0x1                                                                                    
003516   6f2a     MOVWF     0x2a,0x1                                                                                        
003518   0e00     MOVLW     0x0                gSteps2 = -gSteps2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00351a   0101     MOVLB     0x1                                                                                             
00351c   efc1     GOTO      0x3982                                                                                          
00351e   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Both Steps values are now positive because our directions are set. From     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // now on we're dealing only with step counts and rates, no directions.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Figure out which axis is major                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e4   0ed4     MOVLW     0xd4             if (gSteps1 >= gSteps2)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e6   6ee9     MOVWF     0xe9,0x0                                                                                        
0025e8   0e01     MOVLW     0x1                                                                                             
0025ea   6eea     MOVWF     0xea,0x0                                                                                        
0025ec   0e03     MOVLW     0x3                                                                                             
0025ee   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0025f0   19e7     XORWF     0xe7,0x0,0x1                                                                                    
0025f2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0025f4   d002     BRA       0x25fa                                                                                          
0025f6   35e7     RLCF      0xe7,0x0,0x1                                                                                    
0025f8   d008     BRA       0x260a                                                                                          
0025fa   51e4     MOVF      0xe4,0x0,0x1                                                                                    
0025fc   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0025fe   51e5     MOVF      0xe5,0x0,0x1                                                                                    
002600   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002602   51e6     MOVF      0xe6,0x0,0x1                                                                                    
002604   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002606   51e7     MOVF      0xe7,0x0,0x1                                                                                    
002608   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00260a   e32a     BNC       0x2660                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis1 is major, Axis2 is minor                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Computing the gMoveTemp.m.sm.Rate value for the primary axis is simple.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // gMoveTemp.m.sm.Rate is simply gHM_StepRate * 85899.34592.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00260c   ec89     CALL      0x3312,0x0         gMoveTemp.m.sm.Rate[0].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00260e   f019                                                                                                               
002610   ec01     CALL      0x3602,0x0                                                                                      
002612   f01b                                                                                                               
003312   ec95     CALL      0x3b2a,0x0                                                                                      
003314   f01d                                                                                                               
003316   ec20     CALL      0x7440,0x0                                                                                      
003318   f03a                                                                                                               
00331a   dad9     RCALL     0x38ce                                                                                          
00331c   0eac     MOVLW     0xac                                                                                            
00331e   6e46     MOVWF     0x46,0x0                                                                                        
003320   0ec5     MOVLW     0xc5                                                                                            
003322   6e47     MOVWF     0x47,0x0                                                                                        
003324   0ea7     MOVLW     0xa7                                                                                            
003326   6e48     MOVWF     0x48,0x0                                                                                        
003328   0e47     MOVLW     0x47                                                                                            
00332a   6e49     MOVWF     0x49,0x0                                                                                        
00332c   ec8e     CALL      0x751c,0x0                                                                                      
00332e   f03a                                                                                                               
003330   ef2f     GOTO      0x765e                                                                                          
003332   f03b                                                                                                               
003602   c040     MOVFF     0x40,0x130                                                                                      
003604   f130                                                                                                               
003606   c041     MOVFF     0x41,0x131                                                                                      
003608   f131                                                                                                               
00360a   c042     MOVFF     0x42,0x132                                                                                      
00360c   f132                                                                                                               
00360e   c043     MOVFF     0x43,0x133                                                                                      
003610   f133                                                                                                               
003612   0012     RETURN    0x0                                                                                             
0038ce   c041     MOVFF     0x41,0x4e                                                                                       
0038d0   f04e                                                                                                               
0038d2   c042     MOVFF     0x42,0x4f                                                                                       
0038d4   f04f                                                                                                               
0038d6   c043     MOVFF     0x43,0x50                                                                                       
0038d8   f050                                                                                                               
0038da   c044     MOVFF     0x44,0x51                                                                                       
0038dc   f051                                                                                                               
0038de   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002614   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002616   eca1     CALL      0x3542,0x0                                                                                      
002618   f01a                                                                                                               
00261a   e01c     BZ        0x2654                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know secondary axis is non-zero move length, so compute it's rate    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // such that the ratio of primary steps/rate is the same as secondary      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // steps/rate.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The ratio of steps/rate will need to be the same for both axis          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to make a straight line. So if S1 is axis1 steps, S2 is axis2 steps,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R1 is axis1 rate and R2 is axis2 rate, then                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // S1/R1 = S2/R2.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know all but R2, so solving for R2 we get                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R2 = (S2*R1)/S1                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We break one of the EBB firmware rules here and use floating point      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // operations, as it is the perfect solution to maintaining as much        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // resolution as possible when computing the secondary rate. And it's not  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // even that slow - both the above primary rate multiply and the following D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // two multiplies and a divide, this whole function take less than 350 uS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261c   ec55     CALL      0x38aa,0x0           tempF = (float)gSteps2 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261e   f01c                                                                                                               
002620   ec41     CALL      0x3282,0x0                                                                                      
002622   f019                                                                                                               
003282   ec22     CALL      0x7444,0x0                                                                                      
003284   f03a                                                                                                               
003286   db23     RCALL     0x38ce                                                                                          
003288   ec95     CALL      0x3b2a,0x0                                                                                      
00328a   f01d                                                                                                               
00328c   daad     RCALL     0x37e8                                                                                          
00328e   ec8e     CALL      0x751c,0x0                                                                                      
003290   f03a                                                                                                               
003292   ef82     GOTO      0x3904                                                                                          
003294   f01c                                                                                                               
003b2a   c1c8     MOVFF     0x1c8,0x40                                                                                      
003b2c   f040                                                                                                               
003b2e   c1c9     MOVFF     0x1c9,0x41                                                                                      
003b30   f041                                                                                                               
003b32   c1ca     MOVFF     0x1ca,0x42                                                                                      
003b34   f042                                                                                                               
003b36   c1cb     MOVFF     0x1cb,0x43                                                                                      
003b38   f043                                                                                                               
003b3a   0012     RETURN    0x0                                                                                             
002624   ec5e     CALL      0x38bc,0x0           tempF /= (float)gSteps1;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002626   f01c                                                                                                               
002628   eced     CALL      0x31da,0x0                                                                                      
00262a   f018                                                                                                               
0031da   ec22     CALL      0x7444,0x0                                                                                      
0031dc   f03a                                                                                                               
0031de   db77     RCALL     0x38ce                                                                                          
0031e0   db3c     RCALL     0x385a                                                                                          
0031e2   c051     MOVFF     0x51,0x49                                                                                       
0031e4   f049                                                                                                               
0031e6   ec3b     CALL      0x7476,0x0                                                                                      
0031e8   f03a                                                                                                               
0031ea   dbab     RCALL     0x3942                                                                                          
00385a   d97e     RCALL     0x3b58                                                                                          
00385c   cfee     MOVFF     0xfee,0x41                                                                                      
00385e   f041                                                                                                               
003860   cfee     MOVFF     0xfee,0x42                                                                                      
003862   f042                                                                                                               
003864   cfee     MOVFF     0xfee,0x43                                                                                      
003866   f043                                                                                                               
003868   cfef     MOVFF     0xfef,0x44                                                                                      
00386a   f044                                                                                                               
00386c   c04e     MOVFF     0x4e,0x46                                                                                       
00386e   f046                                                                                                               
003870   c04f     MOVFF     0x4f,0x47                                                                                       
003872   f047                                                                                                               
003874   c050     MOVFF     0x50,0x48                                                                                       
003876   f048                                                                                                               
003878   0012     RETURN    0x0                                                                                             
003942   c044     MOVFF     0x44,0xfed                                                                                      
003944   ffed                                                                                                               
003946   c043     MOVFF     0x43,0xfed                                                                                      
003948   ffed                                                                                                               
00394a   c042     MOVFF     0x42,0xfed                                                                                      
00394c   ffed                                                                                                               
00394e   c041     MOVFF     0x41,0xfef                                                                                      
003950   ffef                                                                                                               
003952   0012     RETURN    0x0                                                                                             
003b58   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003b5a   ffe9                                                                                                               
003b5c   cfda     MOVFF     0xfda,0xfea                                                                                     
003b5e   ffea                                                                                                               
003b60   0012     RETURN    0x0                                                                                             
0031ec   0eac     MOVLW     0xac                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031ee   6e4e     MOVWF     0x4e,0x0                                                                                        
0031f0   0ec5     MOVLW     0xc5                                                                                            
0031f2   6e4f     MOVWF     0x4f,0x0                                                                                        
0031f4   0ea7     MOVLW     0xa7                                                                                            
0031f6   6e50     MOVWF     0x50,0x0                                                                                        
0031f8   0e47     MOVLW     0x47                                                                                            
0031fa   6e51     MOVWF     0x51,0x0                                                                                        
0031fc   db2e     RCALL     0x385a                                                                                          
0031fe   6e49     MOVWF     0x49,0x0                                                                                        
003200   ec8e     CALL      0x751c,0x0                                                                                      
003202   f03a                                                                                                               
003204   db9e     RCALL     0x3942                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Limit check out results                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00262c   e104     BNZ       0x2636               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003206   db05     RCALL     0x3812                                                                                          
003208   6a46     CLRF      0x46,0x0                                                                                        
00320a   6a47     CLRF      0x47,0x0                                                                                        
00320c   0e80     MOVLW     0x80                                                                                            
00320e   6e48     MOVWF     0x48,0x0                                                                                        
003210   0e3f     MOVLW     0x3f                                                                                            
003212   db83     RCALL     0x391a                                                                                          
003214   ec6f     CALL      0x76de,0x0                                                                                      
003216   f03b                                                                                                               
003218   0a01     XORLW     0x1                                                                                             
00321a   0012     RETURN    0x0                                                                                             
00391a   6e49     MOVWF     0x49,0x0                                                                                        
00391c   d0f6     BRA       0x3b0a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00262e   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002630   0e01     MOVLW     0x1                                                                                             
002632   6f34     MOVWF     0x34,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002634   d011     BRA       0x2658               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002636   ec9a     CALL      0x3334,0x0                                                                                      
002638   f019                                                                                                               
00263a   e107     BNZ       0x264a                                                                                          
003334   da6e     RCALL     0x3812                                                                                          
003336   6a46     CLRF      0x46,0x0                                                                                        
003338   6a47     CLRF      0x47,0x0                                                                                        
00333a   6a48     CLRF      0x48,0x0                                                                                        
00333c   0e4f     MOVLW     0x4f                                                                                            
00333e   daed     RCALL     0x391a                                                                                          
003340   ec66     CALL      0x76cc,0x0                                                                                      
003342   f03b                                                                                                               
003344   0a01     XORLW     0x1                                                                                             
003346   0012     RETURN    0x0                                                                                             
003812   d9a2     RCALL     0x3b58                                                                                          
003814   cfee     MOVFF     0xfee,0x4e                                                                                      
003816   f04e                                                                                                               
003818   cfee     MOVFF     0xfee,0x4f                                                                                      
00381a   f04f                                                                                                               
00381c   cfee     MOVFF     0xfee,0x50                                                                                      
00381e   f050                                                                                                               
003820   cfef     MOVFF     0xfef,0x51                                                                                      
003822   f051                                                                                                               
003824   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263c   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263e   6934     SETF      0x34,0x1                                                                                        
002640   6935     SETF      0x35,0x1                                                                                        
002642   6936     SETF      0x36,0x1                                                                                        
002644   0e7f     MOVLW     0x7f                                                                                            
002646   6f37     MOVWF     0x37,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002648   d034     BRA       0x26b2               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264a   ec90     CALL      0x3520,0x0             gMoveTemp.m.sm.Rate[1].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264c   f01a                                                                                                               
00264e   ec0a     CALL      0x3614,0x0                                                                                      
002650   f01b                                                                                                               
003520   cfde     MOVFF     0xfde,0x41                                                                                      
003522   f041                                                                                                               
003524   cfde     MOVFF     0xfde,0x42                                                                                      
003526   f042                                                                                                               
003528   cfde     MOVFF     0xfde,0x43                                                                                      
00352a   f043                                                                                                               
00352c   cfdd     MOVFF     0xfdd,0x44                                                                                      
00352e   f044                                                                                                               
003530   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003532   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003534   ef2f     GOTO      0x765e                                                                                          
003536   f03b                                                                                                               
003614   c040     MOVFF     0x40,0x134                                                                                      
003616   f134                                                                                                               
003618   c041     MOVFF     0x41,0x135                                                                                      
00361a   f135                                                                                                               
00361c   c042     MOVFF     0x42,0x136                                                                                      
00361e   f136                                                                                                               
003620   c043     MOVFF     0x43,0x137                                                                                      
003622   f137                                                                                                               
003624   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002652   d02f     BRA       0x26b2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Because we know Axis2 doesn't need to move, zero everything out         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002654   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002656   6b34     CLRF      0x34,0x1                                                                                        
002658   6b35     CLRF      0x35,0x1                                                                                        
00265a   6b36     CLRF      0x36,0x1                                                                                        
00265c   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00265e   d029     BRA       0x26b2           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis2 is major, Axis1 is minor, other than that same as above             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002660   ec89     CALL      0x3312,0x0         gMoveTemp.m.sm.Rate[1].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002662   f019                                                                                                               
002664   ec0a     CALL      0x3614,0x0                                                                                      
002666   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002668   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00266a   ec9c     CALL      0x3538,0x0                                                                                      
00266c   f01a                                                                                                               
00266e   e01c     BZ        0x26a8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002670   ec5e     CALL      0x38bc,0x0           tempF = (float)gSteps1 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002672   f01c                                                                                                               
002674   ec41     CALL      0x3282,0x0                                                                                      
002676   f019                                                                                                               
002678   ec55     CALL      0x38aa,0x0           tempF /= (float)gSteps2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00267a   f01c                                                                                                               
00267c   eced     CALL      0x31da,0x0                                                                                      
00267e   f018                                                                                                               
                                                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002680   e104     BNZ       0x268a               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002682   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002684   0e01     MOVLW     0x1                                                                                             
002686   6f30     MOVWF     0x30,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002688   d011     BRA       0x26ac               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268a   ec9a     CALL      0x3334,0x0                                                                                      
00268c   f019                                                                                                               
00268e   e107     BNZ       0x269e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002690   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002692   6930     SETF      0x30,0x1                                                                                        
002694   6931     SETF      0x31,0x1                                                                                        
002696   6932     SETF      0x32,0x1                                                                                        
002698   0e7f     MOVLW     0x7f                                                                                            
00269a   6f33     MOVWF     0x33,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269c   d00a     BRA       0x26b2               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269e   ec90     CALL      0x3520,0x0             gMoveTemp.m.sm.Rate[0].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a0   f01a                                                                                                               
0026a2   ec01     CALL      0x3602,0x0                                                                                      
0026a4   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a6   d005     BRA       0x26b2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a8   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026aa   6b30     CLRF      0x30,0x1                                                                                        
0026ac   6b31     CLRF      0x31,0x1                                                                                        
0026ae   6b32     CLRF      0x32,0x1                                                                                        
0026b0   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b2   ecc9     CALL      0x3992,0x0       gMoveTemp.m.sm.Steps[0] = gSteps1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b4   f01c                                                                                                               
003992   dd7d     RCALL     0x348e                                                                                          
003994   0101     MOVLB     0x1              gMoveTemp.m.sm.Accel[0] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003996   6b48     CLRF      0x48,0x1                                                                                        
003998   6b49     CLRF      0x49,0x1                                                                                        
00399a   6b4a     CLRF      0x4a,0x1                                                                                        
00399c   6b4b     CLRF      0x4b,0x1                                                                                        
00399e   0012     RETURN    0x0                                                                                             
0026b6   ec50     CALL      0x34a0,0x0       gMoveTemp.m.sm.Steps[1] = gSteps2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b8   f01a                                                                                                               
0026ba   ec7a     CALL      0x36f4,0x0       gMoveTemp.m.sm.Accel[1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026bc   f01b                                                                                                               
0036f4   6b4c     CLRF      0x4c,0x1                                                                                        
0036f6   6b4d     CLRF      0x4d,0x1                                                                                        
0036f8   6b4e     CLRF      0x4e,0x1                                                                                        
0036fa   6b4f     CLRF      0x4f,0x1                                                                                        
0036fc   0e05     MOVLW     0x5              gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036fe   6f29     MOVWF     0x29,0x1                                                                                        
003700   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026be   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c0   d002     BRA       0x26c6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c2   ecd9     CALL      0x37b2,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c4   f01b                                                                                                               
0037b2   d9d7     RCALL     0x3b62                                                                                          
0037b4   dd4f     RCALL     0x3254             ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037b6   d964     RCALL     0x3a80             ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037b8   d9db     RCALL     0x3b70             ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037ba   dd4c     RCALL     0x3254             ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037bc   0e91     MOVLW     0x91               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037be   6e4e     MOVWF     0x4e,0x0                                                                                        
0037c0   0e81     MOVLW     0x81                                                                                            
0037c2   d980     RCALL     0x3ac4                                                                                          
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037c4   ef54     GOTO      0x32a8             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037c6   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c6   5013     MOVF      0x13,0x0,0x0     while (gFIFOLength >= gCurrentFIFOLength)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c8   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0026ca   e2fd     BC        0x26c6                                                                                          
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026cc   b00e     BTFSC     0xe,0x0,0x0      if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ce   d005     BRA       0x26da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d0   ec88     CALL      0x3110,0x0         FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d2   f018                                                                                                               
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d4   e301     BNC       0x26d8             if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d6   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d8   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026da   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026dc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0026de   e202     BC        0x26e4                                                                                          
0026e0   6ae1     CLRF      0xe1,0x0                                                                                        
0026e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0026e4   ef4b     GOTO      0x3296                                                                                          
0026e6   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The X Stepper Motor command                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: XM,<move_duration>,<axisA_steps>,<axisB_steps><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> an unsigned 32 bit value indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisA_steps> and <axisB_stetsp> are signed 32 bit numbers                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command differs from the normal "SM" command in that it is designed to drive 'mixed-axis' geometry D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // machines like H-Bot and CoreXY. Using XM will effectively call SM with Axis1 = <axisA_steps> + <axisB_steps> and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Axis2 = <axisA_steps> - <axisB_steps>.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because of this, the caller must make sure that <axisA_steps> + <axisB_steps> and <axisA_steps> - <axisB_steps> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // do not overflow or underflow a 32 bit signed value.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary globals used in this function                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_ASteps will be used for ASteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_BSteps will be used for BSteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_XM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026e8   ec4a     CALL      0x3894,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ea   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ec   0ed8     MOVLW     0xd8             extract_number(kLONG, &gXM_ASteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ee   6ee6     MOVWF     0xe6,0x0                                                                                        
0026f0   0e01     MOVLW     0x1                                                                                             
0026f2   ec6e     CALL      0x3adc,0x0                                                                                      
0026f4   f01d                                                                                                               
00379a   6ee6     MOVWF     0xe6,0x0                                                                                        
00379c   0e06     MOVLW     0x6                                                                                             
00379e   dca3     RCALL     0x30e6                                                                                          
0037a0   6ae6     CLRF      0xe6,0x0         extract_number(kLONG, &gXM_BSteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037a2   0012     RETURN    0x0                                                                                             
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Do the math to convert to Axis1 and Axis2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f6   ec97     CALL      0x372e,0x0       gSteps1 = gXM_ASteps + gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f8   f01b                                                                                                               
0026fa   0101     MOVLB     0x1                                                                                             
0026fc   51d8     MOVF      0xd8,0x0,0x1                                                                                    
0026fe   24ee     ADDWF     0xee,0x0,0x0                                                                                    
002700   6fd4     MOVWF     0xd4,0x1                                                                                        
002702   51d9     MOVF      0xd9,0x0,0x1                                                                                    
002704   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002706   6fd5     MOVWF     0xd5,0x1                                                                                        
002708   51da     MOVF      0xda,0x0,0x1                                                                                    
00270a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00270c   6fd6     MOVWF     0xd6,0x1                                                                                        
00270e   51db     MOVF      0xdb,0x0,0x1                                                                                    
002710   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002712   6fd7     MOVWF     0xd7,0x1                                                                                        
002714   ec97     CALL      0x372e,0x0       gSteps2 = gXM_ASteps - gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002716   f01b                                                                                                               
002718   50ee     MOVF      0xee,0x0,0x0                                                                                    
00271a   5dd8     SUBWF     0xd8,0x0,0x1                                                                                    
00271c   6fe4     MOVWF     0xe4,0x1                                                                                        
00271e   50ee     MOVF      0xee,0x0,0x0                                                                                    
002720   59d9     SUBWFB    0xd9,0x0,0x1                                                                                    
002722   6fe5     MOVWF     0xe5,0x1                                                                                        
002724   50ee     MOVF      0xee,0x0,0x0                                                                                    
002726   59da     SUBWFB    0xda,0x0,0x1                                                                                    
002728   6fe6     MOVWF     0xe6,0x1                                                                                        
00272a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00272c   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
00272e   6fe7     MOVWF     0xe7,0x1                                                                                        
00372e   0ee8     MOVLW     0xe8                                                                                            
003730   6ee9     MOVWF     0xe9,0x0                                                                                        
003732   0e01     MOVLW     0x1                                                                                             
003734   6eea     MOVWF     0xea,0x0                                                                                        
003736   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002730   d802     RCALL     0x2736           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002732   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002734   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Main stepper move function. This is the reason EBB exists.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is a 32 bit unsigned int, the number of mS that the move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <A1Stp> and <A2Stp> are the Axis 1 and Axis 2 number of steps to take in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  <Duration> mS, as 32 bit signed values, where the sign determines the motor  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  direction.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> clears the accumulators (both if 3, none if 0)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function waits until there is room in the FIFO before placing            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the data in the FIFO.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration>, <A1Stp> and <A2Stp> can accept any values. However, if a step     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // rate of more than 25kHz is asked for, it will be capped at 25kHz. And if      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a step rate of less than 0.00001164 Hz it will be set to 0.00001164 Hz.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that if used as a delay, the duration value is capped at 100000ms.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because we are now using global values to pass in parameters to this          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // function, and because this function will modify the values 'passed in' to it  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the caller should make copies of any parameter values that it requires        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // after the call.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpDurationMS    UINT32 not modified                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps1        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps2        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpClearAccs     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Working values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpIntervals     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002736   ecb0     CALL      0x3960,0x0     static void process_simple_motor_move_fp(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002738   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273a   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273c   d100     BRA       0x293e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273e   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002740   d01b     BRA       0x2778                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002742   0e00     MOVLW     0x0                ebb_print((far rom char *)"Duration=");                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002744   6e4e     MOVWF     0x4e,0x0                                                                                        
002746   0e81     MOVLW     0x81                                                                                            
002748   ec79     CALL      0x30f2,0x0                                                                                      
00274a   f018                                                                                                               
00274c   c1c4     MOVFF     0x1c4,0xfe6        ebb_print_uint(gDurationMS);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274e   ffe6                                                                                                               
002750   c1c5     MOVFF     0x1c5,0xfe6                                                                                     
002752   ffe6                                                                                                               
002754   c1c6     MOVFF     0x1c6,0xfe6                                                                                     
002756   ffe6                                                                                                               
002758   c1c7     MOVFF     0x1c7,0xfe6                                                                                     
00275a   ffe6                                                                                                               
00275c   ec2a     CALL      0x3254,0x0                                                                                      
00275e   f019                                                                                                               
002760   0efa     MOVLW     0xfa               ebb_print((far rom char *)" SA1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002762   6e4e     MOVWF     0x4e,0x0                                                                                        
002764   0e80     MOVLW     0x80                                                                                            
002766   ec79     CALL      0x30f2,0x0                                                                                      
002768   f018                                                                                                               
00276a   ec34     CALL      0x3468,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00276c   f01a                                                                                                               
00276e   0ef4     MOVLW     0xf4               ebb_print((far rom char *)" SA2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002770   6e4e     MOVWF     0x4e,0x0                                                                                        
002772   0e80     MOVLW     0x80                                                                                            
002774   ec4f     CALL      0x3a9e,0x0                                                                                      
002776   f01d                                                                                                               
                                               ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002778   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00277a   51c2     MOVF      0xc2,0x0,0x1                                                                                    
00277c   e010     BZ        0x279e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00277e   51c4     MOVF      0xc4,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002780   11c5     IORWF     0xc5,0x0,0x1                                                                                    
002782   11c6     IORWF     0xc6,0x0,0x1                                                                                    
002784   11c7     IORWF     0xc7,0x0,0x1                                                                                    
002786   e102     BNZ       0x278c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002788   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278a   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278c   ecbd     CALL      0x357a,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278e   f01a                                                                                                               
002790   e202     BC        0x2796                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002792   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002794   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002796   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002798   5197     MOVF      0x97,0x0,0x1                                                                                    
00279a   e001     BZ        0x279e                                                                                          
00279c   d0d0     BRA       0x293e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00279e   c1cc     MOVFF     0x1cc,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a0   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for delay                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a2   0101     MOVLB     0x1              if (gSteps1 == 0 && gSteps2 == 0)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a4   ec9c     CALL      0x3538,0x0                                                                                      
0027a6   f01a                                                                                                               
0027a8   e131     BNZ       0x280c                                                                                          
0027aa   eca1     CALL      0x3542,0x0                                                                                      
0027ac   f01a                                                                                                               
0027ae   e12e     BNZ       0x280c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b0   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_DELAY;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b2   0e01     MOVLW     0x1                                                                                             
0027b4   6f29     MOVWF     0x29,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Delays over 100000ms long are capped at 100000ms.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b6   0ea0     MOVLW     0xa0               if (gDurationMS >= 100000u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b8   0101     MOVLB     0x1                                                                                             
0027ba   5dc4     SUBWF     0xc4,0x0,0x1                                                                                    
0027bc   0e86     MOVLW     0x86                                                                                            
0027be   59c5     SUBWFB    0xc5,0x0,0x1                                                                                    
0027c0   0e01     MOVLW     0x1                                                                                             
0027c2   59c6     SUBWFB    0xc6,0x0,0x1                                                                                    
0027c4   0e00     MOVLW     0x0                                                                                             
0027c6   59c7     SUBWFB    0xc7,0x0,0x1                                                                                    
0027c8   e307     BNC       0x27d8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ca   0ea0     MOVLW     0xa0                 gDurationMS = 100000u;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027cc   6fc4     MOVWF     0xc4,0x1                                                                                        
0027ce   0e86     MOVLW     0x86                                                                                            
0027d0   6fc5     MOVWF     0xc5,0x1                                                                                        
0027d2   0e01     MOVLW     0x1                                                                                             
0027d4   6fc6     MOVWF     0xc6,0x1                                                                                        
0027d6   6bc7     CLRF      0xc7,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027d8   c1c4     MOVFF     0x1c4,0x12b        gMoveTemp.m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * gDurationMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027da   f12b                                                                                                               
0027dc   c1c5     MOVFF     0x1c5,0x12c                                                                                     
0027de   f12c                                                                                                               
0027e0   c1c6     MOVFF     0x1c6,0x12d                                                                                     
0027e2   f12d                                                                                                               
0027e4   c1c7     MOVFF     0x1c7,0x12e                                                                                     
0027e6   f12e                                                                                                               
0027e8   0e19     MOVLW     0x19                                                                                            
0027ea   6e45     MOVWF     0x45,0x0                                                                                        
0027ec   6a46     CLRF      0x46,0x0                                                                                        
0027ee   6a47     CLRF      0x47,0x0                                                                                        
0027f0   6a48     CLRF      0x48,0x0                                                                                        
0027f2   ec13     CALL      0x3626,0x0                                                                                      
0027f4   f01b                                                                                                               
0027f6   eca0     CALL      0x8d40,0x0                                                                                      
0027f8   f046                                                                                                               
0027fa   c03c     MOVFF     0x3c,0x12b                                                                                      
0027fc   f12b                                                                                                               
0027fe   c03d     MOVFF     0x3d,0x12c                                                                                      
002800   f12c                                                                                                               
002802   c03e     MOVFF     0x3e,0x12d                                                                                      
002804   f12d                                                                                                               
002806   c03f     MOVFF     0x3f,0x12e                                                                                      
002808   f12e                                                                                                               
003626   c1c4     MOVFF     0x1c4,0x40                                                                                      
003628   f040                                                                                                               
00362a   c1c5     MOVFF     0x1c5,0x41                                                                                      
00362c   f041                                                                                                               
00362e   c1c6     MOVFF     0x1c6,0x42                                                                                      
003630   f042                                                                                                               
003632   c1c7     MOVFF     0x1c7,0x43                                                                                      
003634   f043                                                                                                               
003636   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280a   d08d     BRA       0x2926           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280c   ecf8     CALL      0x35f0,0x0         gMoveTemp.m.sm.DelayCounter = 0; // No delay for motor moves                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280e   f01a                                                                                                               
                                               gMoveTemp.m.sm.DirBits = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002810   e102     BNZ       0x2816             if (gAutomaticMotorEnable == TRUE)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Enable both motors when we want to move them                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002812   908d     BCF       0x8d,0x0,0x0         Enable1IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002814   928b     BCF       0x8b,0x1,0x0         Enable2IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // First, set the direction bits                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002816   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002818   0e80     MOVLW     0x80                                                                                            
00281a   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
00281c   e002     BZ        0x2822                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00281e   ec80     CALL      0x3500,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002820   f01a                                                                                                               
                                                 gSteps1 = -gSteps1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002822   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002824   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
002826   e002     BZ        0x282c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002828   ec88     CALL      0x3510,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00282a   f01a                                                                                                               
                                                 gSteps2 = -gSteps2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As an optimization, pre-compute the common term used for both axes        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00282c   0e0a     MOVLW     0xa                tempF = 85899345.92f / (float)gDurationMS;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00282e   6e4e     MOVWF     0x4e,0x0                                                                                        
002830   0ed7     MOVLW     0xd7                                                                                            
002832   6e4f     MOVWF     0x4f,0x0                                                                                        
002834   0ea3     MOVLW     0xa3                                                                                            
002836   6e50     MOVWF     0x50,0x0                                                                                        
002838   0e4c     MOVLW     0x4c                                                                                            
00283a   6e51     MOVWF     0x51,0x0                                                                                        
00283c   ec13     CALL      0x3626,0x0                                                                                      
00283e   f01b                                                                                                               
002840   ecf4     CALL      0x37e8,0x0                                                                                      
002842   f01b                                                                                                               
002844   ec3b     CALL      0x7476,0x0                                                                                      
002846   f03a                                                                                                               
002848   ec82     CALL      0x3904,0x0                                                                                      
00284a   f01c                                                                                                               
0037e8   ec20     CALL      0x7440,0x0                                                                                      
0037ea   f03a                                                                                                               
0037ec   c041     MOVFF     0x41,0x52                                                                                       
0037ee   f052                                                                                                               
0037f0   c042     MOVFF     0x42,0x53                                                                                       
0037f2   f053                                                                                                               
0037f4   c043     MOVFF     0x43,0x54                                                                                       
0037f6   f054                                                                                                               
0037f8   c044     MOVFF     0x44,0x55                                                                                       
0037fa   f055                                                                                                               
0037fc   c041     MOVFF     0x41,0x46                                                                                       
0037fe   f046                                                                                                               
003800   c042     MOVFF     0x42,0x47                                                                                       
003802   f047                                                                                                               
003804   c043     MOVFF     0x43,0x48                                                                                       
003806   f048                                                                                                               
003808   c044     MOVFF     0x44,0x49                                                                                       
00380a   f049                                                                                                               
00380c   d17e     BRA       0x3b0a                                                                                          
003904   c041     MOVFF     0x41,0xfde                                                                                      
003906   ffde                                                                                                               
003908   c042     MOVFF     0x42,0xfde                                                                                      
00390a   ffde                                                                                                               
00390c   c043     MOVFF     0x43,0xfde                                                                                      
00390e   ffde                                                                                                               
003910   c044     MOVFF     0x44,0xfdd                                                                                      
003912   ffdd                                                                                                               
003914   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003916   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003918   0012     RETURN    0x0                                                                                             
003b0a   c04e     MOVFF     0x4e,0x41                                                                                       
003b0c   f041                                                                                                               
003b0e   c04f     MOVFF     0x4f,0x42                                                                                       
003b10   f042                                                                                                               
003b12   c050     MOVFF     0x50,0x43                                                                                       
003b14   f043                                                                                                               
003b16   c051     MOVFF     0x51,0x44                                                                                       
003b18   f044                                                                                                               
003b1a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00284c   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00284e   ec9c     CALL      0x3538,0x0                                                                                      
002850   f01a                                                                                                               
002852   e027     BZ        0x28a2                                                                                          
003538   51d4     MOVF      0xd4,0x0,0x1                                                                                    
00353a   11d5     IORWF     0xd5,0x0,0x1                                                                                    
00353c   11d6     IORWF     0xd6,0x0,0x1                                                                                    
00353e   11d7     IORWF     0xd7,0x0,0x1                                                                                    
003540   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We need the Rate values for the ISR. We have the duration and the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // number of steps. Use the formula:                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = (steps/duration)*85899.34592                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Rearranging a bit, we can also use:                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = steps * ((85899.34592 * 1000)/duration)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002854   ec5e     CALL      0x38bc,0x0           gIntervals = (UINT32)((float)(gSteps1) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002856   f01c                                                                                                               
002858   ec5b     CALL      0x32b6,0x0                                                                                      
00285a   f019                                                                                                               
0032b6   ec22     CALL      0x7444,0x0                                                                                      
0032b8   f03a                                                                                                               
0032ba   0e00     MOVLW     0x0                                                                                             
0032bc   cfdf     MOVFF     0xfdf,0x46                                                                                      
0032be   f046                                                                                                               
0032c0   0e01     MOVLW     0x1                                                                                             
0032c2   cfdb     MOVFF     0xfdb,0x47                                                                                      
0032c4   f047                                                                                                               
0032c6   0e02     MOVLW     0x2                                                                                             
0032c8   cfdb     MOVFF     0xfdb,0x48                                                                                      
0032ca   f048                                                                                                               
0032cc   0e03     MOVLW     0x3                                                                                             
0032ce   cfdb     MOVFF     0xfdb,0x49                                                                                      
0032d0   f049                                                                                                               
0032d2   ec8e     CALL      0x751c,0x0                                                                                      
0032d4   f03a                                                                                                               
0032d6   ec2f     CALL      0x765e,0x0                                                                                      
0032d8   f03b                                                                                                               
0032da   c040     MOVFF     0x40,0x1c8                                                                                      
0032dc   f1c8                                                                                                               
0032de   c041     MOVFF     0x41,0x1c9                                                                                      
0032e0   f1c9                                                                                                               
0032e2   c042     MOVFF     0x42,0x1ca                                                                                      
0032e4   f1ca                                                                                                               
0032e6   c043     MOVFF     0x43,0x1cb                                                                                      
0032e8   f1cb                                                                                                               
0038bc   c1d4     MOVFF     0x1d4,0x40                                                                                      
0038be   f040                                                                                                               
0038c0   c1d5     MOVFF     0x1d5,0x41                                                                                      
0038c2   f041                                                                                                               
0038c4   c1d6     MOVFF     0x1d6,0x42                                                                                      
0038c6   f042                                                                                                               
0038c8   c1d7     MOVFF     0x1d7,0x43                                                                                      
0038ca   f043                                                                                                               
0038cc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00285c   e20b     BC        0x2874               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032ea   80d8     BSF       0xd8,0x0,0x0                                                                                    
0032ec   0e00     MOVLW     0x0                                                                                             
0032ee   0101     MOVLB     0x1                                                                                             
0032f0   5440     SUBFWB    0x40,0x0,0x0                                                                                    
0032f2   0e00     MOVLW     0x0                                                                                             
0032f4   5441     SUBFWB    0x41,0x0,0x0                                                                                    
0032f6   0e00     MOVLW     0x0                                                                                             
0032f8   5442     SUBFWB    0x42,0x0,0x0                                                                                    
0032fa   0e80     MOVLW     0x80                                                                                            
0032fc   5443     SUBFWB    0x43,0x0,0x0                                                                                    
0032fe   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00285e   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002860   e004     BZ        0x286a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002862   0ed0     MOVLW     0xd0                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002864   6e4e     MOVWF     0x4e,0x0                                                                                        
002866   0e80     MOVLW     0x80                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002868   d03f     BRA       0x28e8                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00286a   6bc8     CLRF      0xc8,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00286c   6bc9     CLRF      0xc9,0x1                                                                                        
00286e   6bca     CLRF      0xca,0x1                                                                                        
002870   0e80     MOVLW     0x80                                                                                            
002872   6fcb     MOVWF     0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002874   ecd8     CALL      0x35b0,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002876   f01a                                                                                                               
002878   e10b     BNZ       0x2890                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287a   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287c   e004     BZ        0x2886                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287e   0eac     MOVLW     0xac                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002880   6e4e     MOVWF     0x4e,0x0                                                                                        
002882   0e80     MOVLW     0x80                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002884   d031     BRA       0x28e8                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002886   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002888   6fc8     MOVWF     0xc8,0x1                                                                                        
00288a   6bc9     CLRF      0xc9,0x1                                                                                        
00288c   6bca     CLRF      0xca,0x1                                                                                        
00288e   6bcb     CLRF      0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002890   c1c8     MOVFF     0x1c8,0x130          gMoveTemp.m.sm.Rate[0].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002892   f130                                                                                                               
002894   c1c9     MOVFF     0x1c9,0x131                                                                                     
002896   f131                                                                                                               
002898   c1ca     MOVFF     0x1ca,0x132                                                                                     
00289a   f132                                                                                                               
00289c   c1cb     MOVFF     0x1cb,0x133                                                                                     
00289e   f133                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a0   d005     BRA       0x28ac             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a2   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a4   6b30     CLRF      0x30,0x1                                                                                        
0028a6   6b31     CLRF      0x31,0x1                                                                                        
0028a8   6b32     CLRF      0x32,0x1                                                                                        
0028aa   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ac   ecc9     CALL      0x3992,0x0         gMoveTemp.m.sm.Steps[0] = (UINT32)gSteps1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ae   f01c                                                                                                               
00348e   c1d4     MOVFF     0x1d4,0x138                                                                                     
003490   f138                                                                                                               
003492   c1d5     MOVFF     0x1d5,0x139                                                                                     
003494   f139                                                                                                               
003496   c1d6     MOVFF     0x1d6,0x13a                                                                                     
003498   f13a                                                                                                               
00349a   c1d7     MOVFF     0x1d7,0x13b                                                                                     
00349c   f13b                                                                                                               
00349e   0012     RETURN    0x0                                                                                             
                                               gMoveTemp.m.sm.Accel[0] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028b0   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028b2   eca1     CALL      0x3542,0x0                                                                                      
0028b4   f01a                                                                                                               
0028b6   e029     BZ        0x290a                                                                                          
003542   51e4     MOVF      0xe4,0x0,0x1                                                                                    
003544   11e5     IORWF     0xe5,0x0,0x1                                                                                    
003546   11e6     IORWF     0xe6,0x0,0x1                                                                                    
003548   11e7     IORWF     0xe7,0x0,0x1                                                                                    
00354a   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028b8   ec55     CALL      0x38aa,0x0           gIntervals = (UINT32)((float)(gSteps2) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ba   f01c                                                                                                               
0028bc   ec5b     CALL      0x32b6,0x0                                                                                      
0028be   f019                                                                                                               
0038aa   c1e4     MOVFF     0x1e4,0x40                                                                                      
0038ac   f040                                                                                                               
0038ae   c1e5     MOVFF     0x1e5,0x41                                                                                      
0038b0   f041                                                                                                               
0038b2   c1e6     MOVFF     0x1e6,0x42                                                                                      
0038b4   f042                                                                                                               
0038b6   c1e7     MOVFF     0x1e7,0x43                                                                                      
0038b8   f043                                                                                                               
0038ba   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c0   e20b     BC        0x28d8               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c2   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c4   e004     BZ        0x28ce                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c6   0e88     MOVLW     0x88                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c8   6e4e     MOVWF     0x4e,0x0                                                                                        
0028ca   0e80     MOVLW     0x80                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028cc   d00d     BRA       0x28e8                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ce   6bc8     CLRF      0xc8,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d0   6bc9     CLRF      0xc9,0x1                                                                                        
0028d2   6bca     CLRF      0xca,0x1                                                                                        
0028d4   0e80     MOVLW     0x80                                                                                            
0028d6   6fcb     MOVWF     0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d8   ecd8     CALL      0x35b0,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028da   f01a                                                                                                               
0028dc   e10d     BNZ       0x28f8                                                                                          
0035b0   51c8     MOVF      0xc8,0x0,0x1                                                                                    
0035b2   11c9     IORWF     0xc9,0x0,0x1                                                                                    
0035b4   11ca     IORWF     0xca,0x0,0x1                                                                                    
0035b6   11cb     IORWF     0xcb,0x0,0x1                                                                                    
0035b8   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028de   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e0   e006     BZ        0x28ee                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e2   0e64     MOVLW     0x64                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e4   6e4e     MOVWF     0x4e,0x0                                                                                        
0028e6   0e80     MOVLW     0x80                                                                                            
0028e8   ecfd     CALL      0x39fa,0x0                                                                                      
0028ea   f01c                                                                                                               
0039fa   ec79     CALL      0x30f2,0x0                                                                                      
0039fc   f018                                                                                                               
0039fe   ef54     GOTO      0x32a8                   print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a00   f019                                                                                                               
0028ec   d028     BRA       0x293e                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ee   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f0   6fc8     MOVWF     0xc8,0x1                                                                                        
0028f2   6bc9     CLRF      0xc9,0x1                                                                                        
0028f4   6bca     CLRF      0xca,0x1                                                                                        
0028f6   6bcb     CLRF      0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f8   c1c8     MOVFF     0x1c8,0x134          gMoveTemp.m.sm.Rate[1].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fa   f134                                                                                                               
0028fc   c1c9     MOVFF     0x1c9,0x135                                                                                     
0028fe   f135                                                                                                               
002900   c1ca     MOVFF     0x1ca,0x136                                                                                     
002902   f136                                                                                                               
002904   c1cb     MOVFF     0x1cb,0x137                                                                                     
002906   f137                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002908   d005     BRA       0x2914             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00290a   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00290c   6b34     CLRF      0x34,0x1                                                                                        
00290e   6b35     CLRF      0x35,0x1                                                                                        
002910   6b36     CLRF      0x36,0x1                                                                                        
002912   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002914   ec50     CALL      0x34a0,0x0         gMoveTemp.m.sm.Steps[1] = (UINT32)gSteps2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002916   f01a                                                                                                               
0034a0   c1e4     MOVFF     0x1e4,0x13c                                                                                     
0034a2   f13c                                                                                                               
0034a4   c1e5     MOVFF     0x1e5,0x13d                                                                                     
0034a6   f13d                                                                                                               
0034a8   c1e6     MOVFF     0x1e6,0x13e                                                                                     
0034aa   f13e                                                                                                               
0034ac   c1e7     MOVFF     0x1e7,0x13f                                                                                     
0034ae   f13f                                                                                                               
0034b0   0012     RETURN    0x0                                                                                             
002918   0101     MOVLB     0x1                gMoveTemp.m.sm.Accel[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291a   ec7a     CALL      0x36f4,0x0                                                                                      
00291c   f01b                                                                                                               
                                               gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291e   aa09     BTFSS     0x9,0x5,0x0        if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002920   d002     BRA       0x2926                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002922   ecd9     CALL      0x37b2,0x0           ebb_print((far rom char *)"R1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002924   f01b                                                                                                               
0030f2   6e4f     MOVWF     0x4f,0x0                                                                                        
0030f4   6a50     CLRF      0x50,0x0                                                                                        
0030f6   c04e     MOVFF     0x4e,0xfe6                                                                                      
0030f8   ffe6                                                                                                               
0030fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0030fc   c050     MOVFF     0x50,0xfe6                                                                                      
0030fe   ffe6                                                                                                               
003100   ecaf     CALL      0x835e,0x0                                                                                      
003102   f041                                                                                                               
003104   ef81     GOTO      0x3b02                                                                                          
003106   f01d                                                                                                               
0034b2   c130     MOVFF     0x130,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034b4   ffe6                                                                                                               
0034b6   c131     MOVFF     0x131,0xfe6                                                                                     
0034b8   ffe6                                                                                                               
0034ba   c132     MOVFF     0x132,0xfe6                                                                                     
0034bc   ffe6                                                                                                               
0034be   c133     MOVFF     0x133,0xfe6                                                                                     
0034c0   ffe6                                                                                                               
0034c2   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S1=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print((far rom char *)" R2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034c4   c134     MOVFF     0x134,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034c6   ffe6                                                                                                               
0034c8   c135     MOVFF     0x135,0xfe6                                                                                     
0034ca   ffe6                                                                                                               
0034cc   c136     MOVFF     0x136,0xfe6                                                                                     
0034ce   ffe6                                                                                                               
0034d0   c137     MOVFF     0x137,0xfe6                                                                                     
0034d2   ffe6                                                                                                               
0034d4   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002926   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002928   d00a     BRA       0x293e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292a   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292c   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00292e   e2fd     BC        0x292a                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002930   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002932   d005     BRA       0x293e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002934   ec88     CALL      0x3110,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002936   f018                                                                                                               
003110   5010     MOVF      0x10,0x0,0x0                                                                                    
003112   eca8     CALL      0x3b50,0x0                                                                                      
003114   f01d                                                                                                               
003116   c129     MOVFF     0x129,0xfee                                                                                     
003118   ffee                                                                                                               
00311a   c12a     MOVFF     0x12a,0xfee                                                                                     
00311c   ffee                                                                                                               
00311e   c12b     MOVFF     0x12b,0xfee                                                                                     
003120   ffee                                                                                                               
003122   c12c     MOVFF     0x12c,0xfee                                                                                     
003124   ffee                                                                                                               
003126   c12d     MOVFF     0x12d,0xfee                                                                                     
003128   ffee                                                                                                               
00312a   c12e     MOVFF     0x12e,0xfee                                                                                     
00312c   ffee                                                                                                               
00312e   c12f     MOVFF     0x12f,0xfee                                                                                     
003130   ffee                                                                                                               
003132   c130     MOVFF     0x130,0xfee                                                                                     
003134   ffee                                                                                                               
003136   c131     MOVFF     0x131,0xfee                                                                                     
003138   ffee                                                                                                               
00313a   c132     MOVFF     0x132,0xfee                                                                                     
00313c   ffee                                                                                                               
00313e   c133     MOVFF     0x133,0xfee                                                                                     
003140   ffee                                                                                                               
003142   c134     MOVFF     0x134,0xfee                                                                                     
003144   ffee                                                                                                               
003146   c135     MOVFF     0x135,0xfee                                                                                     
003148   ffee                                                                                                               
00314a   c136     MOVFF     0x136,0xfee                                                                                     
00314c   ffee                                                                                                               
00314e   c137     MOVFF     0x137,0xfee                                                                                     
003150   ffee                                                                                                               
003152   c138     MOVFF     0x138,0xfee                                                                                     
003154   ffee                                                                                                               
003156   c139     MOVFF     0x139,0xfee                                                                                     
003158   ffee                                                                                                               
00315a   c13a     MOVFF     0x13a,0xfee                                                                                     
00315c   ffee                                                                                                               
00315e   c13b     MOVFF     0x13b,0xfee                                                                                     
003160   ffee                                                                                                               
003162   c13c     MOVFF     0x13c,0xfee                                                                                     
003164   ffee                                                                                                               
003166   c13d     MOVFF     0x13d,0xfee                                                                                     
003168   ffee                                                                                                               
00316a   c13e     MOVFF     0x13e,0xfee                                                                                     
00316c   ffee                                                                                                               
00316e   c13f     MOVFF     0x13f,0xfee                                                                                     
003170   ffee                                                                                                               
003172   c140     MOVFF     0x140,0xfee                                                                                     
003174   ffee                                                                                                               
003176   c141     MOVFF     0x141,0xfee                                                                                     
003178   ffee                                                                                                               
00317a   c142     MOVFF     0x142,0xfee                                                                                     
00317c   ffee                                                                                                               
00317e   c143     MOVFF     0x143,0xfee                                                                                     
003180   ffee                                                                                                               
003182   c144     MOVFF     0x144,0xfee                                                                                     
003184   ffee                                                                                                               
003186   c145     MOVFF     0x145,0xfee                                                                                     
003188   ffee                                                                                                               
00318a   c146     MOVFF     0x146,0xfee                                                                                     
00318c   ffee                                                                                                               
00318e   c147     MOVFF     0x147,0xfee                                                                                     
003190   ffee                                                                                                               
003192   c148     MOVFF     0x148,0xfee                                                                                     
003194   ffee                                                                                                               
003196   c149     MOVFF     0x149,0xfee                                                                                     
003198   ffee                                                                                                               
00319a   c14a     MOVFF     0x14a,0xfee                                                                                     
00319c   ffee                                                                                                               
00319e   c14b     MOVFF     0x14b,0xfee                                                                                     
0031a0   ffee                                                                                                               
0031a2   c14c     MOVFF     0x14c,0xfee                                                                                     
0031a4   ffee                                                                                                               
0031a6   c14d     MOVFF     0x14d,0xfee                                                                                     
0031a8   ffee                                                                                                               
0031aa   c14e     MOVFF     0x14e,0xfee                                                                                     
0031ac   ffee                                                                                                               
0031ae   c14f     MOVFF     0x14f,0xfee                                                                                     
0031b0   ffee                                                                                                               
0031b2   c150     MOVFF     0x150,0xfee                                                                                     
0031b4   ffee                                                                                                               
0031b6   c151     MOVFF     0x151,0xfee                                                                                     
0031b8   ffee                                                                                                               
0031ba   c152     MOVFF     0x152,0xfee                                                                                     
0031bc   ffee                                                                                                               
0031be   c153     MOVFF     0x153,0xfee                                                                                     
0031c0   ffee                                                                                                               
0031c2   c154     MOVFF     0x154,0xfee                                                                                     
0031c4   ffee                                                                                                               
0031c6   c155     MOVFF     0x155,0xfee                                                                                     
0031c8   ffee                                                                                                               
0031ca   c156     MOVFF     0x156,0xfee                                                                                     
0031cc   ffee                                                                                                               
0031ce   c157     MOVFF     0x157,0xfee                                                                                     
0031d0   ffee                                                                                                               
0031d2   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002938   e301     BNC       0x293c               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031d4   5013     MOVF      0x13,0x0,0x0                                                                                    
0031d6   5c10     SUBWF     0x10,0x0,0x0                                                                                    
0031d8   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293a   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293c   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293e   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002940   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002942   e202     BC        0x2948                                                                                          
002944   6ae1     CLRF      0xe1,0x0                                                                                        
002946   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002948   ef4b     GOTO      0x3296                                                                                          
00294a   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // E-Stop                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ES,<disable_motors><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <command_interrupted><CR>OK<CR>                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command will abort any in-progress motor move command.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // It will also clear out any pending command(s) in the FIFO.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <disable_motors> This parameter is optional. If present, and if it is a 1,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  then both stepper drivers will be disabled as part of the command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  If this parameter is not present or is not equal to 1, then  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  the motors will not be disabled. (added in v2.8.0)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <command_interrupted> = 0 if no FIFO or in-progress move commands were interrupted, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                         1 if a motor move command was in progress or in the FIFO D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294c   ec4d     CALL      0x329a,0x0     void parse_ES_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294e   f019                                                                                                               
002950   0e03     MOVLW     0x3                                                                                             
002952   ec75     CALL      0x38ea,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002954   f01c                                UINT8 disable_motors = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 command_interrupted = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the value.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002956   ec81     CALL      0x3702,0x0       extract_number(kUCHAR, &disable_motors, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002958   f01b                                                                                                               
00295a   dbc5     RCALL     0x30e6                                                                                          
003702   0e01     MOVLW     0x1                                                                                             
003704   6ee6     MOVWF     0xe6,0x0                                                                                        
003706   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003708   ffe6                                                                                                               
00370a   cfda     MOVFF     0xfda,0xfe6                                                                                     
00370c   ffe6                                                                                                               
00370e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295c   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295e   5197     MOVF      0x97,0x0,0x1                                                                                    
002960   e13c     BNZ       0x29da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to mess with ISR command parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002962   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             (                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002964   0e05     MOVLW     0x5                CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002966   0101     MOVLB     0x1                ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002968   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00296c   0e06     MOVLW     0x6                CurrentCommand.Command == COMMAND_LM_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00296a   e006     BZ        0x2978             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00296e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
002970   e003     BZ        0x2978                                                                                          
002972   0e07     MOVLW     0x7                CurrentCommand.Command == COMMAND_LT_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002974   5d85     SUBWF     0x85,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002976   e103     BNZ       0x297e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002978   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00297a   0e01     MOVLW     0x1                                                                                             
00297c   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00297e   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002980   e003     BZ        0x2988                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002982   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002984   0e01     MOVLW     0x1                                                                                             
002986   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the currently executing motion command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002988   6b85     CLRF      0x85,0x1         CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the entire FIFO                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298a   0e02     MOVLW     0x2              for (i = 0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298c   6adb     CLRF      0xdb,0x0                                                                                        
00298e   0e20     MOVLW     0x20                                                                                            
002990   6ef3     MOVWF     0xf3,0x0                                                                                        
002992   0e02     MOVLW     0x2                                                                                             
002994   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002996   fff4                                                                                                               
002998   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00299a   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00299c   e207     BC        0x29ac                                                                                          
0029a6   0e02     MOVLW     0x2                                                                                             
0029a8   2adb     INCF      0xdb,0x1,0x0                                                                                    
0029aa   d7f1     BRA       0x298e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299e   0e02     MOVLW     0x2                FIFOPtr[i].Command = COMMAND_NONE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0029a2   ec26     CALL      0x344c,0x0                                                                                      
0029a4   f01a                                                                                                               
00344c   db81     RCALL     0x3b50                                                                                          
00344e   6aef     CLRF      0xef,0x0                                                                                        
003450   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ac   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ae   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b0   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b2   04df     DECF      0xdf,0x0,0x0     if (disable_motors == 1u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b4   e109     BNZ       0x29c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b6   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b8   e103     BNZ       0x29c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ba   808d     BSF       0x8d,0x0,0x0         Enable1IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029bc   828b     BSF       0x8b,0x1,0x0         Enable2IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029be   d004     BRA       0x29c8             else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c0   0404     DECF      0x4,0x0,0x0                                                                                     
0029c2   e102     BNZ       0x29c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c4   828c     BSF       0x8c,0x1,0x0         Enable1AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c6   8289     BSF       0x89,0x1,0x0         Enable2AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c8   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;    // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ca   ec8e     CALL      0x3b1c,0x0       ebb_print_uint(command_interrupted);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029cc   f01d                                                                                                               
003b1c   0e01     MOVLW     0x1                                                                                             
003b1e   cfdb     MOVFF     0xfdb,0x4e                                                                                      
003b20   f04e                                                                                                               
003b22   6a4f     CLRF      0x4f,0x0                                                                                        
003b24   de51     RCALL     0x37c8                                                                                          
003b26   efd3     GOTO      0x39a6                                                                                          
003b28   f01c                                                                                                               
0029ce   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d0   d002     BRA       0x29d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d2   ec54     CALL      0x32a8,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d4   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d6   ec52     CALL      0x32a4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d8   f019                                                                                                               
0029da   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029dc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029de   e202     BC        0x29e4                                                                                          
0029e0   6ae1     CLRF      0xe1,0x0                                                                                        
0029e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029e4   ef4b     GOTO      0x3296                                                                                          
0029e6   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Pen                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QP<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: 0 for down, 1 for up, then OK<CR>                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e8   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ea   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ec   c1b9     MOVFF     0x1b9,0x4e       ebb_print_uint(PenState);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ee   f04e                                                                                                               
0029f0   6a4f     CLRF      0x4f,0x0                                                                                        
0029f2   6a50     CLRF      0x50,0x0                                                                                        
0029f4   6a51     CLRF      0x51,0x0                                                                                        
0029f6   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
0029f8   d003     BRA       0x2a00                                                                                          
0029fa   684f     SETF      0x4f,0x0                                                                                        
0029fc   6850     SETF      0x50,0x0                                                                                        
0029fe   6851     SETF      0x51,0x0                                                                                        
002a00   c04e     MOVFF     0x4e,0xfe6                                                                                      
002a02   ffe6                                                                                                               
002a04   ec7a     CALL      0x3af4,0x0                                                                                      
002a06   f01d                                                                                                               
002a08   ecd3     CALL      0x39a6,0x0                                                                                      
002a0a   f01c                                                                                                               
002a0c   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a0e   d002     BRA       0x2a14                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a10   ec54     CALL      0x32a8,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a12   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a14   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a16   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query motor Enables and resolution                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QE<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <motor1_state>,<motor2_state><CR>OK<CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <motor1_state> and <motor2_state> are one of the following values:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 0 = Motor is disabled                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1 = Motor is enabled and step resolution is full steps                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2 = Motor is enabled and step resolution is 1/2 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 4 = Motor is enabled and step resolution is 1/4 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 8 = Motor is enabled and step resolution is 1/8 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 16 = Motor is enabled and step resolution is 1/16 steps                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a18   ec4d     CALL      0x329a,0x0     void parse_QE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1a   f019                                                                                                               
002a1c   0e03     MOVLW     0x3                                                                                             
002a1e   ec75     CALL      0x38ea,0x0                                                                                      
00329a   cfd9                                                                                                               
00329c   ffe6     WORD2     0xfe6                                                                                           
00329e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0032a0   ffd9                                                                                                               
0032a2   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a20   f01c     WORD2     0x1c             UINT8 motor1_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 motor2_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 temp;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a22   5084     MOVF      0x84,0x0,0x0     if (MS1_IO_PORT == 0u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a24   0b04     ANDLW     0x4                                                                                             
002a26   e108     BNZ       0x2a38                                                                                          
002a28   5084     MOVF      0x84,0x0,0x0                                                                                    
002a2a   0b02     ANDLW     0x2                                                                                             
002a2c   e105     BNZ       0x2a38                                                                                          
002a2e   5080     MOVF      0x80,0x0,0x0                                                                                    
002a30   0b40     ANDLW     0x40                                                                                            
002a32   e102     BNZ       0x2a38                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a34   0e01     MOVLW     0x1                temp = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a36   d023     BRA       0x2a7e           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a38   5084     MOVF      0x84,0x0,0x0                                                                                    
002a3a   0b04     ANDLW     0x4                                                                                             
002a3c   e009     BZ        0x2a50                                                                                          
002a3e   5084     MOVF      0x84,0x0,0x0                                                                                    
002a40   0b02     ANDLW     0x2                                                                                             
002a42   e106     BNZ       0x2a50                                                                                          
002a44   5080     MOVF      0x80,0x0,0x0                                                                                    
002a46   0b40     ANDLW     0x40                                                                                            
002a48   e103     BNZ       0x2a50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4a   0e02     MOVLW     0x2                temp = 2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4c   6ef3     MOVWF     0xf3,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4e   d019     BRA       0x2a82           else if (MS1_IO_PORT == 0u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a50   5084     MOVF      0x84,0x0,0x0                                                                                    
002a52   0b04     ANDLW     0x4                                                                                             
002a54   e108     BNZ       0x2a66                                                                                          
002a56   5084     MOVF      0x84,0x0,0x0                                                                                    
002a58   0b02     ANDLW     0x2                                                                                             
002a5a   e005     BZ        0x2a66                                                                                          
002a5c   5080     MOVF      0x80,0x0,0x0                                                                                    
002a5e   0b40     ANDLW     0x40                                                                                            
002a60   e102     BNZ       0x2a66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a62   0e04     MOVLW     0x4                temp = 4;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a64   d00c     BRA       0x2a7e           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a66   5084     MOVF      0x84,0x0,0x0                                                                                    
002a68   0b04     ANDLW     0x4                                                                                             
002a6a   e008     BZ        0x2a7c                                                                                          
002a6c   5084     MOVF      0x84,0x0,0x0                                                                                    
002a6e   0b02     ANDLW     0x2                                                                                             
002a70   e005     BZ        0x2a7c                                                                                          
002a72   5080     MOVF      0x80,0x0,0x0                                                                                    
002a74   0b40     ANDLW     0x40                                                                                            
002a76   e102     BNZ       0x2a7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a78   0e08     MOVLW     0x8                temp = 8;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7a   d001     BRA       0x2a7e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7c   0e10     MOVLW     0x10               temp = 16;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7e   6ef3     MOVWF     0xf3,0x0                                                                                        
002a80   0e02     MOVLW     0x2                                                                                             
002a82   cff3     MOVFF     0xff3,0xfdb                                                                                     
002a84   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a86   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a88   e108     BNZ       0x2a9a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8a   b084     BTFSC     0x84,0x0,0x0       if (Enable1IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8c   d003     BRA       0x2a94                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8e   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a90   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a92   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a94   b282     BTFSC     0x82,0x1,0x0       if (Enable2IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a96   d010     BRA       0x2ab8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a98   d009     BRA       0x2aac           else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a9a   0404     DECF      0x4,0x0,0x0                                                                                     
002a9c   e10d     BNZ       0x2ab8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a9e   b283     BTFSC     0x83,0x1,0x0       if (Enable1AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa0   d003     BRA       0x2aa8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa2   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa4   50db     MOVF      0xdb,0x0,0x0                                                                                    
002aa6   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa8   b280     BTFSC     0x80,0x1,0x0       if (Enable2AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aaa   d006     BRA       0x2ab8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aac   0e02     MOVLW     0x2                  motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aae   50db     MOVF      0xdb,0x0,0x0                                                                                    
002ab0   6ee7     MOVWF     0xe7,0x0                                                                                        
002ab2   0e01     MOVLW     0x1                                                                                             
002ab4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002ab6   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ab8   cfdf     MOVFF     0xfdf,0x4e       ebb_print_uint(motor1_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aba   f04e                                                                                                               
002abc   6a4f     CLRF      0x4f,0x0                                                                                        
002abe   ece4     CALL      0x37c8,0x0                                                                                      
002ac0   f01b                                                                                                               
002ac2   dbc8     RCALL     0x3254                                                                                          
002ac4   ec0f     CALL      0x341e,0x0       ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac6   f01a                                                                                                               
002ac8   ec8e     CALL      0x3b1c,0x0       ebb_print_uint(motor2_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aca   f01d                                                                                                               
002acc   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ace   dbec     RCALL     0x32a8             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad0   dbe9     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad2   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002ad6   e202     BC        0x2adc                                                                                          
002ad8   6ae1     CLRF      0xe1,0x0                                                                                        
002ada   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002adc   d3dc     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Toggle Pen                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: TP,<duration><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: OK<CR>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <duration> is optional, and defaults to 0mS                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just toggles state of pen arm, then delays for the optional <duration>        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Duration is in units of 1ms                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ade   dbdd     RCALL     0x329a         void parse_TP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae0   0e02     MOVLW     0x2                                                                                             
002ae2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae4   6ade     CLRF      0xde,0x0         UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae6   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae8   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aea   dbae     RCALL     0x3248                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aec   ec81     CALL      0x3702,0x0       extract_number (kUINT, &CommandDuration, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aee   f01b                                                                                                               
002af0   ec0b     CALL      0x3a16,0x0                                                                                      
002af2   f01d                                                                                                               
003a16   0e03     MOVLW     0x3                                                                                             
003a18   ef73     GOTO      0x30e6                                                                                          
003a1a   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af4   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af6   5197     MOVF      0x97,0x0,0x1                                                                                    
002af8   e10e     BNZ       0x2b16                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afa   0101     MOVLB     0x1              if (PenState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afc   05b9     DECF      0xb9,0x0,0x1                                                                                    
002afe   e104     BNZ       0x2b08                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b00   ec9c     CALL      0x3738,0x0         process_SP(PEN_DOWN, CommandDuration);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b02   f01b                                                                                                               
002b04   6ae6     CLRF      0xe6,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b06   d004     BRA       0x2b10           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b08   ec9c     CALL      0x3738,0x0         process_SP(PEN_UP, CommandDuration);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0a   f01b                                                                                                               
002b0c   0e01     MOVLW     0x1                                                                                             
002b0e   6ee6     MOVWF     0xe6,0x0                                                                                        
002b10   ec28     CALL      0x3650,0x0                                                                                      
002b12   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b14   dbc7     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b16   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b18   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b1a   e202     BC        0x2b20                                                                                          
002b1c   6ae1     CLRF      0xe1,0x0                                                                                        
002b1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b20   d3ba     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Pen                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SP,<State>,<Duration>,<PortB_Pin><CR>                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <State> is 0 (for goto servo_max) or 1 (for goto servo_min)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is how long to wait before the next command in the motion control  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO should start. (defaults to 0mS)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      Note that the units of this parameter is either 1ms                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <PortB_Pin> Is a value from 0 to 7 and allows you to re-assign the Pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      RC Servo output to different PortB pins.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is a command that the user can send from the PC to set the pen state.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that there is only one pen RC servo output - if you use the <PortB_Pin>  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parameter, then that new pin becomes the pen RC servo output. This command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // does not allow for multiple servo signals at the same time from port B pins.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Use the S2 command for that.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function will use the values for <serv_min>, <servo_max>,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <servo_rate_up> and <servo_rate_down> (SC,4 SC,5, SC,11, SC,10 commands)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // when it schedules the servo command.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internally, the parse_SP_packet() function makes a call to                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // process_SP() function to actually make the change in the servo output.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b22   ecaa     CALL      0x3954,0x0     void parse_SP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b24   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b26   ecac     CALL      0x3558,0x0       UINT8 Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b28   f01a                                                                                                               
                                             ExtractReturnType Ret;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b2a   ecbf     CALL      0x3b7e,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b2c   f01d                                                                                                               
003b7e   de47     RCALL     0x380e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b80   ecaf     CALL      0x335e,0x0       extract_number(kUINT, &CommandDuration, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b82   f019                                                                                                               
003b84   ef0b     GOTO      0x3a16                                                                                          
003b86   f01d                                                                                                               
002b2e   ecc4     CALL      0x3b88,0x0       Ret = extract_number(kUCHAR, &Pin, kOPTIONAL);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b30   f01d                                                                                                               
002b32   ec40     CALL      0x3680,0x0                                                                                      
002b34   f01b                                                                                                               
003b88   0e01     MOVLW     0x1                                                                                             
003b8a   6ee6     MOVWF     0xe6,0x0                                                                                        
003b8c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003b8e   0f03     ADDLW     0x3                                                                                             
003b90   ef70     GOTO      0x38e0                                                                                          
003b92   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b36   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b38   5197     MOVF      0x97,0x0,0x1                                                                                    
002b3a   e123     BNZ       0x2b82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Error check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3c   0e03     MOVLW     0x3              if (Pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b40   0807     SUBLW     0x7                                                                                             
002b42   e202     BC        0x2b48                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b44   ecac     CALL      0x3558,0x0         Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b46   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b48   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b4a   0801     SUBLW     0x1                                                                                             
002b4c   e202     BC        0x2b52                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b4e   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b50   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set the PRn of the Pen Servo output                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Add 3 to get from PORTB pin number to RPn number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b52   0e03     MOVLW     0x3              if (g_servo2_RPn != (Pin + 3))                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b54   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b56   0f03     ADDLW     0x3                                                                                             
002b58   0100     MOVLB     0x0                                                                                             
002b5a   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
002b5c   e007     BZ        0x2b6c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // if we are changing which pin the pen servo is on, we need to cancel       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the servo output on the old channel first                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5e   ec29     CALL      0x3452,0x0         RCServo2_Move(0, g_servo2_RPn, 0, 0);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b60   f01a                                                                                                               
                                               // Now record the new RPn                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b62   0e03     MOVLW     0x3                g_servo2_RPn = Pin + 3;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b64   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b66   0f03     ADDLW     0x3                                                                                             
002b68   0100     MOVLB     0x0                                                                                             
002b6a   6f8a     MOVWF     0x8a,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Execute the servo state change                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6c   0e01     MOVLW     0x1              process_SP(State, CommandDuration);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002b70   ffe6                                                                                                               
002b72   0e02     MOVLW     0x2                                                                                             
002b74   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002b76   ffe6                                                                                                               
002b78   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002b7a   ffe6                                                                                                               
002b7c   ec28     CALL      0x3650,0x0                                                                                      
002b7e   f01b                                                                                                               
003650   ecc7     CALL      0x2b8e,0x0                                                                                      
003652   f015                                                                                                               
003654   d256     BRA       0x3b02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b80   db91     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b82   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b84   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b86   e202     BC        0x2b8c                                                                                          
002b88   6ae1     CLRF      0xe1,0x0                                                                                        
002b8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b8c   d384     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internal use function -                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform a state change on the pen RC servo output. Move it up or move it down D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <NewState> is either PEN_UP or PEN_DOWN.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <CommandDuration> is the number of milliseconds to wait before executing the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      next command in the motion control FIFO                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses the g_servo2_min, max, rate_up, rate_down variables        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to schedule an RC Servo change with the RCServo2_Move() function.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8e   ecb0     CALL      0x3960,0x0     void process_SP(PenStateType NewState, UINT16 CommandDuration)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b90   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Position;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Rate;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b92   0efe     MOVLW     0xfe             if (NewState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b94   04db     DECF      0xdb,0x0,0x0                                                                                    
002b96   e10b     BNZ       0x2bae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b98   c084     MOVFF     0x84,0xfde         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9a   ffde                                                                                                               
002b9c   c085     MOVFF     0x85,0xfdd                                                                                      
002b9e   ffdd                                                                                                               
002ba0   0e02     MOVLW     0x2                Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba2   c086     MOVFF     0x86,0xfdb                                                                                      
002ba4   ffdb                                                                                                               
002ba6   0e03     MOVLW     0x3                                                                                             
002ba8   c087     MOVFF     0x87,0xfdb                                                                                      
002baa   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bac   d00a     BRA       0x2bc2           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bae   c082     MOVFF     0x82,0xfde         Position = g_servo2_max;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb0   ffde                                                                                                               
002bb2   c083     MOVFF     0x83,0xfdd                                                                                      
002bb4   ffdd                                                                                                               
002bb6   0e02     MOVLW     0x2                Rate = g_servo2_rate_down;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb8   c088     MOVFF     0x88,0xfdb                                                                                      
002bba   ffdb                                                                                                               
002bbc   0e03     MOVLW     0x3                                                                                             
002bbe   c089     MOVFF     0x89,0xfdb                                                                                      
002bc0   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc2   8689     BSF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc4   c0d5     MOVFF     0xd5,0xd1        gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc6   f0d1                                                                                                               
002bc8   c0d6     MOVFF     0xd6,0xd2                                                                                       
002bca   f0d2                                                                                                               
002bcc   c0d7     MOVFF     0xd7,0xd3                                                                                       
002bce   f0d3                                                                                                               
002bd0   c0d8     MOVFF     0xd8,0xd4                                                                                       
002bd2   f0d4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now schedule the movement with the RCServo2 function                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd4   0efc     MOVLW     0xfc             RCServo2_Move(Position, g_servo2_RPn, Rate, CommandDuration);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bd8   ffe6                                                                                                               
002bda   0efd     MOVLW     0xfd                                                                                            
002bdc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bde   ffe6                                                                                                               
002be0   0e02     MOVLW     0x2                                                                                             
002be2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002be4   ffe6                                                                                                               
002be6   0e03     MOVLW     0x3                                                                                             
002be8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bea   ffe6                                                                                                               
002bec   c08a     MOVFF     0x8a,0xfe6                                                                                      
002bee   ffe6                                                                                                               
002bf0   ec9c     CALL      0x3738,0x0                                                                                      
002bf2   f01b                                                                                                               
002bf4   ecef     CALL      0x39de,0x0                                                                                      
002bf6   f01c                                                                                                               
003738   cfde     MOVFF     0xfde,0xfe6                                                                                     
00373a   ffe6                                                                                                               
00373c   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
00373e   ffe6                                                                                                               
003740   0012     RETURN    0x0                                                                                             
0039de   ec20     CALL      0x7a40,0x0                                                                                      
0039e0   f03d                                                                                                               
0039e2   6e4e     MOVWF     0x4e,0x0                                                                                        
0039e4   0e07     MOVLW     0x7                                                                                             
0039e6   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0039e8   504e     MOVF      0x4e,0x0,0x0                                                                                    
0039ea   0012     RETURN    0x0                                                                                             
002bf8   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bfa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002bfc   e202     BC        0x2c02                                                                                          
002bfe   6ae1     CLRF      0xe1,0x0                                                                                        
002c00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c02   d349     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Enable Motor                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: EM,<EnableAxis1>,<EnableAxis2><CR>                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Everything after EnableAxis1 is optional                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each parameter can have a value of                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 to disable that motor driver                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR OLD DRIVER CHIP (A3967) - can do separate enables for each axis           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/8th step mode                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR NEW DRIVER CHIP (A4988/A4983)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (only first parameter applies, and it applies to both drivers)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/16th step mode                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/8 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    5 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If you disable a motor, it goes 'limp' (we clear the ENABLE pin on that motor's D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // driver chip)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that when using 0 or 1 for a parameter, you can use both axis even       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on a 'new' driver chip board. (i.e. EM,0,1 will disable motor 1 and enable 2) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that the MSx lines do not come to any headers, so even when an external  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // source is controlling the drivers, the PIC still needs to control the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // MSx lines.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.7.0 : We always clear out the step accumulators when the EM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.8.0 : This command is now handled as part of the motion queue         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   is executed.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c04   ecb0     CALL      0x3960,0x0     void parse_EM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c06   f01c                                                                                                               
003960   dc9c     RCALL     0x329a                                                                                          
003962   0e04     MOVLW     0x4                                                                                             
003964   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003966   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned char EA1, EA2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c08   ec07     CALL      0x380e,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0a   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0c   6ee7     MOVWF     0xe7,0x0         RetVal1 = extract_number (kUCHAR, &EA1, kREQUIRED);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0e   0e02     MOVLW     0x2                                                                                             
002c10   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002c12   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c14   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal1)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c16   5197     MOVF      0x97,0x0,0x1                                                                                    
002c18   e128     BNZ       0x2c6a                                                                                          
002c1a   0e02     MOVLW     0x2                                                                                             
002c1c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c1e   e125     BNZ       0x2c6a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c20   ecae     CALL      0x395c,0x0       RetVal2 = extract_number (kUCHAR, &EA2, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c22   f01c                                                                                                               
002c24   6ee7     MOVWF     0xe7,0x0                                                                                        
002c26   0e03     MOVLW     0x3                                                                                             
002c28   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002c2a   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2c   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal2)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2e   5197     MOVF      0x97,0x0,0x1                                                                                    
002c30   e11c     BNZ       0x2c6a                                                                                          
002c32   0e03     MOVLW     0x3                                                                                             
002c34   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c36   e119     BNZ       0x2c6a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c38   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3a   d016     BRA       0x2c68                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Trial: Spin here until there's space in the fifo                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3c   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3e   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002c40   e2fd     BC        0x2c3c                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up the motion queue command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c42   ecc8     CALL      0x3590,0x0       FIFOPtr[gFIFOIn].m.sm.DirBits = EA1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c44   f01a                                                                                                               
002c46   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002c48   ffef                                                                                                               
003590   5010     MOVF      0x10,0x0,0x0                                                                                    
003592   dade     RCALL     0x3b50                                                                                          
003594   52ee     MOVF      0xee,0x1,0x0                                                                                    
003596   0012     RETURN    0x0                                                                                             
003826   51fe     MOVF      0xfe,0x0,0x1                                                                                    
003828   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
00382a   6ee9     MOVWF     0xe9,0x0                                                                                        
00382c   51ff     MOVF      0xff,0x0,0x1                                                                                    
00382e   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
003830   6eea     MOVWF     0xea,0x0                                                                                        
003832   0012     RETURN    0x0                                                                                             
003b50   0d2f     MULLW     0x2f                                                                                            
003b52   0102     MOVLB     0x2                                                                                             
003b54   ef13     GOTO      0x3826                                                                                          
003b56   f01c                                                                                                               
002c4a   db8d     RCALL     0x3366           FIFOPtr[gFIFOIn].m.sm.ServoRPn = EA2;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4c   ec25     CALL      0x364a,0x0                                                                                      
002c4e   f01b                                                                                                               
002c50   0e01     MOVLW     0x1                                                                                             
002c52   cfdb     MOVFF     0xfdb,0xfef                                                                                     
002c54   ffef                                                                                                               
002c56   db87     RCALL     0x3366           FIFOPtr[gFIFOIn].Command = COMMAND_EM;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c58   0e04     MOVLW     0x4                                                                                             
002c5a   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c5c   2a10     INCF      0x10,0x1,0x0       gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c5e   5013     MOVF      0x13,0x0,0x0       if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c60   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002c62   e301     BNC       0x2c66                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c64   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c66   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c68   db1d     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c6a   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c6c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002c6e   e202     BC        0x2c74                                                                                          
002c70   6ae1     CLRF      0xe1,0x0                                                                                        
002c72   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c74   d310     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter increment                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: NI<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_NI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c76   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c78   dae7     RCALL     0x3248                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7a   0efe     MOVLW     0xfe             if (NodeCount < 0xFFFFFFFEUL)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7c   0101     MOVLB     0x1                                                                                             
002c7e   5dba     SUBWF     0xba,0x0,0x1                                                                                    
002c80   0eff     MOVLW     0xff                                                                                            
002c82   59bb     SUBWFB    0xbb,0x0,0x1                                                                                    
002c84   0eff     MOVLW     0xff                                                                                            
002c86   59bc     SUBWFB    0xbc,0x0,0x1                                                                                    
002c88   0eff     MOVLW     0xff                                                                                            
002c8a   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
002c8c   e205     BC        0x2c98                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c8e   2bba     INCF      0xba,0x1,0x1       NodeCount++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c90   0e00     MOVLW     0x0                                                                                             
002c92   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
002c94   23bc     ADDWFC    0xbc,0x1,0x1                                                                                    
002c96   23bd     ADDWFC    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c98   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9a   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter Decrement                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ND<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_ND_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9c   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9e   dad4     RCALL     0x3248                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca0   0101     MOVLB     0x1              if (NodeCount)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca2   51ba     MOVF      0xba,0x0,0x1                                                                                    
002ca4   11bb     IORWF     0xbb,0x0,0x1                                                                                    
002ca6   11bc     IORWF     0xbc,0x0,0x1                                                                                    
002ca8   11bd     IORWF     0xbd,0x0,0x1                                                                                    
002caa   e005     BZ        0x2cb6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cac   07ba     DECF      0xba,0x1,0x1       NodeCount--;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cae   0e00     MOVLW     0x0                                                                                             
002cb0   5bbb     SUBWFB    0xbb,0x1,0x1                                                                                    
002cb2   5bbc     SUBWFB    0xbc,0x1,0x1                                                                                    
002cb4   5bbd     SUBWFB    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb6   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb8   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Node counter                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SN,<value><CR>                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <value> is a 4 byte unsigned value                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cba   daef     RCALL     0x329a         void parse_SN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cbc   0e05     MOVLW     0x5                                                                                             
002cbe   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned long Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc0   eca3     CALL      0x3b46,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc2   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc4   0e07     MOVLW     0x7              RetVal = extract_number(kULONG, &Temp, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc6   da0f     RCALL     0x30e6                                                                                          
002cc8   ec40     CALL      0x3680,0x0                                                                                      
002cca   f01b                                                                                                               
002ccc   50db     MOVF      0xdb,0x0,0x0     if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cce   e10b     BNZ       0x2ce6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd0   cfdf     MOVFF     0xfdf,0x1ba        NodeCount = Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd2   f1ba                                                                                                               
002cd4   0e01     MOVLW     0x1                                                                                             
002cd6   cfdb     MOVFF     0xfdb,0x1bb                                                                                     
002cd8   f1bb                                                                                                               
002cda   0e02     MOVLW     0x2                                                                                             
002cdc   cfdb     MOVFF     0xfdb,0x1bc                                                                                     
002cde   f1bc                                                                                                               
002ce0   0e03     MOVLW     0x3                                                                                             
002ce2   cfdb     MOVFF     0xfdb,0x1bd                                                                                     
002ce4   f1bd                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce6   dade     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce8   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cea   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002cec   e202     BC        0x2cf2                                                                                          
002cee   6ae1     CLRF      0xe1,0x0                                                                                        
002cf0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002cf2   d2d1     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Node counter                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QN<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <NodeCount><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf4   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf6   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf8   c1ba     MOVFF     0x1ba,0xfe6      ebb_print_uint(NodeCount);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cfa   ffe6                                                                                                               
002cfc   c1bb     MOVFF     0x1bb,0xfe6                                                                                     
002cfe   ffe6                                                                                                               
002d00   c1bc     MOVFF     0x1bc,0xfe6                                                                                     
002d02   ffe6                                                                                                               
002d04   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
002d06   ffe6                                                                                                               
002d08   ecd3     CALL      0x39a6,0x0                                                                                      
002d0a   f01c                                                                                                               
002d0c   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d0e   dbe9     RCALL     0x34e2             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d10   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d12   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Layer                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SL,<Value>[,<Index>]<CR>                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Value> is an unsigned 8-bit decimal number and                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Index> is an optional parameter from 0 to 31. If not present then            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <index> is assumed to be 0.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Store <Value> in <Index> (variable space) in RAM                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Retrieve the values using the QL command                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d14   dac2     RCALL     0x329a         void parse_SL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d16   0e02     MOVLW     0x2                                                                                             
002d18   ecca     CALL      0x3b94,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d1a   f01d                                UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d1c   ec07     CALL      0x380e,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d1e   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d20   ecae     CALL      0x395c,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d22   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d24   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d26   5197     MOVF      0x97,0x0,0x1                                                                                    
002d28   e10c     BNZ       0x2d42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2a   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d2e   081f     SUBLW     0x1f                                                                                            
002d30   e203     BC        0x2d38                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d32   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d34   0e1f     MOVLW     0x1f                                                                                            
002d36   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d38   ec5d     CALL      0x36ba,0x0       gSL_Storage[Index] = Value;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3a   f01b                                                                                                               
002d3c   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002d3e   ffef                                                                                                               
0036ba   0e01     MOVLW     0x1                                                                                             
0036bc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0036be   6aea     CLRF      0xea,0x0                                                                                        
0036c0   0f58     ADDLW     0x58                                                                                            
0036c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0036c4   0e01     MOVLW     0x1                                                                                             
0036c6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0036c8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d40   dab1     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d42   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d44   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002d46   e202     BC        0x2d4c                                                                                          
002d48   6ae1     CLRF      0xe1,0x0                                                                                        
002d4a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002d4c   d2a4     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Layer                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QL[,<Index>]<CR>                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: QL,<ValueAtIndex><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Index> is an optional parameter from 0 to 31                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If not present, <Index> is set to 0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The <ValueAtIndex> is an unsigned byte which was previously stored at <Index> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d4e   daa5     RCALL     0x329a         void parse_QL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d50   0e02     MOVLW     0x2                                                                                             
002d52   ec75     CALL      0x38ea,0x0                                                                                      
0038ea   d954                                                                                                               
003b94   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d54   f01c     WORD2     0x1c             UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b96   6adf     CLRF      0xdf,0x0                                                                                        
003b98   0e01     MOVLW     0x1              UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b9a   6adb     CLRF      0xdb,0x0                                                                                        
003b9c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038ec   6ee6     MOVWF     0xe6,0x0         print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038ee   ef24     GOTO      0x3248                                                                                          
0038f0   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d56   ecae     CALL      0x395c,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d58   f01c                                                                                                               
00395c   dd00     RCALL     0x335e                                                                                          
00395e   d123     BRA       0x3ba6                                                                                          
003ba6   0e01     MOVLW     0x1                                                                                             
003ba8   ef73     GOTO      0x30e6                                                                                          
003baa   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5a   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5c   5197     MOVF      0x97,0x0,0x1                                                                                    
002d5e   e113     BNZ       0x2d86                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d60   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d62   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d64   081f     SUBLW     0x1f                                                                                            
002d66   e203     BC        0x2d6e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d68   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6a   0e1f     MOVLW     0x1f                                                                                            
002d6c   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6e   ec5d     CALL      0x36ba,0x0       ebb_print_uint(gSL_Storage[Index]);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d70   f01b                                                                                                               
002d72   cfef     MOVFF     0xfef,0x4e                                                                                      
002d74   f04e                                                                                                               
002d76   6a4f     CLRF      0x4f,0x0                                                                                        
002d78   ece4     CALL      0x37c8,0x0                                                                                      
002d7a   f01b                                                                                                               
002d7c   ecd3     CALL      0x39a6,0x0                                                                                      
002d7e   f01c                                                                                                               
0037c8   6a50     CLRF      0x50,0x0                                                                                        
0037ca   6a51     CLRF      0x51,0x0                                                                                        
0037cc   c04e     MOVFF     0x4e,0xfe6                                                                                      
0037ce   ffe6                                                                                                               
0037d0   ef7a     GOTO      0x3af4                                                                                          
0037d2   f01d                                                                                                               
002d80   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d82   dbaf     RCALL     0x34e2             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d84   da8f     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d86   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d88   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002d8a   e202     BC        0x2d90                                                                                          
002d8c   6ae1     CLRF      0xe1,0x0                                                                                        
002d8e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002d90   d282     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Button                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QB<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <HasButtonBeenPushedSinceLastQB><CR> (0 or 1)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void  parse_QB_packet(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d92   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d94   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d96   5007     MOVF      0x7,0x0,0x0      ebb_print_uint(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d98   6e4e     MOVWF     0x4e,0x0                                                                                        
002d9a   6a4f     CLRF      0x4f,0x0                                                                                        
002d9c   6a50     CLRF      0x50,0x0                                                                                        
002d9e   6a51     CLRF      0x51,0x0                                                                                        
002da0   6ee6     MOVWF     0xe6,0x0                                                                                        
002da2   ec7a     CALL      0x3af4,0x0                                                                                      
002da4   f01d                                                                                                               
002da6   ecd3     CALL      0x39a6,0x0                                                                                      
002da8   f01c                                                                                                               
003254   ec06     CALL      0x840c,0x0                                                                                      
003256   f042                                                                                                               
003258   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00325a   ef81     GOTO      0x3b02                                                                                          
00325c   f01d                                                                                                               
0039a6   dc56     RCALL     0x3254                                                                                          
003af4   c04f     MOVFF     0x4f,0xfe6                                                                                      
003af6   ffe6                                                                                                               
003af8   c050     MOVFF     0x50,0xfe6                                                                                      
003afa   ffe6                                                                                                               
003afc   c051     MOVFF     0x51,0xfe6                                                                                      
003afe   ffe6                                                                                                               
003b00   0012     RETURN    0x0                                                                                             
002daa   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039a8   0101     MOVLB     0x1                                                                                             
0039aa   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dac   db9a     RCALL     0x34e2             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dae   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db0   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db2   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db4   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Current                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QC<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <voltage_on_REF_RA0_net>,<voltage_on_v+_net><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Both values have a range of 0 to 1023 (10-bit ADC)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The ADC is set up with 0V = 0 and 3.3V = 1023                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the REF_RA0 (current adjustment pot) a value of 0V-ADC (0 counts) = 46mA  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.58V-ADC (800 counts) = 1.35A                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the V+ net a value of 0V-ADC (0 counts) = 0V on V+                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.79V-ADC (870 counts) = 31.4V on V+                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // REF_RA0 comes in on AN0 (RA0)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // V+ comes in on AN11 (RC2)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since access to ISR_A_FIFO[] is not protected in any way from ISR and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // mainline code accessing at the same time, we will just wait for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the cycle of ADC readings to finish before we spit out our value.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db6   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db8   d7fe     BRA       0x2db6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out our results                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dba   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dbc   f01c                                                                                                               
002dbe   c100     MOVFF     0x100,0x4e       ebb_print_int(ISR_A_FIFO[0]);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc0   f04e                                                                                                               
002dc2   c101     MOVFF     0x101,0x4f                                                                                      
002dc4   f04f                                                                                                               
002dc6   da2a     RCALL     0x321c                                                                                          
002dc8   db2a     RCALL     0x341e           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dca   c116     MOVFF     0x116,0x4e       ebb_print_int(ISR_A_FIFO[11]);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dcc   f04e                                                                                                               
002dce   c117     MOVFF     0x117,0x4f                                                                                      
002dd0   f04f                                                                                                               
002dd2   da24     RCALL     0x321c                                                                                          
002dd4   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd6   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd8   db84     RCALL     0x34e2             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dda   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ddc   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query General                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QG<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <status><NL><CR>                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <status> is a 16 bit value, printed as a hexadecimal number "00" to "FF".     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each bit in the byte represents the status of a single bit of information in the EBB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 0 : Motion FIFO status (0 = FIFO empty, 1 = FIFO not empty)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 1 : Motor2 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 2 : Motor1 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 3 : CommandExecuting (0 = no command currently executing, 1 = a command is currently executing) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 4 : Pen status (0 = up, 1 = down)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 5 : PRG button status (0 = not pressed since last query, 1 = pressed since last query) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 6 : Power Lost (1 = V+ went below g_PowerMonitorThresholdADC, 0 = it did not) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 7 : gLimitSwitchTriggered                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just like the QB command, the PRG button status is cleared (after being printed) if pressed since last QB/QG command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dde   ecd0     CALL      0x39a0,0x0     void parse_QG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de0   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de2   d8cf     RCALL     0x2f82           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de4   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de6   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de8   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // process_QM() gives us the low 4 bits of our output result.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dea   0e0f     MOVLW     0xf              result = result & 0x0F;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dec   14df     ANDWF     0xdf,0x0,0x0                                                                                    
002dee   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df0   0101     MOVLB     0x1              if (PenState)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df2   51b9     MOVF      0xb9,0x0,0x1                                                                                    
002df4   e003     BZ        0x2dfc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df6   0e10     MOVLW     0x10               result = result | (1 << 4);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df8   10df     IORWF     0xdf,0x0,0x0                                                                                    
002dfa   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfc   a007     BTFSS     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfe   d003     BRA       0x2e06                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e00   0e20     MOVLW     0x20               result = result | (1 << 5);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e02   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e04   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e06   0100     MOVLB     0x0              if (g_PowerDropDetected)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e08   51a7     MOVF      0xa7,0x0,0x1                                                                                    
002e0a   e004     BZ        0x2e14                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0c   0e40     MOVLW     0x40               result = result | (1 << 6);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0e   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e10   6edf     MOVWF     0xdf,0x0                                                                                        
002e12   6ba7     CLRF      0xa7,0x1           g_PowerDropDetected = FALSE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e14   a00e     BTFSS     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e16   d003     BRA       0x2e1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e18   0e80     MOVLW     0x80               result = result | (1 << 7);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e1a   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e1c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e1e   0e02     MOVLW     0x2              ebb_print_hex(result, 2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e20   6ee6     MOVWF     0xe6,0x0                                                                                        
002e22   cfdf     MOVFF     0xfdf,0x4e                                                                                      
002e24   f04e                                                                                                               
002e26   6a4f     CLRF      0x4f,0x0                                                                                        
002e28   ece4     CALL      0x37c8,0x0                                                                                      
002e2a   f01b                                                                                                               
002e2c   eccc     CALL      0x8398,0x0                                                                                      
002e2e   f041                                                                                                               
002e30   6e52     MOVWF     0x52,0x0                                                                                        
002e32   0e05     MOVLW     0x5                                                                                             
002e34   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002e36   5052     MOVF      0x52,0x0,0x0                                                                                    
002e38   db54     RCALL     0x34e2           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034e2   0e01     MOVLW     0x1                                                                                             
0034e4   6ee6     MOVWF     0xe6,0x0                                                                                        
0034e6   d291     BRA       0x3a0a                                                                                          
003a0a   ec80     CALL      0x4b00,0x0                                                                                      
003a0c   f025                                                                                                               
003a0e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a10   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Reset the button pushed flag                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3a   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3c   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3e   d2ed     BRA       0x341a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00341a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00341c   d2f2     BRA       0x3a02                                                                                          
003a02   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a04   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003a06   ffd9                                                                                                               
003a08   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Engraver                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SE,<state>,<power>,<use_motion_queue><CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <state> is 0 for off and 1 for on (required)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <power> is 10 bit PWM power level (optional). 0 = 0%, 1023 = 100%             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <use_motion_queue> if 1 then put this command in motion queue (optional))     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // We boot up with <power> at 0                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The engraver motor is always assumed to be on RB3                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // So our init routine will map ECCP1                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer1 is stepper                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer2 and ECCP1 is engraver PWM                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer3 and ECCP2 is RC servo2 output                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer4 is 1ms ISR                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e40   ecaa     CALL      0x3954,0x0     void parse_SE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e42   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Power = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e44   0e03     MOVLW     0x3              UINT8 SEUseMotionQueue = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e46   6adb     CLRF      0xdb,0x0                                                                                        
                                             ExtractReturnType PowerExtract;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e48   ecbf     CALL      0x3b7e,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4a   f01d                                                                                                               
003248   6ae6     CLRF      0xe6,0x0                                                                                        
00324a   ec62     CALL      0x4ac4,0x0                                                                                      
00324c   f025                                                                                                               
00324e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003250   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003252   0012     RETURN    0x0                                                                                             
00380e   d99b     RCALL     0x3b46                                                                                          
003b46   6ae6     CLRF      0xe6,0x0                                                                                        
003b48   ec24     CALL      0x3248,0x0                                                                                      
003b4a   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033f6   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033f8   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0033fa   ffe6                                                                                                               
0033fc   cfda     MOVFF     0xfda,0xfe6                                                                                     
0033fe   ffe6                                                                                                               
003400   0012     RETURN    0x0                                                                                             
003810   d1ca     BRA       0x3ba6                                                                                          
003b4c   effb     GOTO      0x33f6                                                                                          
003b4e   f019                                                                                                               
002e4c   ec40     CALL      0x3680,0x0       PowerExtract = extract_number(kUINT, &Power, kOPTIONAL);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4e   f01b                                                                                                               
00335e   0e01     MOVLW     0x1                                                                                             
003360   6ee6     MOVWF     0xe6,0x0                                                                                        
003362   efe8     GOTO      0x39d0                                                                                          
003364   f01c                                                                                                               
002e50   ecc4     CALL      0x3b88,0x0       extract_number(kUCHAR, &SEUseMotionQueue, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e52   f01d                                                                                                               
0030e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0030e8   ec89     CALL      0x5d12,0x0                                                                                      
0030ea   f02e                                                                                                               
0030ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030ee   ef81     GOTO      0x3b02                                                                                          
0030f0   f01d                                                                                                               
0038e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0038e2   0e00     MOVLW     0x0                                                                                             
0038e4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0038e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0038e8   d15e     BRA       0x3ba6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e54   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e56   5197     MOVF      0x97,0x0,0x1                                                                                    
002e58   e001     BZ        0x2e5c                                                                                          
002e5a   d08d     BRA       0x2f76                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Limit check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5c   da8f     RCALL     0x337c           if (Power > 1023u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5e   0eff     MOVLW     0xff                                                                                            
002e60   80d8     BSF       0xd8,0x0,0x0                                                                                    
002e62   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
002e64   0e03     MOVLW     0x3                                                                                             
002e66   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
002e68   e205     BC        0x2e74                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6a   0e01     MOVLW     0x1                Power = 1023;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6c   68db     SETF      0xdb,0x0                                                                                        
002e6e   0e03     MOVLW     0x3                                                                                             
002e70   eca1     CALL      0x3742,0x0                                                                                      
002e72   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e74   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e76   0801     SUBLW     0x1                                                                                             
002e78   e202     BC        0x2e7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7a   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7e   0e03     MOVLW     0x3              if (SEUseMotionQueue > 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e80   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e82   0801     SUBLW     0x1                                                                                             
002e84   e201     BC        0x2e88                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e86   db68     RCALL     0x3558             SEUseMotionQueue = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set to %50 if no Power parameter specified, otherwise use parameter         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e88   04df     DECF      0xdf,0x0,0x0     if (State == 1u && PowerExtract == kEXTRACT_MISSING_PARAMETER)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8a   e109     BNZ       0x2e9e                                                                                          
002e8c   0e04     MOVLW     0x4                                                                                             
002e8e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e90   0803     SUBLW     0x3                                                                                             
002e92   e105     BNZ       0x2e9e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e94   0101     MOVLB     0x1                StoredEngraverPower = 512;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e96   6bbf     CLRF      0xbf,0x1                                                                                        
002e98   0e02     MOVLW     0x2                                                                                             
002e9a   6fc0     MOVWF     0xc0,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e9c   d006     BRA       0x2eaa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e9e   0e01     MOVLW     0x1                StoredEngraverPower = Power;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ea0   cfdb     MOVFF     0xfdb,0x1bf                                                                                     
002ea2   f1bf                                                                                                               
002ea4   0e02     MOVLW     0x2                                                                                             
002ea6   cfdb     MOVFF     0xfdb,0x1c0                                                                                     
002ea8   f1c0                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're not on, then turn us on                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eaa   b4ca     BTFSC     0xca,0x2,0x0     if (T2CONbits.TMR2ON != 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eac   d015     BRA       0x2ed8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up PWM for Engraver control                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We will use ECCP1 and Timer2 for the engraver PWM output on RB3           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Our PWM will operate at about 40Khz.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set our reload value                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eae   68cb     SETF      0xcb,0x0           PR2 = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Initialize Timer2                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // The prescaler will be at 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb0   0efc     MOVLW     0xfc               T2CONbits.T2CKPS = 0b00;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb2   14ca     ANDWF     0xca,0x0,0x0                                                                                    
002eb4   0900     IORLW     0x0                                                                                             
002eb6   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Do not generate an interrupt                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb8   929d     BCF       0x9d,0x1,0x0       PIE1bits.TMR2IE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eba   010f     MOVLB     0xf                TCLKCONbits.T3CCP1 = 1;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ebc   8152     BSF       0x52,0x0,0x1                                                                                    
002ebe   9352     BCF       0x52,0x1,0x1       TCLKCONbits.T3CCP2 = 0;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec0   0ef0     MOVLW     0xf0               CCP1CONbits.CCP1M = 0b1100;   // Set EECP1 as PWM mode                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002ec4   090c     IORLW     0xc                                                                                             
002ec6   6eba     MOVWF     0xba,0x0                                                                                        
002ec8   0e3f     MOVLW     0x3f               CCP1CONbits.P1M = 0b00;       // Enhanced PWM mode: single output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eca   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002ecc   0900     IORLW     0x0                                                                                             
002ece   6eba     MOVWF     0xba,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up output routing to go to RB3 (RP6)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed0   010e     MOVLB     0xe                RPOR6 = 14;                   // 14 is CCP1/P1A - ECCP1 PWM Output Channel A D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed2   0e0e     MOVLW     0xe                                                                                             
002ed4   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed6   84ca     BSF       0xca,0x2,0x0       T2CONbits.TMR2ON = 1;         // Turn it on                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Acting on the state is only done if the SE command is not put on the motion queue D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed8   0e03     MOVLW     0x3              if (!SEUseMotionQueue)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eda   50db     MOVF      0xdb,0x0,0x0                                                                                    
002edc   e12a     BNZ       0x2f32                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ede   50df     MOVF      0xdf,0x0,0x0       if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee0   e023     BZ        0x2f28                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee2   c1bf     MOVFF     0x1bf,0x4e           CCPR1L = StoredEngraverPower >> 2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee4   f04e                                                                                                               
002ee6   c1c0     MOVFF     0x1c0,0x4f                                                                                      
002ee8   f04f                                                                                                               
002eea   90d8     BCF       0xd8,0x0,0x0                                                                                    
002eec   324f     RRCF      0x4f,0x1,0x0                                                                                    
002eee   324e     RRCF      0x4e,0x1,0x0                                                                                    
002ef0   90d8     BCF       0xd8,0x0,0x0                                                                                    
002ef2   324f     RRCF      0x4f,0x1,0x0                                                                                    
002ef4   324e     RRCF      0x4e,0x1,0x0                                                                                    
002ef6   504e     MOVF      0x4e,0x0,0x0                                                                                    
002ef8   6ebb     MOVWF     0xbb,0x0                                                                                        
002efa   c1bf     MOVFF     0x1bf,0x50           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efc   f050                                                                                                               
002efe   c1c0     MOVFF     0x1c0,0x51                                                                                      
002f00   f051                                                                                                               
002f02   0e04     MOVLW     0x4                                                                                             
002f04   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f06   3650     RLCF      0x50,0x1,0x0                                                                                    
002f08   3651     RLCF      0x51,0x1,0x0                                                                                    
002f0a   04e8     DECF      0xe8,0x0,0x0                                                                                    
002f0c   e1fb     BNZ       0x2f04                                                                                          
002f0e   0e30     MOVLW     0x30                                                                                            
002f10   1650     ANDWF     0x50,0x1,0x0                                                                                    
002f12   0e00     MOVLW     0x0                                                                                             
002f14   1651     ANDWF     0x51,0x1,0x0                                                                                    
002f16   0ecf     MOVLW     0xcf                                                                                            
002f18   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f1a   0100     MOVLB     0x0                                                                                             
002f1c   1050     IORWF     0x50,0x0,0x0                                                                                    
002f1e   6e4e     MOVWF     0x4e,0x0                                                                                        
002f20   c051     MOVFF     0x51,0x4f                                                                                       
002f22   f04f                                                                                                               
002f24   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f26   d003     BRA       0x2f2e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f28   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f2a   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f2c   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f2e   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f30   d021     BRA       0x2f74           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f32   bc09     BTFSC     0x9,0x6,0x0        if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f34   d01f     BRA       0x2f74                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Trial: Spin here until there's space in the FIFO                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f36   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f38   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002f3a   e2fd     BC        0x2f36                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set up the motion queue command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3c   db29     RCALL     0x3590             FIFOPtr[gFIFOIn].m.sm.SEPower = StoredEngraverPower;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3e   0e2c     MOVLW     0x2c                                                                                            
002f40   ecda     CALL      0x3bb4,0x0                                                                                      
002f42   f01d                                                                                                               
002f44   c1bf     MOVFF     0x1bf,0xfee                                                                                     
002f46   ffee                                                                                                               
002f48   c1c0     MOVFF     0x1c0,0xfed                                                                                     
002f4a   ffed                                                                                                               
002f4c   da0c     RCALL     0x3366             FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f4e   52ee     MOVF      0xee,0x1,0x0                                                                                    
002f50   52ee     MOVF      0xee,0x1,0x0                                                                                    
002f52   6aee     CLRF      0xee,0x0                                                                                        
002f54   6aee     CLRF      0xee,0x0                                                                                        
002f56   6aee     CLRF      0xee,0x0                                                                                        
002f58   6aee     CLRF      0xee,0x0                                                                                        
002f5a   da05     RCALL     0x3366             FIFOPtr[gFIFOIn].m.sm.SEState = State;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5c   db73     RCALL     0x3644                                                                                          
002f5e   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002f60   ffef                                                                                                               
003366   5010     MOVF      0x10,0x0,0x0                                                                                    
003368   0d2f     MULLW     0x2f                                                                                            
00336a   ef13     GOTO      0x3826                                                                                          
00336c   f01c                                                                                                               
002f62   da01     RCALL     0x3366             FIFOPtr[gFIFOIn].Command = COMMAND_SE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f64   0e03     MOVLW     0x3                                                                                             
002f66   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f68   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f6a   5013     MOVF      0x13,0x0,0x0         if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f6c   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002f6e   e301     BNC       0x2f72                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f70   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f72   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f74   d997     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f76   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f78   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002f7a   e202     BC        0x2f80                                                                                          
002f7c   6ae1     CLRF      0xe1,0x0                                                                                        
002f7e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002f80   d18a     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Do the work of the QM command so we can use this same code for QM and         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for QG commands.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f82   d98b     RCALL     0x329a         UINT8 process_QM(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f84   0e04     MOVLW     0x4                                                                                             
002f86   da3d     RCALL     0x3402                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f88   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f8a   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f8c   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Create our output values to print back to the PC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f8e   0101     MOVLB     0x1              if (CurrentCommand.m.sm.DelayCounter != 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f90   db6d     RCALL     0x366c                                                                                          
002f92   e002     BZ        0x2f98                                                                                          
00366c   5187     MOVF      0x87,0x0,0x1                                                                                    
00366e   1188     IORWF     0x88,0x0,0x1                                                                                    
003670   1189     IORWF     0x89,0x0,0x1                                                                                    
003672   118a     IORWF     0x8a,0x0,0x1                                                                                    
003674   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f94   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f96   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f98   5185     MOVF      0x85,0x0,0x1     if (CurrentCommand.Command != COMMAND_NONE)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9a   e002     BZ        0x2fa0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9c   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9e   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa0   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa2   e006     BZ        0x2fb0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa4   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa6   6edf     MOVWF     0xdf,0x0                                                                                        
002fa8   6ef3     MOVWF     0xf3,0x0           FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002faa   0e03     MOVLW     0x3                                                                                             
002fac   cff3     MOVFF     0xff3,0xfdb                                                                                     
002fae   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb0   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[0] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb2   e005     BZ        0x2fbe                                                                                          
002fb4   daf8     RCALL     0x35a6                                                                                          
002fb6   e003     BZ        0x2fbe                                                                                          
0035a6   5194     MOVF      0x94,0x0,0x1                                                                                    
0035a8   1195     IORWF     0x95,0x0,0x1                                                                                    
0035aa   1196     IORWF     0x96,0x0,0x1                                                                                    
0035ac   1197     IORWF     0x97,0x0,0x1                                                                                    
0035ae   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb8   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fba   0e01     MOVLW     0x1                                                                                             
002fbc   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fbe   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[1] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc0   e004     BZ        0x2fca                                                                                          
002fc2   db4f     RCALL     0x3662                                                                                          
002fc4   e002     BZ        0x2fca                                                                                          
003662   5198     MOVF      0x98,0x0,0x1                                                                                    
003664   1199     IORWF     0x99,0x0,0x1                                                                                    
003666   119a     IORWF     0x9a,0x0,0x1                                                                                    
003668   119b     IORWF     0x9b,0x0,0x1                                                                                    
00366a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc6   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc8   dbbc     RCALL     0x3742                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fca   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fcc   0e03     MOVLW     0x3              return ((CommandExecuting << 3) | (Motor1Running << 2) | (Motor2Running << 1) | FIFOStatus); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fce   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002fd0   ffe6                                                                                                               
002fd2   0e02     MOVLW     0x2                                                                                             
002fd4   50db     MOVF      0xdb,0x0,0x0                                                                                    
002fd6   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002fd8   6e4f     MOVWF     0x4f,0x0                                                                                        
002fda   0e01     MOVLW     0x1                                                                                             
002fdc   50db     MOVF      0xdb,0x0,0x0                                                                                    
002fde   0d04     MULLW     0x4                                                                                             
002fe0   cff3     MOVFF     0xff3,0x4e                                                                                      
002fe2   f04e                                                                                                               
002fe4   50df     MOVF      0xdf,0x0,0x0                                                                                    
002fe6   0d08     MULLW     0x8                                                                                             
002fe8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002fea   104e     IORWF     0x4e,0x0,0x0                                                                                    
002fec   104f     IORWF     0x4f,0x0,0x0                                                                                    
002fee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002ff0   10e7     IORWF     0xe7,0x0,0x0                                                                                    
002ff2   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff4   0e04     MOVLW     0x4                                                                                             
002ff6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002ff8   e202     BC        0x2ffe                                                                                          
002ffa   6ae1     CLRF      0xe1,0x0                                                                                        
002ffc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002ffe   6ee1     MOVWF     0xe1,0x0                                                                                        
003000   504e     MOVF      0x4e,0x0,0x0                                                                                    
003002   ef01     GOTO      0x3a02                                                                                          
003004   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Motor - returns the current status of each motor                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM takes no parameters, so usage is just QM<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status><CR>                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <CommandExecutingStatus>: 0 if no 'motion command' is executing, > 0 if some 'motion command' is executing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor1Status>: 0 if motor 1 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor2Status>: 0 if motor 2 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of version 2.4.4, there is now a fourth parameter at the end of the reply packet. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status>,<FIFOStatus><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <FIFOStatus> is either 1 (if there are any commands in the FIFO) or 0 (if the FIFO is empty) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003006   ecaa     CALL      0x3954,0x0     void parse_QM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003008   f01c                                                                                                               
003402   dbc8     RCALL     0x3b94                                                                                          
003954   dca2     RCALL     0x329a                                                                                          
003956   0e05     MOVLW     0x5                                                                                             
003958   ef01     GOTO      0x3402                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00395a   f01a                                UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003404   0e02     MOVLW     0x2              UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003406   6adb     CLRF      0xdb,0x0                                                                                        
003408   0012     RETURN    0x0                                                                                             
00300a   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300c   6adb     CLRF      0xdb,0x0                                                                                        
00300e   dfb9     RCALL     0x2f82           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003010   db37     RCALL     0x3680                                                                                          
003680   6ee7     MOVWF     0xe7,0x0                                                                                        
003682   0e04     MOVLW     0x4                                                                                             
003684   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003686   ffdb                                                                                                               
003688   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003012   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003014   6ee6     MOVWF     0xe6,0x0                                                                                        
003016   6ee6     MOVWF     0xe6,0x0                                                                                        
003018   ec62     CALL      0x4ac4,0x0                                                                                      
00301a   f025                                                                                                               
00301c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00301e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003020   0e04     MOVLW     0x4              if (result & 0x01)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003022   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003024   da99     RCALL     0x3558             FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003558   0e01     MOVLW     0x1                                                                                             
00355a   6ef3     MOVWF     0xf3,0x0                                                                                        
00355c   0e03     MOVLW     0x3                                                                                             
00355e   cff3     MOVFF     0xff3,0xfdb                                                                                     
003560   ffdb                                                                                                               
003562   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003026   0e04     MOVLW     0x4              if (result & 0x02)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003028   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00302a   d002     BRA       0x3030                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302c   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302e   db89     RCALL     0x3742                                                                                          
003742   6ef3     MOVWF     0xf3,0x0                                                                                        
003744   0e02     MOVLW     0x2                                                                                             
003746   cff3     MOVFF     0xff3,0xfdb                                                                                     
003748   ffdb                                                                                                               
00374a   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003030   0e04     MOVLW     0x4              if (result & 0x04)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003032   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
003034   d003     BRA       0x303c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003036   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003038   0e01     MOVLW     0x1                                                                                             
00303a   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303c   0e04     MOVLW     0x4              if (result & 0x08)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303e   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
003040   d002     BRA       0x3046                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003042   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003044   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003046   cfdf     MOVFF     0xfdf,0x4e       ebb_print_int(CommandExecuting);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003048   f04e                                                                                                               
00304a   6a4f     CLRF      0x4f,0x0                                                                                        
00304c   d8e7     RCALL     0x321c                                                                                          
00304e   d9e7     RCALL     0x341e           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00341e   0e2c     MOVLW     0x2c                                                                                            
003420   6ee6     MOVWF     0xe6,0x0                                                                                        
003422   ecfc     CALL      0x43f8,0x0                                                                                      
003424   f021                                                                                                               
003426   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003428   0012     RETURN    0x0                                                                                             
003050   0e01     MOVLW     0x1              ebb_print_int(Motor1Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003052   ec7d     CALL      0x38fa,0x0                                                                                      
003054   f01c                                                                                                               
003056   d9e3     RCALL     0x341e           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003058   0e02     MOVLW     0x2              ebb_print_int(Motor2Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00305a   ec7d     CALL      0x38fa,0x0                                                                                      
00305c   f01c                                                                                                               
00305e   d9df     RCALL     0x341e           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003060   0e03     MOVLW     0x3              ebb_print_int(FIFOStatus);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003062   ec7d     CALL      0x38fa,0x0                                                                                      
003064   f01c                                                                                                               
00321c   dad5     RCALL     0x37c8                                                                                          
00321e   efea     GOTO      0x37d4                                                                                          
003220   f01b                                                                                                               
0038fa   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0038fc   f04e                                                                                                               
0038fe   6a4f     CLRF      0x4f,0x0                                                                                        
003900   ef0e     GOTO      0x321c                                                                                          
003902   f019                                                                                                               
003066   d920     RCALL     0x32a8           print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003068   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00306a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00306c   e202     BC        0x3072                                                                                          
00306e   6ae1     CLRF      0xe1,0x0                                                                                        
003070   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003072   d111     BRA       0x3296                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Step position - returns the current x and y global step positions   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS,<global_step1_position>,<global_step2_position><CR>                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step1_position>: signed 32 bit value, current global motor 1 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step2_position>: signed 32 bit value, current global motor 2 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003074   d912     RCALL     0x329a         void parse_QS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003076   0e08     MOVLW     0x8                                                                                             
003078   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT32 step1, step2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307a   ec79     CALL      0x38f2,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307c   f01c                                                                                                               
0038f2   0e01     MOVLW     0x1                                                                                             
0038f4   6ee6     MOVWF     0xe6,0x0                                                                                        
0038f6   ef24     GOTO      0x3248                                                                                          
0038f8   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307e   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003080   c016     MOVFF     0x16,0xfdf       step1 = globalStepCounter1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003082   ffdf                                                                                                               
003084   0e01     MOVLW     0x1                                                                                             
003086   c017     MOVFF     0x17,0xfdb                                                                                      
003088   ffdb                                                                                                               
00308a   0e02     MOVLW     0x2                                                                                             
00308c   c018     MOVFF     0x18,0xfdb                                                                                      
00308e   ffdb                                                                                                               
003090   0e03     MOVLW     0x3                                                                                             
003092   c019     MOVFF     0x19,0xfdb                                                                                      
003094   ffdb                                                                                                               
003096   0e04     MOVLW     0x4              step2 = globalStepCounter2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003098   c01a     MOVFF     0x1a,0xfdb                                                                                      
00309a   ffdb                                                                                                               
00309c   0e05     MOVLW     0x5                                                                                             
00309e   c01b     MOVFF     0x1b,0xfdb                                                                                      
0030a0   ffdb                                                                                                               
0030a2   0e06     MOVLW     0x6                                                                                             
0030a4   c01c     MOVFF     0x1c,0xfdb                                                                                      
0030a6   ffdb                                                                                                               
0030a8   0e07     MOVLW     0x7                                                                                             
0030aa   c01d     MOVFF     0x1d,0xfdb                                                                                      
0030ac   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ae   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b0   cfd9     MOVFF     0xfd9,0xfe9      ebb_print_int(step1);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b2   ffe9                                                                                                               
0030b4   d8da     RCALL     0x326a                                                                                          
0030b6   d9b3     RCALL     0x341e           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b8   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(step2);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ba   0f04     ADDLW     0x4                                                                                             
0030bc   ec0e     CALL      0x3a1c,0x0                                                                                      
0030be   f01d                                                                                                               
00326a   cfda     MOVFF     0xfda,0xfea                                                                                     
00326c   ffea                                                                                                               
00326e   cfee     MOVFF     0xfee,0xfe6                                                                                     
003270   ffe6                                                                                                               
003272   cfee     MOVFF     0xfee,0xfe6                                                                                     
003274   ffe6                                                                                                               
003276   cfee     MOVFF     0xfee,0xfe6                                                                                     
003278   ffe6                                                                                                               
00327a   cfef     MOVFF     0xfef,0xfe6                                                                                     
00327c   ffe6                                                                                                               
00327e   efea     GOTO      0x37d4                                                                                          
003280   f01b                                                                                                               
003a1c   6ee9     MOVWF     0xe9,0x0                                                                                        
003a1e   ef35     GOTO      0x326a                                                                                          
003a20   f019                                                                                                               
0030c0   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c2   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c4   d8f1     RCALL     0x32a8             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032a8   0e02     MOVLW     0x2                                                                                             
0032aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0032ac   d3ae     BRA       0x3a0a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c6   d8ee     RCALL     0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c8   0e08     MOVLW     0x8            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ca   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0030cc   e202     BC        0x30d2                                                                                          
0030ce   6ae1     CLRF      0xe1,0x0                                                                                        
0030d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030d2   d0e1     BRA       0x3296                                                                                          
003296   6ee1     MOVWF     0xe1,0x0                                                                                        
003298   d3b4     BRA       0x3a02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform the actual clearing of the step counters (used from several places)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void clear_StepCounters(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d4   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the global step counters                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d6   d9a9     RCALL     0x342a           globalStepCounter1 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             globalStepCounter2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear both step accumulators as well                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[0].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[1].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d8   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030da   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Clear Stepper position - zeros out both step1 and step2 global positions  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note, as of 2.7.0 this also clears out the step accumulators as well          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_CS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030dc   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030de   d8b4     RCALL     0x3248                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e0   dff9     RCALL     0x30d4           clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e2   ef52     GOTO      0x32a4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e4   f019                                                                                                               
0032a4   6ae6     CLRF      0xe6,0x0                                                                                        
0032a6   d3b1     BRA       0x3a0a                                                                                          
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * FileName:        main.c                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if !defined (PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTEN = OFF          // WDT disabled (enabled by SWDTEN bit)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config PLLDIV = 2           // Divide by 2 (8 MHz internal oscillator) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config STVREN = ON          // stack overflow/underflow reset enabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config XINST = OFF          // Extended instruction set disabled       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CPUDIV = OSC1        // No CPU system clock divide              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CP0 = OFF            // Program memory is not code-protected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config OSC = INTOSCPLL      // Internal oscillator, PLL enabled, PLL used by USB, RA6 and RA7 for I/O use D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config T1DIG = ON           // Sec Osc clock source may be selected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config LPT1OSC = ON         // high power Timer1 mode                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config FCMEN = OFF          // Fail-Safe Clock Monitor disabled        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IESO = OFF           // Two-Speed Start-up disabled             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTPS = 32768        // 1:32768                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTOSC = INTOSCREF // DSWDT uses INTOSC/INTRC as clock        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config RTCOSC = T1OSCREF    // RTCC uses T1OSC/T1CKI as clock          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSBOREN = OFF        // Zero-Power BOR disabled in Deep Sleep   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTEN = OFF        // Disabled                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTPS = 8192       // 1:8,192 (8.5 seconds)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IOL1WAY = OFF        // IOLOCK bit can be set and cleared       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config MSSP7B_EN = MSK7     // 7 Bit address masking                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPFP = PAGE_1        // Write Protect Program Flash Page 0      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPEND = PAGE_0       // Start protection at page 0              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPCFG = OFF          // Write/Erase last page protect Disabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPDIS = OFF          // WPFP[5:0], WPEND, and WPCFG bits ignored  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           static void InitializeSystem(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBDeviceTasks(void);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** VECTOR REMAPPING ***********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the reset, high priority interrupt, and low priority interrupt                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // vectors.  However, the current Microchip USB bootloader                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // examples are intended to occupy addresses 0x00-0x7FF or                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // 0x00-0xFFF depending on which bootloader is used.  Therefore,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the bootloader code remaps these vectors to new locations                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // as indicated below.  This remapping is only necessary if you                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // wish to program the hex file generated from this project with                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the USB bootloader.  If no bootloader is used, edit the                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // usb_config.h file and comment out the following defines:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x1000                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x1008                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x1018                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x800                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x808                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x818                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x00                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x08                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS 0x18                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER) || defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void _reset (void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001000   ef7e     GOTO      0x8efc           _asm goto _startup _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001002   f047                                                                                                               
001004   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_High_ISR (void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001008   ef28     GOTO      0x1050            _asm goto high_ISR _endasm                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00100a   f008                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_Low_ISR (void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001018   eff8     GOTO      0x3bf0            _asm goto low_ISR _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00101a   f01d                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void main(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Main program entry point.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void main(void)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00876c   ecb3     CALL      0x3f66,0x0       fill_stack();                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00876e   f01f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008770   d805     RCALL     0x877c           InitializeSystem();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00877a   d7fb     BRA       0x8772           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               if(USB_BUS_SENSE && (USBGetDeviceState() == DETACHED_STATE))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBDeviceAttach();                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Check bus status and service USB interrupts.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008772   ece7     CALL      0x67ce,0x0         USBDeviceTasks(); // Interrupt or polling method.  If using polling, must call D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008774   f033                                                                                                               
                                                                 // this function periodically.  This function will take care D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // of processing and responding to SETUP transactions      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // (such as during the enumeration process when you first  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // plug in).  USB hosts require that USB devices should accept D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // and process SETUP packets in a timely fashion.  Therefore, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // when using polling, this function should be called      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // frequently (such as once about every 100 microseconds) at any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // time that a SETUP packet might reasonably be expected to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // be sent by the host to your device.  In most cases, the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // USBDeviceTasks() function does not take very long to    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // execute (~50 instruction cycles) before it returns.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application-specific tasks.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application related code may be added here, or in the ProcessIO() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008776   ece0     CALL      0x41c0,0x0         ProcessIO();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008778   f020                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        static void InitializeSystem(void)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  All required USB initialization routines are called from     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  here.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  User application initialization routine should also be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called from here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00877c   cfd9     MOVFF     0xfd9,0xfe6    static void InitializeSystem(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00877e   ffe6                                                                                                               
008780   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008782   ffd9                                                                                                               
008784   0e02     MOVLW     0x2                                                                                             
008786   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             unsigned int pll_startup_counter; //Used for software delay while PLL is starting up D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ANCONx registers to control this, which is different from other devices which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ADCON1 register for this purpose.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008788   010f     MOVLB     0xf              ANCON0 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00878a   6948     SETF      0x48,0x1                                                                                        
00878c   6949     SETF      0x49,0x1         ANCON1 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00878e   0e60     MOVLW     0x60             OSCCON = 0x60;                  // Clock switch to primary clock source.  May not have been running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008790   6ed3     MOVWF     0xd3,0x0                                                                                        
                                                                             // from this if the bootloader is called from the application firmware. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // On the PIC18F46J50 Family of USB microcontrollers, the PLL will not power up and be enabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // This allows the device to power up at a lower initial operating frequency, which can be D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // advantageous when powered from a source which is not guaranteed to be adequate for 48MHz D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // power up the PLL.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008792   8c9b     BSF       0x9b,0x6,0x0     OSCTUNEbits.PLLEN = 1;  // Enable the PLL and wait 2+ms until the PLL locks before enabling USB module D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008794   0e58     MOVLW     0x58             pll_startup_counter = 600;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008796   6ede     MOVWF     0xde,0x0                                                                                        
008798   0e02     MOVLW     0x2                                                                                             
00879a   6edd     MOVWF     0xdd,0x0                                                                                        
00879c   cfdf     MOVFF     0xfdf,0x4e       while(pll_startup_counter--)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00879e   f04e                                                                                                               
0087a0   06df     DECF      0xdf,0x1,0x0                                                                                    
0087a2   0e01     MOVLW     0x1                                                                                             
0087a4   cfdb     MOVFF     0xfdb,0x4f                                                                                      
0087a6   f04f                                                                                                               
0087a8   e201     BC        0x87ac                                                                                          
0087aa   06db     DECF      0xdb,0x1,0x0                                                                                    
0087ac   504e     MOVF      0x4e,0x0,0x0                                                                                    
0087ae   104f     IORWF     0x4f,0x0,0x0                                                                                    
0087b0   e1f5     BNZ       0x879c                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Device switches over automatically to PLL output after PLL is locked and ready. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  The USB specifications require that USB peripheral devices must never source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current onto the Vbus pin.  Additionally, USB peripherals should not source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current on D+ or D- when the host/hub is not actively powering the Vbus line. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  When designing a self powered (as opposed to bus powered) USB peripheral   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  device, the firmware should make sure not to turn on the USB module and D+ D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or D- pull up resistor unless Vbus is actively powered.  Therefore, the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  firmware needs some means to detect when Vbus is being powered by the host. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can be used to detect when Vbus is high (host actively powering), or low   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  (host is shut down or otherwise not supplying power).  The USB firmware    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can then periodically poll this I/O pin to know when it is okay to turn on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  the USB module/D+/D- pull up resistor.  When designing a purely bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  peripheral device, it is not possible to source current on D+ or D- when the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  host is not actively providing power on Vbus. Therefore, implementing this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  bus sense feature is optional.  This firmware can be made to use this bus  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  HardwareProfile.h file.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b2   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  If the host PC sends a GetStatus (device) request, the firmware must respond D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  and let the host know if the USB peripheral device is currently bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or self powered.  See chapter 9 in the official USB specifications for details D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  regarding this request.  If the peripheral device is capable of being both D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  self and bus powered, it should not return a hard coded value for this request. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  Instead, firmware should check if it is currently self or bus powered, and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  respond accordingly.  If the hardware has been configured like demonstrated D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  is used for this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  to it in HardwareProfile.h.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_SELF_POWER_SENSE_IO)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             tris_self_power = INPUT_PIN;  // See HardwareProfile.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b4   ec25     CALL      0x404a,0x0       UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b6   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b8   ec81     CALL      0x6702,0x0       USBDeviceInit();  // usb_device.c.  Initializes USB module SFRs and firmware   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087ba   f033                                                                                                               
                                                               // variables to known states.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087bc   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087be   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0087c0   e202     BC        0x87c6                                                                                          
0087c2   6ae1     CLRF      0xe1,0x0                                                                                        
0087c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0087c6   6ee1     MOVWF     0xe1,0x0                                                                                        
0087c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0087ca   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0087cc   ffd9                                                                                                               
0087ce   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ************** USB Callback Functions **************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // additional comments near the function.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSuspend(void)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSuspend(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Example power saving code.  Insert appropriate code here for the desired    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // application behavior.  If the microcontroller will be put to sleep, a       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // process similar to that shown below may be used:                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // ConfigureIOPinsForLowPower();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // SaveStateOfAllInterruptEnableBits();                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // DisableAllInterruptEnableBits();                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro(); // should enable at least USBActivityIF as a wake source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Sleep();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreStateOfAllPreviouslySavedInterruptEnableBits();  // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreIOPinsToNormal();                                // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // things to not work as intended.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(__C30__)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             USBSleepOnSuspend();                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d0   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The host may put USB peripheral devices in low power         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  suspend mode (by "sending" 3+ms of idle).  Once in suspend   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  mode, the host may wake the device back up by sending non-   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  idle state signaling.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This call back is invoked when a wakeup from USB suspend     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is detected.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBWakeFromSuspend(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // If clock switching or other power savings measures were taken when          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // executing the USBCBSuspend() function, now would be a good time to          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // switch back to normal full power run mode conditions.  The host allows      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // a few milliseconds of wakeup time, after which the device must be           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // fully back to normal, and capable of receiving and processing USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packets.  In order to do this, the USB module must receive proper           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // clocking (IE: 48MHz clock must be available to SIE for full speed USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d2   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  devices every 1 ms. This interrupt may be useful             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for isochronous pipes. End designers should                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  implement callback routine as necessary.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCB_SOF_Handler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UIRbits.SOFIF to 0 here.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d4   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBErrorHandler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The purpose of this callback is mainly for                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  debugging during development. Check UEIR to see              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  which error causes the interrupt.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBErrorHandler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UEIR to 0 here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Typically, user firmware does not need to do anything special               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // if a USB error occurs.  For example, if the host sends an OUT               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packet to your device, but the packet gets corrupted (ex:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // because of a bad connection, or the user unplugs the                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // USB cable during the transmission) this will typically set                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // one or more USB error interrupt flags.  Nothing specific                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // needs to be done however, since the SIE will automatically                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send a "NAK" packet to the host.  In response to this, the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // host will normally retry to send the packet again, and no                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // data loss occurs.  The system will typically recover                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // automatically, without the need for application firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // intervention.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Nevertheless, this callback function is provided, such as                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // for debugging purposes.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d6   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBCheckOtherReq(void)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        When SETUP packets arrive from the host, some                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware must process the request and respond                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  appropriately to fulfill the request.  Some of               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the SETUP packets will be for standard                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB "chapter 9" (as in, fulfilling chapter 9 of              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the official USB specifications) requests, while             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  others may be specific to the USB device class               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  that is being implemented.  For example, a HID               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  class device needs to be able to respond to                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "GET REPORT" type of requests.  This                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is not a standard USB chapter 9 request, and                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  therefore not handled by usb_device.c.  Instead              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  this request should be handled by class specific             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware, such as that contained in usb_function_hid.c.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBCheckOtherReq(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d8   ef4f     GOTO      0x7c9e           USBCheckCDCRequest();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087da   f03e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called when a SETUP, bRequest: SET_DESCRIPTOR request        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  arrives.  Typically SET_DESCRIPTOR requests are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  not used in most applications, and it is                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  optional to support this type of request.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBStdSetDscHandler(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Must claim session ownership if supporting this request                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087dc   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBInitEP(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called when the device becomes              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  initialized, which occurs after the host sends a             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  SET_CONFIGURATION (wValue not = 0) request.  This            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  callback function should initialize the endpoints            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for the device's usage according to the current              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  configuration.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBInitEP(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087de   ef9d     GOTO      0x7d3a           CDCInitEP();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087e0   f03e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSendResume(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB specifications allow some types of USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  peripheral devices to wake up a host PC (such                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as if it is in a low power suspend to RAM state).            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This can be a very useful feature in some                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB applications, such as an Infrared remote                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  control receiver.  If a user presses the "power"             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  button on a remote control, it is nice that the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  IR receiver can detect this signaling, and then              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  send a USB "command" to the PC to wake up.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The USBCBSendResume() "callback" function is used            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to send this special USB signaling which wakes               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  up the PC.  This function may be called by                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  application firmware to wake up the PC.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  function will only be able to wake up the host if            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  all of the below are true:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  1.  The USB driver used on the host PC supports              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the remote wakeup capability.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  2.  The USB configuration descriptor indicates               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the device is remote wakeup capable in the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      bmAttributes field.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  3.  The USB host PC is currently sleeping,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      and has previously sent your device a SET                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      FEATURE setup packet which "armed" the                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      remote wakeup capability.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  If the host has not armed the device to perform remote wakeup, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  then this function will return without actually performing a D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  remote wakeup sequence.  This is the required behavior,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as a USB device that has not been armed to perform remote    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  wakeup must not drive remote wakeup signaling onto the bus;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  doing so will cause USB compliance testing failure.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This callback should send a RESUME signal that               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  has the period of 1-15ms.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            This function does nothing and returns quickly, if the USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus and host are not in a suspended condition, or are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is safe to optionally call this function regularly, ex:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  anytime application stimulus occurs, as the function will    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  have no effect, until the bus really is in a state ready     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to accept remote wakeup.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  When this function executes, it may perform clock switching, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  depending upon the application specific code in              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus will no longer be suspended by the time this function    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  returns.  Therefore, the USB module will need to be ready    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to receive traffic from the host.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The modifiable section in this routine may be changed        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to meet the application needs. Current implementation        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  temporary blocks other functions from executing for a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  period of ~3-15 ms depending on the core frequency.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "The remote wakeup device must hold the resume signaling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for at least 1 ms but for no more than 15 ms."               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The idea here is to use a delay counter loop, using a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  common value that would work over a wide range of core       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  frequencies.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  That value selected is 1800. See table below:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      48              12          1.05                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                       4              1           12.6                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  * These timing could be incorrect when using code            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    optimization or extended instruction mode,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    or when having other interrupts enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    and verify the actual signal on an oscilloscope.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSendResume(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             static WORD delay_count;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // First verify that the host has armed us to perform remote wakeup.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // It does this by sending a SET_FEATURE request to enable remote wakeup,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // usually just before the host goes to standby mode (note: it will only       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send this SET_FEATURE request if the configuration descriptor declares      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // the device as remote wakeup capable, AND, if the feature is enabled         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // on the host (ex: on Windows based hosts, in the device manager              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // properties page for the USB device, power management tab, the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // "Allow this device to bring the computer out of standby." check box         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // should be checked).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087e2   0105     MOVLB     0x5              if (USBGetRemoteWakeupStatus() == TRUE)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087e4   05df     DECF      0xdf,0x0,0x1                                                                                    
0087e6   e11e     BNZ       0x8824                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Verify that the USB bus is in fact suspended, before we send              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // remote wakeup signaling.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087e8   0105     MOVLB     0x5                if (USBIsBusSuspended() == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087ea   05e0     DECF      0xe0,0x0,0x1                                                                                    
0087ec   e11b     BNZ       0x8824                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBMaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Clock switch to settings consistent with normal USB operation.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087ee   dff1     RCALL     0x87d2               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f0   9265     BCF       0x65,0x1,0x0         USBSuspendControl = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f2   0105     MOVLB     0x5                  USBBusIsSuspended = FALSE;  // So we don't execute this code again,        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f4   6be0     CLRF      0xe0,0x1                                                                                        
                                                                             // until a new suspend condition is detected.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Section 7.1.7.7 of the USB 2.0 specifications indicates a USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // device must continuously see 5ms+ of idle on the bus, before it sends   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // remote wakeup signaling.  One way to be certain that this parameter     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // gets met, is to add a 2ms+ blocking delay here (2ms plus at             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // least 3ms from bus idle to USBIsBusSuspended() == TRUE, yields          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 5ms+ total delay since start of idle).                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f6   0101     MOVLB     0x1                  delay_count = 3600U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f8   0e10     MOVLW     0x10                                                                                            
0087fa   6ffe     MOVWF     0xfe,0x1                                                                                        
0087fc   0e0e     MOVLW     0xe                                                                                             
0087fe   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008800   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008802   0e00     MOVLW     0x0                                                                                             
008804   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008806   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008808   11ff     IORWF     0xff,0x0,0x1                                                                                    
00880a   e1fa     BNZ       0x8800                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Now drive the resume K-state signaling onto the USB bus.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00880c   8465     BSF       0x65,0x2,0x0         USBResumeControl = 1;       // Start RESUME signaling                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00880e   0e08     MOVLW     0x8                  delay_count = 1800U;        // Set RESUME line for 1-13 ms                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008810   6ffe     MOVWF     0xfe,0x1                                                                                        
008812   0e07     MOVLW     0x7                                                                                             
008814   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008816   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008818   0e00     MOVLW     0x0                                                                                             
00881a   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
00881c   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00881e   11ff     IORWF     0xff,0x0,0x1                                                                                    
008820   e1fa     BNZ       0x8816                                                                                          
008822   9465     BCF       0x65,0x2,0x0         USBResumeControl = 0;       // Finished driving resume signaling           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBUnmaskInterrupts();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008824   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBEP0DataReceived(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    ENABLE_EP0_DATA_RECEIVED_CALLBACK must be                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  defined already (in usb_config.h)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called whenever a EP0 data                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  packet is received.  This gives the user (and                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  thus the various class examples a way to get                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  data that is received via the control endpoint.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This function needs to be used in conjunction                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  with the USBCBCheckOtherReq() function since                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the USBCBCheckOtherReq() function is the application's       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  method for getting the initial control transfer              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  before the data arrives.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(ENABLE_EP0_DATA_RECEIVED_CALLBACK)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBEP0DataReceived(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           USB_EVENT event - the type of event                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  void *pdata - pointer to the event data                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  WORD size - size of the event data                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called from the USB stack to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  notify a user application that a USB event                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  occurred.  This callback is in interrupt context             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  when the USB_INTERRUPT option is selected.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008826   cfd9     MOVFF     0xfd9,0xfe6    BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008828   ffe6                                                                                                               
00882a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00882c   ffd9                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00882e   0efd     MOVLW     0xfd             switch(event)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008830   cfdb     MOVFF     0xfdb,0x42                                                                                      
008832   f042                                                                                                               
008834   0efe     MOVLW     0xfe                                                                                            
008836   cfdb     MOVFF     0xfdb,0x43                                                                                      
008838   f043                                                                                                               
00883a   0e05     MOVLW     0x5                                                                                             
00883c   1842     XORWF     0x42,0x0,0x0                                                                                    
00883e   e101     BNZ       0x8842                                                                                          
008840   5043     MOVF      0x43,0x0,0x0                                                                                    
008842   e036     BZ        0x88b0                                                                                          
008844   68e8     SETF      0xe8,0x0                                                                                        
008846   1842     XORWF     0x42,0x0,0x0                                                                                    
008848   e102     BNZ       0x884e                                                                                          
00884a   0e7f     MOVLW     0x7f                                                                                            
00884c   1843     XORWF     0x43,0x0,0x0                                                                                    
00884e   e02f     BZ        0x88ae                                                                                          
008850   0e03     MOVLW     0x3                                                                                             
008852   1842     XORWF     0x42,0x0,0x0                                                                                    
008854   e101     BNZ       0x8858                                                                                          
008856   5043     MOVF      0x43,0x0,0x0                                                                                    
008858   e028     BZ        0x88aa                                                                                          
00885a   0e02     MOVLW     0x2                                                                                             
00885c   1842     XORWF     0x42,0x0,0x0                                                                                    
00885e   e101     BNZ       0x8862                                                                                          
008860   5043     MOVF      0x43,0x0,0x0                                                                                    
008862   e021     BZ        0x88a6                                                                                          
008864   0e01     MOVLW     0x1                                                                                             
008866   1842     XORWF     0x42,0x0,0x0                                                                                    
008868   e101     BNZ       0x886c                                                                                          
00886a   5043     MOVF      0x43,0x0,0x0                                                                                    
00886c   e01a     BZ        0x88a2                                                                                          
00886e   0e74     MOVLW     0x74                                                                                            
008870   1842     XORWF     0x42,0x0,0x0                                                                                    
008872   e101     BNZ       0x8876                                                                                          
008874   5043     MOVF      0x43,0x0,0x0                                                                                    
008876   e013     BZ        0x889e                                                                                          
008878   0e75     MOVLW     0x75                                                                                            
00887a   1842     XORWF     0x42,0x0,0x0                                                                                    
00887c   e101     BNZ       0x8880                                                                                          
00887e   5043     MOVF      0x43,0x0,0x0                                                                                    
008880   e00c     BZ        0x889a                                                                                          
008882   0e73     MOVLW     0x73                                                                                            
008884   1842     XORWF     0x42,0x0,0x0                                                                                    
008886   e101     BNZ       0x888a                                                                                          
008888   5043     MOVF      0x43,0x0,0x0                                                                                    
00888a   e005     BZ        0x8896                                                                                          
00888c   0e72     MOVLW     0x72                                                                                            
00888e   1842     XORWF     0x42,0x0,0x0                                                                                    
008890   e10f     BNZ       0x88b0                                                                                          
008892   5043     MOVF      0x43,0x0,0x0                                                                                    
008894   d00d     BRA       0x88b0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER:                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SOF:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008896   df9e     RCALL     0x87d4               USBCB_SOF_Handler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008898   d00b     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SUSPEND:                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00889a   df9a     RCALL     0x87d0               USBCBSuspend();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00889c   d009     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_RESUME:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00889e   df99     RCALL     0x87d2               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088a0   d007     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_CONFIGURED:                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088a2   df9d     RCALL     0x87de               USBCBInitEP();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088a4   d005     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SET_DESCRIPTOR:                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088a6   df9a     RCALL     0x87dc               USBCBStdSetDscHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088a8   d003     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_EP0_REQUEST:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088aa   df96     RCALL     0x87d8               USBCBCheckOtherReq();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ac   d001     BRA       0x88b0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_BUS_ERROR:                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ae   df93     RCALL     0x87d6               USBCBErrorHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER_TERMINATED:                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // FEATURE (endpoint halt) request on an application endpoint which was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // previously armed (UOWN was = 1).  Here would be a good place to:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 1.  Determine which endpoint the transaction that just got terminated was  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     on, by checking the handle value in the *pdata.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 2.  Re-arm the endpoint if desired (typically would be the case for OUT  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     endpoints).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088b0   0e01     MOVLW     0x1              return TRUE;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088b2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088b4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0088b6   ffd9                                                                                                               
0088b8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** EOF main.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * FileName:        RCServo2.c                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * This module implements the RC Servo outputs, method 2                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Started by Brian Schmalz (www.schmalzhaus.com) on 8/22/09                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * For the Egg Bot Firmware                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * There are several parts of this file. It is written in a modular              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * way to ease incorporation into different UBW (www.schmalzhaus.com/UBW)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * hardware builds. Because we don't want to have any function calls in the ISR, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * the part of the ISR that this module contributes is implemented as a big      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * macro. There is a section for the API calls (for other modules) to turn       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on/off RC method 2 and to set values and configure outputs. Then there is the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * user command section that handles parsing user input. This module (the .c and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * .h files) should be able to be dropped into any UBW firmware that is 'module  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * aware' with minimal changes. There is also an init section that gets called   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on bootup.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MODULE THEORY                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The idea is that we want to generate between zero and eight RC servo outputs.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * We want a maximum of resolution in their timing, and a minimum of CPU and ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * overhead. We want maximum flexibility with respect to which pins receive the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * output pulses. This 'method 2' only works with PICs that have the PPS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (Peripheral Pin Select) hardware. Using this method, we will be able to       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * generate servo output pulses (positive going) on up to eight output pins      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (selectable using PPS), with times from 0ms to 3ms, at a repetition rate of   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 24ms. The resolution of the pulse will be 83ns (Fosc/4). So a value of 0 will D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * represent 0ms pulse, and 36000 will represent 3ms.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * On UBW firmware, TIMER1 generates an interrupt every 1ms. This interrupt is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * used to schedule the four RC servo outputs. Every 3 fires of this ISR, we     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * check to see if we need to set the next RC output pin. If so, we select the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper pin using the PPS, set it high, record what state we are now in, and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * then set up TMR3 and ECCP2 to fire after X 83ns ticks of TMR3. ECCP2 will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * wait until TMR3 fires, then will set the output pin low. This method allows   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * us to choose any of the PPS pins as outputs, and only requires CPU time every D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3 ms to start off the pulses.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * As of version 2.2.0, we have changed the way that the S2 command works.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Under the hood, ALL servo commands are now handled by the motion engine       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * ISR. This means that the S2 command now simply fills in a data structure      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * and puts it in the motion queue. The motion engine ISR pulls it off the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * queue and then 'executes' the command. (All it does there is transfer the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper values to the data structures that the actual RC servo ISR uses to     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * update the various output pins for each servo pulse.) But the key here is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * that the S2 command no longer takes effect immediately - RC servo commands    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * are now handled in the same way that SM commands are handled. Which means     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * they can be queued up and delays added, etc.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The other effect of this change is that the normal SP pen up/pen down         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * commands are now just normal S2 commands in disguise.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "GenericTypeDefs.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "Compiler.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #pragma udata RC2Servo_globals = 0x060                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Counts from 0 to gRC2SlotMS                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2msCounter;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Current RC servo position in 83uS units for each channel                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Value[MAX_RC2_SERVOS];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn pin associated with this channel                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2RPn[MAX_RC2_SERVOS];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Target position for this channel in 83uS units                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Target[MAX_RC2_SERVOS];                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Amount of change from Value to Target each 24ms                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Rate[MAX_RC2_SERVOS];                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Ptr;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many RC servos can we currently simultaneously service (default 8)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Slots;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many 1ms ISR ticks before switching to the next channel (default 3)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2SlotMS;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Pointer into PPS output registers                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           far ram UINT8 * gRC2RPORPtr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // These are the min, max, up rate, down rate, and RPn for the Pen Servo         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // They can be changed by using SC,x commands.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_max;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_min;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_up;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_down;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  g_servo2_RPn;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The idea with RCServo2 is to use the ECCP2 module and timer 3.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We divide time into 24ms periods. Inside each 24ms period, we                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           can fire up to 8 RC servo's pulses (slots). Each pulse can be between            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           0ms and 3ms long, controlled entirely by the ECCP2 hardware,                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           so there is no jitter in the high time of the pulse.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We want to go from 0ms to 3ms so we can accommodate RC servos                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           who need really short or really long pulses to reach the                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           physical extremes of its motion.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           This RCServo2 method will only be available on the 18F45J50 based                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           EggBotBoards, because it requires the PPS (peripheral pin select)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           facility to be possible.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Timer3 will be configured to clock at Fosc/4 = 12MHz.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           At this rate, a 1ms high pulse would need a CCPR2 value of 12,000.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Variables:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2msCounter - counts from 0 to 2, in ms, to know when to fire each servo       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Ptr - index into gRC2Value and gRC2Pin arrays = next RC servo to fire        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Value - uint array of values (times) to load into Timer3                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Pin - what PPS pin is affected by this RC servo slot.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2RPORPtr - a RAM pointer into the RPORxx register                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           If a slot's gRC2Value[] = 0, then that slot is disabled and its pin will be low. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The value in gRC2Pin is the PPS RPx pin number that this slot controls           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Module Init Function                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Put a call to this function inside the UserInit() call in UBW.c               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a6   d9da     RCALL     0x7c5c         void RCServo2_Init(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078aa   0100     MOVLB     0x0              gRC2msCounter = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ac   6b60     CLRF      0x60,0x1                                                                                        
0078ae   6b7d     CLRF      0x7d,0x1         gRC2Ptr = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b0   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b2   0e04     MOVLW     0x4                                                                                             
0078b4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0078b6   e214     BC        0x78e0                                                                                          
0078dc   2adf     INCF      0xdf,0x1,0x0                                                                                    
0078de   d7e9     BRA       0x78b2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b8   d9cb     RCALL     0x7c50             gRC2Value[i] = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ba   0e61     MOVLW     0x61                                                                                            
0078bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078be   0e00     MOVLW     0x0                                                                                             
0078c0   d9d6     RCALL     0x7c6e                                                                                          
0078c2   50df     MOVF      0xdf,0x0,0x0       gRC2RPn[i] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078c4   d9ba     RCALL     0x7c3a                                                                                          
0078c6   6aef     CLRF      0xef,0x0                                                                                        
0078c8   d9c3     RCALL     0x7c50             gRC2Target[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ca   0e6d     MOVLW     0x6d                                                                                            
0078cc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078ce   0e00     MOVLW     0x0                                                                                             
0078d0   d9ce     RCALL     0x7c6e                                                                                          
0078d2   d9be     RCALL     0x7c50             gRC2Rate[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078d4   0e75     MOVLW     0x75                                                                                            
0078d6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078d8   0e00     MOVLW     0x0                                                                                             
0078da   d9c9     RCALL     0x7c6e                                                                                          
007c50   6aea     CLRF      0xea,0x0                                                                                        
007c52   34df     RLCF      0xdf,0x0,0x0                                                                                    
007c54   0bfe     ANDLW     0xfe                                                                                            
007c56   36ea     RLCF      0xea,0x1,0x0                                                                                    
007c58   6ee9     MOVWF     0xe9,0x0                                                                                        
007c5a   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Initialize the RPOR pointer                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078e0   0100     MOVLB     0x0              gRC2RPORPtr = &RPOR0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078e2   0ec6     MOVLW     0xc6                                                                                            
0078e4   6f80     MOVWF     0x80,0x1                                                                                        
0078e6   0e0e     MOVLW     0xe                                                                                             
0078e8   6f81     MOVWF     0x81,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Set up TIMER3                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ea   0e3f     MOVLW     0x3f             T3CONbits.TMR3CS = 0b00;        // Use Fosc/4 as input                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ec   1479     ANDWF     0x79,0x0,0x0                                                                                    
0078ee   0900     IORLW     0x0                                                                                             
0078f0   6e79     MOVWF     0x79,0x0                                                                                        
0078f2   0ecf     MOVLW     0xcf             T3CONbits.T3CKPS = 0b00;        // Prescale is 1:1                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078f4   1479     ANDWF     0x79,0x0,0x0                                                                                    
0078f6   0900     IORLW     0x0                                                                                             
0078f8   6e79     MOVWF     0x79,0x0                                                                                        
0078fa   8279     BSF       0x79,0x1,0x0     T3CONbits.RD16 = 1;             // Enable 16 bit mode                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078fc   6a7b     CLRF      0x7b,0x0         TMR3H = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078fe   6a7a     CLRF      0x7a,0x0         TMR3L = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007900   9079     BCF       0x79,0x0,0x0     T3CONbits.TMR3ON = 0;           // Keep timer off for now                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007902   010f     MOVLB     0xf              TCLKCONbits.T3CCP1 = 1;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007904   8152     BSF       0x52,0x0,0x1                                                                                    
007906   9352     BCF       0x52,0x1,0x1     TCLKCONbits.T3CCP2 = 0;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007908   0ef0     MOVLW     0xf0             CCP2CONbits.CCP2M = 0b1001;     // Set EECP2 as compare, clear output on match D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00790a   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
00790c   0909     IORLW     0x9                                                                                             
00790e   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 8 slots because that is good for RC servos (3ms * 8 = 24ms) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007910   0100     MOVLB     0x0              gRC2Slots = INITAL_RC2_SLOTS;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007912   0e04     MOVLW     0x4                                                                                             
007914   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 3ms slot duration because it's good for RC servos         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007916   0e03     MOVLW     0x3              gRC2SlotMS = 3;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007918   6f7f     MOVWF     0x7f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Start with some reasonable default values for min and max                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00791a   0ec6     MOVLW     0xc6             g_servo2_max = 15302;           // max = down (SC,5,15302)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00791c   6f82     MOVWF     0x82,0x1                                                                                        
00791e   0e3b     MOVLW     0x3b                                                                                            
007920   6f83     MOVWF     0x83,0x1                                                                                        
007922   0e25     MOVLW     0x25             g_servo2_min = 22565;           // min = up (SC,4,22565)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007924   6f84     MOVWF     0x84,0x1                                                                                        
007926   0e58     MOVLW     0x58                                                                                            
007928   6f85     MOVWF     0x85,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792a   0e04     MOVLW     0x4              g_servo2_RPn = DEFAULT_EBB_SERVO_RPN;   // Always start out with RP4 as the output (just for this test version of code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792c   6f8a     MOVWF     0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792e   0e90     MOVLW     0x90             g_servo2_rate_up = 400;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007930   6f86     MOVWF     0x86,0x1                                                                                        
007932   0e01     MOVLW     0x1                                                                                             
007934   6f87     MOVWF     0x87,0x1                                                                                        
007936   0e90     MOVLW     0x90             g_servo2_rate_down = 400;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007938   6f88     MOVWF     0x88,0x1                                                                                        
00793a   0e01     MOVLW     0x1                                                                                             
00793c   6f89     MOVWF     0x89,0x1                                                                                        
00793e   0e00     MOVLW     0x0              process_SP(PEN_UP, 0);          // Start servo up                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007940   6ee6     MOVWF     0xe6,0x0                                                                                        
007942   6ae6     CLRF      0xe6,0x0                                                                                        
007944   0e01     MOVLW     0x1                                                                                             
007946   6ee6     MOVWF     0xe6,0x0                                                                                        
007948   ecc7     CALL      0x2b8e,0x0                                                                                      
00794a   f015                                                                                                               
00794c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00794e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007950   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007952   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007954   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007956   d187     BRA       0x7c66                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Return the current channel that is associated with the PPS output pin         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn. If there is no channel yet assigned for this RPn, then pick the          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // next available one. If there are none available, then return channel 0        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // (which is considered an error.)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Remember, channels are from 1 through 8 (Normally - can be increased with     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // SC,8 command). Channel 0 is the 'error' channel.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007958   d981     RCALL     0x7c5c         UINT8 RCServo2_get_channel_from_RPn(UINT8 RPn)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
007c5c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007c5e   ffe6                                                                                                               
007c60   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007c62   ffd9                                                                                                               
007c64   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Search through the existing channels, and see if our RPn is there           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795c   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795e   0e04     MOVLW     0x4                                                                                             
007960   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007962   e20a     BC        0x7978                                                                                          
007974   2adf     INCF      0xdf,0x1,0x0                                                                                    
007976   d7f3     BRA       0x795e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007964   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == RPn)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007966   d969     RCALL     0x7c3a                                                                                          
007968   cfef     MOVFF     0xfef,0x4e                                                                                      
00796a   f04e                                                                                                               
00796c   0efe     MOVLW     0xfe                                                                                            
00796e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007970   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007972   e00a     BZ        0x7988                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found it! Return the channel number                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 return (i + 1);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We have not found it, so we need to allocate a new channel for this RPn     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007978   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00797a   0e04     MOVLW     0x4                                                                                             
00797c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00797e   e208     BC        0x7990                                                                                          
00798c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00798e   d7f5     BRA       0x797a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007980   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007982   d95b     RCALL     0x7c3a                                                                                          
007984   50ef     MOVF      0xef,0x0,0x0                                                                                    
007986   e102     BNZ       0x798c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found one that's free! Return the channel number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007988   28df     INCF      0xdf,0x0,0x0         return (i + 1u);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00798a   d003     BRA       0x7992                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We do not have room for another channel, so return an error                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007990   0e00     MOVLW     0x0              return 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007992   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007994   d168     BRA       0x7c66                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Servo method 2 enable command                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // S2,<duration>,<output_pin>,<rate>,<delay><CR>                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  will set RC output <channel> for <duration> on output pin <output_pin>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <duration> can be 0 (output off) to 32,000 (3ms on time)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (a 0 for <duration> de-allocates the channel for this output_pin)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <output_pin> is an RPn pin number (0 through 24)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <rate> is the rate to change (optional, defaults to 0 = instant)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <delay> is the number of milliseconds to delay the start of the next command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (optional, defaults to 0 = instant)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007996   d962     RCALL     0x7c5c         void RCServo2_S2_command (void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007998   0e07     MOVLW     0x7                                                                                             
00799a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00799c   6ade     CLRF      0xde,0x0         UINT16 Duration = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00799e   6add     CLRF      0xdd,0x0                                                                                        
0079a0   0e02     MOVLW     0x2              UINT8 Pin = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079a2   6adb     CLRF      0xdb,0x0                                                                                        
0079a4   0e03     MOVLW     0x3              UINT16 Rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079a6   6adb     CLRF      0xdb,0x0                                                                                        
0079a8   0e04     MOVLW     0x4                                                                                             
0079aa   6adb     CLRF      0xdb,0x0                                                                                        
0079ac   0e05     MOVLW     0x5              UINT16 Delay = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ae   6adb     CLRF      0xdb,0x0                                                                                        
0079b0   0e06     MOVLW     0x6                                                                                             
0079b2   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079b4   0e01     MOVLW     0x1              extract_number (kUINT, &Duration, kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079b6   6ee6     MOVWF     0xe6,0x0                                                                                        
0079b8   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0079ba   ffe6                                                                                                               
0079bc   cfda     MOVFF     0xfda,0xfe6                                                                                     
0079be   ffe6                                                                                                               
0079c0   0e03     MOVLW     0x3                                                                                             
0079c2   d92e     RCALL     0x7c20                                                                                          
0079c4   0f02     ADDLW     0x2              extract_number (kUCHAR, &Pin, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079c6   d957     RCALL     0x7c76                                                                                          
0079c8   0e01     MOVLW     0x1                                                                                             
0079ca   d92a     RCALL     0x7c20                                                                                          
0079cc   0f03     ADDLW     0x3              extract_number (kUINT, &Rate, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ce   d953     RCALL     0x7c76                                                                                          
0079d0   0e03     MOVLW     0x3                                                                                             
0079d2   d926     RCALL     0x7c20                                                                                          
007c20   d82f     RCALL     0x7c80                                                                                          
0079d4   0f05     ADDLW     0x5              extract_number (kUINT, &Delay, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079d6   d94f     RCALL     0x7c76                                                                                          
0079d8   0e03     MOVLW     0x3                                                                                             
0079da   d952     RCALL     0x7c80                                                                                          
007c22   0e01     MOVLW     0x1                                                                                             
007c24   6ee6     MOVWF     0xe6,0x0                                                                                        
007c26   50d9     MOVF      0xd9,0x0,0x0                                                                                    
007c28   0012     RETURN    0x0                                                                                             
007c76   6ee6     MOVWF     0xe6,0x0                                                                                        
007c78   0e00     MOVLW     0x0                                                                                             
007c7a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007c7c   6ee6     MOVWF     0xe6,0x0                                                                                        
007c7e   0012     RETURN    0x0                                                                                             
007c80   6ee6     MOVWF     0xe6,0x0                                                                                        
007c82   ec89     CALL      0x5d12,0x0                                                                                      
007c84   f02e                                                                                                               
007c86   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c8c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c8e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079dc   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079de   6ae6     CLRF      0xe6,0x0                                                                                        
0079e0   ec62     CALL      0x4ac4,0x0                                                                                      
0079e2   f025                                                                                                               
0079e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0079e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079e8   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ea   5197     MOVF      0x97,0x0,0x1                                                                                    
0079ec   e122     BNZ       0x7a32                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ee   0e02     MOVLW     0x2              if (Pin > 24u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0079f2   0818     SUBLW     0x18                                                                                            
0079f4   e202     BC        0x79fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f6   8d97     BSF       0x97,0x6,0x1       bitset (error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f8   d01c     BRA       0x7a32             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079fa   0e05     MOVLW     0x5              RCServo2_Move(Duration, Pin, Rate, Delay);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079fc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0079fe   ffe6                                                                                                               
007a00   0e06     MOVLW     0x6                                                                                             
007a02   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a04   ffe6                                                                                                               
007a06   0e03     MOVLW     0x3                                                                                             
007a08   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a0a   ffe6                                                                                                               
007a0c   0e04     MOVLW     0x4                                                                                             
007a0e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a10   ffe6                                                                                                               
007a12   0e02     MOVLW     0x2                                                                                             
007a14   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a16   ffe6                                                                                                               
007a18   cfde     MOVFF     0xfde,0xfe6                                                                                     
007a1a   ffe6                                                                                                               
007a1c   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
007a1e   ffe6                                                                                                               
007a20   d80f     RCALL     0x7a40                                                                                          
007a22   6e4e     MOVWF     0x4e,0x0                                                                                        
007a24   0e07     MOVLW     0x7                                                                                             
007a26   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007a28   504e     MOVF      0x4e,0x0,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a2a   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a2c   ec80     CALL      0x4b00,0x0                                                                                      
007a2e   f025                                                                                                               
007a30   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a32   0e07     MOVLW     0x7            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a34   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007a36   e202     BC        0x7a3c                                                                                          
007a38   6ae1     CLRF      0xe1,0x0                                                                                        
007a3a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a3c   6ee1     MOVWF     0xe1,0x0                                                                                        
007a3e   d113     BRA       0x7c66                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Function to set up an RC Servo move. Takes Duration, RPn, and Rate            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // and adds them to the motion control fifo.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Position> is the new target position for the servo, in 83uS units. So        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      32,000 is 3ms. To turn off a servo output, use 0 for Duration.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <RPn> is the PPS RP# number for the pin that you want to use as the output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (See schematic for a list of each RPn number for each GPIO pin.)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Rate> is how quickly to move to the new position. Use 0 for instant change.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      Unit is 83uS of pulse width change every 24ms of time.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Delay> is how many milliseconds after this command is excuted before the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      next command in the motion control FIFO is executed. 0 will run the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      command immediatly.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // This function will allocate a new channel for RPn if the pin is not already   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // assigned to a channel. It will return the channel number used when it         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // returns. If you send in 0 for Duration, the channel for RPn will be de-       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // allocated.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Another thing we do here is to make sure that the proper pin is an output,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // And, if this is the first time we're starting up the channel, make sure that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // it starts out low.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a40   d90d     RCALL     0x7c5c         UINT8 RCServo2_Move(                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a42   0e02     MOVLW     0x2                                                                                             
007a44   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             UINT16 Position,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8  RPn,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Rate,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Delay                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 Channel;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Get the channel that's already assigned to the RPn, or assign a new one     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // if possible. If this returns zero, then do nothing as we're out of          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // channels.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a46   0efc     MOVLW     0xfc             Channel = RCServo2_get_channel_from_RPn(RPn);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a48   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a4a   ffe6                                                                                                               
007a4c   df85     RCALL     0x7958                                                                                          
007a4e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a50   6ee7     MOVWF     0xe7,0x0                                                                                        
007a52   0e01     MOVLW     0x1                                                                                             
007a54   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
007a56   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Error out if there were no available channels left                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a58   50db     MOVF      0xdb,0x0,0x0     if (Channel == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a5a   e102     BNZ       0x7a60                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a5c   0e00     MOVLW     0x0                return 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a5e   d0d2     BRA       0x7c04                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // If Duration is zero, then caller wants to shut down this channel            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a60   50d9     MOVF      0xd9,0x0,0x0     if (0u == Position)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a62   0ffd     ADDLW     0xfd                                                                                            
007a64   6ee9     MOVWF     0xe9,0x0                                                                                        
007a66   0eff     MOVLW     0xff                                                                                            
007a68   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007a6a   6eea     MOVWF     0xea,0x0                                                                                        
007a6c   50ee     MOVF      0xee,0x0,0x0                                                                                    
007a6e   10ed     IORWF     0xed,0x0,0x0                                                                                    
007a70   e11f     BNZ       0x7ab0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // Turn off the PPS routing to the pin                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a72   0e01     MOVLW     0x1                *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a74   04db     DECF      0xdb,0x0,0x0                                                                                    
007a76   d8e1     RCALL     0x7c3a                                                                                          
007a78   50ef     MOVF      0xef,0x0,0x0                                                                                    
007a7a   0100     MOVLB     0x0                                                                                             
007a7c   6aea     CLRF      0xea,0x0                                                                                        
007a7e   2580     ADDWF     0x80,0x0,0x1                                                                                    
007a80   6ee9     MOVWF     0xe9,0x0                                                                                        
007a82   5181     MOVF      0x81,0x0,0x1                                                                                    
007a84   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007a86   6aef     CLRF      0xef,0x0                                                                                        
007a88   d8d0     RCALL     0x7c2a             gRC2Rate[Channel - 1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a8a   0e75     MOVLW     0x75                                                                                            
007a8c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007a8e   0e00     MOVLW     0x0                                                                                             
007a90   d8ee     RCALL     0x7c6e                                                                                          
007a92   d8cb     RCALL     0x7c2a             gRC2Target[Channel - 1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a94   0e6d     MOVLW     0x6d                                                                                            
007a96   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007a98   0e00     MOVLW     0x0                                                                                             
007a9a   d8e9     RCALL     0x7c6e                                                                                          
007a9c   0e01     MOVLW     0x1                gRC2RPn[Channel - 1] = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a9e   04db     DECF      0xdb,0x0,0x0                                                                                    
007aa0   d8cc     RCALL     0x7c3a                                                                                          
007aa2   6aef     CLRF      0xef,0x0                                                                                        
007c3a   6aea     CLRF      0xea,0x0                                                                                        
007c3c   0f69     ADDLW     0x69                                                                                            
007c3e   6ee9     MOVWF     0xe9,0x0                                                                                        
007c40   0e00     MOVLW     0x0                                                                                             
007c42   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c44   0012     RETURN    0x0                                                                                             
007aa4   d8c2     RCALL     0x7c2a             gRC2Value[Channel - 1] = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aa6   0e61     MOVLW     0x61                                                                                            
007aa8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007aaa   0e00     MOVLW     0x0                                                                                             
007aac   d8e0     RCALL     0x7c6e                                                                                          
007c6e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c70   6aee     CLRF      0xee,0x0                                                                                        
007c72   6aed     CLRF      0xed,0x0                                                                                        
007c74   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aae   d0a8     BRA       0x7c00           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // If we have a valid channel, and RPn, then make the move                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ab0   0e01     MOVLW     0x1                if ((Channel - 1) < gRC2Slots && RPn <= 24u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ab2   04db     DECF      0xdb,0x0,0x0                                                                                    
007ab4   6e4e     MOVWF     0x4e,0x0                                                                                        
007ab6   0100     MOVLB     0x0                                                                                             
007ab8   517e     MOVF      0x7e,0x0,0x1                                                                                    
007aba   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007abc   e301     BNC       0x7ac0                                                                                          
007abe   d0a0     BRA       0x7c00                                                                                          
007ac0   0efc     MOVLW     0xfc                                                                                            
007ac2   50db     MOVF      0xdb,0x0,0x0                                                                                    
007ac4   0818     SUBLW     0x18                                                                                            
007ac6   e201     BC        0x7aca                                                                                          
007ac8   d09b     BRA       0x7c00                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // As a special case, if the pin is the same as the pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // used for the solenoid, then turn off the solenoid function              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // so that we can output PWM on that pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aca   0efc     MOVLW     0xfc                 if (RPn == PEN_UP_DOWN_RPN)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007acc   50db     MOVF      0xdb,0x0,0x0                                                                                    
007ace   0807     SUBLW     0x7                                                                                             
007ad0   e102     BNZ       0x7ad6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ad2   0101     MOVLB     0x1                    gUseSolenoid = FALSE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ad4   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Is this the first time we've used this channel?                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ad6   d8a9     RCALL     0x7c2a               if (gRC2Value[Channel - 1] == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ad8   0e61     MOVLW     0x61                                                                                            
007ada   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007adc   0e00     MOVLW     0x0                                                                                             
007ade   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007ae0   50ee     MOVF      0xee,0x0,0x0                                                                                    
007ae2   10ed     IORWF     0xed,0x0,0x0                                                                                    
007ae4   e110     BNZ       0x7b06                                                                                          
007c2a   0e01     MOVLW     0x1                                                                                             
007c2c   04db     DECF      0xdb,0x0,0x0                                                                                    
007c2e   6ee9     MOVWF     0xe9,0x0                                                                                        
007c30   6aea     CLRF      0xea,0x0                                                                                        
007c32   90d8     BCF       0xd8,0x0,0x0                                                                                    
007c34   36e9     RLCF      0xe9,0x1,0x0                                                                                    
007c36   36ea     RLCF      0xea,0x1,0x0                                                                                    
007c38   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Make sure the pin is set as an output, or this won't do much good     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ae6   6ae6     CLRF      0xe6,0x0               SetPinTRISFromRPn(RPn, OUTPUT_PIN);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ae8   0efc     MOVLW     0xfc                                                                                            
007aea   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007aec   ffe6                                                                                                               
007aee   ecce     CALL      0x619c,0x0                                                                                      
007af0   f030                                                                                                               
007af2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007af4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // For v2.1.5, found bug where if a pin is HIGH when we start doing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // RC output, the output is totally messed up. So make sure to set       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // the pin low first.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007af6   6ae6     CLRF      0xe6,0x0               SetPinLATFromRPn(RPn, 0);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007af8   0efc     MOVLW     0xfc                                                                                            
007afa   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007afc   ffe6                                                                                                               
007afe   eca0     CALL      0x6140,0x0                                                                                      
007b00   f030                                                                                                               
007b02   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007b04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Wait until we have a free spot in the FIFO, and add our new             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // command in                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b06   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b08   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
007b0a   e2fd     BC        0x7b06                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // If the pin we're controlling is B1 (the normal servo output) then       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // always make sure to turn power on and start the countdown timer         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // for that servo port. (issue #144)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b0c   0efc     MOVLW     0xfc                 if (RPn == 4u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007b10   0804     SUBLW     0x4                                                                                             
007b12   e109     BNZ       0x7b26                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b14   8689     BSF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_ON;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b16   c0d5     MOVFF     0xd5,0xd1              gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b18   f0d1                                                                                                               
007b1a   c0d6     MOVFF     0xd6,0xd2                                                                                       
007b1c   f0d2                                                                                                               
007b1e   c0d7     MOVFF     0xd7,0xd3                                                                                       
007b20   f0d3                                                                                                               
007b22   c0d8     MOVFF     0xd8,0xd4                                                                                       
007b24   f0d4                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b26   bc09     BTFSC     0x9,0x6,0x0          if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b28   d06b     BRA       0x7c00                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Now copy the values over into the FIFO element                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b2a   d88d     RCALL     0x7c46               FIFOPtr[gFIFOIn].Command = COMMAND_SERVO_MOVE;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b2c   0e02     MOVLW     0x2                                                                                             
007b2e   6eef     MOVWF     0xef,0x0                                                                                        
007c46   5010     MOVF      0x10,0x0,0x0                                                                                    
007c48   0d2f     MULLW     0x2f                                                                                            
007c4a   0102     MOVLB     0x2                                                                                             
007c4c   ef48     GOTO      0x7c90                                                                                          
007c4e   f03e                                                                                                               
007b30   0ef8     MOVLW     0xf8                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * (UINT32)Delay; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b32   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007b34   f04e                                                                                                               
007b36   0ef9     MOVLW     0xf9                                                                                            
007b38   cfdb     MOVFF     0xfdb,0x4f                                                                                      
007b3a   f04f                                                                                                               
007b3c   6a50     CLRF      0x50,0x0                                                                                        
007b3e   6a51     CLRF      0x51,0x0                                                                                        
007b40   0e19     MOVLW     0x19                                                                                            
007b42   6e45     MOVWF     0x45,0x0                                                                                        
007b44   6a46     CLRF      0x46,0x0                                                                                        
007b46   6a47     CLRF      0x47,0x0                                                                                        
007b48   6a48     CLRF      0x48,0x0                                                                                        
007b4a   c04e     MOVFF     0x4e,0x40                                                                                       
007b4c   f040                                                                                                               
007b4e   c04f     MOVFF     0x4f,0x41                                                                                       
007b50   f041                                                                                                               
007b52   c050     MOVFF     0x50,0x42                                                                                       
007b54   f042                                                                                                               
007b56   c051     MOVFF     0x51,0x43                                                                                       
007b58   f043                                                                                                               
007b5a   eca0     CALL      0x8d40,0x0                                                                                      
007b5c   f046                                                                                                               
007b5e   c03c     MOVFF     0x3c,0x4e                                                                                       
007b60   f04e                                                                                                               
007b62   c03d     MOVFF     0x3d,0x4f                                                                                       
007b64   f04f                                                                                                               
007b66   c03e     MOVFF     0x3e,0x50                                                                                       
007b68   f050                                                                                                               
007b6a   c03f     MOVFF     0x3f,0x51                                                                                       
007b6c   f051                                                                                                               
007b6e   d86b     RCALL     0x7c46                                                                                          
007b70   52ee     MOVF      0xee,0x1,0x0                                                                                    
007b72   52ee     MOVF      0xee,0x1,0x0                                                                                    
007b74   c03c     MOVFF     0x3c,0xfee                                                                                      
007b76   ffee                                                                                                               
007b78   c04f     MOVFF     0x4f,0xfee                                                                                      
007b7a   ffee                                                                                                               
007b7c   c050     MOVFF     0x50,0xfee                                                                                      
007b7e   ffee                                                                                                               
007b80   c051     MOVFF     0x51,0xfee                                                                                      
007b82   ffee                                                                                                               
007b84   d848     RCALL     0x7c16               FIFOPtr[gFIFOIn].m.sm.ServoChannel = Channel;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b86   0e29     MOVLW     0x29                                                                                            
007b88   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007b8a   0e00     MOVLW     0x0                                                                                             
007b8c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007b8e   0e01     MOVLW     0x1                                                                                             
007b90   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007b92   ffef                                                                                                               
007b94   d840     RCALL     0x7c16               FIFOPtr[gFIFOIn].m.sm.ServoRPn = RPn;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b96   0e26     MOVLW     0x26                                                                                            
007b98   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007b9a   0e00     MOVLW     0x0                                                                                             
007b9c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007b9e   0efc     MOVLW     0xfc                                                                                            
007ba0   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007ba2   ffef                                                                                                               
007ba4   d838     RCALL     0x7c16               FIFOPtr[gFIFOIn].m.sm.ServoPosition = Position;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ba6   0e27     MOVLW     0x27                                                                                            
007ba8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007baa   0e00     MOVLW     0x0                                                                                             
007bac   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007bae   0efd     MOVLW     0xfd                                                                                            
007bb0   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007bb2   ffee                                                                                                               
007bb4   0efe     MOVLW     0xfe                                                                                            
007bb6   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007bb8   ffed                                                                                                               
007bba   d82d     RCALL     0x7c16               FIFOPtr[gFIFOIn].m.sm.ServoRate = Rate;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bbc   0e2a     MOVLW     0x2a                                                                                            
007bbe   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007bc0   0e00     MOVLW     0x0                                                                                             
007bc2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007bc4   0efa     MOVLW     0xfa                                                                                            
007bc6   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007bc8   ffee                                                                                                               
007bca   0efb     MOVLW     0xfb                                                                                            
007bcc   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007bce   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Check that DelayCounter doesn't have a crazy high value (this was     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // being done in the ISR, now moved here for speed)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bd0   d822     RCALL     0x7c16               if (FIFOPtr[gFIFOIn].m.sm.DelayCounter > HIGH_ISR_TICKS_PER_MS * (UINT32)0x10000) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bd2   52ee     MOVF      0xee,0x1,0x0                                                                                    
007bd4   80d8     BSF       0xd8,0x0,0x0                                                                                    
007bd6   0e00     MOVLW     0x0                                                                                             
007bd8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007bda   0e00     MOVLW     0x0                                                                                             
007bdc   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007bde   0e19     MOVLW     0x19                                                                                            
007be0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007be2   0e00     MOVLW     0x0                                                                                             
007be4   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007be6   e206     BC        0x7bf4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Ideally we would throw an error to the user here, but since we're in D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // the helper function that's not so easy. So we just set the delay time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // to zero and hope they notice that their delays aren't doing anything. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007be8   d816     RCALL     0x7c16                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bea   52ee     MOVF      0xee,0x1,0x0                                                                                    
007bec   6aee     CLRF      0xee,0x0                                                                                        
007bee   6aee     CLRF      0xee,0x0                                                                                        
007bf0   6aee     CLRF      0xee,0x0                                                                                        
007bf2   6aee     CLRF      0xee,0x0                                                                                        
007c16   5010     MOVF      0x10,0x0,0x0                                                                                    
007c18   0d2f     MULLW     0x2f                                                                                            
007c1a   d83a     RCALL     0x7c90                                                                                          
007c1c   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c1e   0012     RETURN    0x0                                                                                             
007c90   51fe     MOVF      0xfe,0x0,0x1                                                                                    
007c92   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
007c94   6ee9     MOVWF     0xe9,0x0                                                                                        
007c96   51ff     MOVF      0xff,0x0,0x1                                                                                    
007c98   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
007c9a   6eea     MOVWF     0xea,0x0                                                                                        
007c9c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bf4   2a10     INCF      0x10,0x1,0x0           gFIFOIn++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bf6   5013     MOVF      0x13,0x0,0x0           if (gFIFOIn >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bf8   5c10     SUBWF     0x10,0x0,0x0                                                                                    
007bfa   e301     BNC       0x7bfe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bfc   6a10     CLRF      0x10,0x0                 gFIFOIn = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bfe   2a0f     INCF      0xf,0x1,0x0            gFIFOLength++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c00   0e01     MOVLW     0x1              return Channel;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c02   50db     MOVF      0xdb,0x0,0x0                                                                                    
007c04   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c06   0e02     MOVLW     0x2                                                                                             
007c08   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007c0a   e202     BC        0x7c10                                                                                          
007c0c   6ae1     CLRF      0xe1,0x0                                                                                        
007c0e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c10   6ee1     MOVWF     0xe1,0x0                                                                                        
007c12   504e     MOVF      0x4e,0x0,0x0                                                                                    
007c14   d028     BRA       0x7c66                                                                                          
007c66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c68   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007c6a   ffd9                                                                                                               
007c6c   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * FileName:        UBW.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author               Date        Comment                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        03/15/06    Added user code to implement                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      firmware version D v1.0 for UBW                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      project. See www.greta.dhs.org/UBW                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        05/04/06    Starting version 1.1, which will             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      include several fixes. See website.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  06/21/06  Starting v1.2 -                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed problem with I packets (from T command) filling up TX buffer          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *    and not letting any incoming commands be received. (strange)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding several commands - Analog inputs being the biggest set.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Also Byte read/Byte write (PEEK/POKE) anywhere in memory                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Individual pin I/O and direction                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/16/06  v1.3 - Fixed bug with USB startup              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  09/09/06  v1.4 - Starting 1.4                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed Microchip bug with early silicon - UCONbits.PKTDIS = 0;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding BO and BC commands for parallel output to graphics panels            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  12/06/06  v1.4 - More work on 1.4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote all I/O buffering code for increased speed and functionality       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote error handling code                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Added delays to BC/BO commands to help Corey                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  01/06/07  v1.4 - Added RC command for servos             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  03/07/07  v1.4.1 - Changed blink rate for SFE            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  05/24/07  v1.4.2 - Fixed RC command bug - it             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      wouldn't shut off.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/28/07  v1.4.3 - Allowed UBW to run without            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      USB connected.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <flash.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E F I N E S ********************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_TX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_RX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_A_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_D_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kPR4_RELOAD           250u              // For 1ms TMR4 tick             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kCR                   0x0Du                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kLF                   0x0Au                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define ANALOG_INITATE_MS_BETWEEN_STARTS 5u     // Number of ms between analog converts (all enabled channels) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_ADDRESS    0xF800            // Starting address in FLASH where we store our EBB's name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_LENGTH     16u               // Size of store for EBB's name in FLASH D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define RCSERVO_POWEROFF_DEFAULT_MS (60ul*1000ul)  // Number of milliseconds to default the RCServo power autotimeout (5min) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //#pragma udata access fast_vars                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Rate variable - how fast does interrupt fire to capture inputs?               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int time_between_updates;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_D_RepeatRate;       // How many 1ms ticks between Digital updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_RepeatRate;       // How many 1ms ticks between Analog updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This byte has each of its bits used as a separate error flag                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BYTE error_byte;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RC servo variables                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // First the main array of data for each servo                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_primed_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_next_ptr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_timing_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Used only in LowISR                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int D_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int A_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char A_cur_channel;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char AnalogInitiate;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int AnalogEnabledChannels;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ChannelBit;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_PowerMonitorThresholdADC;     // 0-1023 ADC counts, below which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile BOOL g_PowerDropDetected;              // True if power drops below PowerMonitorThreshold D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile tStepperDisableTimeout g_StepperDisableState;  // Stores state of stepper timeout disable feature D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableTimeoutS;       // Seconds of no motion before motors are disabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableSecondCounter;  // Counts milliseconds up to 1 s for stepper disable timeout D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableCountdownS;     // After motion is done, counts down in seconds from g_StepperDisableTimeoutS to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const rom char st_version[] = {"EBBv13_and_above EB Firmware Version 3.0.0-a40"}; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata ISR_buf = 0x100                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_FIFO[16];                     // Stores the most recent analog conversions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO[3][kISR_FIFO_D_DEPTH];  // FIFO of actual data D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_tx_buf = 0x200                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Transmit buffer for packets (back to PC)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf[kTX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_command_buf[kRX_COMMAND_BUF_SIZE];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_rx_buf = 0x300                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Receiving buffer for commands as they come from PC                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf[kRX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These variables are in normal storage space                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Receiving buffer for data coming from the USART                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf[kUSART_RX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Transmit buffer for data going to the USART                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf[kUSART_TX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These are used for the Fast Parallel Output routines                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_init;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_mask;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_mask;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_delay;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_delay;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB transmit (back to PC) buffer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB receive (from PC) buffer                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART input buffer                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART output buffer                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Normally set to TRUE. Able to set FALSE to not send "OK" message after packet reception D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL g_ack_enable;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Set to TRUE to turn Pulse Mode on                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gPulsesOn;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how long should each pulse be on for in ms?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseLen[4];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how many ms between rising edges of pulses?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseRate[4];                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, counters keeping track of where we are                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseCounters[4];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Counts down milliseconds until zero. At zero shuts off power to RC servo (via RA3)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterMS;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterReloadMS;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // When true, any stepper motion command will automatically enable both motors   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL gAutomaticMotorEnable;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These store the first and second characters of the latest command from the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchPortB;     // Latched PortB value when trigger happens D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchReplies;   // Non-zero if we want a reply printed when limit switch trigger goes true D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gLimitSwitchReplyPrinted;       // True if we've already printed a reply for this limit switch trigger D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gCommandChecksumRequired;       // True if we are requiring checksums on all commands (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Stack high water value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static volatile UINT16 gStackHighWater;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Locals used in low ISR                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static INT16 RC2Difference;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerHigh;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerLow;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT16 tempStackPointer;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static unsigned char gDeviceStringName[FLASH_NAME_LENGTH+1];                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void);     // Handles blinking the USB status LED            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL SwitchIsPressed(void);    // Check to see if the user (PRG) switch is pressed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_packet(void);       // Take a full packet and dispatch it to the right function D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           signed char extract_digit(unsigned long * acc, unsigned char digits); // Pull a character out of the packet D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void);     // R for resetting UBW                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_C_packet(void);     // C for configuring I/O and analog pins          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_O_packet(void);     // O for output digital to pins                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void);     // I for input digital from pins                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void);     // V for printing version                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_A_packet(void);     // A for requesting analog inputs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PI_packet(void);    // PI for reading a single pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PO_packet(void);    // PO for setting a single pin state              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PD_packet(void);    // PD for setting a pin's direction               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR for Memory Read                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MW_packet(void);    // MW for Memory Write                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CU_packet(void);    // CU configures UBW (system wide parameters)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void);     // T for setting up timed I/O (digital or analog) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void);    // PG Pulse Go                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void);    // PC Pulse Configure                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void);    // BL Boot Load command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CK_packet(void);    // CK ChecK command                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR Motors Run command                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_AC_packet(void);    // AC Analog Configure                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_ST_packet(void);    // ST Set Tag command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QT_packet(void);    // QT Query Tag command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void);    // RB ReBoot command                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void);    // QR Query RC Servo power state                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_SR_packet(void);    // SR Set RC Servo power timeout                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QU_packet(void);    // QU General Query                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void check_and_send_TX_data(void); // See if there is any data to send to PC, and if so, do it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma interruptlow low_ISR                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003bf0   cfd8     MOVFF     0xfd8,0xfe4    void low_ISR(void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003bf2   ffe4                                                                                                               
003bf4   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
003bf6   ffe4                                                                                                               
003bf8   6ee4     MOVWF     0xe4,0x0                                                                                        
003bfa   cfda     MOVFF     0xfda,0xfe4                                                                                     
003bfc   ffe4                                                                                                               
003bfe   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003c00   ffe4                                                                                                               
003c02   cfea     MOVFF     0xfea,0xfe4                                                                                     
003c04   ffe4                                                                                                               
003c06   cff3     MOVFF     0xff3,0xfe4                                                                                     
003c08   ffe4                                                                                                               
003c0a   cff4     MOVFF     0xff4,0xfe4                                                                                     
003c0c   ffe4                                                                                                               
003c0e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003c10   ecb6     CALL      0x656c,0x0                                                                                      
003c12   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have a Timer4 interrupt? (1ms rate)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c14   a6a4     BTFSS     0xa4,0x3,0x0     if (PIR3bits.TMR4IF)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c16   d141     BRA       0x3e9a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c18   96a4     BCF       0xa4,0x3,0x0       PIR3bits.TMR4IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle RC servo pulse generation (for next pulse/channel)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always increment the gRCServo2msCounter                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c1a   0100     MOVLB     0x0                gRC2msCounter++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c1c   2b60     INCF      0x60,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c1e   0100     MOVLB     0x0                if (gRC2msCounter >= gRC2SlotMS)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c20   517f     MOVF      0x7f,0x0,0x1                                                                                    
003c22   0100     MOVLB     0x0                                                                                             
003c24   5d60     SUBWF     0x60,0x0,0x1                                                                                    
003c26   e201     BC        0x3c2a                                                                                          
003c28   d09b     BRA       0x3d60                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the RC2 ms counter                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c2a   6b60     CLRF      0x60,0x1             gRC2msCounter = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off the PPS routing to the 'old' pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c2c   0100     MOVLB     0x0                  *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c2e   eccf     CALL      0x639e,0x0                                                                                      
003c30   f031                                                                                                               
003c32   6aef     CLRF      0xef,0x0                                                                                        
00639e   517d     MOVF      0x7d,0x0,0x1                                                                                    
0063a0   6aea     CLRF      0xea,0x0                                                                                        
0063a2   0f69     ADDLW     0x69                                                                                            
0063a4   6ee9     MOVWF     0xe9,0x0                                                                                        
0063a6   0e00     MOVLW     0x0                                                                                             
0063a8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063aa   50ef     MOVF      0xef,0x0,0x0                                                                                    
0063ac   0100     MOVLB     0x0                                                                                             
0063ae   6aea     CLRF      0xea,0x0                                                                                        
0063b0   2580     ADDWF     0x80,0x0,0x1                                                                                    
0063b2   6ee9     MOVWF     0xe9,0x0                                                                                        
0063b4   5181     MOVF      0x81,0x0,0x1                                                                                    
0063b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063b8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off TIMER3 for now                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c34   9079     BCF       0x79,0x0,0x0         T3CONbits.TMR3ON = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And clear TIMER3 to zero                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c36   6a7b     CLRF      0x7b,0x0             TMR3H = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c38   6a7a     CLRF      0x7a,0x0             TMR3L = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And always advance the main pointer                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c3a   0100     MOVLB     0x0                  gRC2Ptr++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c3c   2b7d     INCF      0x7d,0x1,0x1                                                                                    
003c3e   0100     MOVLB     0x0                  if (gRC2Ptr >= gRC2Slots)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c40   517e     MOVF      0x7e,0x0,0x1                                                                                    
003c42   0100     MOVLB     0x0                                                                                             
003c44   5d7d     SUBWF     0x7d,0x0,0x1                                                                                    
003c46   e301     BNC       0x3c4a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c48   6b7d     CLRF      0x7d,0x1               gRC2Ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If the value is zero, we do nothing to this pin                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // otherwise, prime it for sending a pulse                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c4a   ec48     CALL      0x6690,0x0           if (gRC2Value[gRC2Ptr] != 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c4c   f033                                                                                                               
003c4e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c50   50ee     MOVF      0xee,0x0,0x0                                                                                    
003c52   10ed     IORWF     0xed,0x0,0x0                                                                                    
003c54   e101     BNZ       0x3c58                                                                                          
003c56   d084     BRA       0x3d60                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, to move 'slowly', we update gRC2Value[] by                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // seeing if we are at gRC2Target[] yet. If not, then                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // we add (or subtract) gRC2Rate[] to try and get there.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c58   ec3b     CALL      0x6676,0x0             if (gRC2Target[gRC2Ptr] != gRC2Value[gRC2Ptr])                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c5a   f033                                                                                                               
003c5c   cfee     MOVFF     0xfee,0x58                                                                                      
003c5e   f058                                                                                                               
003c60   cfef     MOVFF     0xfef,0x59                                                                                      
003c62   f059                                                                                                               
003c64   5058     MOVF      0x58,0x0,0x0                                                                                    
003c66   1856     XORWF     0x56,0x0,0x0                                                                                    
003c68   e102     BNZ       0x3c6e                                                                                          
003c6a   5059     MOVF      0x59,0x0,0x0                                                                                    
003c6c   1857     XORWF     0x57,0x0,0x0                                                                                    
003c6e   e05d     BZ        0x3d2a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If the rate is zero, then we always move instantly                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // to the target.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c70   ec8b     CALL      0x6516,0x0               if (gRC2Rate[gRC2Ptr] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c72   f032                                                                                                               
003c74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c76   50ee     MOVF      0xee,0x0,0x0                                                                                    
003c78   10ed     IORWF     0xed,0x0,0x0                                                                                    
003c7a   e051     BZ        0x3d1e                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Otherwise, add gRC2Rate[] each time through until we              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // get to our desired pulse width.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c7c   ec3b     CALL      0x6676,0x0                 RC2Difference = (gRC2Target[gRC2Ptr] - gRC2Value[gRC2Ptr]);          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c7e   f033                                                                                                               
003c80   0100     MOVLB     0x0                                                                                             
003c82   50ee     MOVF      0xee,0x0,0x0                                                                                    
003c84   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003c86   6fe2     MOVWF     0xe2,0x1                                                                                        
003c88   50ee     MOVF      0xee,0x0,0x0                                                                                    
003c8a   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003c8c   6fe3     MOVWF     0xe3,0x1                                                                                        
003c8e   34e8     RLCF      0xe8,0x0,0x0               if (RC2Difference > 0)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c90   e222     BC        0x3cd6                                                                                          
003c92   51e2     MOVF      0xe2,0x0,0x1                                                                                    
003c94   0800     SUBLW     0x0                                                                                             
003c96   0e00     MOVLW     0x0                                                                                             
003c98   55e3     SUBFWB    0xe3,0x0,0x1                                                                                    
003c9a   e21d     BC        0x3cd6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c9c   0100     MOVLB     0x0                          if (RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c9e   ec8b     CALL      0x6516,0x0                                                                                      
003ca0   f032                                                                                                               
003ca2   ec4b     CALL      0x6296,0x0                                                                                      
003ca4   f031                                                                                                               
003ca6   0100     MOVLB     0x0                                                                                             
003ca8   5057     MOVF      0x57,0x0,0x0                                                                                    
003caa   19e3     XORWF     0xe3,0x0,0x1                                                                                    
003cac   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003cae   d002     BRA       0x3cb4                                                                                          
003cb0   35e3     RLCF      0xe3,0x0,0x1                                                                                    
003cb2   d004     BRA       0x3cbc                                                                                          
003cb4   51e2     MOVF      0xe2,0x0,0x1                                                                                    
003cb6   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003cb8   51e3     MOVF      0xe3,0x0,0x1                                                                                    
003cba   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003cbc   e20a     BC        0x3cd2                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cbe   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] += gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cc0   ec8b     CALL      0x6516,0x0                                                                                      
003cc2   f032                                                                                                               
003cc4   ec5c     CALL      0x64b8,0x0                                                                                      
003cc6   f032                                                                                                               
003cc8   5056     MOVF      0x56,0x0,0x0                                                                                    
003cca   26ee     ADDWF     0xee,0x1,0x0                                                                                    
003ccc   5057     MOVF      0x57,0x0,0x0                                                                                    
003cce   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd0   d02c     BRA       0x3d2a                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd2   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd4   d024     BRA       0x3d1e                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd6   c0e2     MOVFF     0xe2,0x56                    if (-RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd8   f056                                                                                                               
003cda   c0e3     MOVFF     0xe3,0x57                                                                                       
003cdc   f057                                                                                                               
003cde   6c56     NEGF      0x56,0x0                                                                                        
003ce0   1e57     COMF      0x57,0x1,0x0                                                                                    
003ce2   0e00     MOVLW     0x0                                                                                             
003ce4   2257     ADDWFC    0x57,0x1,0x0                                                                                    
003ce6   0100     MOVLB     0x0                                                                                             
003ce8   ec8b     CALL      0x6516,0x0                                                                                      
003cea   f032                                                                                                               
003cec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003cee   cfee     MOVFF     0xfee,0x58                                                                                      
003cf0   f058                                                                                                               
003cf2   cfef     MOVFF     0xfef,0x59                                                                                      
003cf4   f059                                                                                                               
003cf6   5059     MOVF      0x59,0x0,0x0                                                                                    
003cf8   1857     XORWF     0x57,0x0,0x0                                                                                    
003cfa   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003cfc   d002     BRA       0x3d02                                                                                          
003cfe   3457     RLCF      0x57,0x0,0x0                                                                                    
003d00   d004     BRA       0x3d0a                                                                                          
003d02   5056     MOVF      0x56,0x0,0x0                                                                                    
003d04   5c58     SUBWF     0x58,0x0,0x0                                                                                    
003d06   5057     MOVF      0x57,0x0,0x0                                                                                    
003d08   5859     SUBWFB    0x59,0x0,0x0                                                                                    
003d0a   e209     BC        0x3d1e                                                                                          
006516   de85     RCALL     0x6222                                                                                          
006518   0e75     MOVLW     0x75                                                                                            
00651a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00651c   0e00     MOVLW     0x0                                                                                             
00651e   0012     RETURN    0x0                                                                                             
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d0c   ec8b     CALL      0x6516,0x0                     gRC2Value[gRC2Ptr] -= gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d0e   f032                                                                                                               
003d10   ec5c     CALL      0x64b8,0x0                                                                                      
003d12   f032                                                                                                               
003d14   5056     MOVF      0x56,0x0,0x0                                                                                    
003d16   5eee     SUBWF     0xee,0x1,0x0                                                                                    
003d18   5057     MOVF      0x57,0x0,0x0                                                                                    
003d1a   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d1c   d006     BRA       0x3d2a                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d1e   ec3b     CALL      0x6676,0x0                     gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d20   f033                                                                                                               
003d22   c056     MOVFF     0x56,0xfee                                                                                      
003d24   ffee                                                                                                               
003d26   c057     MOVFF     0x57,0xfed                                                                                      
003d28   ffed                                                                                                               
006296   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006298   cfee     MOVFF     0xfee,0x56                                                                                      
00629a   f056                                                                                                               
00629c   cfef     MOVFF     0xfef,0x57                                                                                      
00629e   f057                                                                                                               
0062a0   0012     RETURN    0x0                                                                                             
0064b8   deee     RCALL     0x6296                                                                                          
0064ba   d8ea     RCALL     0x6690                                                                                          
0064bc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064be   0012     RETURN    0x0                                                                                             
006676   ddd5     RCALL     0x6222                                                                                          
006678   0e6d     MOVLW     0x6d                                                                                            
00667a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00667c   0e00     MOVLW     0x0                                                                                             
00667e   ef5c     GOTO      0x64b8                                                                                          
006680   f032                                                                                                               
006690   ddc8     RCALL     0x6222                                                                                          
006692   0e61     MOVLW     0x61                                                                                            
006694   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006696   0e00     MOVLW     0x0                                                                                             
006698   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set up the PPS routing for the CCP2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d2a   eccf     CALL      0x639e,0x0             *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 18; // 18 = CCP2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d2c   f031                                                                                                               
003d2e   0e12     MOVLW     0x12                                                                                            
003d30   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Disable interrupts (high)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d32   9ef2     BCF       0xf2,0x7,0x0           INTCONbits.GIEH = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Load up the new compare time                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d34   0100     MOVLB     0x0                    CCPR2H = gRC2Value[gRC2Ptr] >> 8;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d36   ecd7     CALL      0x65ae,0x0                                                                                      
003d38   f032                                                                                                               
003d3a   c057     MOVFF     0x57,0x56                                                                                       
003d3c   f056                                                                                                               
003d3e   6a57     CLRF      0x57,0x0                                                                                        
003d40   5056     MOVF      0x56,0x0,0x0                                                                                    
003d42   6eb6     MOVWF     0xb6,0x0                                                                                        
0065ae   d870     RCALL     0x6690                                                                                          
0065b0   ef4b     GOTO      0x6296                                                                                          
0065b2   f031                                                                                                               
003d44   ecd7     CALL      0x65ae,0x0             CCPR2L = gRC2Value[gRC2Ptr] & 0xFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d46   f032                                                                                                               
003d48   5056     MOVF      0x56,0x0,0x0                                                                                    
003d4a   6eb5     MOVWF     0xb5,0x0                                                                                        
006222   517d     MOVF      0x7d,0x0,0x1                                                                                    
006224   6ee9     MOVWF     0xe9,0x0                                                                                        
006226   6aea     CLRF      0xea,0x0                                                                                        
006228   90d8     BCF       0xd8,0x0,0x0                                                                                    
00622a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00622c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00622e   0012     RETURN    0x0                                                                                             
003d4c   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b0000;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d4e   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003d50   0900     IORLW     0x0                                                                                             
003d52   6eb4     MOVWF     0xb4,0x0                                                                                        
003d54   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b1001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d56   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003d58   0909     IORLW     0x9                                                                                             
003d5a   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Turn TIMER3 back on                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d5c   8079     BSF       0x79,0x0,0x0           T3CONbits.TMR3ON = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Re-enable interrupts                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d5e   8ef2     BSF       0xf2,0x7,0x0           INTCONbits.GIEH = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an I packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d60   0100     MOVLB     0x0                if (ISR_D_RepeatRate > 0u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d62   0e00     MOVLW     0x0                                                                                             
003d64   80d8     BSF       0xd8,0x0,0x0                                                                                    
003d66   558d     SUBFWB    0x8d,0x0,0x1                                                                                    
003d68   0e00     MOVLW     0x0                                                                                             
003d6a   558e     SUBFWB    0x8e,0x0,0x1                                                                                    
003d6c   e22e     BC        0x3dca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d6e   2b9b     INCF      0x9b,0x1,0x1         D_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d70   0e00     MOVLW     0x0                                                                                             
003d72   239c     ADDWFC    0x9c,0x1,0x1                                                                                    
003d74   518d     MOVF      0x8d,0x0,0x1         if (D_tick_counter >= ISR_D_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d76   5d9b     SUBWF     0x9b,0x0,0x1                                                                                    
003d78   518e     MOVF      0x8e,0x0,0x1                                                                                    
003d7a   599c     SUBWFB    0x9c,0x0,0x1                                                                                    
003d7c   e326     BNC       0x3dca                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d7e   6b9b     CLRF      0x9b,0x1               D_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d80   6b9c     CLRF      0x9c,0x1                                                                                        
                                                   // Tell the main code to send an I packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d82   0e03     MOVLW     0x3                    if (ISR_D_FIFO_length < kISR_FIFO_D_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d84   5d91     SUBWF     0x91,0x0,0x1                                                                                    
003d86   e21f     BC        0x3dc6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And copy over our port values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d88   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[0][ISR_D_FIFO_in] = PORTA;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d8a   6aea     CLRF      0xea,0x0                                                                                        
003d8c   0f20     ADDLW     0x20                                                                                            
003d8e   6ee9     MOVWF     0xe9,0x0                                                                                        
003d90   0e01     MOVLW     0x1                                                                                             
003d92   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003d94   cf80     MOVFF     0xf80,0xfef                                                                                     
003d96   ffef                                                                                                               
003d98   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[1][ISR_D_FIFO_in] = PORTB;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d9a   6aea     CLRF      0xea,0x0                                                                                        
003d9c   0f23     ADDLW     0x23                                                                                            
003d9e   6ee9     MOVWF     0xe9,0x0                                                                                        
003da0   0e01     MOVLW     0x1                                                                                             
003da2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003da4   cf81     MOVFF     0xf81,0xfef                                                                                     
003da6   ffef                                                                                                               
003da8   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[2][ISR_D_FIFO_in] = PORTC;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003daa   6aea     CLRF      0xea,0x0                                                                                        
003dac   0f26     ADDLW     0x26                                                                                            
003dae   6ee9     MOVWF     0xe9,0x0                                                                                        
003db0   0e01     MOVLW     0x1                                                                                             
003db2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003db4   cf82     MOVFF     0xf82,0xfef                                                                                     
003db6   ffef                                                                                                               
003db8   2b8f     INCF      0x8f,0x1,0x1             ISR_D_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dba   0e03     MOVLW     0x3                      if (ISR_D_FIFO_in >= kISR_FIFO_D_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dbc   5d8f     SUBWF     0x8f,0x0,0x1                                                                                    
003dbe   e301     BNC       0x3dc2                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc0   6b8f     CLRF      0x8f,0x1                   ISR_D_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc2   2b91     INCF      0x91,0x1,0x1             ISR_D_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc4   d002     BRA       0x3dca                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // timer.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc6   6b8d     CLRF      0x8d,0x1                 ISR_D_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc8   6b8e     CLRF      0x8e,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an A packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dca   0e00     MOVLW     0x0                if ((ISR_A_RepeatRate > 0u) && (AnalogEnabledChannels > 0u))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dcc   80d8     BSF       0xd8,0x0,0x0                                                                                    
003dce   5592     SUBFWB    0x92,0x0,0x1                                                                                    
003dd0   0e00     MOVLW     0x0                                                                                             
003dd2   5593     SUBFWB    0x93,0x0,0x1                                                                                    
003dd4   e21c     BC        0x3e0e                                                                                          
003dd6   0e00     MOVLW     0x0                                                                                             
003dd8   80d8     BSF       0xd8,0x0,0x0                                                                                    
003dda   55a1     SUBFWB    0xa1,0x0,0x1                                                                                    
003ddc   0e00     MOVLW     0x0                                                                                             
003dde   55a2     SUBFWB    0xa2,0x0,0x1                                                                                    
003de0   e216     BC        0x3e0e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003de2   2b9d     INCF      0x9d,0x1,0x1         A_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003de4   0e00     MOVLW     0x0                                                                                             
003de6   239e     ADDWFC    0x9e,0x1,0x1                                                                                    
003de8   5192     MOVF      0x92,0x0,0x1         if (A_tick_counter >= ISR_A_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dea   5d9d     SUBWF     0x9d,0x0,0x1                                                                                    
003dec   5193     MOVF      0x93,0x0,0x1                                                                                    
003dee   599e     SUBWFB    0x9e,0x0,0x1                                                                                    
003df0   e30e     BNC       0x3e0e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df2   6b9d     CLRF      0x9d,0x1               A_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df4   6b9e     CLRF      0x9e,0x1                                                                                        
                                                   // Tell the main code to send an A packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df6   0e03     MOVLW     0x3                    if (ISR_A_FIFO_length < kISR_FIFO_A_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df8   5d96     SUBWF     0x96,0x0,0x1                                                                                    
003dfa   e207     BC        0x3e0a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dfc   2b94     INCF      0x94,0x1,0x1             ISR_A_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dfe   0e03     MOVLW     0x3                      if (ISR_A_FIFO_in >= kISR_FIFO_A_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e00   5d94     SUBWF     0x94,0x0,0x1                                                                                    
003e02   e301     BNC       0x3e06                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e04   6b94     CLRF      0x94,0x1                   ISR_A_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e06   2b96     INCF      0x96,0x1,0x1             ISR_A_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e08   d002     BRA       0x3e0e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the A                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // packets.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e0a   6b92     CLRF      0x92,0x1                 ISR_A_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e0c   6b93     CLRF      0x93,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only start analog conversions if there are channels enabled               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e0e   51a1     MOVF      0xa1,0x0,0x1       if (AnalogEnabledChannels)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e10   11a2     IORWF     0xa2,0x0,0x1                                                                                    
003e12   e00b     BZ        0x3e2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Only start every so many ms                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e14   0e05     MOVLW     0x5                  if (AnalogInitiate >= ANALOG_INITATE_MS_BETWEEN_STARTS)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e16   5da0     SUBWF     0xa0,0x0,0x1                                                                                    
003e18   e307     BNC       0x3e28                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Always start off with calibration                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1a   8cc1     BSF       0xc1,0x6,0x0           ADCON1bits.ADCAL = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the interrupt                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1c   9c9e     BCF       0x9e,0x6,0x0           PIR1bits.ADIF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the interrupt enable                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1e   8c9d     BSF       0x9d,0x6,0x0           PIE1bits.ADIE = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Make sure it's on!                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e20   80c2     BSF       0xc2,0x0,0x0           ADCON0bits.ADON = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // And tell the A/D to GO!                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e22   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO_DONE = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset AnalogInitiate counter                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e24   6ba0     CLRF      0xa0,0x1               AnalogInitiate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Otherwise, increment each 1ms                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e26   d001     BRA       0x3e2a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e28   2ba0     INCF      0xa0,0x1,0x1           AnalogInitiate++;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Is Pulse Mode on?                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (gPulsesOn)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Loop across the four pins                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 for (i=0; i<4u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only pulse the pin if there is a length for the pin                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   if (gPulseLen[i])                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If this is the beginning of the pulse, turn the pin on              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If we've reached the end of the pulse, turn the pin off             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == gPulseLen[i])                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin off                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Now increment the counter                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     gPulseCounters[i]++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And check to see if we've reached the end of the rate               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] >= gPulseRate[i])                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // If so, start over from zero                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gPulseCounters[i] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Turn the pin off                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==0u) PORTBbits.RB0 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==1u) PORTBbits.RB1 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==2u) PORTBbits.RB2 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==3u) PORTBbits.RB3 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for QC command                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2a   0101     MOVLB     0x1                if (QC_ms_timer)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2c   51be     MOVF      0xbe,0x0,0x1                                                                                    
003e2e   e001     BZ        0x3e32                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e30   07be     DECF      0xbe,0x1,0x1         QC_ms_timer--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for RCServo power control                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e32   0100     MOVLB     0x0                if (gRCServoPoweroffCounterMS)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e34   51d1     MOVF      0xd1,0x0,0x1                                                                                    
003e36   11d2     IORWF     0xd2,0x0,0x1                                                                                    
003e38   11d3     IORWF     0xd3,0x0,0x1                                                                                    
003e3a   11d4     IORWF     0xd4,0x0,0x1                                                                                    
003e3c   e00b     BZ        0x3e54                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3e   07d1     DECF      0xd1,0x1,0x1         gRCServoPoweroffCounterMS--;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e40   0e00     MOVLW     0x0                                                                                             
003e42   5bd2     SUBWFB    0xd2,0x1,0x1                                                                                    
003e44   5bd3     SUBWFB    0xd3,0x1,0x1                                                                                    
003e46   5bd4     SUBWFB    0xd4,0x1,0x1                                                                                    
                                                 // If we just timed out, then shut off RC Servo power                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e48   51d1     MOVF      0xd1,0x0,0x1         if (gRCServoPoweroffCounterMS == 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4a   11d2     IORWF     0xd2,0x0,0x1                                                                                    
003e4c   11d3     IORWF     0xd3,0x0,0x1                                                                                    
003e4e   11d4     IORWF     0xd4,0x0,0x1                                                                                    
003e50   e101     BNZ       0x3e54                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e52   9689     BCF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_OFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check for stepper motor disable timeout if enabled                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e54   0e02     MOVLW     0x2                if (g_StepperDisableState == kSTEPPER_TIMEOUT_TIMING)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e56   5da8     SUBWF     0xa8,0x0,0x1                                                                                    
003e58   e120     BNZ       0x3e9a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Count the milliseconds until we get to 1 second                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5a   51ab     MOVF      0xab,0x0,0x1         if (g_StepperDisableSecondCounter)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5c   11ac     IORWF     0xac,0x0,0x1                                                                                    
003e5e   e01d     BZ        0x3e9a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e60   07ab     DECF      0xab,0x1,0x1           g_StepperDisableSecondCounter--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e62   0e00     MOVLW     0x0                                                                                             
003e64   5bac     SUBWFB    0xac,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e66   51ab     MOVF      0xab,0x0,0x1           if (g_StepperDisableSecondCounter == 0u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e68   11ac     IORWF     0xac,0x0,0x1                                                                                    
003e6a   e117     BNZ       0x3e9a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Then count down the seconds                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6c   51ad     MOVF      0xad,0x0,0x1             if (g_StepperDisableCountdownS)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6e   11ae     IORWF     0xae,0x0,0x1                                                                                    
003e70   e014     BZ        0x3e9a                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e72   07ad     DECF      0xad,0x1,0x1               g_StepperDisableCountdownS--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e74   0e00     MOVLW     0x0                                                                                             
003e76   5bae     SUBWFB    0xae,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e78   51ad     MOVF      0xad,0x0,0x1               if (g_StepperDisableCountdownS == 0u)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e7a   11ae     IORWF     0xae,0x0,0x1                                                                                    
003e7c   e10a     BNZ       0x3e92                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // If the countdown gets to zero, then it's time to disable        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // the steppers.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e7e   5004     MOVF      0x4,0x0,0x0                  if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e80   e103     BNZ       0x3e88                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e82   808d     BSF       0x8d,0x0,0x0                   Enable1IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e84   828b     BSF       0x8b,0x1,0x0                   Enable2IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e86   d002     BRA       0x3e8c                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e88   828c     BSF       0x8c,0x1,0x0                   Enable1AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e8a   8289     BSF       0x89,0x1,0x0                   Enable2AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e8c   0e03     MOVLW     0x3                          g_StepperDisableState = kSTEPPER_TIMEOUT_FIRED;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e8e   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e90   d004     BRA       0x3e9a                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // Only count the next second if there are still seconds to count  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e92   0ee8     MOVLW     0xe8                         g_StepperDisableSecondCounter = 1000u;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e94   6fab     MOVWF     0xab,0x1                                                                                        
003e96   0e03     MOVLW     0x3                                                                                             
003e98   6fac     MOVWF     0xac,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Read out the current value of FSR1 (stack pointer)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If the new value is higher than gStackHighWater, then update gStackHighWater D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // This will record the highest value the stack pointer attains              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _asm                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1H, tempStackPointerHigh                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1L, tempStackPointerLow                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _endasm                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    if (tempStackPointer > gStackHighWater)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    {                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      gStackHighWater = tempStackPointer;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    }                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             } // end of 1ms interrupt                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have an analog interrupt?                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e9a   ac9e     BTFSS     0x9e,0x6,0x0     if (PIR1bits.ADIF)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e9c   d04f     BRA       0x3f3c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e9e   9c9e     BCF       0x9e,0x6,0x0       PIR1bits.ADIF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If we just had a calibration, means we just started, so clear things      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // out and begin our sequence.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea0   acc1     BTFSS     0xc1,0x6,0x0       if (ADCON1bits.ADCAL)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea2   d007     BRA       0x3eb2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea4   9cc1     BCF       0xc1,0x6,0x0         ADCON1bits.ADCAL = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea6   0e01     MOVLW     0x1                  ChannelBit = 0x0001;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea8   0100     MOVLB     0x0                                                                                             
003eaa   6fa3     MOVWF     0xa3,0x1                                                                                        
003eac   6ba4     CLRF      0xa4,0x1                                                                                        
003eae   6b9f     CLRF      0x9f,0x1             A_cur_channel = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb0   d02a     BRA       0x3f06             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Read out the value that we just converted, and store it.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec6   0100     MOVLB     0x0                  ISR_A_FIFO[A_cur_channel] =                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec8   519f     MOVF      0x9f,0x0,0x1                                                                                    
003eca   6ee9     MOVWF     0xe9,0x0                                                                                        
003ecc   6aea     CLRF      0xea,0x0                                                                                        
003ece   eca6     CALL      0x654c,0x0                                                                                      
003ed0   f032                                                                                                               
003ed2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003eba   50c3     MOVF      0xc3,0x0,0x0             (unsigned int)ADRESL                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     |                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb2   50c4     MOVF      0xc4,0x0,0x0             ((unsigned int)ADRESH << 8);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb4   6e58     MOVWF     0x58,0x0                                                                                        
003eb6   6e59     MOVWF     0x59,0x0                                                                                        
003eb8   6a58     CLRF      0x58,0x0                                                                                        
003ebc   0100     MOVLB     0x0                                                                                             
003ebe   1058     IORWF     0x58,0x0,0x0                                                                                    
003ec0   6e56     MOVWF     0x56,0x0                                                                                        
003ec2   c059     MOVFF     0x59,0x57                                                                                       
003ec4   f057                                                                                                               
003ed4   c056     MOVFF     0x56,0xfee                                                                                      
003ed6   ffee                                                                                                               
003ed8   c057     MOVFF     0x57,0xfed                                                                                      
003eda   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If this is the V+_VOLTAGE ADC channel, then check to see if the value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // is below the threshold, and if so, set the bit to record this fact      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003edc   0e0b     MOVLW     0xb                  if (A_cur_channel == RA11_VPLUS_POWER_ADC_CHANNEL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ede   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
003ee0   e10e     BNZ       0x3efe                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee2   519f     MOVF      0x9f,0x0,0x1           if (ISR_A_FIFO[A_cur_channel] < g_PowerMonitorThresholdADC)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee4   6ee9     MOVWF     0xe9,0x0                                                                                        
003ee6   6aea     CLRF      0xea,0x0                                                                                        
003ee8   eca6     CALL      0x654c,0x0                                                                                      
003eea   f032                                                                                                               
003eec   ec4b     CALL      0x6296,0x0                                                                                      
003eee   f031                                                                                                               
003ef0   51a5     MOVF      0xa5,0x0,0x1                                                                                    
003ef2   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003ef4   51a6     MOVF      0xa6,0x0,0x1                                                                                    
003ef6   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003ef8   e202     BC        0x3efe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efa   0e01     MOVLW     0x1                      g_PowerDropDetected = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efc   6fa7     MOVWF     0xa7,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Increment the channel and mask bit                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efe   90d8     BCF       0xd8,0x0,0x0         ChannelBit = ChannelBit << 1;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f00   37a3     RLCF      0xa3,0x1,0x1                                                                                    
003f02   37a4     RLCF      0xa4,0x1,0x1                                                                                    
003f04   2b9f     INCF      0x9f,0x1,0x1         A_cur_channel++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk through the enabled channels until we find the next one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f06   0e10     MOVLW     0x10               while (A_cur_channel < 16u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f08   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
003f0a   e20e     BC        0x3f28                                                                                          
003f26   d7ef     BRA       0x3f06                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0c   51a3     MOVF      0xa3,0x0,0x1         if (ChannelBit & AnalogEnabledChannels)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0e   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
003f10   6e56     MOVWF     0x56,0x0                                                                                        
003f12   51a4     MOVF      0xa4,0x0,0x1                                                                                    
003f14   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
003f16   6e57     MOVWF     0x57,0x0                                                                                        
003f18   5056     MOVF      0x56,0x0,0x0                                                                                    
003f1a   1057     IORWF     0x57,0x0,0x0                                                                                    
003f1c   e105     BNZ       0x3f28                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Increment the channel and write the new one in                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1e   2b9f     INCF      0x9f,0x1,0x1           A_cur_channel++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f20   90d8     BCF       0xd8,0x0,0x0           ChannelBit = ChannelBit << 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f22   37a3     RLCF      0xa3,0x1,0x1                                                                                    
003f24   37a4     RLCF      0xa4,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f28   0e10     MOVLW     0x10               if (A_cur_channel >= 16u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2a   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
003f2c   e302     BNC       0x3f32                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We're done, so just sit and wait                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off our interrupts though.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2e   9c9d     BCF       0x9d,0x6,0x0         PIE1bits.ADIE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f30   d005     BRA       0x3f3c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Update the channel number                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f32   519f     MOVF      0x9f,0x0,0x1         ADCON0 = (A_cur_channel << 2) + 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f34   0d04     MULLW     0x4                                                                                             
003f36   28f3     INCF      0xf3,0x0,0x0                                                                                    
003f38   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                 // And start the next conversion                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3a   82c2     BSF       0xc2,0x1,0x0         ADCON0bits.GO_DONE = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f40   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003f42   ffd9                                                                                                               
003f44   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f46   cfe5     MOVFF     0xfe5,0xff4                                                                                     
003f48   fff4                                                                                                               
003f4a   cfe5     MOVFF     0xfe5,0xff3                                                                                     
003f4c   fff3                                                                                                               
003f4e   cfe5     MOVFF     0xfe5,0xfea                                                                                     
003f50   ffea                                                                                                               
003f52   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
003f54   ffe9                                                                                                               
003f56   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003f58   ffda                                                                                                               
003f5a   50e5     MOVF      0xe5,0x0,0x0                                                                                    
003f5c   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
003f5e   ffe0                                                                                                               
003f60   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
003f62   ffd8                                                                                                               
003f64   0010     RETFIE    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //////// JUST FOR TESTING - DELETE                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f66   cfd9     MOVFF     0xfd9,0xfe6    void fill_stack(void)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f68   ffe6                                                                                                               
003f6a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003f6c   ffd9                                                                                                               
003f6e   0e02     MOVLW     0x2                                                                                             
003f70   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f72   6ade     CLRF      0xde,0x0         UINT8 * stackPtr = (UINT8 *)0x000;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f74   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             _asm                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f76   cfe2     MOVFF     0xfe2,0xe4         MOVFF FSR1H, tempStackPointerHigh                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f78   f0e4                                                                                                               
003f7a   cfe1     MOVFF     0xfe1,0xe5         MOVFF FSR1L, tempStackPointerLow                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f7c   f0e5                                                                                                               
                                             _endasm                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f7e   c0e4     MOVFF     0xe4,0x4e        tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f80   f04e                                                                                                               
003f82   c04e     MOVFF     0x4e,0x4f                                                                                       
003f84   f04f                                                                                                               
003f86   6a4e     CLRF      0x4e,0x0                                                                                        
003f88   0100     MOVLB     0x0                                                                                             
003f8a   51e5     MOVF      0xe5,0x0,0x1                                                                                    
003f8c   0100     MOVLB     0x0                                                                                             
003f8e   104e     IORWF     0x4e,0x0,0x0                                                                                    
003f90   6fe6     MOVWF     0xe6,0x1                                                                                        
003f92   c04f     MOVFF     0x4f,0xe7                                                                                       
003f94   f0e7                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f96   c0e6     MOVFF     0xe6,0xfde       stackPtr = (UINT8 *)tempStackPointer;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f98   ffde                                                                                                               
003f9a   c0e7     MOVFF     0xe7,0xfdd                                                                                      
003f9c   ffdd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9e   0e08     MOVLW     0x8              stackPtr += 8;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa0   26de     ADDWF     0xde,0x1,0x0                                                                                    
003fa2   0e00     MOVLW     0x0                                                                                             
003fa4   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa6   cfd9     MOVFF     0xfd9,0xfe9      while ((UINT16)stackPtr <= 0xEBFu)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa8   ffe9                                                                                                               
003faa   cfda     MOVFF     0xfda,0xfea                                                                                     
003fac   ffea                                                                                                               
003fae   0ebf     MOVLW     0xbf                                                                                            
003fb0   80d8     BSF       0xd8,0x0,0x0                                                                                    
003fb2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003fb4   0e0e     MOVLW     0xe                                                                                             
003fb6   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
003fb8   e30b     BNC       0x3fd0                                                                                          
003fce   d7eb     BRA       0x3fa6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fba   cfde     MOVFF     0xfde,0xfe9        *stackPtr = 0xEE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fbc   ffe9                                                                                                               
003fbe   cfdd     MOVFF     0xfdd,0xfea                                                                                     
003fc0   ffea                                                                                                               
003fc2   0eee     MOVLW     0xee                                                                                            
003fc4   6eef     MOVWF     0xef,0x0                                                                                        
003fc6   2adf     INCF      0xdf,0x1,0x0       stackPtr++;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc8   0e01     MOVLW     0x1                                                                                             
003fca   e301     BNC       0x3fce                                                                                          
003fcc   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd0   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003fd4   e202     BC        0x3fda                                                                                          
003fd6   6ae1     CLRF      0xe1,0x0                                                                                        
003fd8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003fda   6ee1     MOVWF     0xe1,0x0                                                                                        
003fdc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003fde   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003fe0   ffd9                                                                                                               
003fe2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Walk backwards in the stack RAM section looking of 0xEEs. When we stop        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // seeing them, then we know that's the highest value of the stack to this point. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Print that location out.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe4   ec51     CALL      0x66a2,0x0     void check_high_water(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe6   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 nib2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe8   0ebf     MOVLW     0xbf             UINT8 * stackPtr = (UINT8 *)0xEBF;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fea   6ef3     MOVWF     0xf3,0x0                                                                                        
003fec   0e01     MOVLW     0x1                                                                                             
003fee   cff3     MOVFF     0xff3,0xfdb                                                                                     
003ff0   ffdb                                                                                                               
003ff2   0e0e     MOVLW     0xe                                                                                             
003ff4   6ef3     MOVWF     0xf3,0x0                                                                                        
003ff6   0e02     MOVLW     0x2                                                                                             
003ff8   cff3     MOVFF     0xff3,0xfdb                                                                                     
003ffa   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ffc   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts off                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ffe   0e01     MOVLW     0x1              while (*stackPtr == 0xEE)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004000   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004002   ffe9                                                                                                               
004004   0e02     MOVLW     0x2                                                                                             
004006   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004008   ffea                                                                                                               
00400a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00400c   08ee     SUBLW     0xee                                                                                            
00400e   e106     BNZ       0x401c                                                                                          
00401a   d7f1     BRA       0x3ffe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004010   0e01     MOVLW     0x1                stackPtr--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004012   06db     DECF      0xdb,0x1,0x0                                                                                    
004014   0e02     MOVLW     0x2                                                                                             
004016   e2f3     BC        0x3ffe                                                                                          
004018   06db     DECF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401c   ec1f     CALL      0x643e,0x0       if ((UINT16)stackPtr > gStackHighWater)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401e   f032                                                                                                               
004020   0100     MOVLB     0x0                                                                                             
004022   504e     MOVF      0x4e,0x0,0x0                                                                                    
004024   5de0     SUBWF     0xe0,0x0,0x1                                                                                    
004026   504f     MOVF      0x4f,0x0,0x0                                                                                    
004028   59e1     SUBWFB    0xe1,0x0,0x1                                                                                    
00402a   e206     BC        0x4038                                                                                          
00643e   0e01     MOVLW     0x1                                                                                             
006440   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006442   f04e                                                                                                               
006444   0e02     MOVLW     0x2                                                                                             
006446   cfdb     MOVFF     0xfdb,0x4f                                                                                      
006448   f04f                                                                                                               
00644a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402c   0e01     MOVLW     0x1                gStackHighWater = (UINT16)stackPtr;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402e   cfdb     MOVFF     0xfdb,0xe0                                                                                      
004030   f0e0                                                                                                               
004032   0e02     MOVLW     0x2                                                                                             
004034   cfdb     MOVFF     0xfdb,0xe1                                                                                      
004036   f0e1                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004038   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00403a   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00403c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00403e   e202     BC        0x4044                                                                                          
004040   6ae1     CLRF      0xe1,0x0                                                                                        
004042   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004044   6ee1     MOVWF     0xe1,0x0                                                                                        
004046   ef1d     GOTO      0x623a                                                                                          
004048   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///////                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404a   ec5d     CALL      0x66ba,0x0     void UserInit(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404c   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of 3 digital inputs                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404e   6a89     CLRF      0x89,0x0         LATA = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004050   6892     SETF      0x92,0x0         TRISA = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn all analog inputs into digital inputs                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON1 = 0x0F;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off the ADC                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON0bits.ADON = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off our own idea of how many analog channels to convert                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004052   0100     MOVLB     0x0              AnalogEnabledChannels = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004054   6ba1     CLRF      0xa1,0x1                                                                                        
004056   6ba2     CLRF      0xa2,0x1                                                                                        
                                             // Make all of PORTB inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004058   6a8a     CLRF      0x8a,0x0         LATB = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405a   6893     SETF      0x93,0x0         TRISB = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of PORTC inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405c   6a8b     CLRF      0x8b,0x0         LATC = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405e   6894     SETF      0x94,0x0         TRISC = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize LED I/Os to outputs                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004060   968c     BCF       0x8c,0x3,0x0     mInitAllLEDs();                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004062   948c     BCF       0x8c,0x2,0x0                                                                                    
004064   9695     BCF       0x95,0x3,0x0                                                                                    
004066   9495     BCF       0x95,0x2,0x0                                                                                    
                                             // Initialize switch as an input                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004068   8e92     BSF       0x92,0x7,0x0     mInitSwitch();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Start off always using "OK" acknowledge.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406a   0e01     MOVLW     0x1              g_ack_enable = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406c   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This has been missing for a long time and created problems on boot if not   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // set to zero.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406e   6b97     CLRF      0x97,0x1         error_byte = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize all of the ISR FIFOs                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004070   6b95     CLRF      0x95,0x1         ISR_A_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004072   6b94     CLRF      0x94,0x1         ISR_A_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004074   6b96     CLRF      0x96,0x1         ISR_A_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004076   6b90     CLRF      0x90,0x1         ISR_D_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004078   6b8f     CLRF      0x8f,0x1         ISR_D_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407a   6b91     CLRF      0x91,0x1         ISR_D_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make sure that our timer stuff starts out disabled                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407c   6b8d     CLRF      0x8d,0x1         ISR_D_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407e   6b8e     CLRF      0x8e,0x1                                                                                        
004080   6b92     CLRF      0x92,0x1         ISR_A_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004082   6b93     CLRF      0x93,0x1                                                                                        
004084   6b9b     CLRF      0x9b,0x1         D_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004086   6b9c     CLRF      0x9c,0x1                                                                                        
004088   6b9d     CLRF      0x9d,0x1         A_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408a   6b9e     CLRF      0x9e,0x1                                                                                        
00408c   6b9f     CLRF      0x9f,0x1         A_cur_channel = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now init our registers                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize Timer4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The prescaler will be at 16                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408e   8276     BSF       0x76,0x1,0x0     T4CONbits.T4CKPS1 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004090   8076     BSF       0x76,0x0,0x0     T4CONbits.T4CKPS0 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We want the TMR4 post scaler to be a 3                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004092   9c76     BCF       0x76,0x6,0x0     T4CONbits.T4OUTPS3 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004094   9a76     BCF       0x76,0x5,0x0     T4CONbits.T4OUTPS2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004096   8876     BSF       0x76,0x4,0x0     T4CONbits.T4OUTPS1 = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004098   9676     BCF       0x76,0x3,0x0     T4CONbits.T4OUTPS0 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set our reload value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409a   0efa     MOVLW     0xfa             PR4 = kPR4_RELOAD;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409c   6e77     MOVWF     0x77,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up the Analog to Digital converter                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the FIFO data                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409e   6ade     CLRF      0xde,0x0         for (i = 0; i < 16u; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a0   6add     CLRF      0xdd,0x0                                                                                        
0040a2   ece2     CALL      0x63c4,0x0                                                                                      
0040a4   f031                                                                                                               
0040a6   0e10     MOVLW     0x10                                                                                            
0040a8   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0040aa   0e00     MOVLW     0x0                                                                                             
0040ac   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0040ae   e213     BC        0x40d6                                                                                          
0040cc   2adf     INCF      0xdf,0x1,0x0                                                                                    
0040ce   0e01     MOVLW     0x1                                                                                             
0040d0   e3e8     BNC       0x40a2                                                                                          
0040d2   2adb     INCF      0xdb,0x1,0x0                                                                                    
0040d4   d7e6     BRA       0x40a2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040b0   ece7     CALL      0x63ce,0x0         ISR_A_FIFO[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040b2   f031                                                                                                               
0040b4   0e01     MOVLW     0x1                                                                                             
0040b6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0040b8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0040ba   36ea     RLCF      0xea,0x1,0x0                                                                                    
0040bc   06e8     DECF      0xe8,0x1,0x0                                                                                    
0040be   e1fb     BNZ       0x40b6                                                                                          
0040c0   0e00     MOVLW     0x0                                                                                             
0040c2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0040c4   0e01     MOVLW     0x1                                                                                             
0040c6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0040c8   6aee     CLRF      0xee,0x0                                                                                        
0040ca   6aed     CLRF      0xed,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize USB TX and RX buffer management                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d6   0100     MOVLB     0x0              g_RX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d8   6bca     CLRF      0xca,0x1                                                                                        
0040da   6bcb     CLRF      0xcb,0x1         g_RX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040dc   6bc8     CLRF      0xc8,0x1         g_TX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040de   6bc9     CLRF      0xc9,0x1         g_TX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e0   6ade     CLRF      0xde,0x0         for (i=0; i < kTX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e2   6add     CLRF      0xdd,0x0                                                                                        
0040e4   ecee     CALL      0x65dc,0x0                                                                                      
0040e6   f032                                                                                                               
0040e8   e20a     BC        0x40fe                                                                                          
0040f8   e3f5     BNC       0x40e4                                                                                          
0040fa   2adb     INCF      0xdb,0x1,0x0                                                                                    
0040fc   d7f3     BRA       0x40e4                                                                                          
0065dc   def3     RCALL     0x63c4                                                                                          
0065de   0e40     MOVLW     0x40                                                                                            
0065e0   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0065e2   0e00     MOVLW     0x0                                                                                             
0065e4   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0065e6   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ea   ece7     CALL      0x63ce,0x0         g_TX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ec   f031                                                                                                               
0040ee   0e00     MOVLW     0x0                                                                                             
0040f0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0040f2   0e02     MOVLW     0x2                                                                                             
0040f4   ec49     CALL      0x6492,0x0                                                                                      
0040f6   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040fe   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_COMMAND_BUF_SIZE; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004100   6add     CLRF      0xdd,0x0                                                                                        
004102   ecee     CALL      0x65dc,0x0                                                                                      
004104   f032                                                                                                               
004106   e20a     BC        0x411c                                                                                          
004116   e3f5     BNC       0x4102                                                                                          
004118   2adb     INCF      0xdb,0x1,0x0                                                                                    
00411a   d7f3     BRA       0x4102                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004108   ece7     CALL      0x63ce,0x0         g_RX_command_buf[i] = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00410a   f031                                                                                                               
00410c   0e40     MOVLW     0x40                                                                                            
00410e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004110   0e02     MOVLW     0x2                                                                                             
004112   ec49     CALL      0x6492,0x0                                                                                      
004114   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411c   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411e   6add     CLRF      0xdd,0x0                                                                                        
004120   ece2     CALL      0x63c4,0x0                                                                                      
004122   f031                                                                                                               
004124   0e00     MOVLW     0x0                                                                                             
004126   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004128   0e01     MOVLW     0x1                                                                                             
00412a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00412c   e20a     BC        0x4142                                                                                          
00413c   e3f1     BNC       0x4120                                                                                          
00413e   2adb     INCF      0xdb,0x1,0x0                                                                                    
004140   d7ef     BRA       0x4120                                                                                          
006496   2adf     INCF      0xdf,0x1,0x0                                                                                    
006498   0e01     MOVLW     0x1                                                                                             
00649a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00412e   ece7     CALL      0x63ce,0x0         g_RX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004130   f031                                                                                                               
004132   0e00     MOVLW     0x0                                                                                             
004134   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004136   0e03     MOVLW     0x3                                                                                             
004138   ec49     CALL      0x6492,0x0                                                                                      
00413a   f032                                                                                                               
006492   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006494   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And the USART TX and RX buffer management                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004142   0100     MOVLB     0x0              g_USART_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004144   6bcc     CLRF      0xcc,0x1                                                                                        
004146   6bcd     CLRF      0xcd,0x1         g_USART_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004148   6bce     CLRF      0xce,0x1         g_USART_TX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414a   6bcf     CLRF      0xcf,0x1         g_USART_TX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the RC servo output pointer values                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414c   6b98     CLRF      0x98,0x1         g_RC_primed_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414e   6b99     CLRF      0x99,0x1         g_RC_next_ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004150   6b9a     CLRF      0x9a,0x1         g_RC_timing_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on band-gap                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004152   010f     MOVLB     0xf              ANCON1bits.VBGEN = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004154   8f49     BSF       0x49,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up ADCON1 options                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A/D Result right justified                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Normal A/D (no calibration)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Acq time = 20 Tad (?)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Tad = Fosc/64                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004156   0ebe     MOVLW     0xbe             ADCON1 = 0b10111110;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004158   6ec1     MOVWF     0xc1,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Enable interrupt priorities                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415a   8ed0     BSF       0xd0,0x7,0x0     RCONbits.IPEN = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415c   9476     BCF       0x76,0x2,0x0     T4CONbits.TMR4ON = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415e   86a3     BSF       0xa3,0x3,0x0     PIE3bits.TMR4IE = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004160   96a5     BCF       0xa5,0x3,0x0     IPR3bits.TMR4IP = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Call the ebb init function to setup whatever it needs                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004162   ec9e     CALL      0x193c,0x0       EBB_Init();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004164   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004166   ec53     CALL      0x78a6,0x0       RCServo2_Init();                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004168   f03c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00416a   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00416c   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on the Timer4                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00416e   8476     BSF       0x76,0x2,0x0     T4CONbits.TMR4ON = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If there's a name in FLASH for us, copy it over to the USB Device           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor before we enumerate                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004170   ecb5     CALL      0x5b6a,0x0       populateDeviceStringWithName();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004172   f02d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out limit switch variables                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004174   0100     MOVLB     0x0              gLimitSwitchPortB = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004176   6bdc     CLRF      0xdc,0x1                                                                                        
004178   6bdd     CLRF      0xdd,0x1         gLimitSwitchReplies = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417a   6bde     CLRF      0xde,0x1         gLimitSwitchReplyPrinted = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417c   6bdf     CLRF      0xdf,0x1         gCommandChecksumRequired = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417e   6a0e     CLRF      0xe,0x0          gLimitSwitchTriggered = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out pulse variables                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulsesOn = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[1] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[2] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[3] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[1] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[2] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[3] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[2] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[3] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004180   6bd1     CLRF      0xd1,0x1         gRCServoPoweroffCounterMS = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004182   6bd2     CLRF      0xd2,0x1                                                                                        
004184   6bd3     CLRF      0xd3,0x1                                                                                        
004186   6bd4     CLRF      0xd4,0x1                                                                                        
004188   0e60     MOVLW     0x60             gRCServoPoweroffCounterReloadMS = RCSERVO_POWEROFF_DEFAULT_MS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00418a   6fd5     MOVWF     0xd5,0x1                                                                                        
00418c   0eea     MOVLW     0xea                                                                                            
00418e   6fd6     MOVWF     0xd6,0x1                                                                                        
004190   6bd7     CLRF      0xd7,0x1                                                                                        
004192   6bd8     CLRF      0xd8,0x1                                                                                        
004194   0e01     MOVLW     0x1              gAutomaticMotorEnable = TRUE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004196   6fd9     MOVWF     0xd9,0x1                                                                                        
004198   6be0     CLRF      0xe0,0x1         gStackHighWater = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419a   6be1     CLRF      0xe1,0x1                                                                                        
00419c   6ba5     CLRF      0xa5,0x1         g_PowerMonitorThresholdADC = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419e   6ba6     CLRF      0xa6,0x1                                                                                        
0041a0   6ba9     CLRF      0xa9,0x1         g_StepperDisableTimeoutS = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a2   6baa     CLRF      0xaa,0x1                                                                                        
0041a4   6bab     CLRF      0xab,0x1         g_StepperDisableSecondCounter = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a6   6bac     CLRF      0xac,0x1                                                                                        
0041a8   6bad     CLRF      0xad,0x1         g_StepperDisableCountdownS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041aa   6bae     CLRF      0xae,0x1                                                                                        
0041ac   6ba8     CLRF      0xa8,0x1         g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ae   6ba7     CLRF      0xa7,0x1         g_PowerDropDetected = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041b0   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041b2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0041b4   e202     BC        0x41ba                                                                                          
0041b6   6ae1     CLRF      0xe1,0x0                                                                                        
0041b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041ba   6ee1     MOVWF     0xe1,0x0                                                                                        
0041bc   ef1d     GOTO      0x623a                                                                                          
0041be   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void ProcessIO(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        In this function, we check for a new packet that just        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  arrived via USB. We do a few checks on the packet to see     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  if it is worthy of us trying to interpret it. If it is,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  we go and call the proper function based upon the first      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  character of the packet.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  NOTE: We need to see everything in one packet (i.e. we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  won't treat the USB data as a stream and try to find our     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  start and end of packets within the stream. We just look     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  at the first character of each packet for a command and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  check that there's a CR as the last character of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  packet.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c0   ec18     CALL      0x6230,0x0     void ProcessIO(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c2   f031                                                                                                               
0041c4   0e05     MOVLW     0x5                                                                                             
0041c6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BOOL in_cr = FALSE;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BYTE last_fifo_size;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char button_state = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned int button_ctr = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             BYTE i;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c8   ec26     CALL      0x644c,0x0       BOOL done = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ca   f032                                                                                                               
00644c   0e01     MOVLW     0x1                                                                                             
00644e   6adb     CLRF      0xdb,0x0                                                                                        
006450   0e02     MOVLW     0x2              unsigned char rx_bytes = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006452   6adb     CLRF      0xdb,0x0                                                                                        
006454   0e03     MOVLW     0x3              unsigned char byte_cnt = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006456   6adb     CLRF      0xdb,0x0                                                                                        
006458   0012     RETURN    0x0                                                                                             
                                             unsigned char tst_char;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041cc   ec32     CALL      0x6064,0x0       BlinkUSBStatus();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ce   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any new I packets (from T command) ready to go out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d0   0100     MOVLB     0x0              while (ISR_D_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d2   5191     MOVF      0x91,0x0,0x1                                                                                    
0041d4   0800     SUBLW     0x0                                                                                             
0041d6   e20a     BC        0x41ec                                                                                          
0041ea   d7f2     BRA       0x41d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an I packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d8   ec49     CALL      0x5492,0x0         parse_I_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041da   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our I packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041dc   0100     MOVLB     0x0                ISR_D_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041de   2b90     INCF      0x90,0x1,0x1                                                                                    
0041e0   0e03     MOVLW     0x3                if (ISR_D_FIFO_out == kISR_FIFO_D_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e2   5d90     SUBWF     0x90,0x0,0x1                                                                                    
0041e4   e101     BNZ       0x41e8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e6   6b90     CLRF      0x90,0x1             ISR_D_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e8   0791     DECF      0x91,0x1,0x1       ISR_D_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for a new A packet (from T command) ready to go out                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ec   5196     MOVF      0x96,0x0,0x1     while (ISR_A_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ee   0800     SUBLW     0x0                                                                                             
0041f0   e20a     BC        0x4206                                                                                          
004204   d7f3     BRA       0x41ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an A packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f2   ec66     CALL      0x54cc,0x0         parse_A_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f4   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our A packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f6   0100     MOVLB     0x0                ISR_A_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f8   2b95     INCF      0x95,0x1,0x1                                                                                    
0041fa   0e03     MOVLW     0x3                if (ISR_A_FIFO_out == kISR_FIFO_A_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fc   5d95     SUBWF     0x95,0x0,0x1                                                                                    
0041fe   e101     BNZ       0x4202                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004200   6b95     CLRF      0x95,0x1             ISR_A_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004202   0796     DECF      0x96,0x1,0x1       ISR_A_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail from here if we're not 'plugged in' to a PC or we're suspended         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if(                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004206   0e20     MOVLW     0x20               (USBDeviceState < CONFIGURED_STATE)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004208   0105     MOVLB     0x5                                                                                             
00420a   6ee7     MOVWF     0xe7,0x0                                                                                        
00420c   19bc     XORWF     0xbc,0x0,0x1                                                                                    
00420e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
004210   d002     BRA       0x4216                                                                                          
004212   34e7     RLCF      0xe7,0x0,0x0                                                                                    
004214   d002     BRA       0x421a                                                                                          
004216   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004218   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (USBSuspendControl == 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421a   e201     BC        0x421e           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421c   d0e5     BRA       0x43e8                                                                                          
00421e   5065     MOVF      0x65,0x0,0x0                                                                                    
004220   0b02     ANDLW     0x2                                                                                             
004222   e001     BZ        0x4226                                                                                          
004224   d0e1     BRA       0x43e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Pull in some new data if there is new data to pull in                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And we aren't waiting for the current move to finish                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004226   0e40     MOVLW     0x40             rx_bytes = getsUSBUSART((char *)g_RX_command_buf, kRX_COMMAND_BUF_SIZE);       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004228   6ee6     MOVWF     0xe6,0x0                                                                                        
00422a   0e40     MOVLW     0x40                                                                                            
00422c   6ee6     MOVWF     0xe6,0x0                                                                                        
00422e   0e02     MOVLW     0x2                                                                                             
004230   6ee6     MOVWF     0xe6,0x0                                                                                        
004232   ecdc     CALL      0x7db8,0x0                                                                                      
004234   f03e                                                                                                               
004236   ec59     CALL      0x66b2,0x0                                                                                      
004238   f033                                                                                                               
00423a   6ee7     MOVWF     0xe7,0x0                                                                                        
00423c   0e02     MOVLW     0x2                                                                                             
00423e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004240   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004242   50db     MOVF      0xdb,0x0,0x0     if (rx_bytes > 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004244   0800     SUBLW     0x0                                                                                             
004246   e274     BC        0x4330                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004248   0e03     MOVLW     0x3                for (byte_cnt = 0; byte_cnt < rx_bytes; byte_cnt++)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424a   6adb     CLRF      0xdb,0x0                                                                                        
00424c   0e02     MOVLW     0x2                                                                                             
00424e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004250   6ef3     MOVWF     0xf3,0x0                                                                                        
004252   0e03     MOVLW     0x3                                                                                             
004254   ecec     CALL      0x63d8,0x0                                                                                      
004256   f031                                                                                                               
004258   e26b     BC        0x4330                                                                                          
00432a   0e03     MOVLW     0x3                                                                                             
00432c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00432e   d78e     BRA       0x424c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00425a   0e03     MOVLW     0x3                  tst_char = g_RX_command_buf[byte_cnt];                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00425c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00425e   6aea     CLRF      0xea,0x0                                                                                        
004260   0f40     ADDLW     0x40                                                                                            
004262   6ee9     MOVWF     0xe9,0x0                                                                                        
004264   0e02     MOVLW     0x2                                                                                             
004266   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004268   0e04     MOVLW     0x4                                                                                             
00426a   cfef     MOVFF     0xfef,0xfdb                                                                                     
00426c   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00426e   a809     BTFSS     0x9,0x4,0x0          if (bittst(TestMode, TEST_MODE_USART_COMMAND_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004270   d005     BRA       0x427c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004272   cfdb     MOVFF     0xfdb,0xfe6            Write1USART(tst_char);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004274   ffe6                                                                                                               
004276   ec42     CALL      0x8e84,0x0                                                                                      
004278   f047                                                                                                               
00427a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check to see if we are in a CR/LF situation                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427c   0101     MOVLB     0x1                    !in_cr                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427e   5178     MOVF      0x78,0x0,0x1                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   (                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004282   0e0d     MOVLW     0xd                      kCR == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004284   6e4e     MOVWF     0x4e,0x0                                                                                        
004286   0e04     MOVLW     0x4                                                                                             
004288   50db     MOVF      0xdb,0x0,0x0                                                                                    
00428a   5c4e     SUBWF     0x4e,0x0,0x0             ||                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00428e   0e0a     MOVLW     0xa                      kLF == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004290   6e4f     MOVWF     0x4f,0x0                                                                                        
004292   0e04     MOVLW     0x4                                                                                             
004294   50db     MOVF      0xdb,0x0,0x0                                                                                    
00428c   e006     BZ        0x429a                 )                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004296   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
004298   e111     BNZ       0x42bc                                                                                          
004280   e11d     BNZ       0x42bc               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429a   0e01     MOVLW     0x1                    in_cr = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429c   6f78     MOVWF     0x78,0x1                                                                                        
00429e   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = kCR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a0   ec06     CALL      0x640c,0x0                                                                                      
0042a2   f032                                                                                                               
0042a4   0e0d     MOVLW     0xd                                                                                             
0042a6   6eef     MOVWF     0xef,0x0                                                                                        
0042a8   2bca     INCF      0xca,0x1,0x1           g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // At this point, we know we have a full packet                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // of information from the PC to parse                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, if we've gotten a full command (user send <CR>) then             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // go call the code that deals with that command, and then               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // keep parsing. (This allows multiple small commands per packet)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042aa   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ac   808b     BSF       0x8b,0x0,0x0             LATCbits.LATC0 = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ae   d8f9     RCALL     0x44a2                 parse_packet();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b0   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b2   908b     BCF       0x8b,0x0,0x0             LATCbits.LATC0 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b4   0100     MOVLB     0x0                    g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b6   6bca     CLRF      0xca,0x1                                                                                        
0042b8   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ba   d02a     BRA       0x4310               else if (tst_char == 8u && g_RX_buf_in > 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042bc   0e04     MOVLW     0x4                                                                                             
0042be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042c0   0808     SUBLW     0x8                                                                                             
0042c2   e10e     BNZ       0x42e0                                                                                          
0042c4   0100     MOVLB     0x0                                                                                             
0042c6   51ca     MOVF      0xca,0x0,0x1                                                                                    
0042c8   0800     SUBLW     0x0                                                                                             
0042ca   e20a     BC        0x42e0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Handle the backspace thing                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042cc   07ca     DECF      0xca,0x1,0x1           g_RX_buf_in--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ce   ec06     CALL      0x640c,0x0             g_RX_buf[g_RX_buf_in] = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d0   f032                                                                                                               
0042d2   6aef     CLRF      0xef,0x0                                                                                        
0042d4   0e5a     MOVLW     0x5a                   ebb_print((far rom char *)" \b");                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d6   6e4e     MOVWF     0x4e,0x0                                                                                        
0042d8   0e83     MOVLW     0x83                                                                                            
0042da   ecfc     CALL      0x61f8,0x0                                                                                      
0042dc   f030                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042de   d018     BRA       0x4310               else if (                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e0   0e04     MOVLW     0x4                    tst_char != kCR                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042e4   080d     SUBLW     0xd                    &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e8   0e04     MOVLW     0x4                    tst_char != kLF                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ea   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042e6   e014     BZ        0x4310                 &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ec   080a     SUBLW     0xa                                                                                             
0042ee   e010     BZ        0x4310                                                                                          
0042f0   0e20     MOVLW     0x20                   tst_char >= 32u                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f2   6ef3     MOVWF     0xf3,0x0             )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f4   0e04     MOVLW     0x4                                                                                             
0042f6   ecec     CALL      0x63d8,0x0                                                                                      
0042f8   f031                                                                                                               
0042fa   e30a     BNC       0x4310                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only add a byte if it is not a CR or LF                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fc   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = tst_char;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fe   ec06     CALL      0x640c,0x0                                                                                      
004300   f032                                                                                                               
004302   0e04     MOVLW     0x4                                                                                             
004304   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004306   ffef                                                                                                               
00640c   51ca     MOVF      0xca,0x0,0x1                                                                                    
00640e   ef90     GOTO      0x6520                                                                                          
006410   f032                                                                                                               
006520   6aea     CLRF      0xea,0x0                                                                                        
006522   0f00     ADDLW     0x0                                                                                             
006524   6ee9     MOVWF     0xe9,0x0                                                                                        
006526   0e03     MOVLW     0x3                                                                                             
006528   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00652a   0012     RETURN    0x0                                                                                             
004308   0101     MOVLB     0x1                    in_cr = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430a   6b78     CLRF      0x78,0x1                                                                                        
00430c   0100     MOVLB     0x0                    g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430e   2bca     INCF      0xca,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check for buffer wraparound                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004310   0100     MOVLB     0x0                  if (kRX_BUF_SIZE == g_RX_buf_in)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004312   51ca     MOVF      0xca,0x0,0x1                                                                                    
004314   6e4e     MOVWF     0x4e,0x0                                                                                        
004316   6a4f     CLRF      0x4f,0x0                                                                                        
004318   0e00     MOVLW     0x0                                                                                             
00431a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00431c   e106     BNZ       0x432a                                                                                          
00431e   0e01     MOVLW     0x1                                                                                             
004320   184f     XORWF     0x4f,0x0,0x0                                                                                    
004322   e103     BNZ       0x432a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004324   8797     BSF       0x97,0x3,0x1           bitset(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004326   6bca     CLRF      0xca,0x1               g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004328   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any errors logged in error_byte that need to be sent out          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004330   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004332   5197     MOVF      0x97,0x0,0x1                                                                                    
004334   e039     BZ        0x43a8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004336   a197     BTFSS     0x97,0x0,0x1       if (bittstzero(error_byte))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004338   d005     BRA       0x4344                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00433a   0e56     MOVLW     0x56                 ebb_print((far rom char *)"!0 ");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00433c   6e4e     MOVWF     0x4e,0x0                                                                                        
00433e   0e83     MOVLW     0x83                                                                                            
004340   ec88     CALL      0x6510,0x0                                                                                      
004342   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004344   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_STEPS_TO_FAST))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004346   a397     BTFSS     0x97,0x1,0x1                                                                                    
004348   d005     BRA       0x4354                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Unused as of yet                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00434a   0e39     MOVLW     0x39                 ebb_print((far rom char *)"!1 Err: Can't step that fast");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00434c   6e4e     MOVWF     0x4e,0x0                                                                                        
00434e   0e83     MOVLW     0x83                                                                                            
004350   ec88     CALL      0x6510,0x0                                                                                      
004352   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004354   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_TX_BUF_OVERRUN))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004356   a597     BTFSS     0x97,0x2,0x1                                                                                    
004358   d005     BRA       0x4364                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435a   0e1f     MOVLW     0x1f                 ebb_print((far rom char *)"!2 Err: TX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435c   6e4e     MOVWF     0x4e,0x0                                                                                        
00435e   0e83     MOVLW     0x83                                                                                            
004360   ec88     CALL      0x6510,0x0                                                                                      
004362   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004364   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004366   a797     BTFSS     0x97,0x3,0x1                                                                                    
004368   d005     BRA       0x4374                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436a   0e05     MOVLW     0x5                  ebb_print((far rom char *)"!3 Err: RX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436c   6e4e     MOVWF     0x4e,0x0                                                                                        
00436e   0e83     MOVLW     0x83                                                                                            
004370   ec88     CALL      0x6510,0x0                                                                                      
004372   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004374   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_MISSING_PARAMETER))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004376   a997     BTFSS     0x97,0x4,0x1                                                                                    
004378   d005     BRA       0x4384                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437a   0ee8     MOVLW     0xe8                 ebb_print((far rom char *)"!4 Err: Missing parameter(s)");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437c   6e4e     MOVWF     0x4e,0x0                                                                                        
00437e   0e82     MOVLW     0x82                                                                                            
004380   ec88     CALL      0x6510,0x0                                                                                      
004382   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004384   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_PRINTED_ERROR))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We don't need to do anything since something has already been printed out D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //printf ((rom char *)"!5");                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004386   ad97     BTFSS     0x97,0x6,0x1       if (bittst(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004388   d005     BRA       0x4394                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438a   0ec8     MOVLW     0xc8                 ebb_print((far rom char *)"!6 Err: Invalid parameter value");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438c   6e4e     MOVWF     0x4e,0x0                                                                                        
00438e   0e82     MOVLW     0x82                                                                                            
004390   ec88     CALL      0x6510,0x0                                                                                      
004392   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004394   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_EXTRA_CHARACTERS))                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004396   af97     BTFSS     0x97,0x7,0x1                                                                                    
004398   d005     BRA       0x43a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439a   0eb0     MOVLW     0xb0                 ebb_print((far rom char *)"!7 Err: Extra parameter");                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439c   6e4e     MOVWF     0x4e,0x0                                                                                        
00439e   0e82     MOVLW     0x82                                                                                            
0043a0   ec88     CALL      0x6510,0x0                                                                                      
0043a2   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a4   0100     MOVLB     0x0                error_byte = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a6   6b97     CLRF      0x97,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we need to print out a "Limit switch triggered" packet to the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a8   51dd     MOVF      0xdd,0x0,0x1     if (gLimitSwitchReplies)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043aa   e01d     BZ        0x43e6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ac   0e01     MOVLW     0x1                if (bittstzero(gLimitSwitchTriggered) && !gLimitSwitchReplyPrinted)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ae   140e     ANDWF     0xe,0x0,0x0                                                                                     
0043b0   e014     BZ        0x43da                                                                                          
0043b2   51de     MOVF      0xde,0x0,0x1                                                                                    
0043b4   e112     BNZ       0x43da                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b6   0e91     MOVLW     0x91                 ebb_print((far rom char *)"Limit switch triggered. PortB=");               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b8   6e4e     MOVWF     0x4e,0x0                                                                                        
0043ba   0e82     MOVLW     0x82                                                                                            
0043bc   ecfc     CALL      0x61f8,0x0                                                                                      
0043be   f030                                                                                                               
                                                 // We want 2 characters of hex                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c0   0e02     MOVLW     0x2                  ebb_print_hex(gLimitSwitchPortB, 2);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0043c4   c0dc     MOVFF     0xdc,0x4e                                                                                       
0043c6   f04e                                                                                                               
0043c8   6a4f     CLRF      0x4f,0x0                                                                                        
0043ca   ec21     CALL      0x6242,0x0                                                                                      
0043cc   f031                                                                                                               
0043ce   ec06     CALL      0x620c,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d0   f031                                                                                                               
0043d2   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d4   0e01     MOVLW     0x1                                                                                             
0043d6   6fde     MOVWF     0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d8   d006     BRA       0x43e6             else if (!bittstzero(gLimitSwitchTriggered) && gLimitSwitchReplyPrinted)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043da   0e01     MOVLW     0x1                                                                                             
0043dc   140e     ANDWF     0xe,0x0,0x0                                                                                     
0043de   e103     BNZ       0x43e6                                                                                          
0043e0   51de     MOVF      0xde,0x0,0x1                                                                                    
0043e2   e001     BZ        0x43e6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e4   6bde     CLRF      0xde,0x1             gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Go send any data that needs sending to PC                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e6   d837     RCALL     0x4456           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e8   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ea   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0043ec   e202     BC        0x43f2                                                                                          
0043ee   6ae1     CLRF      0xe1,0x0                                                                                        
0043f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0043f2   6ee1     MOVWF     0xe1,0x0                                                                                        
0043f4   ef1d     GOTO      0x623a                                                                                          
0043f6   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This is our replacement for the standard putc routine                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This enables ebb_print() and all related functions to print to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the USB output (i.e. to the PC) buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f8   ecb6     CALL      0x656c,0x0     int ebb_putc(char c)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fa   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fc   c0c8     MOVFF     0xc8,0xfdf       BYTE OldPtr = g_TX_buf_in;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fe   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if adding this byte will cause us to be full                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004400   2adf     INCF      0xdf,0x1,0x0     OldPtr++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004402   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == OldPtr)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004404   ec5a     CALL      0x62b4,0x0                                                                                      
004406   f031                                                                                                               
004408   e101     BNZ       0x440c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440a   6adf     CLRF      0xdf,0x0           OldPtr = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If so, then wait until some bytes go away first and make room               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440c   0100     MOVLB     0x0              if (OldPtr == g_TX_buf_out)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440e   51c9     MOVF      0xc9,0x0,0x1                                                                                    
004410   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
004412   e101     BNZ       0x4416                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004414   d820     RCALL     0x4456             check_and_send_TX_data();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Copy the character into the output buffer                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004416   0100     MOVLB     0x0              g_TX_buf[g_TX_buf_in] = c;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004418   51c8     MOVF      0xc8,0x0,0x1                                                                                    
00441a   6aea     CLRF      0xea,0x0                                                                                        
00441c   0f00     ADDLW     0x0                                                                                             
00441e   6ee9     MOVWF     0xe9,0x0                                                                                        
004420   0e02     MOVLW     0x2                                                                                             
004422   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004424   0efe     MOVLW     0xfe                                                                                            
004426   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004428   ffef                                                                                                               
00442a   2bc8     INCF      0xc8,0x1,0x1     g_TX_buf_in++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for wrap around                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442c   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442e   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
004430   e101     BNZ       0x4434                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004432   6bc8     CLRF      0xc8,0x1           g_TX_buf_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Also check to see if we bumped up against our output pointer                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004434   51c9     MOVF      0xc9,0x0,0x1     if (g_TX_buf_in == g_TX_buf_out)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004436   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
004438   e101     BNZ       0x443c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443a   8597     BSF       0x97,0x2,0x1       bitset(error_byte, kERROR_BYTE_TX_BUF_OVERRUN);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443c   0efe     MOVLW     0xfe             return(c);                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443e   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004440   f04e                                                                                                               
004442   6a4f     CLRF      0x4f,0x0                                                                                        
004444   be4e     BTFSC     0x4e,0x7,0x0                                                                                    
004446   684f     SETF      0x4f,0x0                                                                                        
004448   c04e     MOVFF     0x4e,0xff3                                                                                      
00444a   fff3                                                                                                               
00444c   c04f     MOVFF     0x4f,0xff4                                                                                      
00444e   fff4                                                                                                               
004450   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004452   ef1d     GOTO      0x623a                                                                                          
004454   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In this function, we check to see if we have anything to transmit.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so then we schedule the data for sending.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004456   ecb6     CALL      0x656c,0x0     void check_and_send_TX_data(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004458   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             char temp;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only send if there's something there to send                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445a   0100     MOVLB     0x0              if (g_TX_buf_out != g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445c   51c8     MOVF      0xc8,0x0,0x1                                                                                    
00445e   5dc9     SUBWF     0xc9,0x0,0x1                                                                                    
004460   e01d     BZ        0x449c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yes, Microchip says not to do this. We'll be blocking                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // here until there's room in the USB stack to send                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // something new. But without making our buffers huge,                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // I don't know how else to do it.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004462   0105     MOVLB     0x5                while (!USBUSARTIsTxTrfReady())                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004464   51a4     MOVF      0xa4,0x0,0x1                                                                                    
004466   e005     BZ        0x4472                                                                                          
004470   d7f8     BRA       0x4462                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004468   ec68     CALL      0x7ed0,0x0           CDCTxService();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446a   f03f                                                                                                               
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446c   ece7     CALL      0x67ce,0x0           USBDeviceTasks();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446e   f033                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now we know that the stack can transmit some new data                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now decide if we need to break it up into two parts or not                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004472   0100     MOVLB     0x0                if (g_TX_buf_in > g_TX_buf_out)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004474   51c9     MOVF      0xc9,0x0,0x1                                                                                    
004476   80d8     BSF       0xd8,0x0,0x0                                                                                    
004478   55c8     SUBFWB    0xc8,0x0,0x1                                                                                    
00447a   e207     BC        0x448a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is beyond OUT, only need one chunk                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00447c   51c9     MOVF      0xc9,0x0,0x1         temp = g_TX_buf_in - g_TX_buf_out;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00447e   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
004480   ec8d     CALL      0x631a,0x0                                                                                      
00631a   6edf                                                                                                               
004482   f031     WORD2     0x31                 putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00631c   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00631e   ffe6                                                                                                               
006320   51c9     MOVF      0xc9,0x0,0x1                                                                                    
006322   6a4f     CLRF      0x4f,0x0                                                                                        
006324   0f00     ADDLW     0x0                                                                                             
006326   6e4e     MOVWF     0x4e,0x0                                                                                        
006328   0e02     MOVLW     0x2                                                                                             
00632a   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00632c   c04e     MOVFF     0x4e,0xfe6                                                                                      
00632e   ffe6                                                                                                               
006330   c04f     MOVFF     0x4f,0xfe6                                                                                      
006332   ffe6                                                                                                               
006334   ec1b     CALL      0x7e36,0x0                                                                                      
006336   f03f                                                                                                               
006338   ef59     GOTO      0x66b2                                                                                          
00633a   f033                                                                                                               
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004484   c0c8     MOVFF     0xc8,0xc9            g_TX_buf_out = g_TX_buf_in;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004486   f0c9                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004488   d007     BRA       0x4498             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is before OUT, we need to send from OUT to the end             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // of the buffer, then the next time around we'll catch                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // from the beginning to IN.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448a   0e40     MOVLW     0x40                 temp = kTX_BUF_SIZE - g_TX_buf_out;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00448e   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
004490   ec8d     CALL      0x631a,0x0                                                                                      
004492   f031                                    putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004494   0100     MOVLB     0x0                  g_TX_buf_out = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004496   6bc9     CLRF      0xc9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004498   ec68     CALL      0x7ed0,0x0         CDCTxService();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449a   f03f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449e   ef1d     GOTO      0x623a                                                                                          
0044a0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the new packet, see what command it is, and                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // route it appropriately. We come in knowing that                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // our packet is in g_RX_buf[], and that the beginning                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the packet is at g_RX_buf_out, and the end (CR) is at                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in - 1. Note that because of buffer wrapping,                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in may be less than g_RX_buf_out.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // New for v3.0.0: if gCommandChecksumRequired is true, then look at the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the command packet for the checksum, and if it is not there or not         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // correct, error out.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a2   ec18     CALL      0x6230,0x0     void parse_packet(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a4   f031                                                                                                               
0044a6   0e09     MOVLW     0x9                                                                                             
0044a8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044aa   6ade     CLRF      0xde,0x0         UINT16 command = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ac   6add     CLRF      0xdd,0x0                                                                                        
0044ae   0e02     MOVLW     0x2              UINT8 checksum_cmd = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b0   6adb     CLRF      0xdb,0x0                                                                                        
0044b2   0e03     MOVLW     0x3              UINT8 checksum_calc = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b4   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT8 checksum_ptr;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b6   0e05     MOVLW     0x5              UINT8 checksum_len = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b8   6adb     CLRF      0xdb,0x0                                                                                        
0044ba   0e01     MOVLW     0x1              BOOL checksumOK = TRUE;   // Starts out true for no checksum case              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0044be   0e06     MOVLW     0x6                                                                                             
0044c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044c2   ffdb                                                                                                               
                                             UINT8 old_rx_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c4   0100     MOVLB     0x0              gCommand_Char1 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c6   6bda     CLRF      0xda,0x1                                                                                        
0044c8   6bdb     CLRF      0xdb,0x1         gCommand_Char2 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ca   51df     MOVF      0xdf,0x0,0x1     if (gCommandChecksumRequired)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044cc   e101     BNZ       0x44d0                                                                                          
0044ce   d08e     BRA       0x45ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d0   0e06     MOVLW     0x6                checksumOK = FALSE;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d2   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk backwards from the end of the packet, looking for the first found    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // comma, then read out                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d4   0e04     MOVLW     0x4                checksum_ptr = g_RX_buf_in;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d6   c0ca     MOVFF     0xca,0xfdb                                                                                      
0044d8   ffdb                                                                                                               
0044da   50db     MOVF      0xdb,0x0,0x0       if (checksum_ptr != 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044dc   e003     BZ        0x44e4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044de   0e04     MOVLW     0x4                  checksum_ptr--;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e0   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e2   d002     BRA       0x44e8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e4   0e04     MOVLW     0x4                  checksum_ptr = kRX_BUF_SIZE - 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e6   68db     SETF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e8   0e04     MOVLW     0x4                while ((g_RX_buf[checksum_ptr] != ',') && (checksum_len < 5u) && (checksum_ptr != g_RX_buf_out)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ea   ecc2     CALL      0x6384,0x0                                                                                      
0044ec   f031                                                                                                               
0044ee   50ef     MOVF      0xef,0x0,0x0                                                                                    
0044f0   082c     SUBLW     0x2c                                                                                            
0044f2   e016     BZ        0x4520                                                                                          
0044f4   0e05     MOVLW     0x5                                                                                             
0044f6   6ef3     MOVWF     0xf3,0x0                                                                                        
0044f8   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0044fa   fff4                                                                                                               
0044fc   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0044fe   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
004500   e20f     BC        0x4520                                                                                          
004502   0e04     MOVLW     0x4                                                                                             
004504   50db     MOVF      0xdb,0x0,0x0                                                                                    
004506   5dcb     SUBWF     0xcb,0x0,0x1                                                                                    
004508   e00b     BZ        0x4520                                                                                          
00451e   d7e4     BRA       0x44e8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00450a   0e04     MOVLW     0x4                  if (checksum_ptr != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00450c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00450e   e003     BZ        0x4516                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004510   0e04     MOVLW     0x4                    checksum_ptr--;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004512   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004514   d002     BRA       0x451a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004516   0e04     MOVLW     0x4                    checksum_ptr = kRX_BUF_SIZE - 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004518   68db     SETF      0xdb,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451a   0e05     MOVLW     0x5                  checksum_len++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If checksum_ptr isn't on a comma then there is no checksum for sure       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // so let checksumOK stay FALSE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004520   0e04     MOVLW     0x4                if (g_RX_buf[checksum_ptr] == ',')                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004522   ecc2     CALL      0x6384,0x0                                                                                      
004524   f031                                                                                                               
004526   50ef     MOVF      0xef,0x0,0x0                                                                                    
004528   082c     SUBLW     0x2c                                                                                            
00452a   e157     BNZ       0x45da                                                                                          
006384   50db     MOVF      0xdb,0x0,0x0                                                                                    
006386   ef90     GOTO      0x6520                                                                                          
006388   f032                                                                                                               
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Last parameter found, hopefully it's a checksum. Read it in.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We have to play some games with the buffer index values here            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // since we're extracting a parameter at the very end of the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // before we extract any from the beginning (as part of normal command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // processing)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00452c   0e07     MOVLW     0x7                  old_rx_buf_out = g_RX_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00452e   c0cb     MOVFF     0xcb,0xfdb                                                                                      
004530   ffdb                                                                                                               
004532   0e04     MOVLW     0x4                  g_RX_buf_out = checksum_ptr;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004534   cfdb     MOVFF     0xfdb,0xcb                                                                                      
004536   f0cb                                                                                                               
                                                 // We're going to ignore the return value from extract_number() since      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // we'll get a failure anyway since the checksum value won't match.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004538   6ae6     CLRF      0xe6,0x0             extract_number(kUCHAR, &checksum_cmd, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00453a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00453c   0f02     ADDLW     0x2                                                                                             
00453e   ec58     CALL      0x64b0,0x0                                                                                      
004540   f032                                                                                                               
004542   0e07     MOVLW     0x7                  g_RX_buf_out = old_rx_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004544   cfdb     MOVFF     0xfdb,0xcb                                                                                      
004546   f0cb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Compute the checksum of the packet up to checksum_ptr                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004548   0e08     MOVLW     0x8                  i = g_RX_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454a   c0cb     MOVFF     0xcb,0xfdb                                                                                      
00454c   ffdb                                                                                                               
00454e   0e04     MOVLW     0x4                  while(i != checksum_ptr)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004550   50db     MOVF      0xdb,0x0,0x0                                                                                    
004552   6ef3     MOVWF     0xf3,0x0                                                                                        
004554   0e08     MOVLW     0x8                                                                                             
004556   50db     MOVF      0xdb,0x0,0x0                                                                                    
004558   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
00455a   e018     BZ        0x458c                                                                                          
00458a   d7e1     BRA       0x454e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455c   0e08     MOVLW     0x8                    checksum_calc += g_RX_buf[i];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455e   ecc2     CALL      0x6384,0x0                                                                                      
004560   f031                                                                                                               
004562   0e03     MOVLW     0x3                                                                                             
004564   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
004566   ffe7                                                                                                               
004568   50ef     MOVF      0xef,0x0,0x0                                                                                    
00456a   26e7     ADDWF     0xe7,0x1,0x0                                                                                    
00456c   0e03     MOVLW     0x3                                                                                             
00456e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004570   ffdb                                                                                                               
004572   0e08     MOVLW     0x8                    i++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004574   2adb     INCF      0xdb,0x1,0x0                                                                                    
004576   50db     MOVF      0xdb,0x0,0x0           if (i == kRX_BUF_SIZE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004578   6e4e     MOVWF     0x4e,0x0                                                                                        
00457a   6a4f     CLRF      0x4f,0x0                                                                                        
00457c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00457e   e1e7     BNZ       0x454e                                                                                          
004580   0e01     MOVLW     0x1                                                                                             
004582   184f     XORWF     0x4f,0x0,0x0                                                                                    
004584   e1e4     BNZ       0x454e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004586   0e08     MOVLW     0x8                      i = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004588   6adb     CLRF      0xdb,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458c   0e03     MOVLW     0x3                  checksum_calc = (~checksum_calc)+1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458e   1cdb     COMF      0xdb,0x0,0x0                                                                                    
004590   0f01     ADDLW     0x1                                                                                             
004592   6ee7     MOVWF     0xe7,0x0                                                                                        
004594   0e03     MOVLW     0x3                                                                                             
004596   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004598   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // See if it matches                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459a   0e02     MOVLW     0x2                  if (checksum_calc == checksum_cmd)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00459e   6ef3     MOVWF     0xf3,0x0                                                                                        
0045a0   0e03     MOVLW     0x3                                                                                             
0045a2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045a4   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
0045a6   e10b     BNZ       0x45be                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // All is good, allow command to proceed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a8   0e01     MOVLW     0x1                    checksumOK = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045aa   6ef3     MOVWF     0xf3,0x0                                                                                        
0045ac   0e06     MOVLW     0x6                                                                                             
0045ae   cff3     MOVFF     0xff3,0xfdb                                                                                     
0045b0   ffdb                                                                                                               
                                                   // Need to fake out the command parsing, make it think the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ends where it expects it to end. It doesn't want to see the comma     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // before the checksum.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b2   0e04     MOVLW     0x4                    g_RX_buf[checksum_ptr] = kCR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b4   ecc2     CALL      0x6384,0x0                                                                                      
0045b6   f031                                                                                                               
0045b8   0e0d     MOVLW     0xd                                                                                             
0045ba   6eef     MOVWF     0xef,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045bc   d017     BRA       0x45ec               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045be   0e6b     MOVLW     0x6b                   ebb_print((far rom char *)"!8 Err: Checksum incorrect, expected ");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045c0   6e4e     MOVWF     0x4e,0x0                                                                                        
0045c2   0e82     MOVLW     0x82                                                                                            
0045c4   ecfc     CALL      0x61f8,0x0                                                                                      
0045c6   f030                                                                                                               
0045c8   0e03     MOVLW     0x3                    ebb_print_uint(checksum_calc);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ca   ec02     CALL      0x6404,0x0                                                                                      
0045cc   f032                                                                                                               
0045ce   ec7d     CALL      0x66fa,0x0                                                                                      
0045d0   f033                                                                                                               
0045d2   ec06     CALL      0x840c,0x0                                                                                      
0045d4   f042                                                                                                               
0045d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d8   d005     BRA       0x45e4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045da   0e42     MOVLW     0x42                 ebb_print((far rom char *)"!8 Err: Checksum not found but required.");     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045dc   6e4e     MOVWF     0x4e,0x0                                                                                        
0045de   0e82     MOVLW     0x82                                                                                            
0045e0   ecad     CALL      0x655a,0x0                                                                                      
0045e2   f032                                                                                                               
0045e4   ec59     CALL      0x66b2,0x0                                                                                      
0045e6   f033                                                                                                               
00655a   6e4f     MOVWF     0x4f,0x0                                                                                        
00655c   6a50     CLRF      0x50,0x0                                                                                        
00655e   c04e     MOVFF     0x4e,0xfe6                                                                                      
006560   ffe6                                                                                                               
006562   6ee6     MOVWF     0xe6,0x0                                                                                        
006564   c050     MOVFF     0x50,0xfe6                                                                                      
006566   ffe6                                                                                                               
006568   efaf     GOTO      0x835e                                                                                          
00656a   f041                                                                                                               
0045e8   ec06     CALL      0x620c,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ea   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ec   0e06     MOVLW     0x6              if (checksumOK)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045f0   e101     BNZ       0x45f4                                                                                          
0045f2   d25e     BRA       0x4ab0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always grab the first character (which is the first byte of the command)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f4   0100     MOVLB     0x0                gCommand_Char1 = toupper(g_RX_buf[g_RX_buf_out]);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f6   ec09     CALL      0x6212,0x0                                                                                      
0045f8   f031                                                                                                               
0045fa   ec2d     CALL      0x645a,0x0                                                                                      
0045fc   f032                                                                                                               
0045fe   cff3     MOVFF     0xff3,0xda                                                                                      
004600   f0da                                                                                                               
00645a   6ee6     MOVWF     0xe6,0x0                                                                                        
00645c   6ae6     CLRF      0xe6,0x0                                                                                        
00645e   ec59     CALL      0x8eb2,0x0                                                                                      
006460   f047                                                                                                               
006462   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006464   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006466   0012     RETURN    0x0                                                                                             
004602   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004604   ec30     CALL      0x6260,0x0                                                                                      
004606   f031                                                                                                               
004608   e104     BNZ       0x4612                                                                                          
00460a   0e01     MOVLW     0x1                                                                                             
00460c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00460e   e101     BNZ       0x4612                                                                                          
004610   6bcb     CLRF      0xcb,0x1                                                                                        
004612   51da     MOVF      0xda,0x0,0x1       command = gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004614   6ede     MOVWF     0xde,0x0                                                                                        
004616   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only grab second one if it is not a comma                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004618   ec09     CALL      0x6212,0x0         if (g_RX_buf[g_RX_buf_out] != (BYTE)',' && g_RX_buf[g_RX_buf_out] != kCR && g_RX_buf[g_RX_buf_out] != kLF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461a   f031                                                                                                               
00461c   082c     SUBLW     0x2c                                                                                            
00461e   e023     BZ        0x4666                                                                                          
004620   ec09     CALL      0x6212,0x0                                                                                      
004622   f031                                                                                                               
004624   080d     SUBLW     0xd                                                                                             
004626   e01f     BZ        0x4666                                                                                          
004628   ec09     CALL      0x6212,0x0                                                                                      
00462a   f031                                                                                                               
00462c   080a     SUBLW     0xa                                                                                             
00462e   e01b     BZ        0x4666                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004630   ec09     CALL      0x6212,0x0           gCommand_Char2 = toupper(g_RX_buf[g_RX_buf_out]);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004632   f031                                                                                                               
004634   ec2d     CALL      0x645a,0x0                                                                                      
004636   f032                                                                                                               
004638   cff3     MOVFF     0xff3,0xdb                                                                                      
00463a   f0db                                                                                                               
00463c   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00463e   ec30     CALL      0x6260,0x0                                                                                      
004640   f031                                                                                                               
004642   e104     BNZ       0x464c                                                                                          
004644   0e01     MOVLW     0x1                                                                                             
004646   184f     XORWF     0x4f,0x0,0x0                                                                                    
004648   e101     BNZ       0x464c                                                                                          
00464a   6bcb     CLRF      0xcb,0x1                                                                                        
00464c   c0da     MOVFF     0xda,0x51            command = ((unsigned int)(gCommand_Char1) << 8) + gCommand_Char2;          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00464e   f051                                                                                                               
004650   6a50     CLRF      0x50,0x0                                                                                        
004652   51db     MOVF      0xdb,0x0,0x1                                                                                    
004654   0100     MOVLB     0x0                                                                                             
004656   2450     ADDWF     0x50,0x0,0x0                                                                                    
004658   6e4e     MOVWF     0x4e,0x0                                                                                        
00465a   0e00     MOVLW     0x0                                                                                             
00465c   2051     ADDWFC    0x51,0x0,0x0                                                                                    
00465e   6e4f     MOVWF     0x4f,0x0                                                                                        
004660   c04e     MOVFF     0x4e,0xfde                                                                                      
004662   ffde                                                                                                               
004664   6edd     MOVWF     0xdd,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now 'command' is equal to one or two bytes of our command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004666   0e00     MOVLW     0x0                switch (command)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004668   cfdf     MOVFF     0xfdf,0x42                                                                                      
00466a   f042                                                                                                               
00466c   0e01     MOVLW     0x1                                                                                             
00466e   cfdb     MOVFF     0xfdb,0x43                                                                                      
004670   f043                                                                                                               
004672   0e52     MOVLW     0x52                                                                                            
004674   1842     XORWF     0x42,0x0,0x0                                                                                    
004676   e102     BNZ       0x467c                                                                                          
004678   0e54     MOVLW     0x54                                                                                            
00467a   1843     XORWF     0x43,0x0,0x0                                                                                    
00467c   e101     BNZ       0x4680                                                                                          
00467e   d1e7     BRA       0x4a4e                                                                                          
004680   0e55     MOVLW     0x55                                                                                            
004682   1842     XORWF     0x42,0x0,0x0                                                                                    
004684   e102     BNZ       0x468a                                                                                          
004686   0e51     MOVLW     0x51                                                                                            
004688   1843     XORWF     0x43,0x0,0x0                                                                                    
00468a   e101     BNZ       0x468e                                                                                          
00468c   d1de     BRA       0x4a4a                                                                                          
00468e   0e4d     MOVLW     0x4d                                                                                            
004690   1842     XORWF     0x42,0x0,0x0                                                                                    
004692   e102     BNZ       0x4698                                                                                          
004694   0e48     MOVLW     0x48                                                                                            
004696   1843     XORWF     0x43,0x0,0x0                                                                                    
004698   e101     BNZ       0x469c                                                                                          
00469a   d1d4     BRA       0x4a44                                                                                          
00469c   0e52     MOVLW     0x52                                                                                            
00469e   1842     XORWF     0x42,0x0,0x0                                                                                    
0046a0   e102     BNZ       0x46a6                                                                                          
0046a2   0e53     MOVLW     0x53                                                                                            
0046a4   1843     XORWF     0x43,0x0,0x0                                                                                    
0046a6   e101     BNZ       0x46aa                                                                                          
0046a8   d1ca     BRA       0x4a3e                                                                                          
0046aa   0e52     MOVLW     0x52                                                                                            
0046ac   1842     XORWF     0x42,0x0,0x0                                                                                    
0046ae   e102     BNZ       0x46b4                                                                                          
0046b0   0e51     MOVLW     0x51                                                                                            
0046b2   1843     XORWF     0x43,0x0,0x0                                                                                    
0046b4   e101     BNZ       0x46b8                                                                                          
0046b6   d1c0     BRA       0x4a38                                                                                          
0046b8   0e42     MOVLW     0x42                                                                                            
0046ba   1842     XORWF     0x42,0x0,0x0                                                                                    
0046bc   e102     BNZ       0x46c2                                                                                          
0046be   0e52     MOVLW     0x52                                                                                            
0046c0   1843     XORWF     0x43,0x0,0x0                                                                                    
0046c2   e101     BNZ       0x46c6                                                                                          
0046c4   d1b6     BRA       0x4a32                                                                                          
0046c6   0e54     MOVLW     0x54                                                                                            
0046c8   1842     XORWF     0x42,0x0,0x0                                                                                    
0046ca   e102     BNZ       0x46d0                                                                                          
0046cc   0e51     MOVLW     0x51                                                                                            
0046ce   1843     XORWF     0x43,0x0,0x0                                                                                    
0046d0   e101     BNZ       0x46d4                                                                                          
0046d2   d1ac     BRA       0x4a2c                                                                                          
0046d4   0e54     MOVLW     0x54                                                                                            
0046d6   1842     XORWF     0x42,0x0,0x0                                                                                    
0046d8   e102     BNZ       0x46de                                                                                          
0046da   0e53     MOVLW     0x53                                                                                            
0046dc   1843     XORWF     0x43,0x0,0x0                                                                                    
0046de   e101     BNZ       0x46e2                                                                                          
0046e0   d1a2     BRA       0x4a26                                                                                          
0046e2   0e53     MOVLW     0x53                                                                                            
0046e4   1842     XORWF     0x42,0x0,0x0                                                                                    
0046e6   e102     BNZ       0x46ec                                                                                          
0046e8   0e43     MOVLW     0x43                                                                                            
0046ea   1843     XORWF     0x43,0x0,0x0                                                                                    
0046ec   e101     BNZ       0x46f0                                                                                          
0046ee   d198     BRA       0x4a20                                                                                          
0046f0   0e53     MOVLW     0x53                                                                                            
0046f2   1842     XORWF     0x42,0x0,0x0                                                                                    
0046f4   e102     BNZ       0x46fa                                                                                          
0046f6   0e51     MOVLW     0x51                                                                                            
0046f8   1843     XORWF     0x43,0x0,0x0                                                                                    
0046fa   e101     BNZ       0x46fe                                                                                          
0046fc   d18e     BRA       0x4a1a                                                                                          
0046fe   0e4d     MOVLW     0x4d                                                                                            
004700   1842     XORWF     0x42,0x0,0x0                                                                                    
004702   e102     BNZ       0x4708                                                                                          
004704   0e58     MOVLW     0x58                                                                                            
004706   1843     XORWF     0x43,0x0,0x0                                                                                    
004708   e101     BNZ       0x470c                                                                                          
00470a   d184     BRA       0x4a14                                                                                          
00470c   0e53     MOVLW     0x53                                                                                            
00470e   1842     XORWF     0x42,0x0,0x0                                                                                    
004710   e102     BNZ       0x4716                                                                                          
004712   0e45     MOVLW     0x45                                                                                            
004714   1843     XORWF     0x43,0x0,0x0                                                                                    
004716   e101     BNZ       0x471a                                                                                          
004718   d17a     BRA       0x4a0e                                                                                          
00471a   0e43     MOVLW     0x43                                                                                            
00471c   1842     XORWF     0x42,0x0,0x0                                                                                    
00471e   e102     BNZ       0x4724                                                                                          
004720   0e41     MOVLW     0x41                                                                                            
004722   1843     XORWF     0x43,0x0,0x0                                                                                    
004724   e101     BNZ       0x4728                                                                                          
004726   d170     BRA       0x4a08                                                                                          
004728   0e4d     MOVLW     0x4d                                                                                            
00472a   1842     XORWF     0x42,0x0,0x0                                                                                    
00472c   e102     BNZ       0x4732                                                                                          
00472e   0e51     MOVLW     0x51                                                                                            
004730   1843     XORWF     0x43,0x0,0x0                                                                                    
004732   e101     BNZ       0x4736                                                                                          
004734   d166     BRA       0x4a02                                                                                          
004736   0e32     MOVLW     0x32                                                                                            
004738   1842     XORWF     0x42,0x0,0x0                                                                                    
00473a   e102     BNZ       0x4740                                                                                          
00473c   0e53     MOVLW     0x53                                                                                            
00473e   1843     XORWF     0x43,0x0,0x0                                                                                    
004740   e101     BNZ       0x4744                                                                                          
004742   d15c     BRA       0x49fc                                                                                          
004744   0e45     MOVLW     0x45                                                                                            
004746   1842     XORWF     0x42,0x0,0x0                                                                                    
004748   e102     BNZ       0x474e                                                                                          
00474a   0e53     MOVLW     0x53                                                                                            
00474c   1843     XORWF     0x43,0x0,0x0                                                                                    
00474e   e101     BNZ       0x4752                                                                                          
004750   d152     BRA       0x49f6                                                                                          
004752   0e47     MOVLW     0x47                                                                                            
004754   1842     XORWF     0x42,0x0,0x0                                                                                    
004756   e102     BNZ       0x475c                                                                                          
004758   0e51     MOVLW     0x51                                                                                            
00475a   1843     XORWF     0x43,0x0,0x0                                                                                    
00475c   e101     BNZ       0x4760                                                                                          
00475e   d148     BRA       0x49f0                                                                                          
004760   0e43     MOVLW     0x43                                                                                            
004762   1842     XORWF     0x42,0x0,0x0                                                                                    
004764   e102     BNZ       0x476a                                                                                          
004766   0e51     MOVLW     0x51                                                                                            
004768   1843     XORWF     0x43,0x0,0x0                                                                                    
00476a   e101     BNZ       0x476e                                                                                          
00476c   d13e     BRA       0x49ea                                                                                          
00476e   0e4b     MOVLW     0x4b                                                                                            
004770   1842     XORWF     0x42,0x0,0x0                                                                                    
004772   e102     BNZ       0x4778                                                                                          
004774   0e43     MOVLW     0x43                                                                                            
004776   1843     XORWF     0x43,0x0,0x0                                                                                    
004778   e101     BNZ       0x477c                                                                                          
00477a   d134     BRA       0x49e4                                                                                          
00477c   0e4c     MOVLW     0x4c                                                                                            
00477e   1842     XORWF     0x42,0x0,0x0                                                                                    
004780   e102     BNZ       0x4786                                                                                          
004782   0e42     MOVLW     0x42                                                                                            
004784   1843     XORWF     0x43,0x0,0x0                                                                                    
004786   e101     BNZ       0x478a                                                                                          
004788   d12a     BRA       0x49de                                                                                          
00478a   0e44     MOVLW     0x44                                                                                            
00478c   1842     XORWF     0x42,0x0,0x0                                                                                    
00478e   e102     BNZ       0x4794                                                                                          
004790   0e4e     MOVLW     0x4e                                                                                            
004792   1843     XORWF     0x43,0x0,0x0                                                                                    
004794   e101     BNZ       0x4798                                                                                          
004796   d120     BRA       0x49d8                                                                                          
004798   0e49     MOVLW     0x49                                                                                            
00479a   1842     XORWF     0x42,0x0,0x0                                                                                    
00479c   e102     BNZ       0x47a2                                                                                          
00479e   0e4e     MOVLW     0x4e                                                                                            
0047a0   1843     XORWF     0x43,0x0,0x0                                                                                    
0047a2   e101     BNZ       0x47a6                                                                                          
0047a4   d116     BRA       0x49d2                                                                                          
0047a6   0e42     MOVLW     0x42                                                                                            
0047a8   1842     XORWF     0x42,0x0,0x0                                                                                    
0047aa   e102     BNZ       0x47b0                                                                                          
0047ac   0e51     MOVLW     0x51                                                                                            
0047ae   1843     XORWF     0x43,0x0,0x0                                                                                    
0047b0   e101     BNZ       0x47b4                                                                                          
0047b2   d10c     BRA       0x49cc                                                                                          
0047b4   0e4c     MOVLW     0x4c                                                                                            
0047b6   1842     XORWF     0x42,0x0,0x0                                                                                    
0047b8   e102     BNZ       0x47be                                                                                          
0047ba   0e51     MOVLW     0x51                                                                                            
0047bc   1843     XORWF     0x43,0x0,0x0                                                                                    
0047be   e101     BNZ       0x47c2                                                                                          
0047c0   d102     BRA       0x49c6                                                                                          
0047c2   0e4c     MOVLW     0x4c                                                                                            
0047c4   1842     XORWF     0x42,0x0,0x0                                                                                    
0047c6   e102     BNZ       0x47cc                                                                                          
0047c8   0e53     MOVLW     0x53                                                                                            
0047ca   1843     XORWF     0x43,0x0,0x0                                                                                    
0047cc   e101     BNZ       0x47d0                                                                                          
0047ce   d0f8     BRA       0x49c0                                                                                          
0047d0   0e4e     MOVLW     0x4e                                                                                            
0047d2   1842     XORWF     0x42,0x0,0x0                                                                                    
0047d4   e102     BNZ       0x47da                                                                                          
0047d6   0e51     MOVLW     0x51                                                                                            
0047d8   1843     XORWF     0x43,0x0,0x0                                                                                    
0047da   e101     BNZ       0x47de                                                                                          
0047dc   d0ee     BRA       0x49ba                                                                                          
0047de   0e4e     MOVLW     0x4e                                                                                            
0047e0   1842     XORWF     0x42,0x0,0x0                                                                                    
0047e2   e102     BNZ       0x47e8                                                                                          
0047e4   0e53     MOVLW     0x53                                                                                            
0047e6   1843     XORWF     0x43,0x0,0x0                                                                                    
0047e8   e101     BNZ       0x47ec                                                                                          
0047ea   d0e4     BRA       0x49b4                                                                                          
0047ec   0e43     MOVLW     0x43                                                                                            
0047ee   1842     XORWF     0x42,0x0,0x0                                                                                    
0047f0   e102     BNZ       0x47f6                                                                                          
0047f2   0e53     MOVLW     0x53                                                                                            
0047f4   1843     XORWF     0x43,0x0,0x0                                                                                    
0047f6   e101     BNZ       0x47fa                                                                                          
0047f8   d0da     BRA       0x49ae                                                                                          
0047fa   0e4d     MOVLW     0x4d                                                                                            
0047fc   1842     XORWF     0x42,0x0,0x0                                                                                    
0047fe   e102     BNZ       0x4804                                                                                          
004800   0e45     MOVLW     0x45                                                                                            
004802   1843     XORWF     0x43,0x0,0x0                                                                                    
004804   e101     BNZ       0x4808                                                                                          
004806   d0d0     BRA       0x49a8                                                                                          
004808   0e45     MOVLW     0x45                                                                                            
00480a   1842     XORWF     0x42,0x0,0x0                                                                                    
00480c   e102     BNZ       0x4812                                                                                          
00480e   0e51     MOVLW     0x51                                                                                            
004810   1843     XORWF     0x43,0x0,0x0                                                                                    
004812   e101     BNZ       0x4816                                                                                          
004814   d0c6     BRA       0x49a2                                                                                          
004816   0e50     MOVLW     0x50                                                                                            
004818   1842     XORWF     0x42,0x0,0x0                                                                                    
00481a   e102     BNZ       0x4820                                                                                          
00481c   0e51     MOVLW     0x51                                                                                            
00481e   1843     XORWF     0x43,0x0,0x0                                                                                    
004820   e101     BNZ       0x4824                                                                                          
004822   d0bc     BRA       0x499c                                                                                          
004824   0e50     MOVLW     0x50                                                                                            
004826   1842     XORWF     0x42,0x0,0x0                                                                                    
004828   e102     BNZ       0x482e                                                                                          
00482a   0e54     MOVLW     0x54                                                                                            
00482c   1843     XORWF     0x43,0x0,0x0                                                                                    
00482e   e101     BNZ       0x4832                                                                                          
004830   d0b2     BRA       0x4996                                                                                          
004832   0e50     MOVLW     0x50                                                                                            
004834   1842     XORWF     0x42,0x0,0x0                                                                                    
004836   e102     BNZ       0x483c                                                                                          
004838   0e53     MOVLW     0x53                                                                                            
00483a   1843     XORWF     0x43,0x0,0x0                                                                                    
00483c   e101     BNZ       0x4840                                                                                          
00483e   d0a8     BRA       0x4990                                                                                          
004840   0e4d     MOVLW     0x4d                                                                                            
004842   1842     XORWF     0x42,0x0,0x0                                                                                    
004844   e102     BNZ       0x484a                                                                                          
004846   0e53     MOVLW     0x53                                                                                            
004848   1843     XORWF     0x43,0x0,0x0                                                                                    
00484a   e101     BNZ       0x484e                                                                                          
00484c   d09e     BRA       0x498a                                                                                          
00484e   0e57     MOVLW     0x57                                                                                            
004850   1842     XORWF     0x42,0x0,0x0                                                                                    
004852   e102     BNZ       0x4858                                                                                          
004854   0e4d     MOVLW     0x4d                                                                                            
004856   1843     XORWF     0x43,0x0,0x0                                                                                    
004858   e101     BNZ       0x485c                                                                                          
00485a   d094     BRA       0x4984                                                                                          
00485c   0e52     MOVLW     0x52                                                                                            
00485e   1842     XORWF     0x42,0x0,0x0                                                                                    
004860   e102     BNZ       0x4866                                                                                          
004862   0e4d     MOVLW     0x4d                                                                                            
004864   1843     XORWF     0x43,0x0,0x0                                                                                    
004866   e101     BNZ       0x486a                                                                                          
004868   d08a     BRA       0x497e                                                                                          
00486a   0e44     MOVLW     0x44                                                                                            
00486c   1842     XORWF     0x42,0x0,0x0                                                                                    
00486e   e102     BNZ       0x4874                                                                                          
004870   0e50     MOVLW     0x50                                                                                            
004872   1843     XORWF     0x43,0x0,0x0                                                                                    
004874   e101     BNZ       0x4878                                                                                          
004876   d080     BRA       0x4978                                                                                          
004878   0e4f     MOVLW     0x4f                                                                                            
00487a   1842     XORWF     0x42,0x0,0x0                                                                                    
00487c   e102     BNZ       0x4882                                                                                          
00487e   0e50     MOVLW     0x50                                                                                            
004880   1843     XORWF     0x43,0x0,0x0                                                                                    
004882   e101     BNZ       0x4886                                                                                          
004884   d076     BRA       0x4972                                                                                          
004886   0e49     MOVLW     0x49                                                                                            
004888   1842     XORWF     0x42,0x0,0x0                                                                                    
00488a   e102     BNZ       0x4890                                                                                          
00488c   0e50     MOVLW     0x50                                                                                            
00488e   1843     XORWF     0x43,0x0,0x0                                                                                    
004890   e06d     BZ        0x496c                                                                                          
004892   0e41     MOVLW     0x41                                                                                            
004894   1842     XORWF     0x42,0x0,0x0                                                                                    
004896   e101     BNZ       0x489a                                                                                          
004898   5043     MOVF      0x43,0x0,0x0                                                                                    
00489a   e065     BZ        0x4966                                                                                          
00489c   0e56     MOVLW     0x56                                                                                            
00489e   1842     XORWF     0x42,0x0,0x0                                                                                    
0048a0   e101     BNZ       0x48a4                                                                                          
0048a2   5043     MOVF      0x43,0x0,0x0                                                                                    
0048a4   e05d     BZ        0x4960                                                                                          
0048a6   0e49     MOVLW     0x49                                                                                            
0048a8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048aa   e101     BNZ       0x48ae                                                                                          
0048ac   5043     MOVF      0x43,0x0,0x0                                                                                    
0048ae   e055     BZ        0x495a                                                                                          
0048b0   0e4f     MOVLW     0x4f                                                                                            
0048b2   1842     XORWF     0x42,0x0,0x0                                                                                    
0048b4   e101     BNZ       0x48b8                                                                                          
0048b6   5043     MOVF      0x43,0x0,0x0                                                                                    
0048b8   e04d     BZ        0x4954                                                                                          
0048ba   0e55     MOVLW     0x55                                                                                            
0048bc   1842     XORWF     0x42,0x0,0x0                                                                                    
0048be   e102     BNZ       0x48c4                                                                                          
0048c0   0e43     MOVLW     0x43                                                                                            
0048c2   1843     XORWF     0x43,0x0,0x0                                                                                    
0048c4   e045     BZ        0x4950                                                                                          
0048c6   0e43     MOVLW     0x43                                                                                            
0048c8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048ca   e101     BNZ       0x48ce                                                                                          
0048cc   5043     MOVF      0x43,0x0,0x0                                                                                    
0048ce   e03d     BZ        0x494a                                                                                          
0048d0   0e52     MOVLW     0x52                                                                                            
0048d2   1842     XORWF     0x42,0x0,0x0                                                                                    
0048d4   e101     BNZ       0x48d8                                                                                          
0048d6   5043     MOVF      0x43,0x0,0x0                                                                                    
0048d8   e036     BZ        0x4946                                                                                          
0048da   0e4d     MOVLW     0x4d                                                                                            
0048dc   1842     XORWF     0x42,0x0,0x0                                                                                    
0048de   e102     BNZ       0x48e4                                                                                          
0048e0   0e4c     MOVLW     0x4c                                                                                            
0048e2   1843     XORWF     0x43,0x0,0x0                                                                                    
0048e4   e02d     BZ        0x4940                                                                                          
0048e6   0e33     MOVLW     0x33                                                                                            
0048e8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048ea   e102     BNZ       0x48f0                                                                                          
0048ec   0e54     MOVLW     0x54                                                                                            
0048ee   1843     XORWF     0x43,0x0,0x0                                                                                    
0048f0   e024     BZ        0x493a                                                                                          
0048f2   0e33     MOVLW     0x33                                                                                            
0048f4   1842     XORWF     0x42,0x0,0x0                                                                                    
0048f6   e102     BNZ       0x48fc                                                                                          
0048f8   0e4c     MOVLW     0x4c                                                                                            
0048fa   1843     XORWF     0x43,0x0,0x0                                                                                    
0048fc   e01b     BZ        0x4934                                                                                          
0048fe   0e54     MOVLW     0x54                                                                                            
004900   1842     XORWF     0x42,0x0,0x0                                                                                    
004902   e102     BNZ       0x4908                                                                                          
004904   0e4c     MOVLW     0x4c                                                                                            
004906   1843     XORWF     0x43,0x0,0x0                                                                                    
004908   e012     BZ        0x492e                                                                                          
00490a   0e4d     MOVLW     0x4d                                                                                            
00490c   1842     XORWF     0x42,0x0,0x0                                                                                    
00490e   e102     BNZ       0x4914                                                                                          
004910   0e43     MOVLW     0x43                                                                                            
004912   1843     XORWF     0x43,0x0,0x0                                                                                    
004914   e009     BZ        0x4928                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CM for circle move                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004928   ec13     CALL      0x2226,0x0             parse_CM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00492a   f011                                                                                                               
00492c   d0af     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Timed Move                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00492e   ecbd     CALL      0x1d7a,0x0             parse_LT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004930   f00e                                                                                                               
004932   d0ac     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level 3rd derivative (jerk) move                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004934   ec67     CALL      0x1cce,0x0             parse_L3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004936   f00e                                                                                                               
004938   d0a9     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Timed 3rd derivative (jerk) move                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00493a   eca3     CALL      0x1d46,0x0             parse_T3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00493c   f00e                                                                                                               
00493e   d0a6     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Move                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004940   ec31     CALL      0x1c62,0x0             parse_LM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004942   f00e                                                                                                               
004944   d0a3     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'R':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset command (resets everything to power-on state)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004946   d8ff     RCALL     0x4b46                 parse_R_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004948   d0a1     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'C':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Configure command (configure ports for Input or Output)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00494a   ec63     CALL      0x52c6,0x0             parse_C_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00494c   f029                                                                                                               
00494e   d09e     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For configuring UBW                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004950   d901     RCALL     0x4b54                 parse_CU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004952   d09c     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'O':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Output command (tell the ports to output something)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004954   ec13     CALL      0x5426,0x0             parse_O_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004956   f02a                                                                                                               
004958   d099     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'I':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Input command (return the current status of the ports)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00495a   ec49     CALL      0x5492,0x0             parse_I_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00495c   f02a                                                                                                               
00495e   d096     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'V':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Version command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004960   ec5f     CALL      0x54be,0x0             parse_V_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004962   f02a                                                                                                               
004964   d093     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'A':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Analog command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004966   ec66     CALL      0x54cc,0x0             parse_A_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004968   f02a                                                                                                               
00496a   d090     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'T':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For timed I/O                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_T_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PI for reading a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00496c   ec9e     CALL      0x573c,0x0             parse_PI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00496e   f02b                                                                                                               
004970   d08d     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'O':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PO for setting a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004972   ec13     CALL      0x5826,0x0             parse_PO_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004974   f02c                                                                                                               
004976   d08a     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PD for setting a pin's direction                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004978   ec02     CALL      0x5604,0x0             parse_PD_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00497a   f02b                                                                                                               
00497c   d087     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MR for Memory Read                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00497e   ece3     CALL      0x55c6,0x0             parse_MR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004980   f02a                                                                                                               
004982   d084     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'W':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MW for Memory Write                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004984   ecc8     CALL      0x5590,0x0             parse_MW_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004986   f02a                                                                                                               
004988   d081     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PC for pulse configure                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PG for pulse go command                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SM for stepper motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00498a   ecff     CALL      0x21fe,0x0             parse_SM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00498c   f010                                                                                                               
00498e   d07e     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SP for set pen                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004990   ec91     CALL      0x2b22,0x0             parse_SP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004992   f015                                                                                                               
004994   d07b     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // TP for toggle pen                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004996   ec6f     CALL      0x2ade,0x0             parse_TP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004998   f015                                                                                                               
00499a   d078     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for query pen                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00499c   ecf4     CALL      0x29e8,0x0             parse_QP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00499e   f014                                                                                                               
0049a0   d075     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QE for Query motor Enable and resolution                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a2   ec0c     CALL      0x2a18,0x0             parse_QE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a4   f015                                                                                                               
0049a6   d072     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // EM for enable motors                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a8   ec02     CALL      0x2c04,0x0             parse_EM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049aa   f016                                                                                                               
0049ac   d06f     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SC for stepper mode configure                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ae   ec6f     CALL      0x1ade,0x0             parse_SC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b0   f00d                                                                                                               
0049b2   d06c     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SN for Clear Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b4   ec5d     CALL      0x2cba,0x0             parse_SN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b6   f016                                                                                                               
0049b8   d069     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QN for Query Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ba   ec7a     CALL      0x2cf4,0x0             parse_QN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049bc   f016                                                                                                               
0049be   d066     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SL for Set Layer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c0   ec8a     CALL      0x2d14,0x0             parse_SL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c2   f016                                                                                                               
0049c4   d063     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Layer count                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c6   eca7     CALL      0x2d4e,0x0             parse_QL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c8   f016                                                                                                               
0049ca   d060     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Button (program)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049cc   ecc9     CALL      0x2d92,0x0             parse_QB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ce   f016                                                                                                               
0049d0   d05d     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // NI for Node count Increment                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d2   ec3b     CALL      0x2c76,0x0             parse_NI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d4   f016                                                                                                               
0049d6   d05a     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ND Node count Decrement                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d8   ec4e     CALL      0x2c9c,0x0             parse_ND_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049da   f016                                                                                                               
0049dc   d057     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('B' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // BL for Boot Load                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049de   ecc7     CALL      0x598e,0x0             parse_BL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e0   f02c                                                                                                               
0049e2   d054     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'K':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CL for Check                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e4   ec19     CALL      0x5a32,0x0             parse_CK_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e6   f02d                                                                                                               
0049e8   d051     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QC for Query Current                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ea   ecdb     CALL      0x2db6,0x0             parse_QC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ec   f016                                                                                                               
0049ee   d04e     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QG for Query General                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f0   ecef     CALL      0x2dde,0x0             parse_QG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f2   f016                                                                                                               
0049f4   d04b     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SE for Set Engraver                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f6   ec20     CALL      0x2e40,0x0             parse_SE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f8   f017                                                                                                               
0049fa   d048     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + '2':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // S2 for RC Servo method 2                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049fc   eccb     CALL      0x7996,0x0             RCServo2_S2_command();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049fe   f03c                                                                                                               
004a00   d045     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QM for Query Motor                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a02   ec03     CALL      0x3006,0x0             parse_QM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a04   f018                                                                                                               
004a06   d042     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('A' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // AC for Analog Configure                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a08   ecf9     CALL      0x53f2,0x0             parse_AC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0a   f029                                                                                                               
004a0c   d03f     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ES for E-Stop                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0e   eca6     CALL      0x294c,0x0             parse_ES_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a10   f014                                                                                                               
004a12   d03c     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('X' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // XM for X motor move                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a14   ec74     CALL      0x26e8,0x0             parse_XM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a16   f013                                                                                                               
004a18   d039     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for Query Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1a   ec3a     CALL      0x3074,0x0             parse_QS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1c   f018                                                                                                               
004a1e   d036     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CS for Clear Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a20   ec6e     CALL      0x30dc,0x0             parse_CS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a22   f018                                                                                                               
004a24   d033     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ST for Set Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a26   ecf8     CALL      0x5bf0,0x0             parse_ST_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a28   f02d                                                                                                               
004a2a   d030     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QT for Query Tag                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2c   ec2e     CALL      0x5c5c,0x0             parse_QT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2e   f02e                                                                                                               
004a30   d02d     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('R' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // RB for ReBoot                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a32   eccf     CALL      0x599e,0x0             parse_RB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a34   f02c                                                                                                               
004a36   d02a     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QR is for Query RC Servo power state                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a38   ecd6     CALL      0x59ac,0x0             parse_QR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3a   f02c                                                                                                               
004a3c   d027     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SR is for Set RC Servo power timeout                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3e   ece6     CALL      0x59cc,0x0             parse_SR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a40   f02c                                                                                                               
004a42   d024     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('H' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // HM is for Home Motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a44   ec2d     CALL      0x245a,0x0             parse_HM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a46   f012                                                                                                               
004a48   d021     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QU is for General Query                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4a   dbad     RCALL     0x51a6                 parse_QU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4c   d01f     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4e   ec9c     CALL      0x2538,0x0             parse_TR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a50   f012                                                                                                               
004a52   d01c     BRA       0x4a8c                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 default:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004916   0100     MOVLB     0x0                    if (0u == gCommand_Char2)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004918   51db     MOVF      0xdb,0x0,0x1                                                                                    
00491a   e001     BZ        0x491e                                                                                          
00491c   d09b     BRA       0x4a54                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00491e   ecda     CALL      0x65b4,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004920   f032                                                                                                               
0065b4   0e28     MOVLW     0x28                                                                                            
0065b6   6e4e     MOVWF     0x4e,0x0                                                                                        
0065b8   0e82     MOVLW     0x82                                                                                            
0065ba   de1e     RCALL     0x61f8                                                                                          
0065bc   ef0e     GOTO      0x641c                   ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065be   f032                                                                                                               
004922   ece0     CALL      0x65c0,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004924   f032                                                                                                               
0065c0   0e3a     MOVLW     0x3a                                                                                            
0065c2   de44     RCALL     0x624c                                                                                          
0065c4   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0065c8   c0da     MOVFF     0xda,0x4e                                                                                       
0065ca   f04e                                                                                                               
0065cc   0012     RETURN    0x0                                                                                             
                                                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004926   d0aa     BRA       0x4a7c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a54   ecda     CALL      0x65b4,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a56   f032                                                                                                               
                                                     ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a58   c0db     MOVFF     0xdb,0xfe6               ebb_print_char(gCommand_Char2);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a5a   ffe6                                                                                                               
004a5c   dccd     RCALL     0x43f8                                                                                          
004a5e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a60   ece0     CALL      0x65c0,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a62   f032                                                                                                               
004a64   ec2c     CALL      0x6658,0x0               ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a66   f033                                                                                                               
004a68   c0da     MOVFF     0xda,0xfe6                                                                                      
004a6a   ffe6                                                                                                               
004a6c   ec60     CALL      0x64c0,0x0                                                                                      
004a6e   f032                                                                                                               
004a70   ecf4     CALL      0x65e8,0x0                                                                                      
004a72   f032                                                                                                               
0065e8   eccc     CALL      0x8398,0x0                                                                                      
0065ea   f041                                                                                                               
0065ec   6e52     MOVWF     0x52,0x0                                                                                        
0065ee   0e05     MOVLW     0x5                                                                                             
0065f0   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0065f2   5052     MOVF      0x52,0x0,0x0                                                                                    
0065f4   0012     RETURN    0x0                                                                                             
004a74   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char2, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a76   6ee6     MOVWF     0xe6,0x0                                                                                        
004a78   c0db     MOVFF     0xdb,0x4e                                                                                       
004a7a   f04e                                                                                                               
004a7c   6a4f     CLRF      0x4f,0x0                                                                                        
004a7e   ec21     CALL      0x6242,0x0                                                                                      
004a80   f031                                                                                                               
004a82   0e27     MOVLW     0x27                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a84   ec26     CALL      0x624c,0x0                                                                                      
004a86   f031                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a88   ec06     CALL      0x620c,0x0             print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8a   f031                                                                                                               
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Double check that our output pointer is now at the ending <CR>            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If it is not, this indicates that there were extra characters that        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // the command parsing routine didn't eat. This would be an error and needs  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // to be reported. (Ignore for Reset command because FIFO pointers get cleared.) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8c   0100     MOVLB     0x0                  (g_RX_buf[g_RX_buf_out] != kCR && 0u == error_byte)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8e   ec09     CALL      0x6212,0x0                                                                                      
004a90   f031                                                                                                               
004a92   080d     SUBLW     0xd                                                                                             
004a94   e00d     BZ        0x4ab0                                                                                          
004a96   5197     MOVF      0x97,0x0,0x1                                                                                    
004a98   e10b     BNZ       0x4ab0                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a9a   0e52     MOVLW     0x52                 ('R' != command)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a9c   6e4e     MOVWF     0x4e,0x0                                                                                        
004a9e   6a4f     CLRF      0x4f,0x0                                                                                        
004aa0   50df     MOVF      0xdf,0x0,0x0                                                                                    
004aa2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004aa4   e103     BNZ       0x4aac                                                                                          
004aa6   52de     MOVF      0xde,0x1,0x0                                                                                    
004aa8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004aaa   184f     XORWF     0x4f,0x0,0x0                                                                                    
004aac   e001     BZ        0x4ab0             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aae   8f97     BSF       0x97,0x7,0x1         bitset(error_byte, kERROR_BYTE_EXTRA_CHARACTERS);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clean up by skipping over any bytes we haven't eaten                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This is safe since we parse each packet as we get a <CR>                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // (i.e. g_RX_buf_in doesn't move while we are in this routine)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab0   c0ca     MOVFF     0xca,0xcb        g_RX_buf_out = g_RX_buf_in;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab2   f0cb                                                                                                               
004ab4   0e09     MOVLW     0x9            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004ab8   e202     BC        0x4abe                                                                                          
004aba   6ae1     CLRF      0xe1,0x0                                                                                        
004abc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004abe   6ee1     MOVWF     0xe1,0x0                                                                                        
004ac0   ef1d     GOTO      0x623a                                                                                          
004ac2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function will print out the two character command that was just parsed   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // if the New line ending mode is set (CU,10,1). Every time a command is sent    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the EBB, it will respond with the two character command code (at least,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // some commands will return more than that).                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = true : always print command, even in Default Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = false : do not print command when in Unified Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = true : if command printed, also print comma after               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = false : if command printed, do not print comma after            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If Legacy line ending mode is turned on this function will not print anything D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac4   ecb6     CALL      0x656c,0x0     void print_command(BOOL print_always, BOOL print_comma)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac6   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac8   0e2c     MOVLW     0x2c             char comma = ',';                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aca   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004acc   0e01     MOVLW     0x1              if (bittstzero(gStandardizedCommandFormat) || print_always)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ace   0101     MOVLB     0x1                                                                                             
004ad0   15c3     ANDWF     0xc3,0x0,0x1                                                                                    
004ad2   e103     BNZ       0x4ada                                                                                          
004ad4   0efe     MOVLW     0xfe                                                                                            
004ad6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ad8   e010     BZ        0x4afa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ada   ec0e     CALL      0x641c,0x0         ebb_putc(gCommand_Char1);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004adc   f032                                                                                                               
00641c   c0da     MOVFF     0xda,0xfe6                                                                                      
00641e   ffe6                                                                                                               
006420   ecfc     CALL      0x43f8,0x0                                                                                      
006422   f021                                                                                                               
006424   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006426   0012     RETURN    0x0                                                                                             
004ade   0100     MOVLB     0x0                if (gCommand_Char2 != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae0   51db     MOVF      0xdb,0x0,0x1                                                                                    
004ae2   e004     BZ        0x4aec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae4   c0db     MOVFF     0xdb,0xfe6           ebb_putc(gCommand_Char2);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae6   ffe6                                                                                                               
004ae8   dc87     RCALL     0x43f8                                                                                          
004aea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aec   0efd     MOVLW     0xfd               if (print_comma)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aee   50db     MOVF      0xdb,0x0,0x0                                                                                    
004af0   e004     BZ        0x4afa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af2   cfdf     MOVFF     0xfdf,0xfe6          ebb_putc(comma);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af4   ffe6                                                                                                               
004af6   dc80     RCALL     0x43f8                                                                                          
004af8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afa   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afc   ef1d     GOTO      0x623a                                                                                          
004afe   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function prints out the common endings needed on text lines sent back    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the PC. It operates in two modes, Legacy and New. Legacy mode is used      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // when we need to emulate how the EBB's line endings have been done since       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the beginning (as some PC software counts on this). New mode can be turned    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // on with CU,10,1 and makes every line ending exactly the same : "\n".          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Because in Legacy mode we also need to print "OK", that is included           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // as an option here too.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   Legacy Mode:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_OK_NORM : Print "OK\r\n"                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_NORM    : Print "\r\n"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_REV     : Print "\n\r"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   New Mode:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     Regardless of the value of <type>, always print "\n"                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b00   ec18     CALL      0x6230,0x0     void print_line_ending(tLineEnding le_type)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b02   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b04   0101     MOVLB     0x1              if (bittstzero(gStandardizedCommandFormat))                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b06   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
004b08   d004     BRA       0x4b12                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0a   0e26     MOVLW     0x26               ebb_print((far rom char *)"\n");                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0c   6e4e     MOVWF     0x4e,0x0                                                                                        
004b0e   0e82     MOVLW     0x82                                                                                            
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b10   d016     BRA       0x4b3e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b12   0100     MOVLB     0x0                if ((g_ack_enable) && (le_type == kLE_OK_NORM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b14   51d0     MOVF      0xd0,0x0,0x1                                                                                    
004b16   e008     BZ        0x4b28                                                                                          
004b18   0efe     MOVLW     0xfe                                                                                            
004b1a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b1c   e105     BNZ       0x4b28                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1e   0e23     MOVLW     0x23                 ebb_print((far rom char *)"OK");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b20   6e4e     MOVWF     0x4e,0x0                                                                                        
004b22   0e82     MOVLW     0x82                                                                                            
004b24   ecfc     CALL      0x61f8,0x0                                                                                      
004b26   f030                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b28   0efe     MOVLW     0xfe               if (le_type == kLE_REV)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b2c   0802     SUBLW     0x2                                                                                             
004b2e   e104     BNZ       0x4b38                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b30   0e20     MOVLW     0x20                 ebb_print((far rom char *)"\n\r");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b32   6e4e     MOVWF     0x4e,0x0                                                                                        
004b34   0e82     MOVLW     0x82                                                                                            
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b36   d003     BRA       0x4b3e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // le_type == kLE_NORM                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b38   0e1d     MOVLW     0x1d                 ebb_print((far rom char *)"\r\n");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3a   6e4e     MOVWF     0x4e,0x0                                                                                        
004b3c   0e82     MOVLW     0x82                                                                                            
004b3e   ecfc     CALL      0x61f8,0x0                                                                                      
004b40   f030                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b42   ef1d     GOTO      0x623a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b44   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return all I/Os to their default power-on values                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b46   ec61     CALL      0x66c2,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b48   f033                                                                                                               
004b4a   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b4c   f031                                                                                                               
004b4e   dc83     RCALL     0x4456           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b50   ef25     GOTO      0x404a           UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b52   f020                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // CU is "Configure UBW" and controls system-wide configuration values           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "CU,<parameter_number>,<parameter_value><CR>"                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <parameter_value>                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   {1|0} turns on or off the 'ack' ("OK" at end of packets)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   {1|0} turns on or off parameter limit checking (defaults to on))          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   {1|0} turns on or off the red LED acting as an empty FIFO indicator (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   <new_fifo_size> sets the FIFO size, in commands. Defaults to 1 at boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 10  {1|0} turns on or off the standardized command format replies (defaults to off)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 50  {1|0} turns on or off the automatic enabling of both motors on any move command (defaults to on) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 51  <limit_switch_mask> sets the limit_switch_mask value for limit switch checking in ISR. Set to 0 to disable. Any high bit looks for a corresponding bit in the limit_switch_target on PORTB D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 52  <limit_switch_target> set the limit_switch_value for limit switch checking in ISR.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 53  {1|0} turns on or off the sending of "Limit switch triggered" replies (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 54  {1|0} turns on/off command checksum (defaults to off)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  <NewThreshood> Set the power lost threshold. Set to 0 to disable.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  <NewStepperDisableTimeoutS> Sets the stepper timeout in seconds. 0 to disable. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 250 {1|0} turns on or off the GPIO DEBUG (i/o pins to time moves and the ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 251 {1|0} turns on or off the UART ISR DEBUG (prints internal numbers at end of each move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 252 {1|0} turns on or off the UART ISR DEBUG FULL (prints internal numbers at end of each ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 253 {1|0} turns on or off the UART COMMAND DEBUG (prints all received command bytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 254 {1} turns on lock up mode. Tight loop of I/O toggles shows true ISR timing. Reset to exit. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 255 {1|0} turns on or off command parsing debug printing on USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 256 {1|0} 1=don't add any moves to FIFO, 0=(default) add moves to FIFO (used for testing of parse functions) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 257 {1|0} turns on or off RC7 as indicator of parsing any command (when high) - defaults to off D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b54   cfd9     MOVFF     0xfd9,0xfe6    void parse_CU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b56   ffe6                                                                                                               
004b58   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004b5a   ffd9                                                                                                               
004b5c   0e04     MOVLW     0x4                                                                                             
004b5e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 parameter_number;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             INT16 paramater_value;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b60   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b62   6ae6     CLRF      0xe6,0x0                                                                                        
004b64   dfaf     RCALL     0x4ac4                                                                                          
004b66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6a   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &parameter_number, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004b6e   ffe6                                                                                                               
004b70   cfda     MOVFF     0xfda,0xfe6                                                                                     
004b72   ffe6                                                                                                               
004b74   0e03     MOVLW     0x3                                                                                             
004b76   6ee6     MOVWF     0xe6,0x0                                                                                        
004b78   ec89     CALL      0x5d12,0x0                                                                                      
004b7a   f02e                                                                                                               
004b7c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b7e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b80   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b84   6ae6     CLRF      0xe6,0x0         extract_number(kINT, &paramater_value, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b86   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004b88   0f02     ADDLW     0x2                                                                                             
004b8a   6ee6     MOVWF     0xe6,0x0                                                                                        
004b8c   0e00     MOVLW     0x0                                                                                             
004b8e   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004b90   6ee6     MOVWF     0xe6,0x0                                                                                        
004b92   0e02     MOVLW     0x2                                                                                             
004b94   6ee6     MOVWF     0xe6,0x0                                                                                        
004b96   ec89     CALL      0x5d12,0x0                                                                                      
004b98   f02e                                                                                                               
004b9a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b9c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ba0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba2   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba4   5197     MOVF      0x97,0x0,0x1                                                                                    
004ba6   e001     BZ        0x4baa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba8   d2f4     BRA       0x5192             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,1,1 or CU,1,0 to turn on/off "OK" at end of command reply                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004baa   0e01     MOVLW     0x1              if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bac   6e4e     MOVWF     0x4e,0x0                                                                                        
004bae   6a4f     CLRF      0x4f,0x0                                                                                        
004bb0   50df     MOVF      0xdf,0x0,0x0                                                                                    
004bb2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004bb4   e103     BNZ       0x4bbc                                                                                          
004bb6   52de     MOVF      0xde,0x1,0x0                                                                                    
004bb8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004bba   184f     XORWF     0x4f,0x0,0x0                                                                                    
004bbc   e11a     BNZ       0x4bf2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bbe   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc0   0f02     ADDLW     0x2                                                                                             
004bc2   6ee9     MOVWF     0xe9,0x0                                                                                        
004bc4   cfda     MOVFF     0xfda,0xfea                                                                                     
004bc6   ffea                                                                                                               
004bc8   50ee     MOVF      0xee,0x0,0x0                                                                                    
004bca   10ed     IORWF     0xed,0x0,0x0                                                                                    
004bcc   e00b     BZ        0x4be4                                                                                          
004bce   0e01     MOVLW     0x1                                                                                             
004bd0   6e4e     MOVWF     0x4e,0x0                                                                                        
004bd2   6a4f     CLRF      0x4f,0x0                                                                                        
004bd4   0e02     MOVLW     0x2                                                                                             
004bd6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004bd8   184e     XORWF     0x4e,0x0,0x0                                                                                    
004bda   e103     BNZ       0x4be2                                                                                          
004bdc   0e03     MOVLW     0x3                                                                                             
004bde   50db     MOVF      0xdb,0x0,0x0                                                                                    
004be0   184f     XORWF     0x4f,0x0,0x0                                                                                    
004be2   e104     BNZ       0x4bec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be4   0e02     MOVLW     0x2                  g_ack_enable = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be6   cfdb     MOVFF     0xfdb,0xd0                                                                                      
004be8   f0d0                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bea   d002     BRA       0x4bf0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bec   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bee   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,2,1 or CU,2,0 to turn on/off parameter limit checks                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf0   d2cd     BRA       0x518c           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf2   0e02     MOVLW     0x2                                                                                             
004bf4   6e4e     MOVWF     0x4e,0x0                                                                                        
004bf6   6a4f     CLRF      0x4f,0x0                                                                                        
004bf8   50df     MOVF      0xdf,0x0,0x0                                                                                    
004bfa   184e     XORWF     0x4e,0x0,0x0                                                                                    
004bfc   e103     BNZ       0x4c04                                                                                          
004bfe   52de     MOVF      0xde,0x1,0x0                                                                                    
004c00   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c02   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c04   e11a     BNZ       0x4c3a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c06   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c08   0f02     ADDLW     0x2                                                                                             
004c0a   6ee9     MOVWF     0xe9,0x0                                                                                        
004c0c   cfda     MOVFF     0xfda,0xfea                                                                                     
004c0e   ffea                                                                                                               
004c10   50ee     MOVF      0xee,0x0,0x0                                                                                    
004c12   10ed     IORWF     0xed,0x0,0x0                                                                                    
004c14   e00b     BZ        0x4c2c                                                                                          
004c16   0e01     MOVLW     0x1                                                                                             
004c18   6e4e     MOVWF     0x4e,0x0                                                                                        
004c1a   6a4f     CLRF      0x4f,0x0                                                                                        
004c1c   0e02     MOVLW     0x2                                                                                             
004c1e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c20   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c22   e103     BNZ       0x4c2a                                                                                          
004c24   0e03     MOVLW     0x3                                                                                             
004c26   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c28   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c2a   e104     BNZ       0x4c34                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2c   0e02     MOVLW     0x2                  gLimitChecks = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2e   cfdb     MOVFF     0xfdb,0x1c2                                                                                     
004c30   f1c2                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c32   d002     BRA       0x4c38             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c34   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c36   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,3,1 or CU,3,0 to turn on/off red LED FIFO empty indicator                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c38   d2a9     BRA       0x518c           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c3a   0e03     MOVLW     0x3                                                                                             
004c3c   6e4e     MOVWF     0x4e,0x0                                                                                        
004c3e   6a4f     CLRF      0x4f,0x0                                                                                        
004c40   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c42   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c44   e103     BNZ       0x4c4c                                                                                          
004c46   52de     MOVF      0xde,0x1,0x0                                                                                    
004c48   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c4a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c4c   e11c     BNZ       0x4c86                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c4e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c50   0f02     ADDLW     0x2                                                                                             
004c52   6ee9     MOVWF     0xe9,0x0                                                                                        
004c54   cfda     MOVFF     0xfda,0xfea                                                                                     
004c56   ffea                                                                                                               
004c58   50ee     MOVF      0xee,0x0,0x0                                                                                    
004c5a   10ed     IORWF     0xed,0x0,0x0                                                                                    
004c5c   e103     BNZ       0x4c64                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c5e   9006     BCF       0x6,0x0,0x0          bitclrzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c60   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c62   d010     BRA       0x4c84             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c64   0e01     MOVLW     0x1                                                                                             
004c66   6e4e     MOVWF     0x4e,0x0                                                                                        
004c68   6a4f     CLRF      0x4f,0x0                                                                                        
004c6a   0e02     MOVLW     0x2                                                                                             
004c6c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c6e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c70   e103     BNZ       0x4c78                                                                                          
004c72   0e03     MOVLW     0x3                                                                                             
004c74   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c76   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c78   e103     BNZ       0x4c80                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7a   8006     BSF       0x6,0x0,0x0          bitsetzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7c   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7e   d002     BRA       0x4c84             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c80   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c82   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,4,<new_FIFO_size>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c84   d283     BRA       0x518c           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c86   0e04     MOVLW     0x4                                                                                             
004c88   6e4e     MOVWF     0x4e,0x0                                                                                        
004c8a   6a4f     CLRF      0x4f,0x0                                                                                        
004c8c   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c8e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c90   e103     BNZ       0x4c98                                                                                          
004c92   52de     MOVF      0xde,0x1,0x0                                                                                    
004c94   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c96   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c98   e11d     BNZ       0x4cd4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c9a   0e02     MOVLW     0x2                if (paramater_value > (INT16)COMMAND_FIFO_MAX_LENGTH)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c9c   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004c9e   f04e                                                                                                               
004ca0   0e03     MOVLW     0x3                                                                                             
004ca2   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004ca4   f04f                                                                                                               
004ca6   344f     RLCF      0x4f,0x0,0x0                                                                                    
004ca8   e204     BC        0x4cb2                                                                                          
004caa   504e     MOVF      0x4e,0x0,0x0                                                                                    
004cac   0820     SUBLW     0x20                                                                                            
004cae   0e00     MOVLW     0x0                                                                                             
004cb0   544f     SUBFWB    0x4f,0x0,0x0                                                                                    
004cb2   e207     BC        0x4cc2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb4   0e20     MOVLW     0x20                 paramater_value = COMMAND_FIFO_MAX_LENGTH;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb6   6ef3     MOVWF     0xf3,0x0                                                                                        
004cb8   0e02     MOVLW     0x2                                                                                             
004cba   cff3     MOVFF     0xff3,0xfdb                                                                                     
004cbc   ffdb                                                                                                               
004cbe   0e03     MOVLW     0x3                                                                                             
004cc0   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spin here until we're certain the FIFO is empty and there are no          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // command executing. We want the ISR to be completely idle while we         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // change this value.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cc2   ecc1     CALL      0x2f82,0x0         while (process_QM())                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cc4   f017                                                                                                               
004cc6   0900     IORLW     0x0                                                                                             
004cc8   e001     BZ        0x4ccc                                                                                          
004cca   d7fb     BRA       0x4cc2                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ccc   0e02     MOVLW     0x2                gCurrentFIFOLength = paramater_value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cce   50db     MOVF      0xdb,0x0,0x0                                                                                    
004cd0   6e13     MOVWF     0x13,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,10,1 or CU,10,0 to turn on/off standardized line ending                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd2   d25c     BRA       0x518c           else if (10u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd4   0e0a     MOVLW     0xa                                                                                             
004cd6   6e4e     MOVWF     0x4e,0x0                                                                                        
004cd8   6a4f     CLRF      0x4f,0x0                                                                                        
004cda   50df     MOVF      0xdf,0x0,0x0                                                                                    
004cdc   184e     XORWF     0x4e,0x0,0x0                                                                                    
004cde   e103     BNZ       0x4ce6                                                                                          
004ce0   52de     MOVF      0xde,0x1,0x0                                                                                    
004ce2   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004ce4   184f     XORWF     0x4f,0x0,0x0                                                                                    
004ce6   e11c     BNZ       0x4d20                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce8   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cea   0f02     ADDLW     0x2                                                                                             
004cec   6ee9     MOVWF     0xe9,0x0                                                                                        
004cee   cfda     MOVFF     0xfda,0xfea                                                                                     
004cf0   ffea                                                                                                               
004cf2   50ee     MOVF      0xee,0x0,0x0                                                                                    
004cf4   10ed     IORWF     0xed,0x0,0x0                                                                                    
004cf6   e103     BNZ       0x4cfe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf8   0101     MOVLB     0x1                  bitclrzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfa   91c3     BCF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfc   d010     BRA       0x4d1e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfe   0e01     MOVLW     0x1                                                                                             
004d00   6e4e     MOVWF     0x4e,0x0                                                                                        
004d02   6a4f     CLRF      0x4f,0x0                                                                                        
004d04   0e02     MOVLW     0x2                                                                                             
004d06   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d08   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d0a   e103     BNZ       0x4d12                                                                                          
004d0c   0e03     MOVLW     0x3                                                                                             
004d0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d10   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d12   e103     BNZ       0x4d1a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d14   0101     MOVLB     0x1                  bitsetzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d16   81c3     BSF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d18   d002     BRA       0x4d1e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1a   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1c   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,50,1 or CU,50,0 to turn on/off automatic motor enable                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1e   d236     BRA       0x518c           else if (50u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d20   0e32     MOVLW     0x32                                                                                            
004d22   6e4e     MOVWF     0x4e,0x0                                                                                        
004d24   6a4f     CLRF      0x4f,0x0                                                                                        
004d26   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d28   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d2a   e103     BNZ       0x4d32                                                                                          
004d2c   52de     MOVF      0xde,0x1,0x0                                                                                    
004d2e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d30   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d32   e10f     BNZ       0x4d52                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d34   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d36   0f02     ADDLW     0x2                                                                                             
004d38   6ee9     MOVWF     0xe9,0x0                                                                                        
004d3a   cfda     MOVFF     0xfda,0xfea                                                                                     
004d3c   ffea                                                                                                               
004d3e   50ee     MOVF      0xee,0x0,0x0                                                                                    
004d40   10ed     IORWF     0xed,0x0,0x0                                                                                    
004d42   e103     BNZ       0x4d4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d44   0100     MOVLB     0x0                  gAutomaticMotorEnable = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d46   6bd9     CLRF      0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d48   d003     BRA       0x4d50             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4a   0100     MOVLB     0x0                  gAutomaticMotorEnable = TRUE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4c   0e01     MOVLW     0x1                                                                                             
004d4e   6fd9     MOVWF     0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,51,<limit_switch_mask>                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d50   d21d     BRA       0x518c           else if (51u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d52   0e33     MOVLW     0x33                                                                                            
004d54   6e4e     MOVWF     0x4e,0x0                                                                                        
004d56   6a4f     CLRF      0x4f,0x0                                                                                        
004d58   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d5a   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d5c   e103     BNZ       0x4d64                                                                                          
004d5e   52de     MOVF      0xde,0x1,0x0                                                                                    
004d60   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d62   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d64   e111     BNZ       0x4d88                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d66   0eff     MOVLW     0xff               gLimitSwitchMask = (paramater_value & 0xFF);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d68   6ee7     MOVWF     0xe7,0x0                                                                                        
004d6a   0e02     MOVLW     0x2                                                                                             
004d6c   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004d6e   f04e                                                                                                               
004d70   0e03     MOVLW     0x3                                                                                             
004d72   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004d74   f04f                                                                                                               
004d76   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004d78   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004d7a   6a4f     CLRF      0x4f,0x0                                                                                        
004d7c   504e     MOVF      0x4e,0x0,0x0                                                                                    
004d7e   6e0c     MOVWF     0xc,0x0                                                                                         
004d80   500c     MOVF      0xc,0x0,0x0        if (gLimitSwitchMask == 0u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d82   e101     BNZ       0x4d86                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d84   900e     BCF       0xe,0x0,0x0          bitclrzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,52,<limit_siwtch_target>                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d86   d202     BRA       0x518c           else if (52u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d88   0e34     MOVLW     0x34                                                                                            
004d8a   6e4e     MOVWF     0x4e,0x0                                                                                        
004d8c   6a4f     CLRF      0x4f,0x0                                                                                        
004d8e   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d90   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d92   e103     BNZ       0x4d9a                                                                                          
004d94   52de     MOVF      0xde,0x1,0x0                                                                                    
004d96   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d98   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d9a   e10e     BNZ       0x4db8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d9c   0eff     MOVLW     0xff               gLimitSwitchTarget = (paramater_value & 0xFF);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d9e   6ee7     MOVWF     0xe7,0x0                                                                                        
004da0   0e02     MOVLW     0x2                                                                                             
004da2   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004da4   f04e                                                                                                               
004da6   0e03     MOVLW     0x3                                                                                             
004da8   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004daa   f04f                                                                                                               
004dac   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004dae   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004db0   6a4f     CLRF      0x4f,0x0                                                                                        
004db2   504e     MOVF      0x4e,0x0,0x0                                                                                    
004db4   6e0d     MOVWF     0xd,0x0                                                                                         
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,53,1 turns on the sending of "Limit switch trigger" replies              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db6   d1ea     BRA       0x518c           else if (53u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db8   0e35     MOVLW     0x35                                                                                            
004dba   6e4e     MOVWF     0x4e,0x0                                                                                        
004dbc   6a4f     CLRF      0x4f,0x0                                                                                        
004dbe   50df     MOVF      0xdf,0x0,0x0                                                                                    
004dc0   184e     XORWF     0x4e,0x0,0x0                                                                                    
004dc2   e103     BNZ       0x4dca                                                                                          
004dc4   52de     MOVF      0xde,0x1,0x0                                                                                    
004dc6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004dc8   184f     XORWF     0x4f,0x0,0x0                                                                                    
004dca   e114     BNZ       0x4df4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dcc   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dce   6e4e     MOVWF     0x4e,0x0                                                                                        
004dd0   6a4f     CLRF      0x4f,0x0                                                                                        
004dd2   0e02     MOVLW     0x2                                                                                             
004dd4   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dd6   184e     XORWF     0x4e,0x0,0x0                                                                                    
004dd8   e103     BNZ       0x4de0                                                                                          
004dda   0e03     MOVLW     0x3                                                                                             
004ddc   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dde   184f     XORWF     0x4f,0x0,0x0                                                                                    
004de0   e104     BNZ       0x4dea                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de2   0100     MOVLB     0x0                  gLimitSwitchReplies = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de4   0e01     MOVLW     0x1                                                                                             
004de6   6fdd     MOVWF     0xdd,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de8   d004     BRA       0x4df2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dea   0100     MOVLB     0x0                  gLimitSwitchReplies = FALSE;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dec   6bdd     CLRF      0xdd,0x1                                                                                        
004dee   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004df0   6bde     CLRF      0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,54,1 turns on command checksums                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004df2   d1cc     BRA       0x518c           else if (54u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004df4   0e36     MOVLW     0x36                                                                                            
004df6   6e4e     MOVWF     0x4e,0x0                                                                                        
004df8   6a4f     CLRF      0x4f,0x0                                                                                        
004dfa   50df     MOVF      0xdf,0x0,0x0                                                                                    
004dfc   184e     XORWF     0x4e,0x0,0x0                                                                                    
004dfe   e103     BNZ       0x4e06                                                                                          
004e00   52de     MOVF      0xde,0x1,0x0                                                                                    
004e02   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e04   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e06   e112     BNZ       0x4e2c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e08   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e0a   6e4e     MOVWF     0x4e,0x0                                                                                        
004e0c   6a4f     CLRF      0x4f,0x0                                                                                        
004e0e   0e02     MOVLW     0x2                                                                                             
004e10   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e12   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e14   e103     BNZ       0x4e1c                                                                                          
004e16   0e03     MOVLW     0x3                                                                                             
004e18   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e1a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e1c   e104     BNZ       0x4e26                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1e   0100     MOVLB     0x0                  gCommandChecksumRequired = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e20   0e01     MOVLW     0x1                                                                                             
004e22   6fdf     MOVWF     0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e24   d002     BRA       0x4e2a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e26   0100     MOVLB     0x0                  gCommandChecksumRequired = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e28   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,60,<NewThreshold>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e2a   d1b0     BRA       0x518c           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e2c   0e3c     MOVLW     0x3c                                                                                            
004e2e   6e4e     MOVWF     0x4e,0x0                                                                                        
004e30   6a4f     CLRF      0x4f,0x0                                                                                        
004e32   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e34   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e36   e103     BNZ       0x4e3e                                                                                          
004e38   52de     MOVF      0xde,0x1,0x0                                                                                    
004e3a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e3c   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e3e   e10d     BNZ       0x4e5a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e40   0e02     MOVLW     0x2                g_PowerMonitorThresholdADC = (paramater_value & 0x03FF);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e42   cfdb     MOVFF     0xfdb,0xa5                                                                                      
004e44   f0a5                                                                                                               
004e46   0e03     MOVLW     0x3                                                                                             
004e48   cfdb     MOVFF     0xfdb,0xa6                                                                                      
004e4a   f0a6                                                                                                               
004e4c   0eff     MOVLW     0xff                                                                                            
004e4e   0100     MOVLB     0x0                                                                                             
004e50   17a5     ANDWF     0xa5,0x1,0x1                                                                                    
004e52   0e03     MOVLW     0x3                                                                                             
004e54   0100     MOVLB     0x0                                                                                             
004e56   17a6     ANDWF     0xa6,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,61,<NewStepperDisableTimeoutThreshold>                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e58   d199     BRA       0x518c           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e5a   0e3d     MOVLW     0x3d                                                                                            
004e5c   6e4e     MOVWF     0x4e,0x0                                                                                        
004e5e   6a4f     CLRF      0x4f,0x0                                                                                        
004e60   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e62   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e64   e103     BNZ       0x4e6c                                                                                          
004e66   52de     MOVF      0xde,0x1,0x0                                                                                    
004e68   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e6a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e6c   e137     BNZ       0x4edc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e6e   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e70   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;    // Turn low priority interrupts off                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e72   0e02     MOVLW     0x2                g_StepperDisableTimeoutS = paramater_value;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e74   cfdb     MOVFF     0xfdb,0xa9                                                                                      
004e76   f0a9                                                                                                               
004e78   0e03     MOVLW     0x3                                                                                             
004e7a   cfdb     MOVFF     0xfdb,0xaa                                                                                      
004e7c   f0aa                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e7e   0100     MOVLB     0x0                if (g_StepperDisableTimeoutS == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e80   51a9     MOVF      0xa9,0x0,0x1                                                                                    
004e82   11aa     IORWF     0xaa,0x0,0x1                                                                                    
004e84   e109     BNZ       0x4e98                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn feature completely off no matter what state we're in               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e86   0100     MOVLB     0x0                  g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e88   6ba8     CLRF      0xa8,0x1                                                                                        
004e8a   0100     MOVLB     0x0                  g_StepperDisableSecondCounter = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e8c   6bab     CLRF      0xab,0x1                                                                                        
004e8e   6bac     CLRF      0xac,0x1                                                                                        
004e90   0100     MOVLB     0x0                  g_StepperDisableCountdownS = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e92   6bad     CLRF      0xad,0x1                                                                                        
004e94   6bae     CLRF      0xae,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e96   d01f     BRA       0x4ed6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // User wants feature enabled with new timeout. Do different things        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // based on current state.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e98   0100     MOVLB     0x0                  switch (g_StepperDisableState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e9a   51a8     MOVF      0xa8,0x0,0x1                                                                                    
004e9c   0a03     XORLW     0x3                                                                                             
004e9e   e014     BZ        0x4ec8                                                                                          
004ea0   0a02     XORLW     0x2                                                                                             
004ea2   e00f     BZ        0x4ec2                                                                                          
004ea4   0a01     XORLW     0x1                                                                                             
004ea6   e00d     BZ        0x4ec2                                                                                          
004ea8   0a02     XORLW     0x2                                                                                             
004eaa   e001     BZ        0x4eae                                                                                          
004eac   d00a     BRA       0x4ec2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_TIMING:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Always start over with new timeout value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eae   c0a9     MOVFF     0xa9,0xad                g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb0   f0ad                                                                                                               
004eb2   c0aa     MOVFF     0xaa,0xae                                                                                       
004eb4   f0ae                                                                                                               
004eb6   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 1000u;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb8   0ee8     MOVLW     0xe8                                                                                            
004eba   6fab     MOVWF     0xab,0x1                                                                                        
004ebc   0e03     MOVLW     0x3                                                                                             
004ebe   6fac     MOVWF     0xac,0x1                                                                                        
004ec0   d00a     BRA       0x4ed6                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_PRIMED:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_DISABLED:                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec2   0100     MOVLB     0x0                      g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec4   0e01     MOVLW     0x1                                                                                             
004ec6   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                     // Note intentional fall-through                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_FIRED:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec8   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eca   6bab     CLRF      0xab,0x1                                                                                        
004ecc   6bac     CLRF      0xac,0x1                                                                                        
004ece   0100     MOVLB     0x0                      g_StepperDisableCountdownS = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed0   6bad     CLRF      0xad,0x1                                                                                        
004ed2   6bae     CLRF      0xae,0x1                                                                                        
004ed4   d000     BRA       0x4ed6                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed6   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;    // Turn low priority interrupts on                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed8   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,250,1 or CU,250,0 to turn on/off GPIO ISR timing debug                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eda   d158     BRA       0x518c           else if (250u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004edc   0efa     MOVLW     0xfa                                                                                            
004ede   6e4e     MOVWF     0x4e,0x0                                                                                        
004ee0   6a4f     CLRF      0x4f,0x0                                                                                        
004ee2   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ee4   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ee6   e103     BNZ       0x4eee                                                                                          
004ee8   52de     MOVF      0xde,0x1,0x0                                                                                    
004eea   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004eec   184f     XORWF     0x4f,0x0,0x0                                                                                    
004eee   e11d     BNZ       0x4f2a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef0   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef2   0f02     ADDLW     0x2                                                                                             
004ef4   6ee9     MOVWF     0xe9,0x0                                                                                        
004ef6   cfda     MOVFF     0xfda,0xfea                                                                                     
004ef8   ffea                                                                                                               
004efa   50ee     MOVF      0xee,0x0,0x0                                                                                    
004efc   10ed     IORWF     0xed,0x0,0x0                                                                                    
004efe   e102     BNZ       0x4f04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f00   9209     BCF       0x9,0x1,0x0          bitclr(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f02   d012     BRA       0x4f28             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f04   0e01     MOVLW     0x1                                                                                             
004f06   6e4e     MOVWF     0x4e,0x0                                                                                        
004f08   6a4f     CLRF      0x4f,0x0                                                                                        
004f0a   0e02     MOVLW     0x2                                                                                             
004f0c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f0e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f10   e103     BNZ       0x4f18                                                                                          
004f12   0e03     MOVLW     0x3                                                                                             
004f14   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f16   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f18   e105     BNZ       0x4f24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f1a   8209     BSF       0x9,0x1,0x0          bitset(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f1c   9295     BCF       0x95,0x1,0x0         TRISDbits.TRISD1 = 0;   // D1 high when in ISR                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f1e   9095     BCF       0x95,0x0,0x0         TRISDbits.TRISD0 = 0;   // D0 high when loading next command               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f20   9292     BCF       0x92,0x1,0x0         TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f22   d002     BRA       0x4f28             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f24   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f26   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,251,1 or CU,251,0 to turn on/off ISR end of move values printing (On RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f28   d131     BRA       0x518c           else if (251u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f2a   0efb     MOVLW     0xfb                                                                                            
004f2c   6e4e     MOVWF     0x4e,0x0                                                                                        
004f2e   6a4f     CLRF      0x4f,0x0                                                                                        
004f30   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f32   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f34   e103     BNZ       0x4f3c                                                                                          
004f36   52de     MOVF      0xde,0x1,0x0                                                                                    
004f38   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f3a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f3c   e12b     BNZ       0x4f94                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f3e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f40   0f02     ADDLW     0x2                                                                                             
004f42   6ee9     MOVWF     0xe9,0x0                                                                                        
004f44   cfda     MOVFF     0xfda,0xfea                                                                                     
004f46   ffea                                                                                                               
004f48   50ee     MOVF      0xee,0x0,0x0                                                                                    
004f4a   10ed     IORWF     0xed,0x0,0x0                                                                                    
004f4c   e103     BNZ       0x4f54                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f4e   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f50   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f52   d01f     BRA       0x4f92             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f54   0e01     MOVLW     0x1                                                                                             
004f56   6e4e     MOVWF     0x4e,0x0                                                                                        
004f58   6a4f     CLRF      0x4f,0x0                                                                                        
004f5a   0e02     MOVLW     0x2                                                                                             
004f5c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f5e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f60   e103     BNZ       0x4f68                                                                                          
004f62   0e03     MOVLW     0x3                                                                                             
004f64   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f66   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f68   e112     BNZ       0x4f8e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6a   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6c   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6e   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f70   6ee6     MOVWF     0xe6,0x0                                                                                        
004f72   ec6d     CALL      0x8eda,0x0                                                                                      
004f74   f047                                                                                                               
004f76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f7e   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f80   6ee6     MOVWF     0xe6,0x0                                                                                        
004f78   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f7a   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f7c   6ae6     CLRF      0xe6,0x0                                                                                        
004f82   ec67     CALL      0x8cce,0x0                                                                                      
004f84   f046                                                                                                               
004f86   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f8c   d002     BRA       0x4f92             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f8e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f90   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,252,1 or CU,252,0 to turn on/off every ISR tick values printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f92   d0fc     BRA       0x518c           else if (252u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f94   0efc     MOVLW     0xfc                                                                                            
004f96   6e4e     MOVWF     0x4e,0x0                                                                                        
004f98   6a4f     CLRF      0x4f,0x0                                                                                        
004f9a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f9c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f9e   e103     BNZ       0x4fa6                                                                                          
004fa0   52de     MOVF      0xde,0x1,0x0                                                                                    
004fa2   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004fa4   184f     XORWF     0x4f,0x0,0x0                                                                                    
004fa6   e12b     BNZ       0x4ffe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa8   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004faa   0f02     ADDLW     0x2                                                                                             
004fac   6ee9     MOVWF     0xe9,0x0                                                                                        
004fae   cfda     MOVFF     0xfda,0xfea                                                                                     
004fb0   ffea                                                                                                               
004fb2   50ee     MOVF      0xee,0x0,0x0                                                                                    
004fb4   10ed     IORWF     0xed,0x0,0x0                                                                                    
004fb6   e103     BNZ       0x4fbe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fb8   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fba   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fbc   d01f     BRA       0x4ffc             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fbe   0e01     MOVLW     0x1                                                                                             
004fc0   6e4e     MOVWF     0x4e,0x0                                                                                        
004fc2   6a4f     CLRF      0x4f,0x0                                                                                        
004fc4   0e02     MOVLW     0x2                                                                                             
004fc6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004fc8   184e     XORWF     0x4e,0x0,0x0                                                                                    
004fca   e103     BNZ       0x4fd2                                                                                          
004fcc   0e03     MOVLW     0x3                                                                                             
004fce   50db     MOVF      0xdb,0x0,0x0                                                                                    
004fd0   184f     XORWF     0x4f,0x0,0x0                                                                                    
004fd2   e112     BNZ       0x4ff8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fd4   8609     BSF       0x9,0x3,0x0          bitset(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fd6   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fd8   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fda   6ee6     MOVWF     0xe6,0x0                                                                                        
004fdc   ec6d     CALL      0x8eda,0x0                                                                                      
004fde   f047                                                                                                               
004fe0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fe8   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fea   6ee6     MOVWF     0xe6,0x0                                                                                        
004fe2   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fe4   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fe6   6ae6     CLRF      0xe6,0x0                                                                                        
004fec   ec67     CALL      0x8cce,0x0                                                                                      
004fee   f046                                                                                                               
004ff0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ff2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ff4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ff6   d002     BRA       0x4ffc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ff8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ffa   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,253,1 or CU,253,0 to turn on/off move command extra debug printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ffc   d0c7     BRA       0x518c           else if (253u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ffe   0efd     MOVLW     0xfd                                                                                            
005000   6e4e     MOVWF     0x4e,0x0                                                                                        
005002   6a4f     CLRF      0x4f,0x0                                                                                        
005004   50df     MOVF      0xdf,0x0,0x0                                                                                    
005006   184e     XORWF     0x4e,0x0,0x0                                                                                    
005008   e103     BNZ       0x5010                                                                                          
00500a   52de     MOVF      0xde,0x1,0x0                                                                                    
00500c   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00500e   184f     XORWF     0x4f,0x0,0x0                                                                                    
005010   e129     BNZ       0x5064                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005012   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005014   0f02     ADDLW     0x2                                                                                             
005016   6ee9     MOVWF     0xe9,0x0                                                                                        
005018   cfda     MOVFF     0xfda,0xfea                                                                                     
00501a   ffea                                                                                                               
00501c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00501e   10ed     IORWF     0xed,0x0,0x0                                                                                    
005020   e102     BNZ       0x5026                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005022   9809     BCF       0x9,0x4,0x0          bitclr(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005024   d01e     BRA       0x5062             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005026   0e01     MOVLW     0x1                                                                                             
005028   6e4e     MOVWF     0x4e,0x0                                                                                        
00502a   6a4f     CLRF      0x4f,0x0                                                                                        
00502c   0e02     MOVLW     0x2                                                                                             
00502e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005030   184e     XORWF     0x4e,0x0,0x0                                                                                    
005032   e103     BNZ       0x503a                                                                                          
005034   0e03     MOVLW     0x3                                                                                             
005036   50db     MOVF      0xdb,0x0,0x0                                                                                    
005038   184f     XORWF     0x4f,0x0,0x0                                                                                    
00503a   e111     BNZ       0x505e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00503c   8809     BSF       0x9,0x4,0x0          bitset(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00503e   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005040   6ee6     MOVWF     0xe6,0x0                                                                                        
005042   ec6d     CALL      0x8eda,0x0                                                                                      
005044   f047                                                                                                               
005046   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00504e   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005050   6ee6     MOVWF     0xe6,0x0                                                                                        
005048   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00504a   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00504c   6ae6     CLRF      0xe6,0x0                                                                                        
005052   ec67     CALL      0x8cce,0x0                                                                                      
005054   f046                                                                                                               
005056   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005058   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00505a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00505c   d002     BRA       0x5062             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00505e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005060   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,254 turns on 'lock up mode' for measuring true ISR timing by cycling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // I/O pin on and off as fast as possible, then breaks in that I/O toggle      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // can be seen for the ISR and measured.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005062   d094     BRA       0x518c           else if (254u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005064   0efe     MOVLW     0xfe                                                                                            
005066   6e4e     MOVWF     0x4e,0x0                                                                                        
005068   6a4f     CLRF      0x4f,0x0                                                                                        
00506a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00506c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00506e   e103     BNZ       0x5076                                                                                          
005070   52de     MOVF      0xde,0x1,0x0                                                                                    
005072   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005074   184f     XORWF     0x4f,0x0,0x0                                                                                    
005076   e11a     BNZ       0x50ac                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005078   8209     BSF       0x9,0x1,0x0        bitset(TestMode, TEST_MODE_GPIO_NUM);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507a   9295     BCF       0x95,0x1,0x0       TRISDbits.TRISD1 = 0;   // D1 high when in ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507c   9095     BCF       0x95,0x0,0x0       TRISDbits.TRISD0 = 0;   // D0 high when loading next command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507e   9292     BCF       0x92,0x1,0x0       TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a8   d7eb     BRA       0x5080             while(1)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005080   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005082   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005084   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005086   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005088   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00508a   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00508c   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00508e   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005090   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005092   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005094   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005096   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005098   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00509a   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00509c   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00509e   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a0   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a2   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a4   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a6   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,255,1 or CU,255,0 to turn on/off command parsing debug printing on USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050aa   d070     BRA       0x518c           else if (255u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ac   684e     SETF      0x4e,0x0                                                                                        
0050ae   6a4f     CLRF      0x4f,0x0                                                                                        
0050b0   50df     MOVF      0xdf,0x0,0x0                                                                                    
0050b2   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050b4   e103     BNZ       0x50bc                                                                                          
0050b6   52de     MOVF      0xde,0x1,0x0                                                                                    
0050b8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050ba   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050bc   e11a     BNZ       0x50f2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050be   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c0   0f02     ADDLW     0x2                                                                                             
0050c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0050c4   cfda     MOVFF     0xfda,0xfea                                                                                     
0050c6   ffea                                                                                                               
0050c8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0050ca   10ed     IORWF     0xed,0x0,0x0                                                                                    
0050cc   e102     BNZ       0x50d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ce   9a09     BCF       0x9,0x5,0x0          bitclr(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d0   d00f     BRA       0x50f0             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d2   0e01     MOVLW     0x1                                                                                             
0050d4   6e4e     MOVWF     0x4e,0x0                                                                                        
0050d6   6a4f     CLRF      0x4f,0x0                                                                                        
0050d8   0e02     MOVLW     0x2                                                                                             
0050da   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050dc   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050de   e103     BNZ       0x50e6                                                                                          
0050e0   0e03     MOVLW     0x3                                                                                             
0050e2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050e4   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050e6   e102     BNZ       0x50ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050e8   8a09     BSF       0x9,0x5,0x0          bitset(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ea   d002     BRA       0x50f0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ec   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ee   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,256,1 or CU,256,0 to turn on/off sending parsed commands to FIFO         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f0   d04d     BRA       0x518c           else if (256u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f2   6a4e     CLRF      0x4e,0x0                                                                                        
0050f4   0e01     MOVLW     0x1                                                                                             
0050f6   6e4f     MOVWF     0x4f,0x0                                                                                        
0050f8   50df     MOVF      0xdf,0x0,0x0                                                                                    
0050fa   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050fc   e103     BNZ       0x5104                                                                                          
0050fe   52de     MOVF      0xde,0x1,0x0                                                                                    
005100   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005102   184f     XORWF     0x4f,0x0,0x0                                                                                    
005104   e11a     BNZ       0x513a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005106   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005108   0f02     ADDLW     0x2                                                                                             
00510a   6ee9     MOVWF     0xe9,0x0                                                                                        
00510c   cfda     MOVFF     0xfda,0xfea                                                                                     
00510e   ffea                                                                                                               
005110   50ee     MOVF      0xee,0x0,0x0                                                                                    
005112   10ed     IORWF     0xed,0x0,0x0                                                                                    
005114   e102     BNZ       0x511a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005116   9c09     BCF       0x9,0x6,0x0          bitclr(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005118   d00f     BRA       0x5138             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511a   0e01     MOVLW     0x1                                                                                             
00511c   6e4e     MOVWF     0x4e,0x0                                                                                        
00511e   6a4f     CLRF      0x4f,0x0                                                                                        
005120   0e02     MOVLW     0x2                                                                                             
005122   50db     MOVF      0xdb,0x0,0x0                                                                                    
005124   184e     XORWF     0x4e,0x0,0x0                                                                                    
005126   e103     BNZ       0x512e                                                                                          
005128   0e03     MOVLW     0x3                                                                                             
00512a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00512c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00512e   e102     BNZ       0x5134                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005130   8c09     BSF       0x9,0x6,0x0          bitset(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005132   d002     BRA       0x5138             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005134   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005136   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,257,1 or CU,257,0 to turn on/off RC0 as indicator of command is parsing  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005138   d029     BRA       0x518c           else if (257u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00513a   0e01     MOVLW     0x1                                                                                             
00513c   6e4e     MOVWF     0x4e,0x0                                                                                        
00513e   0e01     MOVLW     0x1                                                                                             
005140   6e4f     MOVWF     0x4f,0x0                                                                                        
005142   50df     MOVF      0xdf,0x0,0x0                                                                                    
005144   184e     XORWF     0x4e,0x0,0x0                                                                                    
005146   e103     BNZ       0x514e                                                                                          
005148   52de     MOVF      0xde,0x1,0x0                                                                                    
00514a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00514c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00514e   e11c     BNZ       0x5188                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005150   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005152   0f02     ADDLW     0x2                                                                                             
005154   6ee9     MOVWF     0xe9,0x0                                                                                        
005156   cfda     MOVFF     0xfda,0xfea                                                                                     
005158   ffea                                                                                                               
00515a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00515c   10ed     IORWF     0xed,0x0,0x0                                                                                    
00515e   e103     BNZ       0x5166                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005160   9009     BCF       0x9,0x0,0x0          bitclrzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005162   8094     BSF       0x94,0x0,0x0         TRISCbits.TRISC0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005164   d010     BRA       0x5186             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005166   0e01     MOVLW     0x1                                                                                             
005168   6e4e     MOVWF     0x4e,0x0                                                                                        
00516a   6a4f     CLRF      0x4f,0x0                                                                                        
00516c   0e02     MOVLW     0x2                                                                                             
00516e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005170   184e     XORWF     0x4e,0x0,0x0                                                                                    
005172   e103     BNZ       0x517a                                                                                          
005174   0e03     MOVLW     0x3                                                                                             
005176   50db     MOVF      0xdb,0x0,0x0                                                                                    
005178   184f     XORWF     0x4f,0x0,0x0                                                                                    
00517a   e103     BNZ       0x5182                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00517c   8009     BSF       0x9,0x0,0x0          bitsetzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00517e   9094     BCF       0x94,0x0,0x0         TRISCbits.TRISC0 = 0;   // C0 high when parsing command                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005180   d002     BRA       0x5186             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005182   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005184   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005186   d002     BRA       0x518c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005188   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518a   8d97     BSF       0x97,0x6,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518c   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518e   dcb8     RCALL     0x4b00                                                                                          
005190   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005192   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005194   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005196   e202     BC        0x519c                                                                                          
005198   6ae1     CLRF      0xe1,0x0                                                                                        
00519a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00519c   6ee1     MOVWF     0xe1,0x0                                                                                        
00519e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051a0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0051a2   ffd9                                                                                                               
0051a4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QU is "Query Utility" and provides a simple mechanism for the PC reading      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // certain values from the EBB.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QU,<parameter_number><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns: Some value(s), dependant on what parameter_number is.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <return_packet>                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   QU,1,XX  where XX is a value from 00 to FF, representing the contents of  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //              the PortB pins at the time of the last limit switch trigger      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   QU,2,ddd to read back the maximum supported FIFO length for this version  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   QU,3,ddd to read back the current FIFO length                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   QU,4,XXX prints out stack high water value (as 3 digit hex value)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 5   QU,5,XXX prints out stack high water value (as 3 digit hex value) and resets it to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051a6   ecb6     CALL      0x656c,0x0     void parse_QU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051a8   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 parameter_number;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051aa   ecc9     CALL      0x6592,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ac   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ae   0e01     MOVLW     0x1              extract_number(kUCHAR, &parameter_number, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b0   ec02     CALL      0x6204,0x0                                                                                      
0051b2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b4   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b6   5197     MOVF      0x97,0x0,0x1                                                                                    
0051b8   e001     BZ        0x51bc                                                                                          
0051ba   d082     BRA       0x52c0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,1 to read back current value of gLimitSwitchPortB                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,1,XX" where XX is two digit hex value from 00 to FF             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051bc   04df     DECF      0xdf,0x0,0x0     if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051be   e108     BNZ       0x51d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c0   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c2   f032                                                                                                               
00624c   6ee6     MOVWF     0xe6,0x0           ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00624e   ecfc     CALL      0x43f8,0x0                                                                                      
006250   f021                                                                                                               
006252   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006254   0012     RETURN    0x0                                                                                             
0051c4   0e02     MOVLW     0x2                ebb_print_hex(gLimitSwitchPortB, 2);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0051c8   c0dc     MOVFF     0xdc,0x4e                                                                                       
0051ca   f04e                                                                                                               
0051cc   6a4f     CLRF      0x4f,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,2 to read back the maximum supported FIFO length for this version        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,2,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ce   d020     BRA       0x5210           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d0   0e02     MOVLW     0x2                                                                                             
0051d2   ec5a     CALL      0x62b4,0x0                                                                                      
0051d4   f031                                                                                                               
0051d6   e108     BNZ       0x51e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d8   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051da   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051dc   0e20     MOVLW     0x20               ebb_print_uint(COMMAND_FIFO_MAX_LENGTH);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051de   6ee6     MOVWF     0xe6,0x0                                                                                        
0051e0   6ae6     CLRF      0xe6,0x0                                                                                        
0051e2   6ae6     CLRF      0xe6,0x0                                                                                        
0051e4   6ae6     CLRF      0xe6,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,3 to read back the current FIFO length                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,3,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e6   d044     BRA       0x5270           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e8   0e03     MOVLW     0x3                                                                                             
0051ea   ec5a     CALL      0x62b4,0x0                                                                                      
0051ec   f031                                                                                                               
0051ee   e106     BNZ       0x51fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f0   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f2   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f4   5013     MOVF      0x13,0x0,0x0       ebb_print_uint(gCurrentFIFOLength);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f6   ec83     CALL      0x6306,0x0                                                                                      
0051f8   f031                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,4 prints out current stack high water value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051fa   d038     BRA       0x526c           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051fc   0e04     MOVLW     0x4                                                                                             
0051fe   ec5a     CALL      0x62b4,0x0                                                                                      
005200   f031                                                                                                               
005202   e109     BNZ       0x5216                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005204   ecf2     CALL      0x3fe4,0x0         check_high_water();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005206   f01f                                                                                                               
005208   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520a   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520c   ec34     CALL      0x6468,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520e   f032                                                                                                               
005210   ec21     CALL      0x6242,0x0                                                                                      
005212   f031                                                                                                               
006468   0e03     MOVLW     0x3                                                                                             
00646a   6ee6     MOVWF     0xe6,0x0                                                                                        
00646c   c0e0     MOVFF     0xe0,0x4e                                                                                       
00646e   f04e                                                                                                               
006470   c0e1     MOVFF     0xe1,0x4f                                                                                       
006472   f04f                                                                                                               
006474   0012     RETURN    0x0                                                                                             
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,5 prints out current stack high water value and resets it to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005214   d04f     BRA       0x52b4           else if (5u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005216   0e05     MOVLW     0x5                                                                                             
005218   ec5a     CALL      0x62b4,0x0                                                                                      
00521a   f031                                                                                                               
00521c   e10e     BNZ       0x523a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521e   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005220   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005222   ec34     CALL      0x6468,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005224   f032                                                                                                               
005226   ec21     CALL      0x6242,0x0                                                                                      
005228   f031                                                                                                               
006242   6a50     CLRF      0x50,0x0                                                                                        
006244   6a51     CLRF      0x51,0x0                                                                                        
006246   da59     RCALL     0x66fa                                                                                          
006248   eff4     GOTO      0x65e8                                                                                          
00624a   f032                                                                                                               
00522a   ec06     CALL      0x620c,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00522c   f031                                                                                                               
00522e   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;  // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005230   0100     MOVLB     0x0                gStackHighWater = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005232   6be0     CLRF      0xe0,0x1                                                                                        
005234   6be1     CLRF      0xe1,0x1                                                                                        
005236   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;  // Turn low priority interrupts on                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005238   d041     BRA       0x52bc           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523a   0e3c     MOVLW     0x3c                                                                                            
00523c   ec5a     CALL      0x62b4,0x0                                                                                      
00523e   f031                                                                                                               
005240   e107     BNZ       0x5250                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005242   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005244   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005246   c0a5     MOVFF     0xa5,0x4e          ebb_print_uint(g_PowerMonitorThresholdADC);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005248   f04e                                                                                                               
00524a   c0a6     MOVFF     0xa6,0x4f                                                                                       
00524c   f04f                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524e   d00a     BRA       0x5264           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005250   0e3d     MOVLW     0x3d                                                                                            
005252   ec5a     CALL      0x62b4,0x0                                                                                      
005254   f031                                                                                                               
005256   e10f     BNZ       0x5276                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005258   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525a   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525c   c0a9     MOVFF     0xa9,0x4e          ebb_print_uint(g_StepperDisableTimeoutS);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525e   f04e                                                                                                               
005260   c0aa     MOVFF     0xaa,0x4f                                                                                       
005262   f04f                                                                                                               
005264   6a50     CLRF      0x50,0x0                                                                                        
005266   6a51     CLRF      0x51,0x0                                                                                        
005268   c04e     MOVFF     0x4e,0xfe6                                                                                      
00526a   ffe6                                                                                                               
00526c   ec60     CALL      0x64c0,0x0                                                                                      
00526e   f032                                                                                                               
005270   ec44     CALL      0x6688,0x0                                                                                      
005272   f033                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005274   d01f     BRA       0x52b4           else if (200u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005276   0ec8     MOVLW     0xc8                                                                                            
005278   ec5a     CALL      0x62b4,0x0                                                                                      
00527a   f031                                                                                                               
00527c   e11e     BNZ       0x52ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00527e   ec53     CALL      0x64a6,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005280   f032                                                                                                               
0064a6   deef     RCALL     0x6286                                                                                          
0064a8   d900     RCALL     0x66aa                                                                                          
0064aa   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064ac   ef26     GOTO      0x624c                                                                                          
0064ae   f031                                                                                                               
005282   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005284   c01e     MOVFF     0x1e,0xfe6         ebb_print_uint(acc_union[0].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005286   ffe6                                                                                                               
005288   c01f     MOVFF     0x1f,0xfe6                                                                                      
00528a   ffe6                                                                                                               
00528c   c020     MOVFF     0x20,0xfe6                                                                                      
00528e   ffe6                                                                                                               
005290   c021     MOVFF     0x21,0xfe6                                                                                      
005292   ffe6                                                                                                               
005294   ec44     CALL      0x6688,0x0                                                                                      
005296   f033                                                                                                               
005298   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529a   ec26     CALL      0x624c,0x0                                                                                      
00529c   f031                                                                                                               
00529e   c022     MOVFF     0x22,0xfe6         ebb_print_uint(acc_union[1].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a0   ffe6                                                                                                               
0052a2   c023     MOVFF     0x23,0xfe6                                                                                      
0052a4   ffe6                                                                                                               
0052a6   c024     MOVFF     0x24,0xfe6                                                                                      
0052a8   ffe6                                                                                                               
0052aa   c025     MOVFF     0x25,0xfe6                                                                                      
0052ac   ffe6                                                                                                               
0052ae   ec44     CALL      0x6688,0x0                                                                                      
0052b0   f033                                                                                                               
0052b2   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b4   ec06     CALL      0x620c,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b6   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b8   d001     BRA       0x52bc           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ba   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052bc   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052be   f031                                                                                                               
0052c0   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c2   ef1d     GOTO      0x623a                                                                                          
0052c4   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "T" Packet                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Causes PIC to sample digital or analog inputs at a regular interval and send  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // I (or A) packets back at that interval.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Send T,0,0<CR> to stop I (or A) packets                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: T,<TIME_BETWEEN_UPDATES_IN_MS>,<MODE><CR>                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <MODE> is 0 for digital (I packets) and 1 for analog (A packets)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,4000,0<CR>" to send an I packet back every 4 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,2000,1<CR>" to send an A packet back every 2 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int value;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char mode = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <TIME_BETWEEN_UPDATES_IN_MS> value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, (void *)&time_between_updates, kREQUIRED);               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <MODE> value                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &mode, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now start up the timer at the right rate or shut                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // it down.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (0u == mode)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of I packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of A packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // IMPORTANT: As of EBB v2.2.3 firmware, this command is different from the      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // UBW version. The analog config value is eliminated, replaced with the "AC"    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // command.                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: C,<portA_IO>,<portB_IO>,<portC_IO>,<portD_IO>,<portE_IO><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "C,255,0,4,0,0,0<CR>"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <portX_IO> is the byte sent to the Data Direction (DDR) register for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // each port. A 1 in a bit location means input, a 0 means output.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // NOTE: it is up to the user to tell the proper port direction bits to be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // inputs for the analog channels they wish to use.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c6   ec18     CALL      0x6230,0x0     void parse_C_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c8   f031                                                                                                               
0052ca   0e05     MOVLW     0x5                                                                                             
0052cc   ec67     CALL      0x64ce,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char PA, PB, PC, PD, PE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ce   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the four values.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d0   0e01     MOVLW     0x1              extract_number(kUCHAR, &PA, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d2   ec30     CALL      0x6660,0x0                                                                                      
0052d4   f033                                                                                                               
0052d6   ec34     CALL      0x6668,0x0       extract_number(kUCHAR, &PB, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d8   f033                                                                                                               
                                             extract_number(kUCHAR, &PC, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052da   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PD, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052dc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0052de   0f03     ADDLW     0x3                                                                                             
0052e0   ec58     CALL      0x64b0,0x0                                                                                      
0052e2   f032                                                                                                               
0052e4   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PE, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052e6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0052e8   0f04     ADDLW     0x4                                                                                             
0052ea   ec6f     CALL      0x66de,0x0                                                                                      
0052ec   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ee   e110     BNZ       0x5310           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now write those values to the data direction registers.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f0   50df     MOVF      0xdf,0x0,0x0     TRISA = PA;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f2   6e92     MOVWF     0x92,0x0                                                                                        
0052f4   0e01     MOVLW     0x1              TRISB = PB;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0052f8   6e93     MOVWF     0x93,0x0                                                                                        
0052fa   0e02     MOVLW     0x2              TRISC = PC;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0052fe   6e94     MOVWF     0x94,0x0                                                                                        
005300   0e03     MOVLW     0x3              TRISD = PD;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005302   50db     MOVF      0xdb,0x0,0x0                                                                                    
005304   6e95     MOVWF     0x95,0x0                                                                                        
005306   0e04     MOVLW     0x4              TRISE = PE;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005308   50db     MOVF      0xdb,0x0,0x0                                                                                    
00530a   6e96     MOVWF     0x96,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00530c   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00530e   f031                                                                                                               
005310   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005312   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005314   e202     BC        0x531a                                                                                          
005316   6ae1     CLRF      0xe1,0x0                                                                                        
005318   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00531a   6ee1     MOVWF     0xe1,0x0                                                                                        
00531c   ef1d     GOTO      0x623a                                                                                          
00531e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function turns on or off an analog channel                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is called from other pieces of code, not the user                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005320   ec18     CALL      0x6230,0x0     void AnalogConfigure(unsigned char Channel, unsigned char Enable)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005322   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005324   0efe     MOVLW     0xfe             if (Channel > 16u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005326   50db     MOVF      0xdb,0x0,0x0                                                                                    
005328   0810     SUBLW     0x10                                                                                            
00532a   e205     BC        0x5336                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532c   0e10     MOVLW     0x10               Channel = 16;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532e   6ef3     MOVWF     0xf3,0x0                                                                                        
005330   0efe     MOVLW     0xfe                                                                                            
005332   cff3     MOVFF     0xff3,0xfdb                                                                                     
005334   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005336   0efd     MOVLW     0xfd             if (Enable)                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005338   50db     MOVF      0xdb,0x0,0x0                                                                                    
00533a   e02b     BZ        0x5392                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00533c   0efe     MOVLW     0xfe               AnalogEnabledChannels |= ((unsigned int)0x0001 << Channel);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00533e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005340   ec8c     CALL      0x8f18,0x0                                                                                      
005342   f047                                                                                                               
005344   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005346   0100     MOVLB     0x0                                                                                             
005348   13a1     IORWF     0xa1,0x1,0x1                                                                                    
00534a   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00534c   13a2     IORWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534e   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005350   6ef3     MOVWF     0xf3,0x0                                                                                        
005352   0efe     MOVLW     0xfe                                                                                            
005354   ecec     CALL      0x63d8,0x0                                                                                      
005356   f031                                                                                                               
005358   e20d     BC        0x5374                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the right bit in ANCON0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535a   0e01     MOVLW     0x1                  ANCON0 &= ~(1 << Channel);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535c   6ef3     MOVWF     0xf3,0x0                                                                                        
00535e   0efe     MOVLW     0xfe                                                                                            
005360   50db     MOVF      0xdb,0x0,0x0                                                                                    
005362   e003     BZ        0x536a                                                                                          
005364   ec47     CALL      0x628e,0x0                                                                                      
005366   f031                                                                                                               
005368   e1fd     BNZ       0x5364                                                                                          
00536a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00536c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00536e   010f     MOVLB     0xf                                                                                             
005370   1748     ANDWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005372   d03d     BRA       0x53ee             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005374   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005376   50db     MOVF      0xdb,0x0,0x0                                                                                    
005378   080c     SUBLW     0xc                                                                                             
00537a   e339     BNC       0x53ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the right bit in ANCON1                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537c   ec3b     CALL      0x6476,0x0             ANCON1 &= ~(1 << (Channel-8));                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537e   f032                                                                                                               
005380   e004     BZ        0x538a                                                                                          
005382   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
005384   0bfe     ANDLW     0xfe                                                                                            
005386   064e     DECF      0x4e,0x1,0x0                                                                                    
005388   e1fc     BNZ       0x5382                                                                                          
00538a   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00538c   010f     MOVLB     0xf                                                                                             
00538e   1749     ANDWF     0x49,0x1,0x1                                                                                    
006476   0efe     MOVLW     0xfe                                                                                            
006478   50db     MOVF      0xdb,0x0,0x0                                                                                    
00647a   0ff8     ADDLW     0xf8                                                                                            
00647c   6e4e     MOVWF     0x4e,0x0                                                                                        
00647e   0e01     MOVLW     0x1                                                                                             
006480   524e     MOVF      0x4e,0x1,0x0                                                                                    
006482   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005390   d02e     BRA       0x53ee           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005392   0efe     MOVLW     0xfe               AnalogEnabledChannels &= ~((unsigned int)0x0001 << Channel);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005394   50db     MOVF      0xdb,0x0,0x0                                                                                    
005396   ec8c     CALL      0x8f18,0x0                                                                                      
005398   f047                                                                                                               
00539a   cff3     MOVFF     0xff3,0x4e                                                                                      
00539c   f04e                                                                                                               
00539e   cff4     MOVFF     0xff4,0x4f                                                                                      
0053a0   f04f                                                                                                               
0053a2   1e4e     COMF      0x4e,0x1,0x0                                                                                    
0053a4   1e4f     COMF      0x4f,0x1,0x0                                                                                    
0053a6   504e     MOVF      0x4e,0x0,0x0                                                                                    
0053a8   0100     MOVLB     0x0                                                                                             
0053aa   17a1     ANDWF     0xa1,0x1,0x1                                                                                    
0053ac   504f     MOVF      0x4f,0x0,0x0                                                                                    
0053ae   17a2     ANDWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input off                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b0   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0053b4   0efe     MOVLW     0xfe                                                                                            
0053b6   ecec     CALL      0x63d8,0x0                                                                                      
0053b8   f031                                                                                                               
0053ba   e20c     BC        0x53d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Set the right bit in ANCON0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053bc   0e01     MOVLW     0x1                  ANCON0 |= (1 << Channel);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053be   6ef3     MOVWF     0xf3,0x0                                                                                        
0053c0   0efe     MOVLW     0xfe                                                                                            
0053c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053c4   e003     BZ        0x53cc                                                                                          
0053c6   ec47     CALL      0x628e,0x0                                                                                      
0053c8   f031                                                                                                               
0053ca   e1fd     BNZ       0x53c6                                                                                          
0053cc   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0053ce   010f     MOVLB     0xf                                                                                             
0053d0   1348     IORWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d2   d00d     BRA       0x53ee             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d4   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053d8   080c     SUBLW     0xc                                                                                             
0053da   e309     BNC       0x53ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the right bit in ANCON1                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053dc   ec3b     CALL      0x6476,0x0             ANCON1 |= (1 << (Channel-8));                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053de   f032                                                                                                               
0053e0   e004     BZ        0x53ea                                                                                          
0053e2   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0053e4   0bfe     ANDLW     0xfe                                                                                            
0053e6   064e     DECF      0x4e,0x1,0x0                                                                                    
0053e8   e1fc     BNZ       0x53e2                                                                                          
0053ea   010f     MOVLB     0xf                                                                                             
0053ec   1349     IORWF     0x49,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ee   ef1d     GOTO      0x623a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Analog Configure                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "AC,<channel>,<enable><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <channel> is one of the 16 possible analog channels, from 0 through 15        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <enable> is 0 to disable, or 1 to enable                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn on a particular analog channel, use the AC command to enable it.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn off a particular analog channel, use the AC command to disable it.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Once enabled, that channel will be converted at the normal ADC conversion     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // rate and will show up in A packets.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f2   ec73     CALL      0x66e6,0x0     void parse_AC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f4   f033                                                                                                               
0066e6   dda4     RCALL     0x6230                                                                                          
0066e8   0e02     MOVLW     0x2                                                                                             
0066ea   def1     RCALL     0x64ce                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Channel, Enable;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the two values.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f6   ec30     CALL      0x6660,0x0       extract_number(kUCHAR, &Channel, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f8   f033                                                                                                               
0066ec   0e01     MOVLW     0x1                                                                                             
0066ee   0012     RETURN    0x0                                                                                             
0053fa   0f01     ADDLW     0x1              extract_number(kUCHAR, &Enable, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053fc   ec6f     CALL      0x66de,0x0                                                                                      
0053fe   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005400   e10a     BNZ       0x5416           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005402   0e01     MOVLW     0x1              AnalogConfigure(Channel, Enable);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005404   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005406   ffe6                                                                                                               
005408   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00540a   ffe6                                                                                                               
00540c   df89     RCALL     0x5320                                                                                          
00540e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005410   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005412   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005414   f031                                                                                                               
005416   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005418   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00541a   e202     BC        0x5420                                                                                          
00541c   6ae1     CLRF      0xe1,0x0                                                                                        
00541e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005420   6ee1     MOVWF     0xe1,0x0                                                                                        
005422   ef1d     GOTO      0x623a                                                                                          
005424   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Outputs values to the ports pins that are set up as outputs.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example "O,121,224,002<CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005426   ec73     CALL      0x66e6,0x0     void parse_O_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005428   f033                                                                                                               
0064ce   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621a   d988     RCALL     0x652c           print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064d0   6ae6     CLRF      0xe6,0x0                                                                                        
0064d2   6ae6     CLRF      0xe6,0x0                                                                                        
0064d4   ef0d     GOTO      0x621a                                                                                          
0064d6   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00542a   ec02     CALL      0x6204,0x0       RetVal = extract_number(kUCHAR,  &Value, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00542c   f031                                                                                                               
00542e   ec9e     CALL      0x633c,0x0                                                                                      
005430   f031                                                                                                               
00621c   6ae6     CLRF      0xe6,0x0                                                                                        
00621e   ef1e     GOTO      0x663c                                                                                          
006220   f033                                                                                                               
005432   e127     BNZ       0x5482           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005434   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005436   50db     MOVF      0xdb,0x0,0x0                                                                                    
005438   e102     BNZ       0x543e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543a   50df     MOVF      0xdf,0x0,0x0       LATA = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543c   6e89     MOVWF     0x89,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543e   ec7f     CALL      0x64fe,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005440   f032                                                                                                               
005442   e11f     BNZ       0x5482           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005444   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005446   50db     MOVF      0xdb,0x0,0x0                                                                                    
005448   e102     BNZ       0x544e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00544a   50df     MOVF      0xdf,0x0,0x0       LATB = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00544c   6e8a     MOVWF     0x8a,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00544e   ec7f     CALL      0x64fe,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005450   f032                                                                                                               
005452   e117     BNZ       0x5482           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005454   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005456   50db     MOVF      0xdb,0x0,0x0                                                                                    
005458   e102     BNZ       0x545e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545a   50df     MOVF      0xdf,0x0,0x0       LATC = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545c   6e8b     MOVWF     0x8b,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545e   ec7f     CALL      0x64fe,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005460   f032                                                                                                               
005462   e10f     BNZ       0x5482           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005464   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005466   50db     MOVF      0xdb,0x0,0x0                                                                                    
005468   e102     BNZ       0x546e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546a   50df     MOVF      0xdf,0x0,0x0       LATD = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546c   6e8c     MOVWF     0x8c,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546e   ec7f     CALL      0x64fe,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005470   f032                                                                                                               
00633c   6ee7     MOVWF     0xe7,0x0                                                                                        
00633e   0e01     MOVLW     0x1                                                                                             
006340   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
006342   ffdb                                                                                                               
006398   6ee6     MOVWF     0xe6,0x0                                                                                        
00639a   ef1e     GOTO      0x663c                                                                                          
00639c   f033                                                                                                               
0064fe   0e01     MOVLW     0x1                                                                                             
006500   df4b     RCALL     0x6398                                                                                          
006502   de80     RCALL     0x6204                                                                                          
006504   ef9e     GOTO      0x633c                                                                                          
006506   f031                                                                                                               
00663c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00663e   ffe6                                                                                                               
006640   cfda     MOVFF     0xfda,0xfe6                                                                                     
006642   ffe6                                                                                                               
006644   0012     RETURN    0x0                                                                                             
005472   e107     BNZ       0x5482           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006344   0100     MOVLB     0x0                                                                                             
006346   5197     MOVF      0x97,0x0,0x1                                                                                    
006348   0012     RETURN    0x0                                                                                             
005474   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005476   50db     MOVF      0xdb,0x0,0x0                                                                                    
005478   e102     BNZ       0x547e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547a   50df     MOVF      0xdf,0x0,0x0       LATE = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547c   6e8d     MOVWF     0x8d,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547e   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005480   f031                                                                                                               
005482   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005484   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005486   e202     BC        0x548c                                                                                          
005488   6ae1     CLRF      0xe1,0x0                                                                                        
00548a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00548c   6ee1     MOVWF     0xe1,0x0                                                                                        
00548e   ef1d     GOTO      0x623a                                                                                          
005490   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Read in the three I/O ports (A,B,C) and create                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a packet to send back with all of values.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "I,143,221,010<CR>"                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Remember that on UBW 28 pin boards, we only have                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port A bits 0 through 5                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port B bits 0 through 7                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port C bits 0,1,2 and 6,7                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // And that Port C bits 0,1,2 are used for                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // User1 LED, User2 LED and Program switch respectively.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The rest will be read in as zeros.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005492   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005494   6ee6     MOVWF     0xe6,0x0                                                                                        
005496   6ee6     MOVWF     0xe6,0x0                                                                                        
005498   ec96     CALL      0x652c,0x0                                                                                      
00549a   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00549c   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(PORTA);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00549e   ec84     CALL      0x6508,0x0                                                                                      
0054a0   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a2   5081     MOVF      0x81,0x0,0x0     ebb_print_uint(PORTB);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a4   ec84     CALL      0x6508,0x0                                                                                      
0054a6   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a8   5082     MOVF      0x82,0x0,0x0     ebb_print_uint(PORTC);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054aa   ec84     CALL      0x6508,0x0                                                                                      
0054ac   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ae   5083     MOVF      0x83,0x0,0x0     ebb_print_uint(PORTD);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b0   ec84     CALL      0x6508,0x0                                                                                      
0054b2   f032                                                                                                               
0061fe   d960     RCALL     0x64c0                                                                                          
006200   ef44     GOTO      0x6688                                                                                          
006202   f033                                                                                                               
0064c0   c04f     MOVFF     0x4f,0xfe6                                                                                      
0064c2   ffe6                                                                                                               
0064c4   c050     MOVFF     0x50,0xfe6                                                                                      
0064c6   ffe6                                                                                                               
0064c8   c051     MOVFF     0x51,0xfe6                                                                                      
0064ca   ffe6                                                                                                               
0064cc   0012     RETURN    0x0                                                                                             
006508   d8e0     RCALL     0x66ca                                                                                          
006688   ec06     CALL      0x840c,0x0                                                                                      
00668a   f042                                                                                                               
00668c   ef6c     GOTO      0x64d8                                                                                          
00668e   f032                                                                                                               
0066ca   de1d     RCALL     0x6306                                                                                          
0066cc   efff     GOTO      0x61fe                                                                                          
0066ce   f030                                                                                                               
00650a   0e2c     MOVLW     0x2c             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00650c   ef26     GOTO      0x624c                                                                                          
00650e   f031                                                                                                               
0054b4   5084     MOVF      0x84,0x0,0x0     ebb_print_uint(PORTE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b6   ec65     CALL      0x66ca,0x0                                                                                      
0054b8   f033                                                                                                               
0054ba   ef06     GOTO      0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054bc   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // All we do here is just print out our version number                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054be   ecdd     CALL      0x63ba,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c2   0ef2     MOVLW     0xf2             ebb_print((far rom char *)st_version);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c4   6e4e     MOVWF     0x4e,0x0                                                                                        
0054c6   0e8a     MOVLW     0x8a                                                                                            
0054c8   ef88     GOTO      0x6510                                                                                          
0054ca   f032                                                                                                               
006510   de73     RCALL     0x61f8                                                                                          
006512   ef06     GOTO      0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006514   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // A is for read Analog inputs                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just print out the analog values for each of the                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // enabled channels.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returned packet will look like                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "A,2:421,5:891,9:3921<CR>" if channels 2, 5 and 9                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // are enabled.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054cc   ec51     CALL      0x66a2,0x0     void parse_A_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ce   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d0   6adf     CLRF      0xdf,0x0         char channel = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d2   0e01     MOVLW     0x1              unsigned int ChannelBit = 0x0001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d4   6ef3     MOVWF     0xf3,0x0                                                                                        
0054d6   6edb     MOVWF     0xdb,0x0                                                                                        
0054d8   0e02     MOVLW     0x2                                                                                             
0054da   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054dc   6ae6     CLRF      0xe6,0x0         print_command(TRUE, FALSE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054de   0e01     MOVLW     0x1                                                                                             
0054e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0054e2   ec96     CALL      0x652c,0x0                                                                                      
0054e4   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Sit and spin, waiting for one set of analog conversions to complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054e6   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054e8   d7fe     BRA       0x54e6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now print each analog value                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ea   6adf     CLRF      0xdf,0x0         for (channel = 0; channel < 16; channel++)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ec   cfdf     MOVFF     0xfdf,0x4e                                                                                      
0054ee   f04e                                                                                                               
0054f0   0e10     MOVLW     0x10                                                                                            
0054f2   6ee7     MOVWF     0xe7,0x0                                                                                        
0054f4   184e     XORWF     0x4e,0x0,0x0                                                                                    
0054f6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0054f8   d002     BRA       0x54fe                                                                                          
0054fa   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0054fc   d002     BRA       0x5502                                                                                          
0054fe   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005500   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
005502   e23b     BC        0x557a                                                                                          
005576   2adf     INCF      0xdf,0x1,0x0                                                                                    
005578   d7b9     BRA       0x54ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005504   0e01     MOVLW     0x1                if (ChannelBit & AnalogEnabledChannels)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005506   50db     MOVF      0xdb,0x0,0x0                                                                                    
005508   0100     MOVLB     0x0                                                                                             
00550a   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
00550c   0100     MOVLB     0x0                                                                                             
00550e   6e4e     MOVWF     0x4e,0x0                                                                                        
005510   0e02     MOVLW     0x2                                                                                             
005512   50db     MOVF      0xdb,0x0,0x0                                                                                    
005514   0100     MOVLB     0x0                                                                                             
005516   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
005518   0100     MOVLB     0x0                                                                                             
00551a   6e4f     MOVWF     0x4f,0x0                                                                                        
00551c   504e     MOVF      0x4e,0x0,0x0                                                                                    
00551e   104f     IORWF     0x4f,0x0,0x0                                                                                    
005520   e01f     BZ        0x5560                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005522   0e2c     MOVLW     0x2c                 ebb_print_char(',');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005524   ec26     CALL      0x624c,0x0                                                                                      
005526   f031                                                                                                               
005528   ec43     CALL      0x6286,0x0           ebb_print_uint(channel);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00552a   f031                                                                                                               
00552c   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
00552e   d003     BRA       0x5536                                                                                          
005530   684f     SETF      0x4f,0x0                                                                                        
005532   6850     SETF      0x50,0x0                                                                                        
005534   6851     SETF      0x51,0x0                                                                                        
005536   ec55     CALL      0x66aa,0x0                                                                                      
005538   f033                                                                                                               
00553a   0e3a     MOVLW     0x3a                 ebb_print_char(':');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00553c   ec26     CALL      0x624c,0x0                                                                                      
00553e   f031                                                                                                               
005540   cfdf     MOVFF     0xfdf,0xfe9          ebb_print_uint(ISR_A_FIFO[channel]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005542   ffe9                                                                                                               
005544   6aea     CLRF      0xea,0x0                                                                                        
005546   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
005548   68ea     SETF      0xea,0x0                                                                                        
00554a   eca6     CALL      0x654c,0x0                                                                                      
00554c   f032                                                                                                               
00554e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005550   cfee     MOVFF     0xfee,0x4e                                                                                      
005552   f04e                                                                                                               
005554   cfef     MOVFF     0xfef,0x4f                                                                                      
005556   f04f                                                                                                               
005558   6a50     CLRF      0x50,0x0                                                                                        
00555a   6a51     CLRF      0x51,0x0                                                                                        
00555c   ec55     CALL      0x66aa,0x0                                                                                      
00555e   f033                                                                                                               
00654c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00654e   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006550   36ea     RLCF      0xea,0x1,0x0                                                                                    
006552   0e00     MOVLW     0x0                                                                                             
006554   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006556   0e01     MOVLW     0x1                                                                                             
006558   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005560   ec1f     CALL      0x643e,0x0         ChannelBit = ChannelBit << 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005562   f032                                                                                                               
005564   90d8     BCF       0xd8,0x0,0x0                                                                                    
005566   364e     RLCF      0x4e,0x1,0x0                                                                                    
005568   364f     RLCF      0x4f,0x1,0x0                                                                                    
00556a   0e01     MOVLW     0x1                                                                                             
00556c   c04e     MOVFF     0x4e,0xfdb                                                                                      
00556e   ffdb                                                                                                               
005570   0e02     MOVLW     0x2                                                                                             
005572   c04f     MOVFF     0x4f,0xfdb                                                                                      
005574   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Add \r\n (for line ending legacy mode : note this is backwards from how     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // the rest of the code does legacy line endings) or just \n for new line      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // ending mode.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557a   0e02     MOVLW     0x2              print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557c   ec19     CALL      0x6632,0x0                                                                                      
00557e   f033                                                                                                               
005580   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005582   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005584   e202     BC        0x558a                                                                                          
005586   6ae1     CLRF      0xe1,0x0                                                                                        
005588   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00558a   6ee1     MOVWF     0xe1,0x0                                                                                        
00558c   ef1d     GOTO      0x623a                                                                                          
00558e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MW is for Memory Write                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location>,<value><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to write to  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is a decimal value between 0 and 255 that is the value to write       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005590   ec4d     CALL      0x669a,0x0     void parse_MW_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005592   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005594   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005596   ec30     CALL      0x6660,0x0                                                                                      
005598   f033                                                                                                               
00559a   0f02     ADDLW     0x2              extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00559c   ec6f     CALL      0x66de,0x0                                                                                      
00559e   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a0   e10a     BNZ       0x55b6           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a2   ecfb     CALL      0x65f6,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a4   f032                                                                                                               
0055a6   e205     BC        0x55b2                                                                                          
0065f6   dee6     RCALL     0x63c4                                                                                          
0065f8   0e00     MOVLW     0x0                                                                                             
0065fa   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0065fc   0e10     MOVLW     0x10                                                                                            
0065fe   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
006600   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a8   ece7     CALL      0x63ce,0x0         *((unsigned char *)location) = value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055aa   f031                                                                                                               
0055ac   0e02     MOVLW     0x2                                                                                             
0055ae   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0055b0   ffef                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b2   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b4   f031                                                                                                               
0055b6   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055ba   e202     BC        0x55c0                                                                                          
0055bc   6ae1     CLRF      0xe1,0x0                                                                                        
0055be   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055c0   6ee1     MOVWF     0xe1,0x0                                                                                        
0055c2   ef1d     GOTO      0x623a                                                                                          
0055c4   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MR is for Memory Read                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to read from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The UBW will then send a "MR,<value><CR>" packet back to the PC               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the byte value read from the address                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c6   ec51     CALL      0x66a2,0x0     void parse_MR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c8   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ca   ecc9     CALL      0x6592,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055cc   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ce   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d0   ec02     CALL      0x6204,0x0                                                                                      
0055d2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d4   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d6   5197     MOVF      0x97,0x0,0x1                                                                                    
0055d8   e10d     BNZ       0x55f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055da   ecfb     CALL      0x65f6,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055dc   f032                                                                                                               
0055de   e205     BC        0x55ea                                                                                          
0063c4   cfde     MOVFF     0xfde,0x4e                                                                                      
0063c6   f04e                                                                                                               
0063c8   cfdd     MOVFF     0xfdd,0x4f                                                                                      
0063ca   f04f                                                                                                               
0063cc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e0   ece7     CALL      0x63ce,0x0         value = *((unsigned char *)location);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e2   f031                                                                                                               
0055e4   0e02     MOVLW     0x2                                                                                             
0055e6   cfef     MOVFF     0xfef,0xfdb                                                                                     
0055e8   ffdb                                                                                                               
0063ce   cfde     MOVFF     0xfde,0xfe9                                                                                     
0063d0   ffe9                                                                                                               
0063d2   cfdd     MOVFF     0xfdd,0xfea                                                                                     
0063d4   ffea                                                                                                               
0063d6   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back the MR packet                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ea   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ec   ec02     CALL      0x6404,0x0                                                                                      
0055ee   f032                                                                                                               
0055f0   ec6f     CALL      0x64de,0x0                                                                                      
0055f2   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f4   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055f8   e202     BC        0x55fe                                                                                          
0055fa   6ae1     CLRF      0xe1,0x0                                                                                        
0055fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055fe   6ee1     MOVWF     0xe1,0x0                                                                                        
005600   ef1d     GOTO      0x623a                                                                                          
005602   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PD is for Pin Direction                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PD,<port>,<pin>,<direction><CR>"                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to change direction on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <direction> is "1" for input, "0" for output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005604   ec68     CALL      0x66d0,0x0     void parse_PD_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005606   f033                                                                                                               
0066d0   dfe4     RCALL     0x669a                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char direction;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066d2   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066d4   dfc5     RCALL     0x6660                                                                                          
0066d6   dfc8     RCALL     0x6668           extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &direction, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005608   e001     BZ        0x560c           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560a   d090     BRA       0x572c                                                                                          
0066d8   0100     MOVLB     0x0                                                                                             
0066da   5197     MOVF      0x97,0x0,0x1                                                                                    
0066dc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560c   0e02     MOVLW     0x2              if (direction > 1u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005610   0801     SUBLW     0x1                                                                                             
005612   e201     BC        0x5616                                                                                          
005614   d087     BRA       0x5724                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005616   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005618   50db     MOVF      0xdb,0x0,0x0                                                                                    
00561a   0807     SUBLW     0x7                                                                                             
00561c   e201     BC        0x5620                                                                                          
00561e   d082     BRA       0x5724                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005620   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005622   ec5a     CALL      0x62b4,0x0                                                                                      
005624   f031                                                                                                               
005626   e116     BNZ       0x5654                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005628   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00562a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00562c   e10a     BNZ       0x5642                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00562e   ec56     CALL      0x62ac,0x0           bitclr(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005630   f031                                                                                                               
005632   e003     BZ        0x563a                                                                                          
005634   ec47     CALL      0x628e,0x0                                                                                      
005636   f031                                                                                                               
005638   e1fd     BNZ       0x5634                                                                                          
00563a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00563c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00563e   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005640   d073     BRA       0x5728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005642   ec56     CALL      0x62ac,0x0           bitset(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005644   f031                                                                                                               
005646   e003     BZ        0x564e                                                                                          
005648   ec47     CALL      0x628e,0x0                                                                                      
00564a   f031                                                                                                               
00564c   e1fd     BNZ       0x5648                                                                                          
00564e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005650   1292     IORWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005652   d06a     BRA       0x5728           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005654   0e42     MOVLW     0x42                                                                                            
005656   ec5a     CALL      0x62b4,0x0                                                                                      
005658   f031                                                                                                               
00565a   e116     BNZ       0x5688                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565c   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005660   e10a     BNZ       0x5676                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005662   ec56     CALL      0x62ac,0x0           bitclr(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005664   f031                                                                                                               
005666   e003     BZ        0x566e                                                                                          
005668   ec47     CALL      0x628e,0x0                                                                                      
00566a   f031                                                                                                               
00566c   e1fd     BNZ       0x5668                                                                                          
00566e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005670   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005672   1693     ANDWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005674   d059     BRA       0x5728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005676   ec56     CALL      0x62ac,0x0           bitset(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005678   f031                                                                                                               
00567a   e003     BZ        0x5682                                                                                          
00567c   ec47     CALL      0x628e,0x0                                                                                      
00567e   f031                                                                                                               
005680   e1fd     BNZ       0x567c                                                                                          
005682   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005684   1293     IORWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005686   d050     BRA       0x5728           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005688   0e43     MOVLW     0x43                                                                                            
00568a   ec5a     CALL      0x62b4,0x0                                                                                      
00568c   f031                                                                                                               
00568e   e116     BNZ       0x56bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005690   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005692   50db     MOVF      0xdb,0x0,0x0                                                                                    
005694   e10a     BNZ       0x56aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005696   ec56     CALL      0x62ac,0x0           bitclr(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005698   f031                                                                                                               
00569a   e003     BZ        0x56a2                                                                                          
00569c   ec47     CALL      0x628e,0x0                                                                                      
00569e   f031                                                                                                               
0056a0   e1fd     BNZ       0x569c                                                                                          
0056a2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056a4   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0056a6   1694     ANDWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a8   d03f     BRA       0x5728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056aa   ec56     CALL      0x62ac,0x0           bitset(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ac   f031                                                                                                               
0056ae   e003     BZ        0x56b6                                                                                          
0056b0   ec47     CALL      0x628e,0x0                                                                                      
0056b2   f031                                                                                                               
0056b4   e1fd     BNZ       0x56b0                                                                                          
0056b6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056b8   1294     IORWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ba   d036     BRA       0x5728           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056bc   0e44     MOVLW     0x44                                                                                            
0056be   ec5a     CALL      0x62b4,0x0                                                                                      
0056c0   f031                                                                                                               
0056c2   e116     BNZ       0x56f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c4   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056c8   e10a     BNZ       0x56de                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ca   ec56     CALL      0x62ac,0x0           bitclr(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056cc   f031                                                                                                               
0056ce   e003     BZ        0x56d6                                                                                          
0056d0   ec47     CALL      0x628e,0x0                                                                                      
0056d2   f031                                                                                                               
0056d4   e1fd     BNZ       0x56d0                                                                                          
0056d6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056d8   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0056da   1695     ANDWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056dc   d025     BRA       0x5728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056de   ec56     CALL      0x62ac,0x0           bitset(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056e0   f031                                                                                                               
0056e2   e003     BZ        0x56ea                                                                                          
0056e4   ec47     CALL      0x628e,0x0                                                                                      
0056e6   f031                                                                                                               
0056e8   e1fd     BNZ       0x56e4                                                                                          
0056ea   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056ec   1295     IORWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ee   d01c     BRA       0x5728           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056f0   0e45     MOVLW     0x45                                                                                            
0056f2   ec5a     CALL      0x62b4,0x0                                                                                      
0056f4   f031                                                                                                               
0056f6   e116     BNZ       0x5724                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056f8   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056fa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056fc   e10a     BNZ       0x5712                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056fe   ec56     CALL      0x62ac,0x0           bitclr(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005700   f031                                                                                                               
005702   e003     BZ        0x570a                                                                                          
005704   ec47     CALL      0x628e,0x0                                                                                      
005706   f031                                                                                                               
005708   e1fd     BNZ       0x5704                                                                                          
00570a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00570c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00570e   1696     ANDWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005710   d00b     BRA       0x5728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005712   ec56     CALL      0x62ac,0x0           bitset(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005714   f031                                                                                                               
005716   e003     BZ        0x571e                                                                                          
005718   ec47     CALL      0x628e,0x0                                                                                      
00571a   f031                                                                                                               
00571c   e1fd     BNZ       0x5718                                                                                          
00571e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005720   1296     IORWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005722   d002     BRA       0x5728           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005724   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005726   d002     BRA       0x572c             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005728   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00572a   f031                                                                                                               
00572c   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00572e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005730   e202     BC        0x5736                                                                                          
005732   6ae1     CLRF      0xe1,0x0                                                                                        
005734   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005736   6ee1     MOVWF     0xe1,0x0                                                                                        
005738   ef1d     GOTO      0x623a                                                                                          
00573a   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PI is for Pin Input                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PI,<port>,<pin><CR>"                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to read             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The command returns a "PI,<value><CR>" packet,                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the value (0 or 1 for digital)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // value for that pin.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573c   ec51     CALL      0x66a2,0x0     void parse_PI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573e   f033                                                                                                               
0066a2   ddc6     RCALL     0x6230                                                                                          
0066a4   0e03     MOVLW     0x3                                                                                             
0066a6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0066a8   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 port;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 pin;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005740   0e02     MOVLW     0x2              UINT8 value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005742   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005744   ecc9     CALL      0x6592,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005746   f032                                                                                                               
006592   0e01     MOVLW     0x1                                                                                             
006594   6ee6     MOVWF     0xe6,0x0                                                                                        
006596   6ee6     MOVWF     0xe6,0x0                                                                                        
006598   ef0d     GOTO      0x621a                                                                                          
00659a   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005748   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00574a   ec30     CALL      0x6660,0x0                                                                                      
00574c   f033                                                                                                               
00574e   0f01     ADDLW     0x1              extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005750   ec6f     CALL      0x66de,0x0                                                                                      
005752   f033                                                                                                               
0066de   dee8     RCALL     0x64b0                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005754   e160     BNZ       0x5816           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066e0   0100     MOVLB     0x0                                                                                             
0066e2   5197     MOVF      0x97,0x0,0x1                                                                                    
0066e4   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005756   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005758   50db     MOVF      0xdb,0x0,0x0                                                                                    
00575a   0807     SUBLW     0x7                                                                                             
00575c   e350     BNC       0x57fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Then test the bit in question based upon port                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00575e   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005760   ec5a     CALL      0x62b4,0x0                                                                                      
005762   f031                                                                                                               
005764   e10a     BNZ       0x577a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005766   ec56     CALL      0x62ac,0x0         value = bittst(PORTA, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005768   f031                                                                                                               
00576a   e003     BZ        0x5772                                                                                          
00576c   ec47     CALL      0x628e,0x0                                                                                      
00576e   f031                                                                                                               
005770   e1fd     BNZ       0x576c                                                                                          
005772   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005774   1480     ANDWF     0x80,0x0,0x0                                                                                    
005776   e039     BZ        0x57ea                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005778   d029     BRA       0x57cc           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00577a   0e42     MOVLW     0x42                                                                                            
00577c   ec5a     CALL      0x62b4,0x0                                                                                      
00577e   f031                                                                                                               
005780   e10a     BNZ       0x5796                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005782   ec56     CALL      0x62ac,0x0         value = bittst(PORTB, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005784   f031                                                                                                               
005786   e003     BZ        0x578e                                                                                          
005788   ec47     CALL      0x628e,0x0                                                                                      
00578a   f031                                                                                                               
00578c   e1fd     BNZ       0x5788                                                                                          
00578e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005790   1481     ANDWF     0x81,0x0,0x0                                                                                    
005792   e11c     BNZ       0x57cc                                                                                          
005794   d02a     BRA       0x57ea                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005796   0e43     MOVLW     0x43             else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005798   ec5a     CALL      0x62b4,0x0                                                                                      
00579a   f031                                                                                                               
00579c   e10a     BNZ       0x57b2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00579e   ec56     CALL      0x62ac,0x0         value = bittst(PORTC, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a0   f031                                                                                                               
0057a2   e003     BZ        0x57aa                                                                                          
0057a4   ec47     CALL      0x628e,0x0                                                                                      
0057a6   f031                                                                                                               
0057a8   e1fd     BNZ       0x57a4                                                                                          
0057aa   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057ac   1482     ANDWF     0x82,0x0,0x0                                                                                    
0057ae   e10e     BNZ       0x57cc                                                                                          
0057b0   d01c     BRA       0x57ea                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b2   0e44     MOVLW     0x44             else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b4   ec5a     CALL      0x62b4,0x0                                                                                      
0057b6   f031                                                                                                               
0057b8   e10b     BNZ       0x57d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ba   ec56     CALL      0x62ac,0x0         value = bittst(PORTD, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057bc   f031                                                                                                               
0057be   e003     BZ        0x57c6                                                                                          
0057c0   ec47     CALL      0x628e,0x0                                                                                      
0057c2   f031                                                                                                               
0057c4   e1fd     BNZ       0x57c0                                                                                          
0057c6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057c8   1483     ANDWF     0x83,0x0,0x0                                                                                    
0057ca   e00f     BZ        0x57ea                                                                                          
0057cc   0e01     MOVLW     0x1                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ce   d010     BRA       0x57f0           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057d0   0e45     MOVLW     0x45                                                                                            
0057d2   ec5a     CALL      0x62b4,0x0                                                                                      
0057d4   f031                                                                                                               
0057d6   e113     BNZ       0x57fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057d8   ec56     CALL      0x62ac,0x0         value = bittst(PORTE, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057da   f031                                                                                                               
0057dc   e003     BZ        0x57e4                                                                                          
0057de   ec47     CALL      0x628e,0x0                                                                                      
0057e0   f031                                                                                                               
0057e2   e1fd     BNZ       0x57de                                                                                          
0057e4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057e6   1484     ANDWF     0x84,0x0,0x0                                                                                    
0057e8   e102     BNZ       0x57ee                                                                                          
0057ea   0e00     MOVLW     0x0                                                                                             
0057ec   d001     BRA       0x57f0                                                                                          
0057ee   0e01     MOVLW     0x1                                                                                             
0057f0   6ee7     MOVWF     0xe7,0x0                                                                                        
0057f2   0e02     MOVLW     0x2                                                                                             
0057f4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0057f6   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fe   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005800   d00a     BRA       0x5816             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Convert to just a binary 1 or 0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f8   50db     MOVF      0xdb,0x0,0x0     if (value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fa   e008     BZ        0x580c                                                                                          
0057fc   d002     BRA       0x5802                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005802   0e01     MOVLW     0x1                value = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005804   6ef3     MOVWF     0xf3,0x0                                                                                        
005806   0e02     MOVLW     0x2                                                                                             
005808   cff3     MOVFF     0xff3,0xfdb                                                                                     
00580a   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back our response                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00580c   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00580e   ec02     CALL      0x6404,0x0                                                                                      
005810   f032                                                                                                               
005812   ec6f     CALL      0x64de,0x0                                                                                      
005814   f032                                                                                                               
006404   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006406   f04e                                                                                                               
006408   ef2c     GOTO      0x6658                                                                                          
00640a   f033                                                                                                               
006658   6a4f     CLRF      0x4f,0x0                                                                                        
00665a   6a50     CLRF      0x50,0x0                                                                                        
00665c   6a51     CLRF      0x51,0x0                                                                                        
00665e   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005816   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005818   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00581a   e202     BC        0x5820                                                                                          
00581c   6ae1     CLRF      0xe1,0x0                                                                                        
00581e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005820   6ee1     MOVWF     0xe1,0x0                                                                                        
005822   ef1d     GOTO      0x623a                                                                                          
005824   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PO is for Pin Output                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PO,<port>,<pin>,<value><CR>"                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to write out the value to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is "1" or "0" and indicates the state to change the pin to            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005826   ec68     CALL      0x66d0,0x0     void parse_PO_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005828   f033                                                                                                               
00669a   ddca     RCALL     0x6230                                                                                          
00669c   0e03     MOVLW     0x3                                                                                             
00669e   ef67     GOTO      0x64ce                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066a0   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006660   ddd1     RCALL     0x6204           extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006662   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006664   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006666   0012     RETURN    0x0                                                                                             
006668   0f01     ADDLW     0x1                                                                                             
00666a   df22     RCALL     0x64b0                                                                                          
00666c   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00666e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006670   0f02     ADDLW     0x2                                                                                             
006672   ef58     GOTO      0x64b0                                                                                          
006674   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00582a   e001     BZ        0x582e           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00582c   d090     BRA       0x594e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00582e   0e02     MOVLW     0x2              if (value > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005830   50db     MOVF      0xdb,0x0,0x0                                                                                    
005832   0801     SUBLW     0x1                                                                                             
005834   e201     BC        0x5838                                                                                          
005836   d087     BRA       0x5946                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005838   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00583c   0807     SUBLW     0x7                                                                                             
00583e   e201     BC        0x5842                                                                                          
005840   d082     BRA       0x5946                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005842   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005844   ec5a     CALL      0x62b4,0x0                                                                                      
005846   f031                                                                                                               
005848   e116     BNZ       0x5876                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00584a   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00584c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00584e   e10a     BNZ       0x5864                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005850   ec56     CALL      0x62ac,0x0           bitclr(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005852   f031                                                                                                               
005854   e003     BZ        0x585c                                                                                          
005856   ec47     CALL      0x628e,0x0                                                                                      
005858   f031                                                                                                               
00585a   e1fd     BNZ       0x5856                                                                                          
00585c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00585e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005860   1689     ANDWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005862   d073     BRA       0x594a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005864   ec56     CALL      0x62ac,0x0           bitset(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005866   f031                                                                                                               
005868   e003     BZ        0x5870                                                                                          
00586a   ec47     CALL      0x628e,0x0                                                                                      
00586c   f031                                                                                                               
00586e   e1fd     BNZ       0x586a                                                                                          
005870   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005872   1289     IORWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005874   d06a     BRA       0x594a           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005876   0e42     MOVLW     0x42                                                                                            
005878   ec5a     CALL      0x62b4,0x0                                                                                      
00587a   f031                                                                                                               
00587c   e116     BNZ       0x58aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587e   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005880   50db     MOVF      0xdb,0x0,0x0                                                                                    
005882   e10a     BNZ       0x5898                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005884   ec56     CALL      0x62ac,0x0           bitclr(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005886   f031                                                                                                               
005888   e003     BZ        0x5890                                                                                          
00588a   ec47     CALL      0x628e,0x0                                                                                      
00588c   f031                                                                                                               
00588e   e1fd     BNZ       0x588a                                                                                          
005890   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005892   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005894   168a     ANDWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005896   d059     BRA       0x594a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005898   ec56     CALL      0x62ac,0x0           bitset(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00589a   f031                                                                                                               
00589c   e003     BZ        0x58a4                                                                                          
00589e   ec47     CALL      0x628e,0x0                                                                                      
0058a0   f031                                                                                                               
0058a2   e1fd     BNZ       0x589e                                                                                          
0058a4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058a6   128a     IORWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058a8   d050     BRA       0x594a           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058aa   0e43     MOVLW     0x43                                                                                            
0058ac   ec5a     CALL      0x62b4,0x0                                                                                      
0058ae   f031                                                                                                               
0058b0   e116     BNZ       0x58de                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b2   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0058b6   e10a     BNZ       0x58cc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b8   ec56     CALL      0x62ac,0x0           bitclr(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ba   f031                                                                                                               
0058bc   e003     BZ        0x58c4                                                                                          
0058be   ec47     CALL      0x628e,0x0                                                                                      
0058c0   f031                                                                                                               
0058c2   e1fd     BNZ       0x58be                                                                                          
0058c4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058c6   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0058c8   168b     ANDWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ca   d03f     BRA       0x594a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058cc   ec56     CALL      0x62ac,0x0           bitset(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ce   f031                                                                                                               
0058d0   e003     BZ        0x58d8                                                                                          
0058d2   ec47     CALL      0x628e,0x0                                                                                      
0058d4   f031                                                                                                               
0058d6   e1fd     BNZ       0x58d2                                                                                          
0058d8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058da   128b     IORWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058dc   d036     BRA       0x594a           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058de   0e44     MOVLW     0x44                                                                                            
0058e0   ec5a     CALL      0x62b4,0x0                                                                                      
0058e2   f031                                                                                                               
0058e4   e116     BNZ       0x5912                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e6   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0058ea   e10a     BNZ       0x5900                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ec   ec56     CALL      0x62ac,0x0           bitclr(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ee   f031                                                                                                               
0058f0   e003     BZ        0x58f8                                                                                          
0058f2   ec47     CALL      0x628e,0x0                                                                                      
0058f4   f031                                                                                                               
0058f6   e1fd     BNZ       0x58f2                                                                                          
0058f8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058fa   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0058fc   168c     ANDWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fe   d025     BRA       0x594a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005900   ec56     CALL      0x62ac,0x0           bitset(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005902   f031                                                                                                               
005904   e003     BZ        0x590c                                                                                          
005906   ec47     CALL      0x628e,0x0                                                                                      
005908   f031                                                                                                               
00590a   e1fd     BNZ       0x5906                                                                                          
00590c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00590e   128c     IORWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005910   d01c     BRA       0x594a           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005912   0e45     MOVLW     0x45                                                                                            
005914   ec5a     CALL      0x62b4,0x0                                                                                      
005916   f031                                                                                                               
005918   e116     BNZ       0x5946                                                                                          
0062b4   6e4e     MOVWF     0x4e,0x0                                                                                        
0062b6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0062b8   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0062ba   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00591a   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00591c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00591e   e10a     BNZ       0x5934                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005920   ec56     CALL      0x62ac,0x0           bitclr(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005922   f031                                                                                                               
005924   e003     BZ        0x592c                                                                                          
005926   ec47     CALL      0x628e,0x0                                                                                      
005928   f031                                                                                                               
00592a   e1fd     BNZ       0x5926                                                                                          
00592c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00592e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005930   168d     ANDWF     0x8d,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005932   d00b     BRA       0x594a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005934   ec56     CALL      0x62ac,0x0           bitset(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005936   f031                                                                                                               
005938   e003     BZ        0x5940                                                                                          
00593a   ec47     CALL      0x628e,0x0                                                                                      
00593c   f031                                                                                                               
00593e   e1fd     BNZ       0x593a                                                                                          
005940   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005942   128d     IORWF     0x8d,0x1,0x0                                                                                    
00628e   90d8     BCF       0xd8,0x0,0x0                                                                                    
006290   36f3     RLCF      0xf3,0x1,0x0                                                                                    
006292   06e8     DECF      0xe8,0x1,0x0                                                                                    
006294   0012     RETURN    0x0                                                                                             
0062ac   0e01     MOVLW     0x1                                                                                             
0062ae   6ef3     MOVWF     0xf3,0x0                                                                                        
0062b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0062b2   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005944   d002     BRA       0x594a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005946   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005948   d002     BRA       0x594e             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00594a   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00594c   f031                                                                                                               
00594e   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005950   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005952   e202     BC        0x5958                                                                                          
005954   6ae1     CLRF      0xe1,0x0                                                                                        
005956   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005958   6ee1     MOVWF     0xe1,0x0                                                                                        
00595a   ef1d     GOTO      0x623a                                                                                          
00595c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC Pulse Configure                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses will be generated on PortB, bits 0 through 3                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses are in 1ms units, and can be from 0 (off) through 65535                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Each pin has a pulse length, and a repetition rate.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The repetition rate can be from 0 through 65535, but must be more than the pulse length D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Only the first set of parameters (for RB0) are required, the rest are optional D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC,<RB0_Len>,<RB0_Rate>,<RB1_Len>,<RB1_Rate>,...,<RB3_Len>,<RB3_Rate><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int Length, Rate;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Length, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Rate, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Handle loading things up for RB0                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = Length;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = Rate;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And now loop for the other 3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             for (i = 0; i < 3u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal1 = extract_number(kUINT, &Length, kOPTIONAL);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal2 = extract_number(kUINT, &Rate, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (RetVal1 != kEXTRACT_OK || RetVal2 != kEXTRACT_OK)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle loading things up for RB1 through RB3                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseLen[i+1] = Length;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseRate[i+1] = Rate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG Pulse Go Command                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Starts a set of pulses (as configured by the PC command)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // going. If a new set of parameters were sent by the PC command,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG will cause them all to take effect at the next 1ms                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // interval.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,1<CR>   Start pulses, or load latest set of parameters and use them        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,0<CR>   Stop pulses                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (Value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set lower four bits of PortB to outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               TRISB = TRISB & 0xF0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set global flag that turns pulses on                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear global flag that turns pulses on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00595e   cfd9     MOVFF     0xfd9,0xfe6    void LongDelay(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005960   ffe6                                                                                                               
005962   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005964   ffd9                                                                                                               
005966   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A basic for() loop decrementing a 16 bit number would be simpler, but seems to take more code space for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // a given delay.  So do this instead:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005968   6adf     CLRF      0xdf,0x0         for(i = 0; i < 0xFF; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00596a   0eff     MOVLW     0xff                                                                                            
00596c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00596e   e20a     BC        0x5984                                                                                          
005980   2adf     INCF      0xdf,0x1,0x0                                                                                    
005982   d7f3     BRA       0x596a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005970   68e8     SETF      0xe8,0x0           WREG = 0xFF;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005972   50e8     MOVF      0xe8,0x0,0x0       while(WREG)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005974   e005     BZ        0x5980                                                                                          
00597e   d7f9     BRA       0x5972                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005976   06e8     DECF      0xe8,0x1,0x0         WREG--;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005978   d000     BRA       0x597a               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00597a   d000     BRA       0x597c               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00597c   d000     BRA       0x597e               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Delay is ~59.8ms at 48MHz.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005984   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005986   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005988   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00598a   ffd9                                                                                                               
00598c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // BL command : simply jump to the bootloader                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "BL<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00598e   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005990   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005992   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005994   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005996   dfe3     RCALL     0x595e           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005998   ef0f     GOTO      0x1e             _asm goto 0x00001E _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00599a   f000                                                                                                               
00599c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RB ReBoot command : simply jump to the reset vector                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RB<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00599e   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a0   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a2   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a4   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a6   dfdb     RCALL     0x595e           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a8   00ff     RESET                      Reset();                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059aa   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QR Query RC Servo power state command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RR<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "0<CR><LF>OK<CR><LF>" or "1<CR><LF>OK<CR><LF>"                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 0 = power to RC servo off                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1 = power to RC servo on                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ac   ecdd     CALL      0x63ba,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ae   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b0   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(RCServoPowerIO_PORT);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b2   0b08     ANDLW     0x8                                                                                             
0059b4   e001     BZ        0x59b8                                                                                          
0059b6   0e01     MOVLW     0x1                                                                                             
0059b8   ec65     CALL      0x66ca,0x0                                                                                      
0059ba   f033                                                                                                               
006306   6e4e     MOVWF     0x4e,0x0                                                                                        
006308   d9a7     RCALL     0x6658                                                                                          
00630a   6ee6     MOVWF     0xe6,0x0                                                                                        
00630c   0012     RETURN    0x0                                                                                             
0059bc   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059be   b1c3     BTFSC     0xc3,0x0,0x1                                                                                    
0059c0   d003     BRA       0x59c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c2   0e02     MOVLW     0x2                print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c4   ec19     CALL      0x6632,0x0                                                                                      
0059c6   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c8   ef51     GOTO      0x62a2           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ca   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // SR Set RC Servo power timeout                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "SR,<new_time_ms>,<new_power_state><CR><LF>"                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "OK<CR><LF>"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_time_ms> is a 32-bit unsigned integer, representing the new RC servo     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // poweroff timeout in milliseconds. This value is not saved across reboots.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is the length of time the system will wait after any command that uses     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the motors or servo before killing power to the RC servo.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Use a value of 0 for <new_time_ms> to completely disable the poweroff timer.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_power_state> is an optional parameter of either 0 or 1. It will          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // immediately affect the servo's power state, where 0 turns it off and 1        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // turns it on.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059cc   ec18     CALL      0x6230,0x0     void parse_SR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ce   f031                                                                                                               
0059d0   0e06     MOVLW     0x6                                                                                             
0059d2   ec67     CALL      0x64ce,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 State;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType GotState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d4   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d6   0e07     MOVLW     0x7              extract_number(kULONG, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d8   ec02     CALL      0x6204,0x0                                                                                      
0059da   f031                                                                                                               
0059dc   0e01     MOVLW     0x1              GotState = extract_number(kUCHAR, &State, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059de   6ee6     MOVWF     0xe6,0x0                                                                                        
0059e0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0059e2   0f04     ADDLW     0x4                                                                                             
0059e4   ec58     CALL      0x64b0,0x0                                                                                      
0059e6   f032                                                                                                               
0059e8   6ee7     MOVWF     0xe7,0x0                                                                                        
0059ea   0e05     MOVLW     0x5                                                                                             
0059ec   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0059ee   ffdb                                                                                                               
006256   6ee6     MOVWF     0xe6,0x0                                                                                        
006258   0e00     MOVLW     0x0                                                                                             
00625a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00625c   6ee6     MOVWF     0xe6,0x0                                                                                        
00625e   0012     RETURN    0x0                                                                                             
0064b0   ded2     RCALL     0x6256                                                                                          
0064b2   0e01     MOVLW     0x1                                                                                             
0064b4   ef02     GOTO      0x6204                                                                                          
0064b6   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f0   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f2   5197     MOVF      0x97,0x0,0x1                                                                                    
0059f4   e116     BNZ       0x5a22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f6   cfdf     MOVFF     0xfdf,0xd5       gRCServoPoweroffCounterReloadMS = Value;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f8   f0d5                                                                                                               
0059fa   0e01     MOVLW     0x1                                                                                             
0059fc   cfdb     MOVFF     0xfdb,0xd6                                                                                      
0059fe   f0d6                                                                                                               
005a00   0e02     MOVLW     0x2                                                                                             
005a02   cfdb     MOVFF     0xfdb,0xd7                                                                                      
005a04   f0d7                                                                                                               
005a06   0e03     MOVLW     0x3                                                                                             
005a08   cfdb     MOVFF     0xfdb,0xd8                                                                                      
005a0a   f0d8                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if <new_power_state> is there                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0c   0e05     MOVLW     0x5              if (GotState == kEXTRACT_OK)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a10   e106     BNZ       0x5a1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yup, so set new power state                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a12   0e04     MOVLW     0x4                if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a14   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a16   e002     BZ        0x5a1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a18   8689     BSF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_ON;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1a   d001     BRA       0x5a1e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1c   9689     BCF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1e   ec51     CALL      0x62a2,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a20   f031                                                                                                               
005a22   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a24   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005a26   e202     BC        0x5a2c                                                                                          
005a28   6ae1     CLRF      0xe1,0x0                                                                                        
005a2a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005a2c   6ee1     MOVWF     0xe1,0x0                                                                                        
005a2e   ef1d     GOTO      0x623a                                                                                          
005a30   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just used for testing/debugging the packet parsing routines                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a32   ec18     CALL      0x6230,0x0     void parse_CK_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a34   f031                                                                                                               
005a36   0e10     MOVLW     0x10                                                                                            
005a38   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UByte;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed char SByte;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int UInt;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed int SInt;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULong;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long SLong;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UChar;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UCaseChar;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a3a   ec61     CALL      0x66c2,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a3c   f033                                                                                                               
005a3e   dbe6     RCALL     0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a40   6ae6     CLRF      0xe6,0x0         extract_number(kCHAR, &SByte, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a42   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005a44   0f01     ADDLW     0x1                                                                                             
005a46   ec2b     CALL      0x6256,0x0                                                                                      
005a48   f031                                                                                                               
005a4a   6ae6     CLRF      0xe6,0x0                                                                                        
005a4c   d962     RCALL     0x5d12                                                                                          
005a4e   ec6c     CALL      0x64d8,0x0                                                                                      
005a50   f032                                                                                                               
005a52   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &UByte, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a54   ec1e     CALL      0x663c,0x0                                                                                      
005a56   f033                                                                                                               
005a58   0e01     MOVLW     0x1                                                                                             
005a5a   ec30     CALL      0x6660,0x0                                                                                      
005a5c   f033                                                                                                               
005a5e   0f04     ADDLW     0x4              extract_number(kINT, &SInt, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a60   ec2b     CALL      0x6256,0x0                                                                                      
005a62   f031                                                                                                               
005a64   0e02     MOVLW     0x2                                                                                             
005a66   ec30     CALL      0x6660,0x0                                                                                      
005a68   f033                                                                                                               
005a6a   0f02     ADDLW     0x2              extract_number(kUINT, &UInt, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a6c   ec2b     CALL      0x6256,0x0                                                                                      
005a6e   f031                                                                                                               
005a70   0e03     MOVLW     0x3                                                                                             
005a72   ec30     CALL      0x6660,0x0                                                                                      
005a74   f033                                                                                                               
005a76   0f0a     ADDLW     0xa              extract_number(kLONG, &SLong, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a78   dbee     RCALL     0x6256                                                                                          
005a7a   0e06     MOVLW     0x6                                                                                             
005a7c   ec30     CALL      0x6660,0x0                                                                                      
005a7e   f033                                                                                                               
005a80   0f06     ADDLW     0x6              extract_number(kULONG, &ULong, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a82   dbe9     RCALL     0x6256                                                                                          
005a84   0e07     MOVLW     0x7                                                                                             
005a86   ec30     CALL      0x6660,0x0                                                                                      
005a88   f033                                                                                                               
005a8a   0f0e     ADDLW     0xe              extract_number(kASCII_CHAR, &UChar, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8c   dbe4     RCALL     0x6256                                                                                          
005a8e   0e04     MOVLW     0x4                                                                                             
005a90   ec30     CALL      0x6660,0x0                                                                                      
005a92   f033                                                                                                               
005a94   0f0f     ADDLW     0xf              extract_number(kUCASE_ASCII_CHAR, &UCaseChar, kREQUIRED);                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a96   dbdf     RCALL     0x6256                                                                                          
005a98   0e05     MOVLW     0x5                                                                                             
005a9a   dbb4     RCALL     0x6204                                                                                          
006204   6ee6     MOVWF     0xe6,0x0                                                                                        
006206   dd85     RCALL     0x5d12                                                                                          
006208   ef6c     GOTO      0x64d8                                                                                          
00620a   f032                                                                                                               
0064d8   d8ec     RCALL     0x66b2                                                                                          
0064da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0064dc   0012     RETURN    0x0                                                                                             
0066b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066b8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9c   0e15     MOVLW     0x15             ebb_print((rom char far *)"Param1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9e   6e4e     MOVWF     0x4e,0x0                                                                                        
005aa0   0e82     MOVLW     0x82                                                                                            
005aa2   dbaa     RCALL     0x61f8                                                                                          
005aa4   0e01     MOVLW     0x1              ebb_print_int(SByte);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa6   ec02     CALL      0x6404,0x0                                                                                      
005aa8   f032                                                                                                               
005aaa   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
005aac   d003     BRA       0x5ab4                                                                                          
005aae   684f     SETF      0x4f,0x0                                                                                        
005ab0   6850     SETF      0x50,0x0                                                                                        
005ab2   6851     SETF      0x51,0x0                                                                                        
005ab4   ec41     CALL      0x6682,0x0                                                                                      
005ab6   f033                                                                                                               
006682   d83b     RCALL     0x66fa                                                                                          
006684   ef78     GOTO      0x66f0                                                                                          
006686   f033                                                                                                               
0066fa   c04e     MOVFF     0x4e,0xfe6                                                                                      
0066fc   ffe6                                                                                                               
0066fe   ef60     GOTO      0x64c0                                                                                          
006700   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ab8   0e0d     MOVLW     0xd              ebb_print((rom char far *)"Param2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aba   6e4e     MOVWF     0x4e,0x0                                                                                        
005abc   0e82     MOVLW     0x82                                                                                            
005abe   db9c     RCALL     0x61f8                                                                                          
005ac0   dbe2     RCALL     0x6286           ebb_print_uint(UByte);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac2   ec6f     CALL      0x64de,0x0                                                                                      
005ac4   f032                                                                                                               
006286   cfdf     MOVFF     0xfdf,0x4e                                                                                      
006288   f04e                                                                                                               
00628a   ef2c     GOTO      0x6658                                                                                          
00628c   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac6   0e05     MOVLW     0x5              ebb_print((rom char far *)"Param3=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac8   6e4e     MOVWF     0x4e,0x0                                                                                        
005aca   0e82     MOVLW     0x82                                                                                            
005acc   db95     RCALL     0x61f8                                                                                          
005ace   0e04     MOVLW     0x4              ebb_print_int(SInt);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad0   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005ad2   f04e                                                                                                               
005ad4   0e05     MOVLW     0x5                                                                                             
005ad6   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005ad8   f04f                                                                                                               
005ada   6a50     CLRF      0x50,0x0                                                                                        
005adc   6a51     CLRF      0x51,0x0                                                                                        
005ade   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005ae0   d002     BRA       0x5ae6                                                                                          
005ae2   6850     SETF      0x50,0x0                                                                                        
005ae4   6851     SETF      0x51,0x0                                                                                        
005ae6   ec41     CALL      0x6682,0x0                                                                                      
005ae8   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aea   0efd     MOVLW     0xfd             ebb_print((rom char far *)"Param4=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aec   6e4e     MOVWF     0x4e,0x0                                                                                        
005aee   0e81     MOVLW     0x81                                                                                            
005af0   db83     RCALL     0x61f8                                                                                          
005af2   0e02     MOVLW     0x2              ebb_print_uint(UInt);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005af4   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005af6   f04e                                                                                                               
005af8   0e03     MOVLW     0x3                                                                                             
005afa   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005afc   f04f                                                                                                               
005afe   6a50     CLRF      0x50,0x0                                                                                        
005b00   6a51     CLRF      0x51,0x0                                                                                        
005b02   ec6f     CALL      0x64de,0x0                                                                                      
005b04   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b06   0ef5     MOVLW     0xf5             ebb_print((rom char far *)"Param5=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b08   6e4e     MOVWF     0x4e,0x0                                                                                        
005b0a   0e81     MOVLW     0x81                                                                                            
005b0c   db75     RCALL     0x61f8                                                                                          
005b0e   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(SLong);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b10   0f0a     ADDLW     0xa                                                                                             
005b12   dbad     RCALL     0x626e                                                                                          
005b14   ec78     CALL      0x66f0,0x0                                                                                      
005b16   f033                                                                                                               
0066f0   ec22     CALL      0x8444,0x0                                                                                      
0066f2   f042                                                                                                               
0066f4   def1     RCALL     0x64d8                                                                                          
0066f6   ef06     GOTO      0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066f8   f031                                                                                                               
005b18   ecce     CALL      0x659c,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b1a   f032                                                                                                               
005b1c   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(ULong);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b1e   0f06     ADDLW     0x6                                                                                             
005b20   dba6     RCALL     0x626e                                                                                          
005b22   ec44     CALL      0x6688,0x0                                                                                      
005b24   f033                                                                                                               
005b26   db72     RCALL     0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b28   0ee5     MOVLW     0xe5             ebb_print((rom char far *)"Param7=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2a   6e4e     MOVWF     0x4e,0x0                                                                                        
005b2c   0e81     MOVLW     0x81                                                                                            
005b2e   db64     RCALL     0x61f8                                                                                          
005b30   0e0e     MOVLW     0xe              ebb_print_char(UChar);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b32   ece7     CALL      0x65ce,0x0                                                                                      
005b34   f032                                                                                                               
0065ce   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0065d0   ffe6                                                                                                               
0065d2   ecfc     CALL      0x43f8,0x0                                                                                      
0065d4   f021                                                                                                               
0065d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0065d8   ef06     GOTO      0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065da   f031                                                                                                               
005b36   0edd     MOVLW     0xdd             ebb_print((rom char far *)"Param8=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b38   6e4e     MOVWF     0x4e,0x0                                                                                        
005b3a   0e81     MOVLW     0x81                                                                                            
005b3c   db5d     RCALL     0x61f8                                                                                          
005b3e   0e0f     MOVLW     0xf              ebb_print_char(UCaseChar);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b40   ece7     CALL      0x65ce,0x0                                                                                      
005b42   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b44   ecce     CALL      0x659c,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b46   f032                                                                                                               
005b48   0e08     MOVLW     0x8              ebb_print_hex(ULong, 8);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b4a   6ee6     MOVWF     0xe6,0x0                                                                                        
005b4c   ec9b     CALL      0x6536,0x0                                                                                      
005b4e   f032                                                                                                               
006536   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006538   0f06     ADDLW     0x6                                                                                             
00653a   de99     RCALL     0x626e                                                                                          
00653c   eccc     CALL      0x8398,0x0                                                                                      
00653e   f041                                                                                                               
006540   6e4e     MOVWF     0x4e,0x0                                                                                        
006542   0e05     MOVLW     0x5                                                                                             
006544   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006546   504e     MOVF      0x4e,0x0,0x0                                                                                    
006548   ef06     GOTO      0x620c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00654a   f031                                                                                                               
005b50   ecce     CALL      0x659c,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b52   f032                                                                                                               
00659c   0eed     MOVLW     0xed                                                                                            
00659e   6e4e     MOVWF     0x4e,0x0                                                                                        
0065a0   0e81     MOVLW     0x81                                                                                            
0065a2   effc     GOTO      0x61f8                                                                                          
0065a4   f030                                                                                                               
005b54   6ae6     CLRF      0xe6,0x0         ebb_print_hex(ULong, 0);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b56   ec9b     CALL      0x6536,0x0                                                                                      
005b58   f032                                                                                                               
00626e   6ee9     MOVWF     0xe9,0x0                                                                                        
006270   cfda     MOVFF     0xfda,0xfea                                                                                     
006272   ffea                                                                                                               
006274   cfee     MOVFF     0xfee,0xfe6                                                                                     
006276   ffe6                                                                                                               
006278   cfee     MOVFF     0xfee,0xfe6                                                                                     
00627a   ffe6                                                                                                               
00627c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00627e   ffe6                                                                                                               
006280   cfef     MOVFF     0xfef,0xfe6                                                                                     
006282   ffe6                                                                                                               
006284   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5a   dba3     RCALL     0x62a2           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5c   0e10     MOVLW     0x10           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005b60   e202     BC        0x5b66                                                                                          
005b62   6ae1     CLRF      0xe1,0x0                                                                                        
005b64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005b66   6ee1     MOVWF     0xe1,0x0                                                                                        
005b68   d368     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6a   ecb6     CALL      0x656c,0x0     void populateDeviceStringWithName(void)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6c   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extern BYTE * USB_SD_Ptr[];                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6e   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b70   0e11     MOVLW     0x11                                                                                            
005b72   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005b74   e204     BC        0x5b7e                                                                                          
005b7a   2adf     INCF      0xdf,0x1,0x0                                                                                    
005b7c   d7f9     BRA       0x5b70                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b76   dbb7     RCALL     0x62e6             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b78   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b7e   ec01     CALL      0x6602,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b80   f033                                                                                                               
006602   de6c     RCALL     0x62dc                                                                                          
006604   ec1e     CALL      0x8c3c,0x0                                                                                      
006606   f046                                                                                                               
006608   ef1a     GOTO      0x6434                                                                                          
00660a   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The EEB's name is now in the 'name' local variable as a straight string     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // of bytes. We need to move it to the proper locations in the sd002           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // USB string descriptor (which is in RAM now). But it needs to be a           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // unicode string, so we've got to skip every other byte.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Since the FLASH copy of 'name' is padded with zeros and is always 16        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // bytes long, we are safe to always copy 16 bytes over to the string          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Because sd002 is an anonymous structure without any names for its           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // members, we are totally going to just hack this bad boy and jump            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // into a known offset from the beginning of the structure.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // As of 2.5.5, we now not only update the Product string, but also the        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // serial number string.                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b82   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH; i++)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b84   0e10     MOVLW     0x10                                                                                            
005b86   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005b88   e221     BC        0x5bcc                                                                                          
005bc8   2adf     INCF      0xdf,0x1,0x0                                                                                    
005bca   d7dc     BRA       0x5b84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only copy over valid ASCII characters. On the first invalid               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // one, bail out.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b8a   dbad     RCALL     0x62e6             if (gDeviceStringName[i] <= 128u && gDeviceStringName[i] >= 32u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b8c   50ef     MOVF      0xef,0x0,0x0                                                                                    
005b8e   0880     SUBLW     0x80                                                                                            
005b90   e31d     BNC       0x5bcc                                                                                          
005b92   dba9     RCALL     0x62e6                                                                                          
005b94   cfef     MOVFF     0xfef,0x4e                                                                                      
005b96   f04e                                                                                                               
005b98   0e20     MOVLW     0x20                                                                                            
005b9a   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
005b9c   e317     BNC       0x5bcc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b9e   dba3     RCALL     0x62e6               *(USB_SD_Ptr[2] + 24 + (i*2)) = gDeviceStringName[i];                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ba0   50ef     MOVF      0xef,0x0,0x0                                                                                    
005ba2   6ee6     MOVWF     0xe6,0x0                                                                                        
005ba4   0e18     MOVLW     0x18                                                                                            
005ba6   0102     MOVLB     0x2                                                                                             
005ba8   6a4f     CLRF      0x4f,0x0                                                                                        
005baa   25fa     ADDWF     0xfa,0x0,0x1                                                                                    
005bac   6e4e     MOVWF     0x4e,0x0                                                                                        
005bae   51fb     MOVF      0xfb,0x0,0x1                                                                                    
005bb0   ecf6     CALL      0x63ec,0x0                                                                                      
005bb2   f031                                                                                                               
0063ec   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0063ee   50df     MOVF      0xdf,0x0,0x0                                                                                    
0063f0   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0063f2   244e     ADDWF     0x4e,0x0,0x0                                                                                    
0063f4   6ee9     MOVWF     0xe9,0x0                                                                                        
0063f6   0e00     MOVLW     0x0                                                                                             
0063f8   204f     ADDWFC    0x4f,0x0,0x0                                                                                    
0063fa   6eea     MOVWF     0xea,0x0                                                                                        
0063fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063fe   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006400   6eef     MOVWF     0xef,0x0                                                                                        
006402   0012     RETURN    0x0                                                                                             
005bb4   db98     RCALL     0x62e6               *(USB_SD_Ptr[3] + 2 + (i*2)) = gDeviceStringName[i];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb6   50ef     MOVF      0xef,0x0,0x0                                                                                    
005bb8   6ee6     MOVWF     0xe6,0x0                                                                                        
005bba   0e02     MOVLW     0x2                                                                                             
005bbc   6a4f     CLRF      0x4f,0x0                                                                                        
005bbe   25fc     ADDWF     0xfc,0x0,0x1                                                                                    
005bc0   6e4e     MOVWF     0x4e,0x0                                                                                        
005bc2   51fd     MOVF      0xfd,0x0,0x1                                                                                    
005bc4   ecf6     CALL      0x63ec,0x0                                                                                      
005bc6   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now update the string descriptor lengths based on how many characters       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // we copied over from Flash                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bcc   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[2]) = 24 + (i * 2);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bce   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005bd0   0f18     ADDLW     0x18                                                                                            
005bd2   c2fa     MOVFF     0x2fa,0xfe9                                                                                     
005bd4   ffe9                                                                                                               
005bd6   c2fb     MOVFF     0x2fb,0xfea                                                                                     
005bd8   ffea                                                                                                               
005bda   6eef     MOVWF     0xef,0x0                                                                                        
005bdc   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[3]) = 2 + (i * 2);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bde   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005be0   0f02     ADDLW     0x2                                                                                             
005be2   c2fc     MOVFF     0x2fc,0xfe9                                                                                     
005be4   ffe9                                                                                                               
005be6   c2fd     MOVFF     0x2fd,0xfea                                                                                     
005be8   ffea                                                                                                               
005bea   6eef     MOVWF     0xef,0x0                                                                                        
005bec   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bee   d325     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // ST command : Set Tag                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "ST,<new name><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new name> is a 0 to 16 character ASCII string.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This string gets saved in FLASH, and is returned by the "QT" command, as      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // well as being appended to the USB name that shows up in the OS                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf0   ec5d     CALL      0x66ba,0x0     void parse_ST_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf2   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf4   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf6   ec61     CALL      0x66c2,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf8   f033                                                                                                               
0066c2   6ae6     CLRF      0xe6,0x0                                                                                        
0066c4   6ae6     CLRF      0xe6,0x0                                                                                        
0066c6   ef96     GOTO      0x652c                                                                                          
0066c8   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bfa   0e01     MOVLW     0x1              for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bfc   6adb     CLRF      0xdb,0x0                                                                                        
005bfe   0e11     MOVLW     0x11                                                                                            
005c00   6ef3     MOVWF     0xf3,0x0                                                                                        
005c02   0e01     MOVLW     0x1                                                                                             
005c04   dbe9     RCALL     0x63d8                                                                                          
005c06   e20b     BC        0x5c1e                                                                                          
005c18   0e01     MOVLW     0x1                                                                                             
005c1a   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c1c   d7f0     BRA       0x5bfe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c08   0e01     MOVLW     0x1                gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c0a   50db     MOVF      0xdb,0x0,0x0                                                                                    
005c0c   6aea     CLRF      0xea,0x0                                                                                        
005c0e   0fe8     ADDLW     0xe8                                                                                            
005c10   6ee9     MOVWF     0xe9,0x0                                                                                        
005c12   0e00     MOVLW     0x0                                                                                             
005c14   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005c16   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c1e   0e10     MOVLW     0x10             bytes = extract_string(gDeviceStringName, FLASH_NAME_LENGTH);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c20   6ee6     MOVWF     0xe6,0x0                                                                                        
005c22   ec23     CALL      0x6646,0x0                                                                                      
005c24   f033                                                                                                               
005c26   d83a     RCALL     0x5c9c                                                                                          
005c28   ec59     CALL      0x66b2,0x0                                                                                      
005c2a   f033                                                                                                               
005c2c   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We have reserved FLASH addresses 0xF800 to 0xFBFF (1024 bytes) for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // storing persistent variables like the EEB's name. Note that no wear-leveling D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // is done, so it's not a good idea to change these values more than 10K times. :-) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c2e   68e6     SETF      0xe6,0x0         EraseFlash(FLASH_NAME_ADDRESS, FLASH_NAME_ADDRESS + 0x3FF);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c30   0efb     MOVLW     0xfb                                                                                            
005c32   6ee6     MOVWF     0xe6,0x0                                                                                        
005c34   6ae6     CLRF      0xe6,0x0                                                                                        
005c36   ec06     CALL      0x660c,0x0                                                                                      
005c38   f033                                                                                                               
005c3a   ecfd     CALL      0x89fa,0x0                                                                                      
005c3c   f044                                                                                                               
005c3e   ec1a     CALL      0x6434,0x0                                                                                      
005c40   f032                                                                                                               
00660c   6ae6     CLRF      0xe6,0x0                                                                                        
00660e   6ae6     CLRF      0xe6,0x0                                                                                        
006610   0ef8     MOVLW     0xf8                                                                                            
006612   6ee6     MOVWF     0xe6,0x0                                                                                        
006614   6ae6     CLRF      0xe6,0x0                                                                                        
006616   6ae6     CLRF      0xe6,0x0                                                                                        
006618   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c42   db4c     RCALL     0x62dc           WriteBytesFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c44   ecc7     CALL      0x858e,0x0                                                                                      
005c46   f042                                                                                                               
005c48   ec1a     CALL      0x6434,0x0                                                                                      
005c4a   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c4c   db2a     RCALL     0x62a2           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c4e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c50   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005c52   e202     BC        0x5c58                                                                                          
005c54   6ae1     CLRF      0xe1,0x0                                                                                        
005c56   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005c58   6ee1     MOVWF     0xe1,0x0                                                                                        
005c5a   d2ef     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QT command : Query Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QT<CR>"                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Prints out the 'tag' that was set with the "ST" command previously, if any    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// TODO: Optimize this by simply pointing ebb_print() at the string in FLASH?   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// We could save 16 bytes of RAM that way and make the code simpler.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c5c   ecb6     CALL      0x656c,0x0     void parse_QT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c5e   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c60   dbac     RCALL     0x63ba           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063ba   0e01     MOVLW     0x1                                                                                             
0063bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0063be   6ae6     CLRF      0xe6,0x0                                                                                        
0063c0   ef96     GOTO      0x652c                                                                                          
0063c2   f032                                                                                                               
00652c   ec62     CALL      0x4ac4,0x0                                                                                      
00652e   f025                                                                                                               
006530   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006532   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006534   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c62   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c64   0e11     MOVLW     0x11                                                                                            
005c66   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005c68   e204     BC        0x5c72                                                                                          
005c6e   2adf     INCF      0xdf,0x1,0x0                                                                                    
005c70   d7f9     BRA       0x5c64                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c6a   db3d     RCALL     0x62e6             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c6c   6aef     CLRF      0xef,0x0                                                                                        
0062e6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0062e8   6aea     CLRF      0xea,0x0                                                                                        
0062ea   0fe8     ADDLW     0xe8                                                                                            
0062ec   6ee9     MOVWF     0xe9,0x0                                                                                        
0062ee   0e00     MOVLW     0x0                                                                                             
0062f0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0062f2   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c72   ec01     CALL      0x6602,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c74   f033                                                                                                               
0062dc   d9b4     RCALL     0x6646                                                                                          
0062de   0e10     MOVLW     0x10                                                                                            
0062e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0062e2   ef06     GOTO      0x660c                                                                                          
0062e4   f033                                                                                                               
006434   6e4e     MOVWF     0x4e,0x0                                                                                        
006436   0e08     MOVLW     0x8                                                                                             
006438   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00643a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00643c   0012     RETURN    0x0                                                                                             
006646   0ee8     MOVLW     0xe8                                                                                            
006648   6ee6     MOVWF     0xe6,0x0                                                                                        
00664a   0e00     MOVLW     0x0                                                                                             
00664c   6ee6     MOVWF     0xe6,0x0                                                                                        
00664e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only print it out if the first character is printable ASCII                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c76   0e80     MOVLW     0x80             if (gDeviceStringName[0] < 128u && gDeviceStringName[0] > 32u)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c78   0100     MOVLB     0x0                                                                                             
005c7a   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
005c7c   e209     BC        0x5c90                                                                                          
005c7e   51e8     MOVF      0xe8,0x0,0x1                                                                                    
005c80   0820     SUBLW     0x20                                                                                            
005c82   e206     BC        0x5c90                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c84   ec23     CALL      0x6646,0x0         ebb_print_ram((char *)gDeviceStringName);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c86   f033                                                                                                               
005c88   ecc0     CALL      0x8380,0x0                                                                                      
005c8a   f041                                                                                                               
005c8c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005c8e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c90   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c92   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c94   dabb     RCALL     0x620c             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c96   db05     RCALL     0x62a2           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062a2   6ae6     CLRF      0xe6,0x0                                                                                        
0062a4   ec80     CALL      0x4b00,0x0                                                                                      
0062a6   f025                                                                                                               
0062a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0062aa   0012     RETURN    0x0                                                                                             
005c98   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9a   d2cf     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string in g_RX_buf[]                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Copy over all bytes from g_RX_buf_out into ReturnValue until you hit          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a comma or a CR or you've copied over MaxBytes characters.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return the number of bytes copied. Advance g_RX_buf_out as you go.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9c   ecb6     CALL      0x656c,0x0     UINT8 extract_string (                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9e   f032                                                                                                               
006230   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006232   ffe6                                                                                                               
006234   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006236   ffd9                                                                                                               
006238   0012     RETURN    0x0                                                                                             
00656c   de61     RCALL     0x6230                                                                                          
00656e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
006570   0012     RETURN    0x0                                                                                             
                                             unsigned char * ReturnValue,                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 MaxBytes                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca0   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Always terminate the string                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca2   db53     RCALL     0x634a           *ReturnValue = 0x00;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca4   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca6   ec0d     CALL      0x661a,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca8   f033                                                                                                               
005caa   e102     BNZ       0x5cb0                                                                                          
00661a   0e0d     MOVLW     0xd                                                                                             
00661c   6e4e     MOVWF     0x4e,0x0                                                                                        
00661e   0100     MOVLB     0x0                                                                                             
006620   ddf8     RCALL     0x6212                                                                                          
006622   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006624   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cac   8997     BSF       0x97,0x4,0x1       bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cae   d005     BRA       0x5cba             return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb0   dab0     RCALL     0x6212           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb2   082c     SUBLW     0x2c                                                                                            
005cb4   e004     BZ        0x5cbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb6   ec72     CALL      0x64e4,0x0         ebb_print((rom char far *)"!5 Err: Need comma next, found: '");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb8   f032                                                                                                               
0064e4   0ebb     MOVLW     0xbb                                                                                            
0064e6   6e4e     MOVWF     0x4e,0x0                                                                                        
0064e8   0e81     MOVLW     0x81                                                                                            
0064ea   de86     RCALL     0x61f8                                                                                          
0064ec   0100     MOVLB     0x0                ebb_print_char(g_RX_buf[g_RX_buf_out]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064ee   de91     RCALL     0x6212                                                                                          
0064f0   dead     RCALL     0x624c                                                                                          
0064f2   0e27     MOVLW     0x27               ebb_print_char(0x27); // The ' character                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064f4   deab     RCALL     0x624c                                                                                          
0064f6   de8a     RCALL     0x620c             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064f8   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PRINTED_ERROR);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064fa   8b97     BSF       0x97,0x5,0x1                                                                                    
0064fc   0012     RETURN    0x0                                                                                             
005cba   0e00     MOVLW     0x0                return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cbc   d028     BRA       0x5d0e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cbe   dad0     RCALL     0x6260           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc0   e104     BNZ       0x5cca                                                                                          
005cc2   0e01     MOVLW     0x1                                                                                             
005cc4   184f     XORWF     0x4f,0x0,0x0                                                                                    
005cc6   e101     BNZ       0x5cca                                                                                          
005cc8   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0c   d7de     BRA       0x5cca           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check to see if we're already at the end                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cca   0e0d     MOVLW     0xd                if (kCR == g_RX_buf[g_RX_buf_out] || (BYTE)',' == g_RX_buf[g_RX_buf_out] || bytes >= MaxBytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ccc   ec28     CALL      0x6650,0x0                                                                                      
005cce   f033                                                                                                               
005cd0   e009     BZ        0x5ce4                                                                                          
005cd2   0e2c     MOVLW     0x2c                                                                                            
005cd4   6e4f     MOVWF     0x4f,0x0                                                                                        
005cd6   da9d     RCALL     0x6212                                                                                          
005cd8   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
005cda   e004     BZ        0x5ce4                                                                                          
005cdc   0efc     MOVLW     0xfc                                                                                            
005cde   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ce0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005ce2   e302     BNC       0x5ce8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce4   50df     MOVF      0xdf,0x0,0x0         return (bytes);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce6   d013     BRA       0x5d0e                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Copy over a byte                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce8   da94     RCALL     0x6212             *ReturnValue = g_RX_buf[g_RX_buf_out];                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cea   6ee6     MOVWF     0xe6,0x0                                                                                        
005cec   db2e     RCALL     0x634a                                                                                          
005cee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005cf0   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005cf2   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf4   dab5     RCALL     0x6260             advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf6   e104     BNZ       0x5d00                                                                                          
005cf8   0e01     MOVLW     0x1                                                                                             
005cfa   184f     XORWF     0x4f,0x0,0x0                                                                                    
005cfc   e101     BNZ       0x5d00                                                                                          
005cfe   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Count this one                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d00   2adf     INCF      0xdf,0x1,0x0       bytes++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d02   0efd     MOVLW     0xfd               ReturnValue++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d04   2adb     INCF      0xdb,0x1,0x0                                                                                    
005d06   0efe     MOVLW     0xfe                                                                                            
005d08   e3e0     BNC       0x5cca                                                                                          
005d0a   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             return(bytes);                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d10   d294     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string pointed to by g_RX_buf[g_RX_buf_out]                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // There should be a comma where g_RX_buf[g_RX_buf_out] points to upon entry.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If not, throw a comma error.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so, then look for up to like a ton of bytes after the                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // comma for numbers, and put them all into one                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // unsigned long accumulator.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Advance the pointer to the byte after the last number                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // and return.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d12   da8e     RCALL     0x6230         ExtractReturnType extract_number(                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d14   0e09     MOVLW     0x9                                                                                             
005d16   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             ExtractType Type,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             void * ReturnValue,                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Required                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULAccumulator;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long Accumulator;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d18   0e08     MOVLW     0x8              BOOL Negative = FALSE;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1a   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1c   ec0d     CALL      0x661a,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1e   f033                                                                                                               
005d20   e105     BNZ       0x5d2c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d22   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d24   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d26   e119     BNZ       0x5d5a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d28   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2a   d017     BRA       0x5d5a             return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2c   da72     RCALL     0x6212           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2e   082c     SUBLW     0x2c                                                                                            
005d30   e006     BZ        0x5d3e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d32   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d34   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d36   e101     BNZ       0x5d3a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d38   dbd5     RCALL     0x64e4               ebb_print((rom char far *)"!5 Err: Need comma next, found: '");            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006212   51cb     MOVF      0xcb,0x0,0x1         ebb_print_char(g_RX_buf[g_RX_buf_out]);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006214   d985     RCALL     0x6520                                                                                          
006216   50ef     MOVF      0xef,0x0,0x0                                                                                    
006218   0012     RETURN    0x0                                                                                             
                                                 ebb_print_char(0x27);     // The ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset (error_byte, kERROR_BYTE_PRINTED_ERROR);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3a   0e02     MOVLW     0x2                return(kEXTRACT_COMMA_MISSING);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3c   d11a     BRA       0x5f72                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3e   da90     RCALL     0x6260           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d40   e104     BNZ       0x5d4a                                                                                          
005d42   0e01     MOVLW     0x1                                                                                             
005d44   184f     XORWF     0x4f,0x0,0x0                                                                                    
005d46   e101     BNZ       0x5d4a                                                                                          
005d48   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for end of command                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d4a   0e0d     MOVLW     0xd              if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d4c   ec28     CALL      0x6650,0x0                                                                                      
005d4e   f033                                                                                                               
005d50   e106     BNZ       0x5d5e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d52   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d54   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d56   e101     BNZ       0x5d5a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d58   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5a   0e03     MOVLW     0x3                return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5c   d10a     BRA       0x5f72                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now check for a sign character if we're not looking for ASCII chars         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5e   0e2d     MOVLW     0x2d               ('-' == g_RX_buf[g_RX_buf_out])                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d60   ec28     CALL      0x6650,0x0                                                                                      
005d62   f033                                                                                                               
006650   6e4e     MOVWF     0x4e,0x0                                                                                        
006652   dddf     RCALL     0x6212                                                                                          
006654   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006656   0012     RETURN    0x0                                                                                             
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d66   0e04     MOVLW     0x4                  (kASCII_CHAR != Type)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d68   db54     RCALL     0x6412                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6c   0e05     MOVLW     0x5                  (kUCASE_ASCII_CHAR != Type)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6e   6e50     MOVWF     0x50,0x0                                                                                        
005d70   0efe     MOVLW     0xfe                                                                                            
005d72   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d74   5c50     SUBWF     0x50,0x0,0x0                                                                                    
005d6a   e01d     BZ        0x5da6             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d76   e017     BZ        0x5da6                                                                                          
005d64   e120     BNZ       0x5da6           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // It's an error if we see a negative sign on an unsigned value              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d78   0efe     MOVLW     0xfe                 (kUCHAR == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7a   04db     DECF      0xdb,0x0,0x0                                                                                    
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d80   0e03     MOVLW     0x3                  (kUINT == Type)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d82   db2f     RCALL     0x63e2                                                                                          
005d7c   e101     BNZ       0x5d80               ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7e   d0c0     BRA       0x5f00                                                                                          
005d84   e101     BNZ       0x5d88                                                                                          
005d86   d0bc     BRA       0x5f00                                                                                          
005d88   0e07     MOVLW     0x7                  (kULONG == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8a   db43     RCALL     0x6412                                                                                          
005d8c   e101     BNZ       0x5d90             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8e   d0b8     BRA       0x5f00                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d90   0e01     MOVLW     0x1                  Negative = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d92   6ef3     MOVWF     0xf3,0x0                                                                                        
005d94   0e08     MOVLW     0x8                                                                                             
005d96   cff3     MOVFF     0xff3,0xfdb                                                                                     
005d98   ffdb                                                                                                               
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9a   da62     RCALL     0x6260               advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9c   e104     BNZ       0x5da6                                                                                          
005d9e   0e01     MOVLW     0x1                                                                                             
005da0   184f     XORWF     0x4f,0x0,0x0                                                                                    
005da2   e101     BNZ       0x5da6                                                                                          
005da4   6bcb     CLRF      0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If we need to get a digit, go do that                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da6   0e04     MOVLW     0x4                (kASCII_CHAR != Type)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da8   db1c     RCALL     0x63e2                                                                                          
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dac   0e05     MOVLW     0x5                (kUCASE_ASCII_CHAR != Type)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dae   db31     RCALL     0x6412                                                                                          
005daa   e009     BZ        0x5dbe           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db0   e006     BZ        0x5dbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db2   0e0a     MOVLW     0xa                extract_digit(&ULAccumulator, 10);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db4   daf1     RCALL     0x6398                                                                                          
005db6   d8e6     RCALL     0x5f84                                                                                          
005db8   ec59     CALL      0x66b2,0x0                                                                                      
005dba   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbc   d031     BRA       0x5e20           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Otherwise just copy the byte                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbe   51cb     MOVF      0xcb,0x0,0x1       ULAccumulator = g_RX_buf[g_RX_buf_out];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc0   dbaf     RCALL     0x6520                                                                                          
005dc2   cfef     MOVFF     0xfef,0x4e                                                                                      
005dc4   f04e                                                                                                               
005dc6   0e00     MOVLW     0x0                                                                                             
005dc8   c04e     MOVFF     0x4e,0xfdf                                                                                      
005dca   ffdf                                                                                                               
005dcc   db3f     RCALL     0x644c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Force uppercase if that's what type we have                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dce   0e05     MOVLW     0x5                if (kUCASE_ASCII_CHAR == Type)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd0   db08     RCALL     0x63e2                                                                                          
005dd2   e11f     BNZ       0x5e12                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd4   0e00     MOVLW     0x0                  ULAccumulator = toupper(ULAccumulator);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd6   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
005dd8   ffe6                                                                                                               
005dda   0e01     MOVLW     0x1                                                                                             
005ddc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005dde   ffe6                                                                                                               
005de0   ec59     CALL      0x8eb2,0x0                                                                                      
005de2   f047                                                                                                               
005de4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005de6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005de8   cff3     MOVFF     0xff3,0x4e                                                                                      
005dea   f04e                                                                                                               
005dec   cff4     MOVFF     0xff4,0x4f                                                                                      
005dee   f04f                                                                                                               
005df0   6a50     CLRF      0x50,0x0                                                                                        
005df2   6a51     CLRF      0x51,0x0                                                                                        
005df4   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005df6   d002     BRA       0x5dfc                                                                                          
005df8   6850     SETF      0x50,0x0                                                                                        
005dfa   6851     SETF      0x51,0x0                                                                                        
005dfc   c04e     MOVFF     0x4e,0xfdf                                                                                      
005dfe   ffdf                                                                                                               
005e00   0e01     MOVLW     0x1                                                                                             
005e02   c04f     MOVFF     0x4f,0xfdb                                                                                      
005e04   ffdb                                                                                                               
005e06   0e02     MOVLW     0x2                                                                                             
005e08   c050     MOVFF     0x50,0xfdb                                                                                      
005e0a   ffdb                                                                                                               
005e0c   0e03     MOVLW     0x3                                                                                             
005e0e   c051     MOVFF     0x51,0xfdb                                                                                      
005e10   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e12   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e14   da25     RCALL     0x6260                                                                                          
005e16   e104     BNZ       0x5e20                                                                                          
005e18   0e01     MOVLW     0x1                                                                                             
005e1a   184f     XORWF     0x4f,0x0,0x0                                                                                    
005e1c   e101     BNZ       0x5e20                                                                                          
005e1e   6bcb     CLRF      0xcb,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Range check absolute values                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e20   0e08     MOVLW     0x8              if (Negative)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e22   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e24   e040     BZ        0x5ea6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e26   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e28   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e2c   da51     RCALL     0x62d0                 (ULAccumulator > (unsigned long)128)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e2e   0e80     MOVLW     0x80                                                                                            
005e30   da6e     RCALL     0x630e                                                                                          
005e32   0e00     MOVLW     0x0                                                                                             
005e34   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e2a   e106     BNZ       0x5e38               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e36   e312     BNC       0x5e5c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e38   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3a   dad3     RCALL     0x63e2                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3e   da48     RCALL     0x62d0                 (ULAccumulator > (unsigned long)32768)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e40   0e00     MOVLW     0x0                                                                                             
005e42   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e44   0e80     MOVLW     0x80                                                                                            
005e46   da63     RCALL     0x630e                                                                                          
005e3c   e106     BNZ       0x5e4a               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e48   e309     BNC       0x5e5c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4a   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4c   dae2     RCALL     0x6412                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e50   da3f     RCALL     0x62d0                 (ULAccumulator > (unsigned long)0x80000000L)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e52   0e00     MOVLW     0x0                                                                                             
005e54   da5c     RCALL     0x630e                                                                                          
005e56   0e80     MOVLW     0x80                                                                                            
005e58   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e4e   e108     BNZ       0x5e60               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5a   e202     BC        0x5e60                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5e   d050     BRA       0x5f00               return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e60   da7b     RCALL     0x6358             Accumulator = ULAccumulator;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006358   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00635a   ffe9                                                                                                               
00635c   cfda     MOVFF     0xfda,0xfea                                                                                     
00635e   ffea                                                                                                               
006360   0e04     MOVLW     0x4                                                                                             
006362   cfee     MOVFF     0xfee,0xfdb                                                                                     
006364   ffdb                                                                                                               
006366   0e05     MOVLW     0x5                                                                                             
006368   cfee     MOVFF     0xfee,0xfdb                                                                                     
00636a   ffdb                                                                                                               
00636c   0e06     MOVLW     0x6                                                                                             
00636e   cfee     MOVFF     0xfee,0xfdb                                                                                     
006370   ffdb                                                                                                               
006372   0e07     MOVLW     0x7                                                                                             
006374   cfee     MOVFF     0xfee,0xfdb                                                                                     
006376   ffdb                                                                                                               
006378   0012     RETURN    0x0                                                                                             
                                               // Then apply the negative if that's the right thing to do                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e62   0e08     MOVLW     0x8                if (Negative)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e64   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e66   e053     BZ        0x5f0e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e68   0e04     MOVLW     0x4                  Accumulator = -Accumulator;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e6a   cfdb     MOVFF     0xfdb,0x40                                                                                      
005e6c   f040                                                                                                               
005e6e   0e05     MOVLW     0x5                                                                                             
005e70   cfdb     MOVFF     0xfdb,0x41                                                                                      
005e72   f041                                                                                                               
005e74   0e06     MOVLW     0x6                                                                                             
005e76   cfdb     MOVFF     0xfdb,0x42                                                                                      
005e78   f042                                                                                                               
005e7a   0e07     MOVLW     0x7                                                                                             
005e7c   cfdb     MOVFF     0xfdb,0x43                                                                                      
005e7e   f043                                                                                                               
005e80   6845     SETF      0x45,0x0                                                                                        
005e82   6846     SETF      0x46,0x0                                                                                        
005e84   6847     SETF      0x47,0x0                                                                                        
005e86   6848     SETF      0x48,0x0                                                                                        
005e88   eca0     CALL      0x8d40,0x0                                                                                      
005e8a   f046                                                                                                               
005e8c   0e04     MOVLW     0x4                                                                                             
005e8e   c03c     MOVFF     0x3c,0xfdb                                                                                      
005e90   ffdb                                                                                                               
005e92   0e05     MOVLW     0x5                                                                                             
005e94   c03d     MOVFF     0x3d,0xfdb                                                                                      
005e96   ffdb                                                                                                               
005e98   0e06     MOVLW     0x6                                                                                             
005e9a   c03e     MOVFF     0x3e,0xfdb                                                                                      
005e9c   ffdb                                                                                                               
005e9e   0e07     MOVLW     0x7                                                                                             
005ea0   c03f     MOVFF     0x3f,0xfdb                                                                                      
005ea2   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea4   d034     BRA       0x5f0e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea6   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea8   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eac   da11     RCALL     0x62d0                 (ULAccumulator > (unsigned long)127)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eae   0e7f     MOVLW     0x7f                                                                                            
005eb0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005eb2   0e00     MOVLW     0x0                                                                                             
005eb4   da2c     RCALL     0x630e                                                                                          
005eaa   e106     BNZ       0x5eb8               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb6   e323     BNC       0x5efe                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   kUCHAR == Type                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb8   0efe     MOVLW     0xfe                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eba   04db     DECF      0xdb,0x0,0x0                                                                                    
005ebe   db73     RCALL     0x65a6                 (ULAccumulator > (unsigned long)255)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec0   0e00     MOVLW     0x0                                                                                             
005ec2   da25     RCALL     0x630e                                                                                          
005ebc   e104     BNZ       0x5ec6               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec4   e31c     BNC       0x5efe                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec6   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec8   da8c     RCALL     0x63e2                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ecc   db6c     RCALL     0x65a6                 (ULAccumulator > (unsigned long)32767)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ece   0e7f     MOVLW     0x7f                                                                                            
005ed0   da1e     RCALL     0x630e                                                                                          
005eca   e104     BNZ       0x5ed4               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed2   e315     BNC       0x5efe                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed4   0e03     MOVLW     0x3                    kUINT == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed6   da9d     RCALL     0x6412                                                                                          
006412   6e4f     MOVWF     0x4f,0x0                                                                                        
006414   0efe     MOVLW     0xfe                                                                                            
006416   50db     MOVF      0xdb,0x0,0x0                                                                                    
006418   5c4f     SUBWF     0x4f,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00641a   0012     RETURN    0x0                                                                                             
005eda   db65     RCALL     0x65a6                 (ULAccumulator > (unsigned long)65535)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005edc   0eff     MOVLW     0xff                                                                                            
005ede   da17     RCALL     0x630e                                                                                          
00630e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006310   0e00     MOVLW     0x0                                                                                             
006312   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006314   0e00     MOVLW     0x0                                                                                             
006316   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006318   0012     RETURN    0x0                                                                                             
005ed8   e104     BNZ       0x5ee2               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee0   e30e     BNC       0x5efe                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee2   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee4   6e50     MOVWF     0x50,0x0                                                                                        
005ee6   0efe     MOVLW     0xfe                                                                                            
005ee8   50db     MOVF      0xdb,0x0,0x0                                                                                    
005eea   5c50     SUBWF     0x50,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eee   db5b     RCALL     0x65a6                 (ULAccumulator > (unsigned long)0x7FFFFFFFL)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef0   0eff     MOVLW     0xff                                                                                            
005ef2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005ef4   0eff     MOVLW     0xff                                                                                            
005ef6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005ef8   0e7f     MOVLW     0x7f                                                                                            
005efa   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0062d0   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0062d2   ffe9                                                                                                               
0062d4   cfda     MOVFF     0xfda,0xfea                                                                                     
0062d6   ffea                                                                                                               
0062d8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0062da   0012     RETURN    0x0                                                                                             
0065a6   de94     RCALL     0x62d0                                                                                          
0065a8   0eff     MOVLW     0xff                                                                                            
0065aa   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0065ac   0012     RETURN    0x0                                                                                             
005eec   e10c     BNZ       0x5f06               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efc   e204     BC        0x5f06                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efe   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f00   8d97     BSF       0x97,0x6,0x1                                                                                    
005f02   0e01     MOVLW     0x1                  return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f04   d036     BRA       0x5f72                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f06   0e07     MOVLW     0x7                if (kULONG != Type)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f08   da6c     RCALL     0x63e2                                                                                          
005f0a   e001     BZ        0x5f0e                                                                                          
0063e2   6e4e     MOVWF     0x4e,0x0                                                                                        
0063e4   0efe     MOVLW     0xfe                                                                                            
0063e6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0063e8   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0063ea   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0c   da25     RCALL     0x6358               Accumulator = ULAccumulator;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If all went well, then copy the result                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0e   0efe     MOVLW     0xfe             switch (Type)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f10   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f12   0a07     XORLW     0x7                                                                                             
005f14   e021     BZ        0x5f58                                                                                          
005f16   0a01     XORLW     0x1                                                                                             
005f18   e017     BZ        0x5f48                                                                                          
005f1a   0a05     XORLW     0x5                                                                                             
005f1c   e011     BZ        0x5f40                                                                                          
005f1e   0a01     XORLW     0x1                                                                                             
005f20   e00f     BZ        0x5f40                                                                                          
005f22   0a03     XORLW     0x3                                                                                             
005f24   e008     BZ        0x5f36                                                                                          
005f26   0a05     XORLW     0x5                                                                                             
005f28   e006     BZ        0x5f36                                                                                          
005f2a   0a01     XORLW     0x1                                                                                             
005f2c   e004     BZ        0x5f36                                                                                          
005f2e   0a05     XORLW     0x5                                                                                             
005f30   e002     BZ        0x5f36                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kCHAR:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed char *)ReturnValue = (signed char)Accumulator;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCHAR:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kASCII_CHAR:                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCASE_ASCII_CHAR:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f36   da29     RCALL     0x638a               *(unsigned char *)ReturnValue = (unsigned char)Accumulator;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f38   0e04     MOVLW     0x4                                                                                             
005f3a   cfdb     MOVFF     0xfdb,0xfef                                                                                     
005f3c   ffef                                                                                                               
005f3e   d018     BRA       0x5f70               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kINT:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed int *)ReturnValue = (signed int)Accumulator;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUINT:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f40   db72     RCALL     0x6626               *(unsigned int *)ReturnValue = (unsigned int)Accumulator;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f42   cfdb     MOVFF     0xfdb,0xfed                                                                                     
005f44   ffed                                                                                                               
006626   deb1     RCALL     0x638a                                                                                          
006628   0e04     MOVLW     0x4                                                                                             
00662a   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00662c   ffee                                                                                                               
00662e   0e05     MOVLW     0x5                                                                                             
006630   0012     RETURN    0x0                                                                                             
005f46   d014     BRA       0x5f70               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kLONG:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f48   db6e     RCALL     0x6626               *(signed long *)ReturnValue = Accumulator;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4a   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f4c   ffee                                                                                                               
005f4e   0e06     MOVLW     0x6                                                                                             
005f50   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f52   ffee                                                                                                               
005f54   0e07     MOVLW     0x7                                                                                             
00638a   0efc     MOVLW     0xfc                                                                                            
00638c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00638e   ffe9                                                                                                               
006390   0efd     MOVLW     0xfd                                                                                            
006392   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006394   ffea                                                                                                               
006396   0012     RETURN    0x0                                                                                             
005f56   d00a     BRA       0x5f6c               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kULONG:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f58   da18     RCALL     0x638a               *(unsigned long *)ReturnValue = ULAccumulator;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5a   cfdf     MOVFF     0xfdf,0xfee                                                                                     
005f5c   ffee                                                                                                               
005f5e   0e01     MOVLW     0x1                                                                                             
005f60   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f62   ffee                                                                                                               
005f64   0e02     MOVLW     0x2                                                                                             
005f66   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f68   ffee                                                                                                               
005f6a   0e03     MOVLW     0x3                                                                                             
005f6c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f6e   ffee                                                                                                               
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f32   0e04     MOVLW     0x4                  return(kEXTRACT_INVALID_TYPE);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f34   d01e     BRA       0x5f72                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f70   0e00     MOVLW     0x0              return(kEXTRACT_OK);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f72   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f74   0e09     MOVLW     0x9                                                                                             
005f76   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005f78   e202     BC        0x5f7e                                                                                          
005f7a   6ae1     CLRF      0xe1,0x0                                                                                        
005f7c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005f7e   6ee1     MOVWF     0xe1,0x0                                                                                        
005f80   504e     MOVF      0x4e,0x0,0x0                                                                                    
005f82   d15b     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Loop 'digits' number of times, looking at the                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // byte in input_buffer index *ptr, and if it is                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a digit, adding it to acc. Take care of                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // powers of ten as well. If you hit a non-numerical                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // char, then return FALSE, otherwise return TRUE.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Store result as you go in *acc.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f84   db9a     RCALL     0x66ba         signed char extract_digit(unsigned long * acc, unsigned char digits)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066ba   ddba     RCALL     0x6230                                                                                          
0066bc   0e02     MOVLW     0x2                                                                                             
0066be   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0066c0   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char val;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char digit_cnt;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f86   d9e1     RCALL     0x634a           *acc = 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f88   6aee     CLRF      0xee,0x0                                                                                        
005f8a   6aee     CLRF      0xee,0x0                                                                                        
005f8c   6aee     CLRF      0xee,0x0                                                                                        
005f8e   6aee     CLRF      0xee,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f90   0e01     MOVLW     0x1              for (digit_cnt = 0; digit_cnt < digits; digit_cnt++)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f92   6adb     CLRF      0xdb,0x0                                                                                        
005f94   0efc     MOVLW     0xfc                                                                                            
005f96   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f98   6ef3     MOVWF     0xf3,0x0                                                                                        
005f9a   0e01     MOVLW     0x1                                                                                             
005f9c   da1d     RCALL     0x63d8                                                                                          
005f9e   e24f     BC        0x603e                                                                                          
006038   0e01     MOVLW     0x1                                                                                             
00603a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00603c   d7ab     BRA       0x5f94                                                                                          
0063d8   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0063da   fff4                                                                                                               
0063dc   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0063de   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0063e0   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa0   0100     MOVLB     0x0                val = g_RX_buf[g_RX_buf_out];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa2   51cb     MOVF      0xcb,0x0,0x1                                                                                    
005fa4   dabd     RCALL     0x6520                                                                                          
005fa6   cfef     MOVFF     0xfef,0xfdf                                                                                     
005fa8   ffdf                                                                                                               
005faa   0e30     MOVLW     0x30               if ((val >= 48u) && (val <= 57u))                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fac   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005fae   e342     BNC       0x6034                                                                                          
005fb0   50df     MOVF      0xdf,0x0,0x0                                                                                    
005fb2   0839     SUBLW     0x39                                                                                            
005fb4   e33f     BNC       0x6034                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb6   d9c9     RCALL     0x634a               *acc = (*acc * 10) + (val - 48);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb8   cfee     MOVFF     0xfee,0x4e                                                                                      
005fba   f04e                                                                                                               
005fbc   cfee     MOVFF     0xfee,0x4f                                                                                      
005fbe   f04f                                                                                                               
005fc0   cfee     MOVFF     0xfee,0x50                                                                                      
005fc2   f050                                                                                                               
005fc4   cfef     MOVFF     0xfef,0x51                                                                                      
005fc6   f051                                                                                                               
005fc8   0e0a     MOVLW     0xa                                                                                             
005fca   6e45     MOVWF     0x45,0x0                                                                                        
005fcc   6a46     CLRF      0x46,0x0                                                                                        
005fce   6a47     CLRF      0x47,0x0                                                                                        
005fd0   6a48     CLRF      0x48,0x0                                                                                        
005fd2   c04e     MOVFF     0x4e,0x40                                                                                       
005fd4   f040                                                                                                               
005fd6   c04f     MOVFF     0x4f,0x41                                                                                       
005fd8   f041                                                                                                               
005fda   c050     MOVFF     0x50,0x42                                                                                       
005fdc   f042                                                                                                               
005fde   c051     MOVFF     0x51,0x43                                                                                       
005fe0   f043                                                                                                               
005fe2   eca0     CALL      0x8d40,0x0                                                                                      
005fe4   f046                                                                                                               
005fe6   c03c     MOVFF     0x3c,0x4e                                                                                       
005fe8   f04e                                                                                                               
005fea   c03d     MOVFF     0x3d,0x4f                                                                                       
005fec   f04f                                                                                                               
005fee   c03e     MOVFF     0x3e,0x50                                                                                       
005ff0   f050                                                                                                               
005ff2   c03f     MOVFF     0x3f,0x51                                                                                       
005ff4   f051                                                                                                               
005ff6   0e30     MOVLW     0x30                                                                                            
005ff8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005ffa   6e52     MOVWF     0x52,0x0                                                                                        
005ffc   6a53     CLRF      0x53,0x0                                                                                        
005ffe   6a54     CLRF      0x54,0x0                                                                                        
006000   6a55     CLRF      0x55,0x0                                                                                        
006002   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006004   264e     ADDWF     0x4e,0x1,0x0                                                                                    
006006   5053     MOVF      0x53,0x0,0x0                                                                                    
006008   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00600a   5054     MOVF      0x54,0x0,0x0                                                                                    
00600c   2250     ADDWFC    0x50,0x1,0x0                                                                                    
00600e   5055     MOVF      0x55,0x0,0x0                                                                                    
006010   2251     ADDWFC    0x51,0x1,0x0                                                                                    
006012   d99b     RCALL     0x634a                                                                                          
006014   c04e     MOVFF     0x4e,0xfee                                                                                      
006016   ffee                                                                                                               
006018   c04f     MOVFF     0x4f,0xfee                                                                                      
00601a   ffee                                                                                                               
00601c   c050     MOVFF     0x50,0xfee                                                                                      
00601e   ffee                                                                                                               
006020   c051     MOVFF     0x51,0xfee                                                                                      
006022   ffee                                                                                                               
00634a   0efd     MOVLW     0xfd                                                                                            
00634c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00634e   ffe9                                                                                                               
006350   0efe     MOVLW     0xfe                                                                                            
006352   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006354   ffea                                                                                                               
006356   0012     RETURN    0x0                                                                                             
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006024   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006026   d91c     RCALL     0x6260                                                                                          
006028   e107     BNZ       0x6038                                                                                          
00602a   0e01     MOVLW     0x1                                                                                             
00602c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00602e   e104     BNZ       0x6038                                                                                          
006030   6bcb     CLRF      0xcb,0x1                                                                                        
006260   2bcb     INCF      0xcb,0x1,0x1                                                                                    
006262   51cb     MOVF      0xcb,0x0,0x1                                                                                    
006264   6e4e     MOVWF     0x4e,0x0                                                                                        
006266   6a4f     CLRF      0x4f,0x0                                                                                        
006268   0e00     MOVLW     0x0                                                                                             
00626a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00626c   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006032   d002     BRA       0x6038             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006034   0e00     MOVLW     0x0                  return(FALSE);                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006036   d004     BRA       0x6040                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00603e   0e01     MOVLW     0x1              return(TRUE);                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006040   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006042   0e02     MOVLW     0x2                                                                                             
006044   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006046   e202     BC        0x604c                                                                                          
006048   6ae1     CLRF      0xe1,0x0                                                                                        
00604a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00604c   6ee1     MOVWF     0xe1,0x0                                                                                        
00604e   504e     MOVF      0x4e,0x0,0x0                                                                                    
006050   d0f4     BRA       0x623a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For debugging, this command will spit out a bunch of values.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void print_status(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006052   0eb3     MOVLW     0xb3             ebb_print((far rom char*)"Status=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006054   6e4e     MOVWF     0x4e,0x0                                                                                        
006056   0e81     MOVLW     0x81                                                                                            
006058   d8cf     RCALL     0x61f8                                                                                          
0061f8   d9b0     RCALL     0x655a                                                                                          
0061fa   ef59     GOTO      0x66b2                                                                                          
0061fc   f033                                                                                                               
00605a   c091     MOVFF     0x91,0x4e        ebb_print_uint(ISR_D_FIFO_length);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00605c   f04e                                                                                                               
00605e   dafc     RCALL     0x6658                                                                                          
006060   ef6f     GOTO      0x64de                                                                                          
006062   f032                                                                                                               
0064de   d8e5     RCALL     0x66aa                                                                                          
0066aa   c04e     MOVFF     0x4e,0xfe6                                                                                      
0066ac   ffe6                                                                                                               
0066ae   efff     GOTO      0x61fe                                                                                          
0066b0   f030                                                                                                               
00620c   0e01     MOVLW     0x1              print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00620e   ef19     GOTO      0x6632                                                                                          
006210   f033                                                                                                               
0064e0   ef06     GOTO      0x620c                                                                                          
0064e2   f031                                                                                                               
006632   6ee6     MOVWF     0xe6,0x0                                                                                        
006634   ec80     CALL      0x4b00,0x0                                                                                      
006636   f025                                                                                                               
006638   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00663a   0012     RETURN    0x0                                                                                             
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void BlinkUSBStatus(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs corresponding to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  the USB device state.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            mLED macros can be found in io_cfg.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  usb_device_state is declared in usbmmap.c and is modified    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  in usbdrv.c, usbctrltrf.c, and usb9.c                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static WORD LEDCount = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char LEDState = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006064   0105     MOVLB     0x5                USBDeviceState == DETACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006066   51bc     MOVF      0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606a   0e01     MOVLW     0x1                1u == USBSuspendControl                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606c   6e4e     MOVWF     0x4e,0x0                                                                                        
00606e   5065     MOVF      0x65,0x0,0x0                                                                                    
006070   0b02     ANDLW     0x2                                                                                             
006072   e001     BZ        0x6076                                                                                          
006074   0e01     MOVLW     0x1                                                                                             
006068   e008     BZ        0x607a           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006076   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006078   e117     BNZ       0x60a8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00607a   d9d6     RCALL     0x6428             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00607c   e10b     BNZ       0x6094             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00607e   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006080   117d     IORWF     0x7d,0x0,0x1                                                                                    
006082   e111     BNZ       0x60a6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006084   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006086   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006088   6f7c     MOVWF     0x7c,0x1                                                                                        
00608a   0e0f     MOVLW     0xf                                                                                             
00608c   6f7d     MOVWF     0x7d,0x1                                                                                        
00608e   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006090   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006092   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006094   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006096   117d     IORWF     0x7d,0x0,0x1                                                                                    
006098   e152     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609a   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609c   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609e   6f7c     MOVWF     0x7c,0x1                                                                                        
0060a0   0e0f     MOVLW     0xf                                                                                             
0060a2   6f7d     MOVWF     0x7d,0x1                                                                                        
0060a4   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a6   0012     RETURN    0x0              else if (                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               USBDeviceState == ATTACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a8   05bc     DECF      0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ac   0e02     MOVLW     0x2                USBDeviceState == POWERED_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060aa   e009     BZ        0x60be             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ae   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0060b0   e006     BZ        0x60be                                                                                          
0060b2   0e04     MOVLW     0x4                USBDeviceState == DEFAULT_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060b4   5dbc     SUBWF     0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060b6   e003     BZ        0x60be                                                                                          
0060b8   0e10     MOVLW     0x10               USBDeviceState == ADDRESS_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ba   5dbc     SUBWF     0xbc,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060bc   e117     BNZ       0x60ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060be   d9b4     RCALL     0x6428             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c0   e10b     BNZ       0x60d8             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c2   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c4   117d     IORWF     0x7d,0x0,0x1                                                                                    
0060c6   e111     BNZ       0x60ea                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c8   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ca   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060cc   6f7c     MOVWF     0x7c,0x1                                                                                        
0060ce   0e4e     MOVLW     0x4e                                                                                            
0060d0   6f7d     MOVWF     0x7d,0x1                                                                                        
0060d2   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d4   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d6   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d8   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060da   117d     IORWF     0x7d,0x0,0x1                                                                                    
0060dc   e130     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060de   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e0   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e2   6f7c     MOVWF     0x7c,0x1                                                                                        
0060e4   0e4e     MOVLW     0x4e                                                                                            
0060e6   6f7d     MOVWF     0x7d,0x1                                                                                        
0060e8   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ea   0012     RETURN    0x0              else if (USBDeviceState == CONFIGURED_STATE)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ec   0e20     MOVLW     0x20                                                                                            
0060ee   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0060f0   e126     BNZ       0x613e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f2   d99a     RCALL     0x6428             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006428   0101     MOVLB     0x1                                                                                             
00642a   077c     DECF      0x7c,0x1,0x1                                                                                    
00642c   0e00     MOVLW     0x0                                                                                             
00642e   5b7d     SUBWFB    0x7d,0x1,0x1                                                                                    
0060f4   e107     BNZ       0x6104             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006430   517e     MOVF      0x7e,0x0,0x1                                                                                    
006432   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f6   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f8   117d     IORWF     0x7d,0x0,0x1                                                                                    
0060fa   e121     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060fc   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060fe   d9ce     RCALL     0x649c                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006100   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006102   d015     BRA       0x612e             else if (1u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006104   057e     DECF      0x7e,0x0,0x1                                                                                    
006106   e107     BNZ       0x6116                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006108   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610a   117d     IORWF     0x7d,0x0,0x1                                                                                    
00610c   e118     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610e   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006110   d9c5     RCALL     0x649c                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006112   0e02     MOVLW     0x2                    LEDState = 2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006114   d00c     BRA       0x612e             else if (2u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006116   0e02     MOVLW     0x2                                                                                             
006118   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
00611a   e10b     BNZ       0x6132                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00611c   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00611e   117d     IORWF     0x7d,0x0,0x1                                                                                    
006120   e10e     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006122   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006124   0ea0     MOVLW     0xa0                   LEDCount = 100000U;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006126   6f7c     MOVWF     0x7c,0x1                                                                                        
006128   0e86     MOVLW     0x86                                                                                            
00612a   6f7d     MOVWF     0x7d,0x1                                                                                        
00612c   0e03     MOVLW     0x3                    LEDState = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00612e   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006130   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006132   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006134   117d     IORWF     0x7d,0x0,0x1                                                                                    
006136   e103     BNZ       0x613e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006138   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613a   d9b0     RCALL     0x649c                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00649c   0e10     MOVLW     0x10                                                                                            
00649e   6f7c     MOVWF     0x7c,0x1                                                                                        
0064a0   0e27     MOVLW     0x27                                                                                            
0064a2   6f7d     MOVWF     0x7d,0x1                                                                                        
0064a4   0012     RETURN    0x0                                                                                             
00613c   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnTRISPort[25] = {                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnLATPort[25] = {                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const char rom RPnBit[25] = {                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set LAT value for that pin                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006140   d877     RCALL     0x6230         void SetPinLATFromRPn(char Pin, char State)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006142   d9a0     RCALL     0x6484           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006144   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006146   d002     BRA       0x614c                                                                                          
006148   344e     RLCF      0x4e,0x0,0x0                                                                                    
00614a   d003     BRA       0x6152                                                                                          
00614c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00614e   80d8     BSF       0xd8,0x0,0x0                                                                                    
006150   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
006152   e323     BNC       0x619a                                                                                          
006484   0efe     MOVLW     0xfe                                                                                            
006486   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006488   f04e                                                                                                               
00648a   0e19     MOVLW     0x19                                                                                            
00648c   6ee7     MOVWF     0xe7,0x0                                                                                        
00648e   184e     XORWF     0x4e,0x0,0x0                                                                                    
006490   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006154   0efd     MOVLW     0xfd             if (State)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006156   50db     MOVF      0xdb,0x0,0x0                                                                                    
006158   e010     BZ        0x617a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00615a   d90f     RCALL     0x637a             bitset(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00615c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00615e   68f7     SETF      0xf7,0x0                                                                                        
006160   d8ad     RCALL     0x62bc                                                                                          
006162   e004     BZ        0x616c                                                                                          
006164   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006166   0bfe     ANDLW     0xfe                                                                                            
006168   064f     DECF      0x4f,0x1,0x0                                                                                    
00616a   e1fc     BNZ       0x6164                                                                                          
00616c   6e4e     MOVWF     0x4e,0x0                                                                                        
00616e   d905     RCALL     0x637a                                                                                          
006170   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006172   68f7     SETF      0xf7,0x0                                                                                        
006174   d9fe     RCALL     0x6572                                                                                          
006176   12ef     IORWF     0xef,0x1,0x0                                                                                    
006572   90d8     BCF       0xd8,0x0,0x0                                                                                    
006574   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006576   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006578   0e53     MOVLW     0x53                                                                                            
00657a   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
00657c   0e8b     MOVLW     0x8b                                                                                            
00657e   ef7a     GOTO      0x62f4                                                                                          
006580   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006178   d010     BRA       0x619a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617a   d8ff     RCALL     0x637a             bitclr(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00617e   68f7     SETF      0xf7,0x0                                                                                        
006180   d89d     RCALL     0x62bc                                                                                          
006182   e004     BZ        0x618c                                                                                          
006184   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006186   0bfe     ANDLW     0xfe                                                                                            
006188   064f     DECF      0x4f,0x1,0x0                                                                                    
00618a   e1fc     BNZ       0x6184                                                                                          
00618c   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00618e   6e4e     MOVWF     0x4e,0x0                                                                                        
006190   d8f4     RCALL     0x637a                                                                                          
006192   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006194   68f7     SETF      0xf7,0x0                                                                                        
006196   d9ed     RCALL     0x6572                                                                                          
006198   16ef     ANDWF     0xef,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619a   d04f     BRA       0x623a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set TRIS value for that pin                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619c   d849     RCALL     0x6230         void SetPinTRISFromRPn(char Pin, char State)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619e   d972     RCALL     0x6484           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061a0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0061a2   d002     BRA       0x61a8                                                                                          
0061a4   344e     RLCF      0x4e,0x0,0x0                                                                                    
0061a6   d003     BRA       0x61ae                                                                                          
0061a8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0061aa   80d8     BSF       0xd8,0x0,0x0                                                                                    
0061ac   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
0061ae   e323     BNC       0x61f6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b0   0efd     MOVLW     0xfd             if (OUTPUT_PIN == State)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0061b4   e111     BNZ       0x61d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b6   d8e1     RCALL     0x637a             bitclr (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b8   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061ba   68f7     SETF      0xf7,0x0                                                                                        
0061bc   d87f     RCALL     0x62bc                                                                                          
0061be   e004     BZ        0x61c8                                                                                          
0061c0   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0061c2   0bfe     ANDLW     0xfe                                                                                            
0061c4   064f     DECF      0x4f,0x1,0x0                                                                                    
0061c6   e1fc     BNZ       0x61c0                                                                                          
0061c8   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0061ca   6e4e     MOVWF     0x4e,0x0                                                                                        
0061cc   d8d6     RCALL     0x637a                                                                                          
0061ce   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061d0   68f7     SETF      0xf7,0x0                                                                                        
0061d2   d9d7     RCALL     0x6582                                                                                          
0061d4   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006582   90d8     BCF       0xd8,0x0,0x0                                                                                    
006584   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006586   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006588   0e21     MOVLW     0x21                                                                                            
00658a   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
00658c   0e8b     MOVLW     0x8b                                                                                            
00658e   ef7a     GOTO      0x62f4                                                                                          
006590   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d6   d00f     BRA       0x61f6           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d8   d8d0     RCALL     0x637a             bitset (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061da   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061dc   68f7     SETF      0xf7,0x0                                                                                        
0061de   d86e     RCALL     0x62bc                                                                                          
0061e0   e004     BZ        0x61ea                                                                                          
0061e2   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0061e4   0bfe     ANDLW     0xfe                                                                                            
0061e6   064f     DECF      0x4f,0x1,0x0                                                                                    
0061e8   e1fc     BNZ       0x61e2                                                                                          
0061ea   6e4e     MOVWF     0x4e,0x0                                                                                        
0061ec   d8c6     RCALL     0x637a                                                                                          
0061ee   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061f0   68f7     SETF      0xf7,0x0                                                                                        
0061f2   d9c7     RCALL     0x6582                                                                                          
0061f4   12ef     IORWF     0xef,0x1,0x0                                                                                    
0062bc   0e85     MOVLW     0x85                                                                                            
0062be   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0062c0   0e8b     MOVLW     0x8b                                                                                            
0062c2   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0062c4   0008     TBLRD                                                                                                     
0062c6   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0062c8   6e4f     MOVWF     0x4f,0x0                                                                                        
0062ca   0e01     MOVLW     0x1                                                                                             
0062cc   524f     MOVF      0x4f,0x1,0x0                                                                                    
0062ce   0012     RETURN    0x0                                                                                             
0062f4   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0062f6   0009     TBLRDPOSTINC                                                                                              
0062f8   cff5     MOVFF     0xff5,0xfe9                                                                                     
0062fa   ffe9                                                                                                               
0062fc   0008     TBLRD                                                                                                     
0062fe   cff5     MOVFF     0xff5,0xfea                                                                                     
006300   ffea                                                                                                               
006302   504e     MOVF      0x4e,0x0,0x0                                                                                    
006304   0012     RETURN    0x0                                                                                             
00637a   0efe     MOVLW     0xfe                                                                                            
00637c   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00637e   fff6                                                                                                               
006380   6af7     CLRF      0xf7,0x0                                                                                        
006382   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f6   d021     BRA       0x623a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00623c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00623e   ffd9                                                                                                               
006240   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** EOF user.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            FileName:      usb_descriptors.c                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Dependencies:  See INCLUDES section                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Processor:     PIC18 or PIC24 USB Microcontrollers                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Hardware:      The code is natively intended to be used on the following        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           hardware platforms: PICDEM FS USB Demo Board,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           PIC18F87J50 FS USB Plug-In Module, or                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           Explorer 16 + PIC24 USB PIM.  The firmware may be                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           modified for use on other USB platforms by editing the           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           HardwareProfile.h file.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Complier:      Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Company:       Microchip Technology, Inc.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Software License Agreement:                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            (the Company) for its PIC Microcontroller is intended and                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            supplied to you, the Companys customer, for use solely and                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            license.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           *********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -usb_descriptors.c-                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Device Descriptors]                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Configuration Descriptors]                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           means that for fields like the total size of the configuration where             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           too few bytes.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Endpoint Descriptors]                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Take the following example:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               // Endpoint Descriptor //                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _INT,                       //Attributes                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x02,                       //Interval                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined in usb_device.h and has the following naming                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           convention:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _EP<##>_<dir>                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           typically used because the default control transfer endpoint is                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _ISO|_AD|_FE                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           specification for details. The next parameter defines the size of                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Adding a USB String                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A string descriptor array should have the following format:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above structure provides a means for the C compiler to                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each character as a word type. The whole text string is declared                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           declaration. Let's study this through an example:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           (Using index 02)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the management of multiple strings through a look-up table.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table is defined as:                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           function.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           state according to the definition in the USB specification.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_device.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Configuration options are defined in:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_config.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb_function_cdc.h"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** CONSTANTS ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma romdata                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Device Descriptor */                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc =                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x12,                   // Size of this descriptor in bytes                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_DEVICE,  // DEVICE descriptor type                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0200,                 // USB Spec Release Number in BCD format               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DEVICE,             // Class Code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_EP0_BUFF_SIZE,      // Max packet size for EP0, see usb_config.h           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x04D8,                 // Vendor ID                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0xFD92,                 // Product ID: UBW based serial port device            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0182,                 // Device release number in BCD format                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01,                   // Manufacturer string index                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                   // Product string index                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x03,                   // Device serial number string index                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01                    // Number of possible configurations                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE configDescriptor1[] = {                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Configuration Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_CONFIGURATION,  // CONFIGURATION descriptor type                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             67,0,                   // Total length of data for this cfg                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                      // Number of interfaces in this cfg                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Index value of this configuration                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Configuration string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _DEFAULT | _SELF,       // Attributes, see usb_device.h                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             50,                     // Max power consumption (2X mA)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface Number                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Alternate Setting Number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Number of endpoints in this interface               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             COMM_INTF,              // Class code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             ABSTRACT_CONTROL_MODEL, // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             V25TER,                 // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface string index                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* CDC Class-Specific Descriptors */                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_HEADER_FN_DSC),                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_HEADER,                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x10,0x01,                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_ACM_FN_DSC),                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_ACM,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_CDC_ACM_FN_DSC_VAL,                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_UNION_FN_DSC),                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_UNION,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_COMM_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_CALL_MGT_FN_DSC),                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_CALL_MGT,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP01_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _INTERRUPT,                 // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x08,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                          // Interface Number                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Alternate Setting Number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                          // Number of endpoints in this interface           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DATA_INTF,                  // Class code                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Subclass code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             NO_PROTOCOL,                // Protocol code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Interface string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_OUT,                  // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Language code string descriptor                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000 = {                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409}                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Manufacturer string descriptor                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[11];}sd001 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd001),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'S','c','h','m','a','l','z','H','a','u','s'}                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Product string descriptor                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // As of EBB firmware v2.5.4 this is now stored in ram, and we set it up here to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // have enough space to put the 'name' (set via the 'NS' command) on the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[27];}sd002 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd002),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'E','i','B','o','t','B','o','a','r','d',',',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '} D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[16];}sd003 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd003),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of configuration descriptors                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[] = {                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             (ROM BYTE *ROM)&configDescriptor1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of string descriptors                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           BYTE * USB_SD_Ptr[USB_NUM_STRING_DESCRIPTORS] = {                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd000,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd001,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd002,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd003                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** EOF usb_descriptors.c ****************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * File:   ebb_print.c                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Author: Brian Schmalz (brian@schmalzhaus.com)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Created on October 2, 2023, 7:41 PM                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * The functions in this file are meant to replace (partially) the built-in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * printf() functionality in MAPLB C18. Even simple printf() calls were using    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up significant stack space. In an effort to maximize the number of possible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * FIFO elements, we freed up as much RAM as possible, and put the stack in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * GPR14, which is not an entire bank since there are some SFRs at the end of    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * that bank. So the stack only goes from 0xE00 to 0xEBF. With printf() taking   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up lots of that space, and because the new higher-order move instructions     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * need more stack space to operate (mainly to pass lots of paramters around)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * we were seeing stack overflows in versions around v3.0.0-a18. This re-written D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * print functionality is an attempt at fixing that problem.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * We do not need any floating point support.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * All of our printing goes to the PC via the USB port.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Virtually all of our printing can be broken down into the following types:    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - Simple strings with no variables                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned byte                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 16-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 32-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A byte as hex                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A 16-bit integer as hex                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Maximum number of output characters, plus sign, plus trailing 0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // hex needs FFFFFFFF = 9                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // uint needs 4294967296 = 11                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // int needs -2147483649 = 12                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #define EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS   12                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // String where we build up our output before printing it out                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static char gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Current position within gOutputStr                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 gPos;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 i;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           /* Print a simple string */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00835e   d8dd     RCALL     0x851a         void ebb_print(far rom char * print_str)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008360   d8d0     RCALL     0x8502           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008362   e00d     BZ        0x837e                                                                                          
00837c   d7f1     BRA       0x8360                                                                                          
008502   0efc     MOVLW     0xfc                                                                                            
008504   cfdb     MOVFF     0xfdb,0xff6                                                                                     
008506   fff6                                                                                                               
008508   0efd     MOVLW     0xfd                                                                                            
00850a   cfdb     MOVFF     0xfdb,0xff7                                                                                     
00850c   fff7                                                                                                               
00850e   0efe     MOVLW     0xfe                                                                                            
008510   cfdb     MOVFF     0xfdb,0xff8                                                                                     
008512   fff8                                                                                                               
008514   0008     TBLRD                                                                                                     
008516   50f5     MOVF      0xf5,0x0,0x0                                                                                    
008518   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008364   d8ce     RCALL     0x8502             ebb_putc((char)*print_str);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008366   d8f3     RCALL     0x854e                                                                                          
008368   50d9     MOVF      0xd9,0x0,0x0       print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00836a   0ffc     ADDLW     0xfc                                                                                            
00836c   6ee9     MOVWF     0xe9,0x0                                                                                        
00836e   0eff     MOVLW     0xff                                                                                            
008370   20da     ADDWFC    0xda,0x0,0x0                                                                                    
008372   6eea     MOVWF     0xea,0x0                                                                                        
008374   2aee     INCF      0xee,0x1,0x0                                                                                    
008376   0e00     MOVLW     0x0                                                                                             
008378   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
00837a   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00837e   d0f7     BRA       0x856e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008380   d8cc     RCALL     0x851a         void ebb_print_ram(char * print_str)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008382   d8d6     RCALL     0x8530           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008384   e008     BZ        0x8396                                                                                          
008394   d7f6     BRA       0x8382                                                                                          
008530   0efd     MOVLW     0xfd                                                                                            
008532   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
008534   ffe9                                                                                                               
008536   0efe     MOVLW     0xfe                                                                                            
008538   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00853a   ffea                                                                                                               
00853c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00853e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008386   d8d4     RCALL     0x8530             ebb_putc(*print_str);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008388   d8e2     RCALL     0x854e                                                                                          
00838a   0efd     MOVLW     0xfd               print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00838c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00838e   0efe     MOVLW     0xfe                                                                                            
008390   e3f8     BNC       0x8382                                                                                          
008392   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008396   d0eb     BRA       0x856e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a hex value, zero-padded to <length> digits               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008398   d8ee     RCALL     0x8576         void ebb_print_hex(UINT32 data, UINT8 length)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008576   dfd1     RCALL     0x851a                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008578   0101     MOVLB     0x1              gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00857a   6bfb     CLRF      0xfb,0x1                                                                                        
00857c   0e0a     MOVLW     0xa              gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00857e   6ffc     MOVWF     0xfc,0x1                                                                                        
008580   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00839a   0e0f     MOVLW     0xf                i = data & 0x0000000F;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00839c   6e4e     MOVWF     0x4e,0x0                                                                                        
00839e   6a4f     CLRF      0x4f,0x0                                                                                        
0083a0   6a50     CLRF      0x50,0x0                                                                                        
0083a2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0083a4   d8bf     RCALL     0x8524                                                                                          
0083a6   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083a8   164e     ANDWF     0x4e,0x1,0x0                                                                                    
0083aa   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083ac   164f     ANDWF     0x4f,0x1,0x0                                                                                    
0083ae   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083b0   1650     ANDWF     0x50,0x1,0x0                                                                                    
0083b2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083b4   c04e     MOVFF     0x4e,0x1fd                                                                                      
0083b6   f1fd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083b8   504e     MOVF      0x4e,0x0,0x0       if (i <= 0x09u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083ba   0809     SUBLW     0x9                                                                                             
0083bc   e302     BNC       0x83c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083be   0e30     MOVLW     0x30                 gOutputStr[gPos] = i + '0';                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c0   d001     BRA       0x83c4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c2   0e37     MOVLW     0x37                 gOutputStr[gPos] = i + ('A' - 0x0A);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c4   25fd     ADDWF     0xfd,0x0,0x1                                                                                    
0083c6   d8c8     RCALL     0x8558                                                                                          
008558   6ee6     MOVWF     0xe6,0x0                                                                                        
00855a   51fc     MOVF      0xfc,0x0,0x1                                                                                    
00855c   6aea     CLRF      0xea,0x0                                                                                        
00855e   0ff0     ADDLW     0xf0                                                                                            
008560   6ee9     MOVWF     0xe9,0x0                                                                                        
008562   0e01     MOVLW     0x1                                                                                             
008564   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008566   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008568   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00856a   6eef     MOVWF     0xef,0x0                                                                                        
00856c   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c8   d873     RCALL     0x84b0             data = data >> 4;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083ca   0e04     MOVLW     0x4                                                                                             
0083cc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0083ce   3251     RRCF      0x51,0x1,0x0                                                                                    
0083d0   3250     RRCF      0x50,0x1,0x0                                                                                    
0083d2   324f     RRCF      0x4f,0x1,0x0                                                                                    
0083d4   324e     RRCF      0x4e,0x1,0x0                                                                                    
0083d6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0083d8   e1f9     BNZ       0x83cc                                                                                          
0083da   0efb     MOVLW     0xfb                                                                                            
0083dc   c04e     MOVFF     0x4e,0xfdb                                                                                      
0083de   ffdb                                                                                                               
0083e0   0efc     MOVLW     0xfc                                                                                            
0083e2   c04f     MOVFF     0x4f,0xfdb                                                                                      
0083e4   ffdb                                                                                                               
0083e6   0efd     MOVLW     0xfd                                                                                            
0083e8   c050     MOVFF     0x50,0xfdb                                                                                      
0083ea   ffdb                                                                                                               
0083ec   0efe     MOVLW     0xfe                                                                                            
0083ee   c051     MOVFF     0x51,0xfdb                                                                                      
0083f0   ffdb                                                                                                               
0083f2   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083f4   07fc     DECF      0xfc,0x1,0x1                                                                                    
0083f6   0efa     MOVLW     0xfa               if (length)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083f8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0083fa   e002     BZ        0x8400                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083fc   0efa     MOVLW     0xfa                 length--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083fe   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008400   d8c0     RCALL     0x8582           while (data != 0u || length != 0u);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008402   e1cb     BNZ       0x839a                                                                                          
008404   0efa     MOVLW     0xfa                                                                                            
008406   50db     MOVF      0xdb,0x0,0x0                                                                                    
008408   e1c8     BNZ       0x839a                                                                                          
008582   df96     RCALL     0x84b0                                                                                          
008584   504e     MOVF      0x4e,0x0,0x0                                                                                    
008586   104f     IORWF     0x4f,0x0,0x0                                                                                    
008588   1050     IORWF     0x50,0x0,0x0                                                                                    
00858a   1051     IORWF     0x51,0x0,0x0                                                                                    
00858c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00840a   d06c     BRA       0x84e4           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084e4   2bfc     INCF      0xfc,0x1,0x1                                                                                    
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084e6   51fc     MOVF      0xfc,0x0,0x1     ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084e8   6a4f     CLRF      0x4f,0x0                                                                                        
0084ea   0ff0     ADDLW     0xf0                                                                                            
0084ec   6e4e     MOVWF     0x4e,0x0                                                                                        
0084ee   0e01     MOVLW     0x1                                                                                             
0084f0   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0084f2   c04e     MOVFF     0x4e,0xfe6                                                                                      
0084f4   ffe6                                                                                                               
0084f6   c04f     MOVFF     0x4f,0xfe6                                                                                      
0084f8   ffe6                                                                                                               
0084fa   df42     RCALL     0x8380                                                                                          
0084fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008500   d036     BRA       0x856e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00856e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008570   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008572   ffd9                                                                                                               
008574   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as an unsigned integer                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00840c   d8b4     RCALL     0x8576         void ebb_print_uint(UINT32 data)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00840e   d85d     RCALL     0x84ca             i = data % 10;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008410   d897     RCALL     0x8540                                                                                          
008412   c03c     MOVFF     0x3c,0x1fd                                                                                      
008414   f1fd                                                                                                               
008540   0e0a     MOVLW     0xa                                                                                             
008542   6e45     MOVWF     0x45,0x0                                                                                        
008544   6a46     CLRF      0x46,0x0                                                                                        
008546   6a47     CLRF      0x47,0x0                                                                                        
008548   6a48     CLRF      0x48,0x0                                                                                        
00854a   ef04     GOTO      0x8e08                                                                                          
00854c   f047                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008416   0e30     MOVLW     0x30               gOutputStr[gPos] = i + '0';                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008418   0101     MOVLB     0x1                                                                                             
00841a   243c     ADDWF     0x3c,0x0,0x0                                                                                    
00841c   d89d     RCALL     0x8558                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00841e   d855     RCALL     0x84ca             data = data / 10;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008420   d88f     RCALL     0x8540                                                                                          
008422   0efb     MOVLW     0xfb                                                                                            
008424   c040     MOVFF     0x40,0xfdb                                                                                      
008426   ffdb                                                                                                               
008428   0efc     MOVLW     0xfc                                                                                            
00842a   c041     MOVFF     0x41,0xfdb                                                                                      
00842c   ffdb                                                                                                               
00842e   0efd     MOVLW     0xfd                                                                                            
008430   c042     MOVFF     0x42,0xfdb                                                                                      
008432   ffdb                                                                                                               
008434   0efe     MOVLW     0xfe                                                                                            
008436   c043     MOVFF     0x43,0xfdb                                                                                      
008438   ffdb                                                                                                               
0084ca   0efb     MOVLW     0xfb                                                                                            
0084cc   cfdb     MOVFF     0xfdb,0x40                                                                                      
0084ce   f040                                                                                                               
0084d0   0efc     MOVLW     0xfc                                                                                            
0084d2   cfdb     MOVFF     0xfdb,0x41                                                                                      
0084d4   f041                                                                                                               
0084d6   0efd     MOVLW     0xfd                                                                                            
0084d8   cfdb     MOVFF     0xfdb,0x42                                                                                      
0084da   f042                                                                                                               
0084dc   0efe     MOVLW     0xfe                                                                                            
0084de   cfdb     MOVFF     0xfdb,0x43                                                                                      
0084e0   f043                                                                                                               
0084e2   0012     RETURN    0x0                                                                                             
00843a   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00843c   07fc     DECF      0xfc,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00843e   d8a1     RCALL     0x8582           while (data != 0u);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008440   e1e6     BNZ       0x840e                                                                                          
0084b0   0efb     MOVLW     0xfb                                                                                            
0084b2   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0084b4   f04e                                                                                                               
0084b6   0efc     MOVLW     0xfc                                                                                            
0084b8   cfdb     MOVFF     0xfdb,0x4f                                                                                      
0084ba   f04f                                                                                                               
0084bc   0efd     MOVLW     0xfd                                                                                            
0084be   cfdb     MOVFF     0xfdb,0x50                                                                                      
0084c0   f050                                                                                                               
0084c2   0efe     MOVLW     0xfe                                                                                            
0084c4   cfdb     MOVFF     0xfdb,0x51                                                                                      
0084c6   f051                                                                                                               
0084c8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008442   d050     BRA       0x84e4           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a signed integer                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008444   d86a     RCALL     0x851a         void ebb_print_int(INT32 data)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00851a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00851c   ffe6                                                                                                               
00851e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008520   ffd9                                                                                                               
008522   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // Handle negative sign                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008446   50e1     MOVF      0xe1,0x0,0x0     if (data < 0)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008448   d86d     RCALL     0x8524                                                                                          
00844a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00844c   0e03     MOVLW     0x3                                                                                             
00844e   50eb     MOVF      0xeb,0x0,0x0                                                                                    
008450   0a00     XORLW     0x0                                                                                             
008452   e608     BN        0x8464                                                                                          
008454   0e00     MOVLW     0x0                                                                                             
008456   5cee     SUBWF     0xee,0x0,0x0                                                                                    
008458   0e00     MOVLW     0x0                                                                                             
00845a   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00845c   0e00     MOVLW     0x0                                                                                             
00845e   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
008460   0e00     MOVLW     0x0                                                                                             
008462   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
008464   e215     BC        0x8490                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008466   0e2d     MOVLW     0x2d               ebb_print_char('-');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008468   d872     RCALL     0x854e                                                                                          
00854e   6ee6     MOVWF     0xe6,0x0                                                                                        
008550   ecfc     CALL      0x43f8,0x0                                                                                      
008552   f021                                                                                                               
008554   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008556   0012     RETURN    0x0                                                                                             
00846a   d82f     RCALL     0x84ca             data = -data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00846c   6845     SETF      0x45,0x0                                                                                        
00846e   6846     SETF      0x46,0x0                                                                                        
008470   6847     SETF      0x47,0x0                                                                                        
008472   6848     SETF      0x48,0x0                                                                                        
008474   eca0     CALL      0x8d40,0x0                                                                                      
008476   f046                                                                                                               
008478   0efb     MOVLW     0xfb                                                                                            
00847a   c03c     MOVFF     0x3c,0xfdb                                                                                      
00847c   ffdb                                                                                                               
00847e   0efc     MOVLW     0xfc                                                                                            
008480   c03d     MOVFF     0x3d,0xfdb                                                                                      
008482   ffdb                                                                                                               
008484   0efd     MOVLW     0xfd                                                                                            
008486   c03e     MOVFF     0x3e,0xfdb                                                                                      
008488   ffdb                                                                                                               
00848a   0efe     MOVLW     0xfe                                                                                            
00848c   c03f     MOVFF     0x3f,0xfdb                                                                                      
00848e   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008490   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(data);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008492   d848     RCALL     0x8524                                                                                          
008494   cfee     MOVFF     0xfee,0xfe6                                                                                     
008496   ffe6                                                                                                               
008498   cfee     MOVFF     0xfee,0xfe6                                                                                     
00849a   ffe6                                                                                                               
00849c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00849e   ffe6                                                                                                               
0084a0   cfef     MOVFF     0xfef,0xfe6                                                                                     
0084a2   ffe6                                                                                                               
0084a4   dfb3     RCALL     0x840c                                                                                          
0084a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008524   0ffb     ADDLW     0xfb                                                                                            
008526   6ee9     MOVWF     0xe9,0x0                                                                                        
008528   0eff     MOVLW     0xff                                                                                            
00852a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00852c   6eea     MOVWF     0xea,0x0                                                                                        
00852e   0012     RETURN    0x0                                                                                             
0084ae   d05f     BRA       0x856e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18F46J50.inc>                                                         source\squareroot.s
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                           ;  MPASM PIC18F46J50 processor include                                           C:\MCC18\mpasm\p18F46J50.inc
                                           ;                                                                                C:\MCC18\mpasm\p18F46J50.inc
                                           ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved             C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            source\squareroot.s
                                           ; When assembly code is placed in a psect, it can be manipulated as a            source\squareroot.s
                                           ; whole by the linker and placed in memory.                                      source\squareroot.s
                                           ;                                                                                source\squareroot.s
                                           ; In this example, barfunc is the program section (psect) name, 'local' means    source\squareroot.s
                                           ; that the section will not be combined with other sections even if they have    source\squareroot.s
                                           ; the same name.  class=CODE means the barfunc must go in the CODE container.    source\squareroot.s
                                           ; PIC18 should have a delta (addressible unit size) of 1 (default) since they    source\squareroot.s
                                           ; are byte addressible.  PIC10/12/16 have a delta of 2 since they are word       source\squareroot.s
                                           ; addressible.  PIC18 should have a reloc (alignment) flag of 2 for any          source\squareroot.s
                                           ; psect which contains executable code.  PIC10/12/16 can use the default         source\squareroot.s
                                           ; reloc value of 1.  Use one of the psects below for the device you use:         source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; psect   barfunc,local,class=CODE,delta=2 ; PIC10/12/16                         source\squareroot.s
                                           ;;;psect   barfunc,local,class=CODE,reloc=2 ; PIC18                              source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;global _bar ; extern of bar function goes in the C source file                source\squareroot.s
                                           ;;;_bar:                                                                         source\squareroot.s
                                           ;;;    movf PORTA,w    ; here we use a symbol defined via xc.inc                 source\squareroot.s
                                           ;;;    return                                                                    source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;    RES0, RES1                                                                source\squareroot.s
                                           ;;;EXTERN Sqrt                                                                   source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;W equ 0 ; Standard constants                                                  source\squareroot.s
                                           ;;;F equ 1                                                                       source\squareroot.s
                                           ;;;a equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;R_Vctr CODE 0x0000                                                            source\squareroot.s
                                           ;;;goto Main                                                                     source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;Software License Agreement                                                      source\squareroot.s
                                           ;The software supplied herewith by Microchip Technology Incorporated             source\squareroot.s
                                           ;(the ?Company?) for its PICmicro Microcontroller is intended and               source\squareroot.s
                                           ;supplied to you, the Company?s customer, for use solely and                     source\squareroot.s
                                           ;exclusively on Microchip PICmicro Microcontroller products. The                 source\squareroot.s
                                           ;software is owned by the Company and/or its supplier, and is                    source\squareroot.s
                                           ;protected under applicable copyright laws. All rights are reserved.             source\squareroot.s
                                           ;Any use in violation of the foregoing restrictions may subject the              source\squareroot.s
                                           ;user to criminal sanctions under applicable laws, as well as to civil           source\squareroot.s
                                           ;liability for the breach of the terms and conditions of this license.           source\squareroot.s
                                           ;THIS SOFTWARE IS PROVIDED IN AN ?AS IS? CONDITION. NO WARRANTIES,               source\squareroot.s
                                           ;WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO,           source\squareroot.s
                                           ;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR              source\squareroot.s
                                           ;PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY                   source\squareroot.s
                                           ;CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL               source\squareroot.s
                                           ;DAMAGES, FOR ANY REASON WHATSOEVER.                                             source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; Calling Routine                                                                source\squareroot.s
                                           ;;;SRoot CODE                                                                    source\squareroot.s
                                           ;;;Main                                                                          source\squareroot.s
                                           ;;;movlw 0xCF                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x48                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xCF48)                                                      source\squareroot.s
                                           ; RES0 should now contain 0xE6                                                   source\squareroot.s
                                           ;;;movlw 0xE0                                                                    source\squareroot.s
                                           ;;;movwf ARGA3, a                                                                source\squareroot.s
                                           ;;;movlw 0x12                                                                    source\squareroot.s
                                           ;;;movwf ARGA2, a                                                                source\squareroot.s
                                           ;;;movlw 0xA1                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x40                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xE012A140)                                                  source\squareroot.s
                                           ; RES1:RES0 should now contain 0xEF81                                            source\squareroot.s
                                           ;;;bra Main                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;END                                                                           source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                               Title"16/32 bit Integer Square Root"                                         source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Author: Ross Fosler ***                                                    source\squareroot.s
                                           ; *** Applications Engineer ***                                                  source\squareroot.s
                                           ; *** Microchip Technology Inc. ***                                              source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Program:sqrt.asm ***                                                       source\squareroot.s
                                           ; *** This module contains code to perform fast integer ***                      source\squareroot.s
                                           ; *** square root functions on either 16 or 32 bit ***                           source\squareroot.s
                                           ; *** values. ***                                                                source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Last Rev:August 10, 2000 ***                                               source\squareroot.s
                                           ; *** Ver 1.00 ***                                                               source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;#include P18C252.INC                                                          source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;MSB	equ 7		    ; general literal constants                                    source\squareroot.s
                                           ;;;LSB	equ 0                                                                     source\squareroot.s
                                           ;;;W	equ 0                                                                       source\squareroot.s
                                           ;;;F	equ 1                                                                       source\squareroot.s
                                           ;;;a	equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           sqrtVar	UDATA	0x500		    ; allocate RAM in grp5 section                          source\squareroot.s
                                           ARGA0	res 1			    ; various argument registers                                   source\squareroot.s
                                           ARGA1	res 1                                                                      source\squareroot.s
                                           ARGA2	res 1                                                                      source\squareroot.s
                                           ARGA3	res 1                                                                      source\squareroot.s
                                               GLOBAL ARGA0, ARGA1, ARGA2, ARGA3                                            source\squareroot.s
                                           ARG1H	res 1                                                                      source\squareroot.s
                                           ARG1L	res 1                                                                      source\squareroot.s
                                           ARG2H	res 1                                                                      source\squareroot.s
                                           ARG2L	res 1                                                                      source\squareroot.s
                                               GLOBAL ARG1H, ARG1L, ARG2H, ARG2L                                            source\squareroot.s
                                           SARG1	res 1			    ; signed arguments                                             source\squareroot.s
                                           SARG2	res 1                                                                      source\squareroot.s
                                               GLOBAL SARG1, SARG2                                                          source\squareroot.s
                                           RES1	res 1			    ; result registers                                              source\squareroot.s
                                           RES0	res 1                                                                       source\squareroot.s
                                               GLOBAL RES0, RES1                                                            source\squareroot.s
                                           SQRES0	res 1                                                                     source\squareroot.s
                                           SQRES1	res 1                                                                     source\squareroot.s
                                           SQRES2	res 1                                                                     source\squareroot.s
                                           SQRES3	res 1                                                                     source\squareroot.s
                                               GLOBAL SQRES0, SQRES1, SQRES2, SQRES3                                        source\squareroot.s
                                           BITLOC0 res 1			    ; temporary registers                                        source\squareroot.s
                                           BITLOC1 res 1                                                                    source\squareroot.s
                                           TEMP0	res 1                                                                      source\squareroot.s
                                           TEMP1	res 1                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; The function of this square root routine is to determine the root              source\squareroot.s
                                           ; to the nearest integer. At the same time the root is found at the              source\squareroot.s
                                           ; best possible speed; therefore, the root is found a little differently         source\squareroot.s
                                           ; for the two basic sizes of numbers, 16-bit and 32-bit. The following           source\squareroot.s
                                           ; differentiates the two and jumps to the appropriate function.                  source\squareroot.s
                                           ; Sqrt(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                    source\squareroot.s
                                           	CODE                                                                            source\squareroot.s
                                           Sqrt	                                                                            source\squareroot.s
0088ba   cfd9     MOVFF     0xfd9,0xfe6    	movff	0xfd9, 0xfe6                                                              source\squareroot.s
0088bc   ffe6                                                                                                               
0088be   cfe1     MOVFF     0xfe1,0xfd9    	movff	0xfe1, 0xfd9                                                              source\squareroot.s
0088c0   ffd9                                                                                                               
0088c2   0105     MOVLB     0x5            	movlb	5		    ; All our RAM is in bank 5                                         source\squareroot.s
0088c4   0efb     MOVLW     0xfb           	movlw	0xFB		    ; load -1 into W                                                source\squareroot.s
0088c6   cfdb     MOVFF     0xfdb,0x500    	movff	PLUSW2, ARGA0	    ; And offset FSR1 by W and store in ARGA3               source\squareroot.s
0088c8   f500                                                                                                               
0088ca   0efc     MOVLW     0xfc           	movlw	0xFC		    ; load -2 into W and do the same for the                        source\squareroot.s
0088cc   cfdb     MOVFF     0xfdb,0x501    	movff	PLUSW2, ARGA1	    ; other bytes in the input parameter                    source\squareroot.s
0088ce   f501                                                                                                               
0088d0   0efd     MOVLW     0xfd           	movlw	0xFD                                                                      source\squareroot.s
0088d2   cfdb     MOVFF     0xfdb,0x502    	movff	PLUSW2, ARGA2                                                             source\squareroot.s
0088d4   f502                                                                                                               
0088d6   0efe     MOVLW     0xfe           	movlw	0xFE                                                                      source\squareroot.s
0088d8   cfdb     MOVFF     0xfdb,0x503    	movff	PLUSW2, ARGA3                                                             source\squareroot.s
0088da   f503                                                                                                               
0088dc   6703     TSTFSZ    0x3,0x1        	tstfsz	ARGA3, BANKED	    ; determine if the number is 16-bit                    source\squareroot.s
0088de   d025     BRA       0x892a         	bra	Sqrt32		    ; or 32-bit and call the best function                          source\squareroot.s
0088e0   6702     TSTFSZ    0x2,0x1        	tstfsz	ARGA2, BANKED                                                            source\squareroot.s
0088e2   d023     BRA       0x892a         	bra	Sqrt32                                                                      source\squareroot.s
                                           				    ; Fallthrough to Sqrt16                                                  source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt16(ARGA1:ARGA0) = PRODL                                                    source\squareroot.s
                                           Sqrt16	                                                                          source\squareroot.s
0088e4   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
0088e6   0e80     MOVLW     0x80           	movlw	0x80		    ; setup the first bit                                           source\squareroot.s
0088e8   6f10     MOVWF     0x10,0x1       	movwf	BITLOC0, BANKED                                                           source\squareroot.s
0088ea   6f0b     MOVWF     0xb,0x1        	movwf	RES0, BANKED                                                              source\squareroot.s
0088ec   510b     MOVF      0xb,0x0,0x1    Square8 movf	RES0, W, BANKED	    ; square the guess                              source\squareroot.s
0088ee   030b     MULWF     0xb,0x1        	mulwf	RES0, BANKED                                                              source\squareroot.s
0088f0   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS    ; ARGA - PROD test                                     source\squareroot.s
0088f2   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
0088f4   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS                                                           source\squareroot.s
0088f6   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
0088f8   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
0088fa   d008     BRA       0x890c         	bra	NextBit		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
0088fc   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
0088fe   f50b                                                                                                               
008900   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; then rotote the bit and put it                      source\squareroot.s
008902   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED  ; back into RES0                                       source\squareroot.s
008904   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008906   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008908   d009     BRA       0x891c         	bra	Done		    ; out                                                             source\squareroot.s
00890a   d7f0     BRA       0x88ec         	bra	Square8		    ; elso go back for another test                                source\squareroot.s
00890c   c50b     MOVFF     0x50b,0x512    NextBit movff	RES0, TEMP0	    ; copy the last good approximation                 source\squareroot.s
00890e   f512                                                                                                               
008910   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; rotate the bit location register                    source\squareroot.s
008912   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008914   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008916   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008918   d001     BRA       0x891c         	bra	Done		    ; out                                                             source\squareroot.s
00891a   d7e8     BRA       0x88ec         	bra	Square8                                                                     source\squareroot.s
00891c   c512     MOVFF     0x512,0xff3    Done	movff	TEMP0,PRODL	    ; put the final result in PRODL                       source\squareroot.s
00891e   fff3                                                                                                               
008920   6af4     CLRF      0xf4,0x0       	clrf	PRODH, ACCESS	    ; clear out upper byte to be nice                        source\squareroot.s
008922   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008924   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008926   ffd9                                                                                                               
008928   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt32(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                  source\squareroot.s
                                           Sqrt32	                                                                          source\squareroot.s
00892a   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
00892c   6b13     CLRF      0x13,0x1       	clrf	TEMP1, BANKED                                                              source\squareroot.s
00892e   6b10     CLRF      0x10,0x1       	clrf	BITLOC0, BANKED	    ; setup the first bit                                  source\squareroot.s
008930   6b0b     CLRF      0xb,0x1        	clrf	RES0, BANKED                                                               source\squareroot.s
008932   0e80     MOVLW     0x80           	movlw	0x80                                                                      source\squareroot.s
008934   6f11     MOVWF     0x11,0x1       	movwf	BITLOC1, BANKED	    ; BitLoc = 0x8000                                     source\squareroot.s
008936   6f0a     MOVWF     0xa,0x1        	movwf	RES1, BANKED	    ; RES = 0x8000                                           source\squareroot.s
008938   c50b     MOVFF     0x50b,0x505    Squar16 movff	RES0, ARG1L	    ; square the guess                                 source\squareroot.s
00893a   f505                                                                                                               
00893c   c50a     MOVFF     0x50a,0x504    	movff	RES1, ARG1H                                                               source\squareroot.s
00893e   f504                                                                                                               
008940   ecd0     CALL      0x89a0,0x0     	call	Sq16                                                                       source\squareroot.s
008942   f044                                                                                                               
008944   510c     MOVF      0xc,0x0,0x1    	movf	SQRES0, W, BANKED   ; ARGA - PROD test                                     source\squareroot.s
008946   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008948   510d     MOVF      0xd,0x0,0x1    	movf	SQRES1, W, BANKED                                                          source\squareroot.s
00894a   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
00894c   510e     MOVF      0xe,0x0,0x1    	movf	SQRES2, W, BANKED                                                          source\squareroot.s
00894e   5902     SUBWFB    0x2,0x0,0x1    	subwfb	ARGA2, W, BANKED                                                         source\squareroot.s
008950   510f     MOVF      0xf,0x0,0x1    	movf	SQRES3, W, BANKED                                                          source\squareroot.s
008952   5903     SUBWFB    0x3,0x0,0x1    	subwfb	ARGA3, W, BANKED                                                         source\squareroot.s
008954   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008956   d00e     BRA       0x8974         	bra	NxtBt16		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008958   0f00     ADDLW     0x0            	addlw	0x00		    ; clear carry                                                   source\squareroot.s
00895a   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
00895c   f50b                                                                                                               
00895e   c513     MOVFF     0x513,0x50a    	movff	TEMP1, RES1                                                               source\squareroot.s
008960   f50a                                                                                                               
008962   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; then rotote the bit and put it                       source\squareroot.s
008964   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008966   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; back into RES1:RES0                                  source\squareroot.s
008968   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
00896a   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
00896c   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00896e   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
008970   d00f     BRA       0x8990         	bra	Done32		    ; out                                                           source\squareroot.s
008972   d7e2     BRA       0x8938         	bra	Squar16		    ; elso go back for another test                                source\squareroot.s
008974   0f00     ADDLW     0x0            NxtBt16 addlw	0x00		    ; clear carry                                            source\squareroot.s
008976   c50b     MOVFF     0x50b,0x512    	movff	RES0, TEMP0	    ; copy the last good approximation                        source\squareroot.s
008978   f512                                                                                                               
00897a   c50a     MOVFF     0x50a,0x513    	movff	RES1, TEMP1                                                               source\squareroot.s
00897c   f513                                                                                                               
00897e   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; rotate the bit location register                     source\squareroot.s
008980   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008982   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; and put back into RES1:RES0                          source\squareroot.s
008984   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
008986   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008988   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00898a   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
00898c   d001     BRA       0x8990         	bra	Done32		    ; out                                                           source\squareroot.s
00898e   d7d4     BRA       0x8938         	bra	Squar16                                                                     source\squareroot.s
008990   c512     MOVFF     0x512,0xff3    Done32	movff	TEMP0,PRODL	    ; put the final result in PRODL:PRODH               source\squareroot.s
008992   fff3                                                                                                               
008994   c513     MOVFF     0x513,0xff4    	movff	TEMP1,PRODH                                                               source\squareroot.s
008996   fff4                                                                                                               
008998   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
00899a   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
00899c   ffd9                                                                                                               
00899e   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *********** 16 X 16 Unsigned Square *****************************              source\squareroot.s
                                           ; SQRES3:SQRES0 = ARG1H:ARG1L ^2                                                 source\squareroot.s
0089a0   5105     MOVF      0x5,0x0,0x1    Sq16	movf	ARG1L, W, BANKED                                                       source\squareroot.s
0089a2   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1L * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089a4   cff4     MOVFF     0xff4,0x50d    	movff	PRODH, SQRES1                                                             source\squareroot.s
0089a6   f50d                                                                                                               
0089a8   cff3     MOVFF     0xff3,0x50c    	movff	PRODL, SQRES0                                                             source\squareroot.s
0089aa   f50c                                                                                                               
0089ac   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
0089ae   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1H * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089b0   cff4     MOVFF     0xff4,0x50f    	movff	PRODH, SQRES3                                                             source\squareroot.s
0089b2   f50f                                                                                                               
0089b4   cff3     MOVFF     0xff3,0x50e    	movff	PRODL, SQRES2                                                             source\squareroot.s
0089b6   f50e                                                                                                               
0089b8   5105     MOVF      0x5,0x0,0x1    	movf	ARG1L, W, BANKED                                                           source\squareroot.s
0089ba   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1L * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089bc   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
0089be   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
0089c0   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
0089c2   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
0089c4   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
0089c6   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
0089c8   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
0089ca   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1H * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089cc   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
0089ce   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
0089d0   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
0089d2   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
0089d4   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
0089d6   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
0089d8   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                           	                                                                                source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           	GLOBAL	Sqrt                                                                     source\squareroot.s
                                                                                                                            source\squareroot.s
                                           	end                                                                             source\squareroot.s
