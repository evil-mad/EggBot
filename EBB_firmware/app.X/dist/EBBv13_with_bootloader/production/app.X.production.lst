MP2COD 5.00, COFF to COD File Converter
Copyright (c) 1998-2013 Microchip Technology Inc.
Listing File Generated: Mon Apr 01 18:47:56 2024


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
009070   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
009072   f000                                                                                                               
009074   ee2e     LFSR      0x2,0xe00          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
009076   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
009078   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
00907a   9c3b     BCF       0x3b,0x6,0x0       bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
00907c   ec89     CALL      0x8d12,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
00907e   f046                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
009080   ec51     CALL      0x90a2,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
009082   f048                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
009084   ec70     CALL      0x88e0,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
009086   f044                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
009088   d7fb     BRA       0x9080           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
00908a   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
008d12   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
008d14   6ef6     MOVWF     0xf6,0x0                                                                                        
008d16   0e10     MOVLW     0x10                                                                                            
008d18   6ef7     MOVWF     0xf7,0x0                                                                                        
008d1a   0e00     MOVLW     0x0                                                                                             
008d1c   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
008d1e   0105     MOVLB     0x5                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
008d20   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008d22   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008d24   6ff5     MOVWF     0xf5,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
008d26   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008d28   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008d2a   6ff6     MOVWF     0xf6,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
008d2c   e103     BNZ       0x8d34              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
008d2e   67f5     TSTFSZ    0xf5,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
008d30   d001     BRA       0x8d34             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008d32   d03d     BRA       0x8dae             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
008d34   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d36   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d38   6ff0     MOVWF     0xf0,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
008d3a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d3c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d3e   6ff1     MOVWF     0xf1,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
008d40   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d42   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d44   6ff2     MOVWF     0xf2,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
008d46   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008d48   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d4a   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d4c   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
008d4e   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d50   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d52   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008d54   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d56   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008d58   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d5a   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d5c   6ff3     MOVWF     0xf3,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
008d5e   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d60   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d62   6ff4     MOVWF     0xf4,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008d64   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d66   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
008d68   cff6     MOVFF     0xff6,0x5f7          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
008d6a   f5f7                                                                                                               
008d6c   cff7     MOVFF     0xff7,0x5f8                                                                                     
008d6e   f5f8                                                                                                               
008d70   cff8     MOVFF     0xff8,0x5f9                                                                                     
008d72   f5f9                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
008d74   c5f0     MOVFF     0x5f0,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
008d76   fff6                                                                                                               
008d78   c5f1     MOVFF     0x5f1,0xff7                                                                                     
008d7a   fff7                                                                                                               
008d7c   c5f2     MOVFF     0x5f2,0xff8                                                                                     
008d7e   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
008d80   0105     MOVLB     0x5            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
008d82   53f3     MOVF      0xf3,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
008d84   e102     BNZ       0x8d8a         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
008d86   53f4     MOVF      0xf4,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
008d88   e007     BZ        0x8d98         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
008d8a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008d8c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008d8e   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
008d90   07f3     DECF      0xf3,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
008d92   e2f8     BC        0x8d84         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
008d94   07f4     DECF      0xf4,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
008d96   d7f9     BRA       0x8d8a         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
008d98   c5f7     MOVFF     0x5f7,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
008d9a   fff6                                                                                                               
008d9c   c5f8     MOVFF     0x5f8,0xff7                                                                                     
008d9e   fff7                                                                                                               
008da0   c5f9     MOVFF     0x5f9,0xff8                                                                                     
008da2   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
008da4   0105     MOVLB     0x5                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
008da6   07f5     DECF      0xf5,0x1,0x1                                                                                    
008da8   0e00     MOVLW     0x0                                                                                             
008daa   5bf6     SUBWFB    0xf6,0x1,0x1                                                                                    
008dac   d7bf     BRA       0x8d2c               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
008dae   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FileName:     	usb_device.c                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Dependencies:	See INCLUDES section                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               section) for list of available platforms.  The firmware may  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be modified for use on other USB platforms by editing the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               and C32 (for PIC32)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Company:		Microchip Technology, Inc.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB Device Stack File                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ..\\..\\MicrochipInclude                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            File Description:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    defintions to be more consistant with the host stack.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    and an odd number of packets had been sent on that endpoint             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed issue with dual role mode when device run in polling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    operation was complete.  This was incompatible with polling             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode operation.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bus if the bus voltage was still present.  This is now                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    possible.  It was also possible to move the device to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    present.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Improved error case handling when the host sends more OUT               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bytes in a control transfer than the firmware was expecting             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    function.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    devices.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    could be performed on a byte pointer resulting in possible address      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    errors with odd aligned pointers.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.8    Several changes to the way control transfers get processed,             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    so as to support the ability to allow application/class specific        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    handler code to defer the status stage.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Also implemented the following API functions and macros, for delaying   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    the data stage of a control transfer (with data stage):                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferINDataStage()                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferOUTDataStage()                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBOUTDataStageDeferred()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBINDataStageDeferred()                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBCtrlEPAllowDataStage()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    all ping pong mode and usage scenarios.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC24 and PIC32 devices.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 reset during set configuration events.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 in usb_device.h).                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9d  Added build option for disabling DTS checking                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9f  Adding pragma for PIC18F97J94 Family BDT location.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9h  Updated to be able to support optional Microsoft OS Descriptors         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9i  Updated to set UCON<SUSPND> bit on PIC16F USB devices during            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    suspend, so as to save power.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*---------------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           routine for the USB stack.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           of the available implemented functions/macros are provided in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework,  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB API documentation can be found from:                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           fashion.                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The faster of:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional details of the above timing limits are provided:                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           and is therefore recommended.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           performance, along with best possible compatibility with all existing USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           firmware design flexibility.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //----------------------------------------------------------------------------------*/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "../USB/usb_device_local.h"                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #include "./USB/usb_function_msd.h"                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #undef USB_BUS_SENSE                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define USB_BUS_SENSE 1                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_DEVICE_DISABLE_DTS_CHECKING)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED 0                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED _DTSEN                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DEFINITIONS ****************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** VARIABLES ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 2)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 2)+1)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 4)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 4)-2)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #error "No ping pong mode defined."                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata USB_BDT=USB_BDT_ADDRESS                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY BDT[BDT_NUM_ENTRIES] BDT_BASE_ADDR_TAG;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section B: EP0 Buffer Space                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt CTRL_TRF_SETUP_ADDR_TAG;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE] CTRL_TRF_DATA_ADDR_TAG;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section C: non-EP0 Buffer Space                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//#pragma udata                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#if defined(__18CXX)                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile char msd_buffer[512];                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Device descriptor                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Array of configuration descriptors                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           extern BYTE * USB_SD_Ptr[];                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DECLARATIONS ***************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma code                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Macros *********************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Prototypes ********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //External                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //This is the prototype for the required user event handler                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(int event, void *pdata, WORD size);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //Internal Functions                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPService(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfTxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfRxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdSetCfgHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetStatusHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void);                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void);                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBEPService(void);                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBProtocolResetHandler(void);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Implementations *************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Macros *********************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /****************************************************************************    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will advance the passed pointer to the next buffer based on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               only.  This function is not valid for EP0.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Parameters:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to the next buffer state                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** External API Functions ****************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceInit(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function initializes the device stack it in the default state. The  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USB module will be completely reset including all of the internal        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   variables, registers, and interrupt flags.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function must be called before any of the other USB Device          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions can be called, including USBDeviceTasks().                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fe   ec69     CALL      0x74d2,0x0     void USBDeviceInit(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006800   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006802   98a0     BCF       0xa0,0x4,0x0       USBDisableInterrupts();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear all USB error flags                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006804   6a63     CLRF      0x63,0x0           USBClearInterruptRegister(U1EIR);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clears all USB interrupts                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006806   6a62     CLRF      0x62,0x0           USBClearInterruptRegister(U1IR);                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006808   010f     MOVLB     0xf                U1EP0 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680a   6b26     CLRF      0x26,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680c   ec48     CALL      0x7490,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680e   f03a                                                                                                               
007490   0e02     MOVLW     0x2                                                                                             
007492   6ee6     MOVWF     0xe6,0x0                                                                                        
007494   6ae6     CLRF      0xe6,0x0                                                                                        
007496   6ae6     CLRF      0xe6,0x0                                                                                        
007498   0e27     MOVLW     0x27                                                                                            
00749a   6ee6     MOVWF     0xe6,0x0                                                                                        
00749c   0e0f     MOVLW     0xf                                                                                             
00749e   efb1     GOTO      0x7362                                                                                          
0074a0   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006810   010f     MOVLB     0xf                SetConfigurationOptions();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006812   ec07     CALL      0x740e,0x0                                                                                      
006814   f03a                                                                                                               
00740e   0e16     MOVLW     0x16                                                                                            
007410   6f39     MOVWF     0x39,0x1                                                                                        
007412   0e9f     MOVLW     0x9f                                                                                            
007414   6f37     MOVWF     0x37,0x1                                                                                        
007416   0e7b     MOVLW     0x7b                                                                                            
007418   6f36     MOVWF     0x36,0x1                                                                                        
00741a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //power up the module (if not already powered)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBPowerModule();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the address of the BDT (if applicable)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBSetBDTAddress(BDT);                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006816   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006818   50df     MOVF      0xdf,0x0,0x0                                                                                    
00681a   6e4e     MOVWF     0x4e,0x0                                                                                        
00681c   6a4f     CLRF      0x4f,0x0                                                                                        
00681e   0e0c     MOVLW     0xc                                                                                             
006820   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006822   0e00     MOVLW     0x0                                                                                             
006824   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
006826   e210     BC        0x6848                                                                                          
006844   2adf     INCF      0xdf,0x1,0x0                                                                                    
006846   d7e8     BRA       0x6818                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006828   50df     MOVF      0xdf,0x0,0x0           BDT[i].Val = 0x00;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682a   0d04     MULLW     0x4                                                                                             
00682c   cff3     MOVFF     0xff3,0xfe9                                                                                     
00682e   ffe9                                                                                                               
006830   cff4     MOVFF     0xff4,0xfea                                                                                     
006832   ffea                                                                                                               
006834   0e00     MOVLW     0x0                                                                                             
006836   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006838   0e04     MOVLW     0x4                                                                                             
00683a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00683c   6aee     CLRF      0xee,0x0                                                                                        
00683e   6aee     CLRF      0xee,0x0                                                                                        
006840   6aee     CLRF      0xee,0x0                                                                                        
006842   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006848   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Reset to default address                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684a   010f     MOVLB     0xf                U1ADDR = 0x00;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684c   6b38     CLRF      0x38,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Make sure packet processing is enabled                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684e   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006850   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Flush any pending transactions                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006852   a662     BTFSS     0x62,0x3,0x0       while(USBTransactionCompleteIF == 1u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006854   d007     BRA       0x6864                                                                                          
006862   d7f7     BRA       0x6852                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006856   9662     BCF       0x62,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Initialize USB stack software state variables                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006858   0105     MOVLB     0x5                    inPipes[0].info.Val = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685a   6bd3     CLRF      0xd3,0x1                                                                                        
00685c   6bd8     CLRF      0xd8,0x1               outPipes[0].info.Val = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685e   6bd9     CLRF      0xd9,0x1               outPipes[0].wCount.Val = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006860   6bda     CLRF      0xda,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006864   0105     MOVLB     0x5                USBStatusStageEnabledFlag1 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006866   0e01     MOVLW     0x1                                                                                             
006868   6fec     MOVWF     0xec,0x1                                                                                        
00686a   6fed     MOVWF     0xed,0x1           USBStatusStageEnabledFlag2 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Initialize other flags                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686c   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686e   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006870   6be0     CLRF      0xe0,0x1           USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006872   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006874   0e03     MOVLW     0x3                                                                                             
006876   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006878   e211     BC        0x689c                                                                                          
00689a   d7ec     BRA       0x6874                                                                                          
0073a0   2adf     INCF      0xdf,0x1,0x0                                                                                    
0073a2   0012     RETURN    0x0                                                                                             
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687a   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687c   34df     RLCF      0xdf,0x0,0x0                                                                                    
00687e   ec6c     CALL      0x74d8,0x0                                                                                      
006880   f03a                                                                                                               
006882   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006884   6aee     CLRF      0xee,0x0                                                                                        
006886   6aed     CLRF      0xed,0x0                                                                                        
0074d8   0bfe     ANDLW     0xfe                                                                                            
0074da   36ea     RLCF      0xea,0x1,0x0                                                                                    
0074dc   6ee9     MOVWF     0xe9,0x0                                                                                        
0074de   0ec9     MOVLW     0xc9                                                                                            
0074e0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0074e2   0e05     MOVLW     0x5                                                                                             
0074e4   0012     RETURN    0x0                                                                                             
006888   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688a   34df     RLCF      0xdf,0x0,0x0                                                                                    
00688c   ec73     CALL      0x74e6,0x0                                                                                      
00688e   f03a                                                                                                               
006890   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006892   6aee     CLRF      0xee,0x0                                                                                        
006894   6aed     CLRF      0xed,0x0                                                                                        
0074e6   0bfe     ANDLW     0xfe                                                                                            
0074e8   36ea     RLCF      0xea,0x1,0x0                                                                                    
0074ea   6ee9     MOVWF     0xe9,0x0                                                                                        
0074ec   0ec3     MOVLW     0xc3                                                                                            
0074ee   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0074f0   0e05     MOVLW     0x5                                                                                             
0074f2   0012     RETURN    0x0                                                                                             
006896   ecc8     CALL      0x7390,0x0     		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006898   f039                                                                                                               
007390   50df     MOVF      0xdf,0x0,0x0                                                                                    
007392   d8bc     RCALL     0x750c                                                                                          
007394   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007396   6aef     CLRF      0xef,0x0                                                                                        
007398   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00739a   d8b3     RCALL     0x7502                                                                                          
00739c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00739e   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Get ready for the first packet                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689c   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689e   0e08     MOVLW     0x8                                                                                             
0068a0   6fc9     MOVWF     0xc9,0x1                                                                                        
0068a2   0e04     MOVLW     0x4                                                                                             
0068a4   6fca     MOVWF     0xca,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a6   010f     MOVLB     0xf                U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a8   0e16     MOVLW     0x16                                                                                            
0068aa   6f26     MOVWF     0x26,0x1                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ac   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ae   0e30     MOVLW     0x30                                                                                            
0068b0   6f02     MOVWF     0x2,0x1                                                                                         
0068b2   0e04     MOVLW     0x4                                                                                             
0068b4   6f03     MOVWF     0x3,0x1                                                                                         
0068b6   0e40     MOVLW     0x40               BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b8   6f01     MOVWF     0x1,0x1                                                                                         
0068ba   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068bc   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear active configuration                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068be   0105     MOVLB     0x5                USBActiveConfiguration = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c0   6bbd     CLRF      0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Indicate that we are now in the detached state                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c2   6bbc     CLRF      0xbc,0x1           USBDeviceState = DETACHED_STATE;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c6   ef9a     GOTO      0x7334                                                                                          
0068c8   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceTasks(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceTasks(); //Takes care of enumeration and other USB events   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Either the device is not configured or we are suspended,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           // so we don't want to execute any USB related application code  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Otherwise we are free to run USB and non-USB related user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //application code.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Make sure the USBDeviceInit() function has been called prior to calling      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() for the first time.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() does not need to be called while in the USB suspend mode,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if the user application firmware in the USBCBSuspend() callback function     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enables the ACTVIF USB interrupt source and put the microcontroller into     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               sleep mode.  If the application firmware decides not to sleep the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               microcontroller core during USB suspend (ex: continues running at full       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               frequency, or clock switches to a lower frequency), then the USBDeviceTasks() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function must still be called periodically, at a rate frequent enough to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ensure the 10ms resume recovery interval USB specification is met.  Assuming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a worst case primary oscillator and PLL start up time of <5ms, then          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() should be called once every 5ms in this scenario.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB cable is detached, or the USB host is not actively powering     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the VBUS line to +5V nominal, the application firmware does not always have  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() frequently, as no USB activity will be taking       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               place.  However, if USBDeviceTasks() is not called regularly, some           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               alternative means of promptly detecting when VBUS is powered (indicating     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               host attachment), or not powered (host powered down or USB cable unplugged)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               is still needed.  For self or dual self/bus powered USB applications, see    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBDeviceAttach() and USBDeviceDetach() API documentation for additional  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               considerations.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX) || defined (_PIC14E)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBDeviceTasks(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__C30__) || defined __XC16__                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__PIC32MX__)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt(),vector(_USB_1_VECTOR))) _USB1Interrupt( void )  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ca   ec69     CALL      0x74d2,0x0     void USBDeviceTasks(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068cc   f03a                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SRP Time Out Check                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USBOTGSRPIsReady())                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear Interrupt Flag                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_POLLING)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ce   be82     BTFSC     0x82,0x7,0x0       if (USB_BUS_SENSE != 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d0   d006     BRA       0x68de                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d2   6a65     CLRF      0x65,0x0                U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d4   010f     MOVLB     0xf                     U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d6   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d8   0105     MOVLB     0x5                     USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068da   6bbc     CLRF      0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBClearUSBInterrupt();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068dc   d06f     BRA       0x69bc                  return;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068de   0105     MOVLB     0x5                if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e0   51bc     MOVF      0xbc,0x0,0x1                                                                                    
0068e2   e10c     BNZ       0x68fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Initialize register to known value                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e4   6a65     CLRF      0x65,0x0               U1CON = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Mask all USB interrupts                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e6   010f     MOVLB     0xf                    U1IE = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e8   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ea   ec07     CALL      0x740e,0x0             SetConfigurationOptions();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ec   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Enable module & attach to bus                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ee   b665     BTFSC     0x65,0x3,0x0           while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f0   d002     BRA       0x68f6                                                                                          
0068f2   8665     BSF       0x65,0x3,0x0                                                                                    
0068f4   d7fc     BRA       0x68ee                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //moved to the attached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f6   0105     MOVLB     0x5                    USBDeviceState = ATTACHED_STATE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f8   0e01     MOVLW     0x1                                                                                             
0068fa   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068fc   05bc     DECF      0xbc,0x0,0x1       if(USBDeviceState == ATTACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068fe   e10a     BNZ       0x6914                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * After enabling the USB module, it takes some time for the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * as a USB bus reset from the USB host.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006900   ba65     BTFSC     0x65,0x5,0x0           if(!USBSE0Event)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006902   d008     BRA       0x6914                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006904   6a62     CLRF      0x62,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(USB_POLLING)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006906   010f     MOVLB     0xf                            U1IE=0;                        // Mask all USB interrupts        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006908   6b36     CLRF      0x36,0x1                                                                                        
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690a   8136     BSF       0x36,0x0,0x1               USBResetIE = 1;             // Unmask RESET interrupt                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690c   8936     BSF       0x36,0x4,0x1               USBIdleIE = 1;             // Unmask IDLE interrupt                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690e   0105     MOVLB     0x5                        USBDeviceState = POWERED_STATE;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006910   0e02     MOVLW     0x2                                                                                             
006912   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ID Pin Changed State                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Re-detect & Initialize                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGInitialize();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task A: Service USB Activity Interrupt                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006914   5062     MOVF      0x62,0x0,0x0       if(USBActivityIF && USBActivityIE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006916   0b04     ANDLW     0x4                                                                                             
006918   e006     BZ        0x6926                                                                                          
00691a   010f     MOVLB     0xf                                                                                             
00691c   5136     MOVF      0x36,0x0,0x1                                                                                    
00691e   0b04     ANDLW     0x4                                                                                             
006920   e002     BZ        0x6926                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006922   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGIR = 0x10;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006924   db47     RCALL     0x6fb4                     USBWakeFromSuspend();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006926   b265     BTFSC     0x65,0x1,0x0       if(USBSuspendControl==1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006928   d049     BRA       0x69bc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBClearUSBInterrupt();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * The USB reset flag is masked when the USB state is in                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * cause a USB reset event during these two states.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692a   5062     MOVF      0x62,0x0,0x0       if(USBResetIF && USBResetIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692c   0b01     ANDLW     0x1                                                                                             
00692e   e009     BZ        0x6942                                                                                          
006930   010f     MOVLB     0xf                                                                                             
006932   5136     MOVF      0x36,0x0,0x1                                                                                    
006934   0b01     ANDLW     0x1                                                                                             
006936   e005     BZ        0x6942                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006938   df62     RCALL     0x67fe                 USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693a   0105     MOVLB     0x5                    USBDeviceState = DEFAULT_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693c   0e04     MOVLW     0x4                                                                                             
00693e   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006940   9062     BCF       0x62,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task C: Service other USB interrupts                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006942   5062     MOVF      0x62,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006944   0b10     ANDLW     0x10                                                                                            
006946   e006     BZ        0x6954                                                                                          
006948   010f     MOVLB     0xf                                                                                             
00694a   5136     MOVF      0x36,0x0,0x1                                                                                    
00694c   0b10     ANDLW     0x10                                                                                            
00694e   e002     BZ        0x6954                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If Suspended, Try to switch to Host                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006950   db26     RCALL     0x6f9e                     USBSuspend();                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006952   9862     BCF       0x62,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006954   ac62     BTFSS     0x62,0x6,0x0       if(USBSOFIF)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006956   d010     BRA       0x6978                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006958   010f     MOVLB     0xf                    if(USBSOFIE)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00695a   ad36     BTFSS     0x36,0x6,0x1                                                                                    
00695c   d005     BRA       0x6968                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00695e   ec0e     CALL      0x741c,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006960   f03a                                                                                                               
006962   0e73     MOVLW     0x73                                                                                            
006964   ec87     CALL      0x730e,0x0                                                                                      
006966   f039                                                                                                               
00741c   0e01     MOVLW     0x1                                                                                             
00741e   6ee6     MOVWF     0xe6,0x0                                                                                        
007420   6ae6     CLRF      0xe6,0x0                                                                                        
007422   0e00     MOVLW     0x0                                                                                             
007424   6ee6     MOVWF     0xe6,0x0                                                                                        
007426   6ae6     CLRF      0xe6,0x0                                                                                        
007428   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006968   9c62     BCF       0x62,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #warning "Double click this message.  See inline code comments." D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //transfers with data stage).                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //prior to executing the below code.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Decrement our status stage counter.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696a   0105     MOVLB     0x5                        if(USBStatusStageTimeoutCounter != 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696c   51ea     MOVF      0xea,0x0,0x1                                                                                    
00696e   e001     BZ        0x6972                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006970   07ea     DECF      0xea,0x1,0x1                   USBStatusStageTimeoutCounter--;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Check if too much time has elapsed since progress was made in      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //processing the control transfer, without arming the status stage.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006972   51ea     MOVF      0xea,0x0,0x1               if(USBStatusStageTimeoutCounter == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006974   e101     BNZ       0x6978                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006976   d8f4     RCALL     0x6b60                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006978   5062     MOVF      0x62,0x0,0x0       if(USBStallIF && USBStallIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697a   0b20     ANDLW     0x20                                                                                            
00697c   e005     BZ        0x6988                                                                                          
00697e   010f     MOVLB     0xf                                                                                             
006980   5136     MOVF      0x36,0x0,0x1                                                                                    
006982   0b20     ANDLW     0x20                                                                                            
006984   e001     BZ        0x6988                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006986   dafa     RCALL     0x6f7c                 USBStallHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006988   5062     MOVF      0x62,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698a   0b02     ANDLW     0x2                                                                                             
00698c   e00c     BZ        0x69a6                                                                                          
00698e   010f     MOVLB     0xf                                                                                             
006990   5136     MOVF      0x36,0x0,0x1                                                                                    
006992   0b02     ANDLW     0x2                                                                                             
006994   e008     BZ        0x69a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006996   ec0e     CALL      0x741c,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006998   f03a                                                                                                               
00699a   68e6     SETF      0xe6,0x0                                                                                        
00699c   0e7f     MOVLW     0x7f                                                                                            
00699e   6ee6     MOVWF     0xe6,0x0                                                                                        
0069a0   ec7a     CALL      0x74f4,0x0                                                                                      
0069a2   f03a                                                                                                               
0074f4   eccd     CALL      0x899a,0x0                                                                                      
0074f6   f044                                                                                                               
0074f8   6e4e     MOVWF     0x4e,0x0                                                                                        
0074fa   0e06     MOVLW     0x6                                                                                             
0074fc   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0074fe   504e     MOVF      0x4e,0x0,0x0                                                                                    
007500   0012     RETURN    0x0                                                                                             
0069a4   6a63     CLRF      0x63,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  manually cleared.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(__C32__) || defined(__C30__) || defined __XC16__             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * state and is ready for communication.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a6   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a8   0105     MOVLB     0x5                                                                                             
0069aa   6ee7     MOVWF     0xe7,0x0                                                                                        
0069ac   19bc     XORWF     0xbc,0x0,0x1                                                                                    
0069ae   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0069b0   d002     BRA       0x69b6                                                                                          
0069b2   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0069b4   d002     BRA       0x69ba                                                                                          
0069b6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0069b8   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0069ba   e202     BC        0x69c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069bc   98a1     BCF       0xa1,0x4,0x0   	    USBClearUSBInterrupt();                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069be   d02f     BRA       0x6a1e         	    return;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c0   010f     MOVLB     0xf                if(USBTransactionCompleteIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c2   a736     BTFSS     0x36,0x3,0x1                                                                                    
0069c4   d02b     BRA       0x6a1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c6   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c8   0e04     MOVLW     0x4                                                                                             
0069ca   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0069cc   e227     BC        0x6a1c                                                                                          
006a18   2adf     INCF      0xdf,0x1,0x0                                                                                    
006a1a   d7d6     BRA       0x69c8                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ce   a662     BTFSS     0x62,0x3,0x0   		    if(USBTransactionCompleteIF)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d0   d025     BRA       0x6a1c                                                                                          
                                           		    {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d2   cf64     MOVFF     0xf64,0x5e1                    USTATcopy.Val = U1STAT;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d4   f5e1                                                                                                               
0069d6   0105     MOVLB     0x5                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d8   51e1     MOVF      0xe1,0x0,0x1                                                                                    
0069da   0b78     ANDLW     0x78                                                                                            
0069dc   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0069de   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0069e0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0069e2   6fe2     MOVWF     0xe2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e4   9662     BCF       0x62,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e6   b5e1     BTFSC     0xe1,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e8   d004     BRA       0x69f2                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ea   51e2     MOVF      0xe2,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1;  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ec   ec81     CALL      0x7502,0x0                                                                                      
0069ee   f03a                                                                                                               
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f0   d003     BRA       0x69f8                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f2   51e2     MOVF      0xe2,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f4   ec86     CALL      0x750c,0x0                                                                                      
0069f6   f03a                                                                                                               
0069f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0069fa   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //It ignores all other EP transactions.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fc   51e2     MOVF      0xe2,0x0,0x1                   if(endpoint_number == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fe   e102     BNZ       0x6a04                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a00   dae6     RCALL     0x6fce                             USBCtrlEPService();                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a02   d00a     BRA       0x6a18                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a04   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a06   6ee6     MOVWF     0xe6,0x0                                                                                        
006a08   6ae6     CLRF      0xe6,0x0                                                                                        
006a0a   0ee1     MOVLW     0xe1                                                                                            
006a0c   6ee6     MOVWF     0xe6,0x0                                                                                        
006a0e   0e05     MOVLW     0x5                                                                                             
006a10   6ee6     MOVWF     0xe6,0x0                                                                                        
006a12   0e72     MOVLW     0x72                                                                                            
006a14   ec87     CALL      0x730e,0x0                                                                                      
006a16   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}//end for()                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1c   98a1     BCF       0xa1,0x4,0x0       USBClearUSBInterrupt();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1e   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a20   ef9a     GOTO      0x7334                                                                                          
006a22   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBCBInitEP(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBMSDInit();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep -       the endpoint to be configured                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be ORed together to form a single options string. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               available optional settings for the endpoint. The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               options should be ORed together to form a single options     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               string. The available options are the following\:            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_STALL_ENDPOINT STALLs this endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a24   ec3a     CALL      0x7474,0x0     void USBEnableEndpoint(BYTE ep, BYTE options)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a26   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               unsigned char* p;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //starting DTS state in the BDT entry.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a28   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2a   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
006a2c   d003     BRA       0x6a34                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2e   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a30   ecff     CALL      0x73fe,0x0                                                                                      
006a32   f039                                                                                                               
0073fe   0efe     MOVLW     0xfe                                                                                            
007400   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007402   ffe6                                                                                                               
007404   ecf5     CALL      0x6bea,0x0                                                                                      
007406   f035                                                                                                               
007408   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00740a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00740c   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a34   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a36   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
006a38   d004     BRA       0x6a42                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3a   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3c   6ee6     MOVWF     0xe6,0x0                                                                                        
006a3e   ecff     CALL      0x73fe,0x0                                                                                      
006a40   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //etc.)                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a42   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a44   50db     MOVF      0xdb,0x0,0x0                                                                                    
006a46   6a4f     CLRF      0x4f,0x0                                                                                        
006a48   0f26     ADDLW     0x26                                                                                            
006a4a   6e4e     MOVWF     0x4e,0x0                                                                                        
006a4c   0e0f     MOVLW     0xf                                                                                             
006a4e   ecf9     CALL      0x73f2,0x0                                                                                      
006a50   f039                                                                                                               
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a52   ec8b     CALL      0x7316,0x0         *p = options;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a54   f039                                                                                                               
006a56   0efd     MOVLW     0xfd                                                                                            
006a58   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006a5a   ffef                                                                                                               
006a5c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a5e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006a60   e202     BC        0x6a66                                                                                          
006a62   6ae1     CLRF      0xe1,0x0                                                                                        
006a64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a66   6ee1     MOVWF     0xe1,0x0                                                                                        
006a68   ef9a     GOTO      0x7334                                                                                          
006a6a   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*************************************************************************       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE USBTransferOnePacket(BYTE ep, BYTE dir, BYTE* data, BYTE len)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Transfers a single packet (one transaction) of data on the USB bus.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() function prepares a USB endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               so that it may send data to the host (an IN transaction), or                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               receive data from the host (an OUT transaction).  The                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBTransferOnePacket() function can be used both to receive	and              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               send data to the host.  This function is the primary API function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               provided by the USB stack firmware for sending or receiving application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               data over the USB port.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() is intended for use with all application          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoints.  It is not used for sending or receiving applicaiton data         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               through endpoint 0 by using control transfers.  Separate API                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               functions, such as USBEP0Receive(), USBEP0SendRAMPtr(), and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBEP0SendROMPtr() are provided for this purpose.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The	USBTransferOnePacket() writes to the Buffer Descriptor Table (BDT)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               entry associated with an endpoint buffer, and sets the UOWN bit, which       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               prepares the USB hardware to allow the transaction to complete.  The         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application firmware can use the USBHandleBusy() macro to check the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               status of the transaction, to see if the data has been successfully          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               transmitted yet.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //make sure that the we are in the configured state                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBGetDeviceState() == CONFIGURED_STATE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //make sure that the last transaction isn't busy by checking the handle  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(!USBHandleBusy(USBInHandle))                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //Write the new data that we wish to send to the host to the INPacket[] array D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[0] = USEFUL_APPLICATION_VALUE1;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[1] = USEFUL_APPLICATION_VALUE2;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //INPacket[2] = ... (fill in the rest of the packet data)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Send the data contained in the INPacket[] array through endpoint "EP_NUM" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBInHandle = USBTransferOnePacket(EP_NUM,IN_TO_HOST,(BYTE*)&INPacket[0],sizeof(INPacket)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Before calling USBTransferOnePacket(), the following should be true.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               1.  The USB stack has already been initialized (USBDeviceInit() was called). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               2.  A transaction is not already pending on the specified endpoint.  This    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   is done by checking the previous request using the USBHandleBusy()       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro (see the typical usage example).                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               3.  The host has already sent a set configuration request and the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enumeration process is complete.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This can be checked by verifying that the USBGetDeviceState()            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro returns "CONFIGURED_STATE", prior to calling                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBTransferOnePacket().                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            					                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep - The endpoint number that the data will be transmitted or           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	          received on                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE dir - The direction of the transfer                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          This value is either OUT_FROM_HOST or IN_TO_HOST                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE* data - For IN transactions: pointer to the RAM buffer containing       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the data to be sent to the host.  For OUT transactions: pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            to the RAM buffer that the received data should get written to. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              BYTE len - Length of the data needing to be sent (for IN transactions).       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         For OUT transactions, the len parameter should normally be set     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         to the endpoint size specified in the endpoint descriptor.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE - handle to the transfer.  The handle is a pointer to             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the BDT entry associated with this transaction.  The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            status of the transaction (ex: if it is complete or still       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            pending) can be checked using the USBHandleBusy() macro         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            and supplying the USB_HANDLE provided by                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            USBTransferOnePacket().                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If calling the USBTransferOnePacket() function from within the USBCBInitEP() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               callback function, the set configuration is still being processed and the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceState may not be == CONFIGURED_STATE yet.  In this	special case,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBTransferOnePacket() may still be called, but make sure that the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoint has been enabled and initialized by the USBEnableEndpoint()         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function first.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6c   ec3a     CALL      0x7474,0x0     USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6e   f03a                                                                                                               
007474   df5a     RCALL     0x732a                                                                                          
007476   0e02     MOVLW     0x2                                                                                             
007478   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
00747a   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the direction is IN                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a70   0efd     MOVLW     0xfd               if(dir != 0u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a72   50db     MOVF      0xdb,0x0,0x0                                                                                    
006a74   e003     BZ        0x6a7c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //point to the IN BDT of the specified endpoint                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a76   ec82     CALL      0x7304,0x0             handle = pBDTEntryIn[ep];                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a78   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7a   d002     BRA       0x6a80             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7c   ecb9     CALL      0x7372,0x0             handle = pBDTEntryOut[ep];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7e   f039                                                                                                               
006a80   ece5     CALL      0x73ca,0x0                                                                                      
006a82   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a84   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a86   ffe9                                                                                                               
006a88   cfda     MOVFF     0xfda,0xfea                                                                                     
006a8a   ffea                                                                                                               
006a8c   50ee     MOVF      0xee,0x0,0x0                                                                                    
006a8e   10ed     IORWF     0xed,0x0,0x0                                                                                    
006a90   e103     BNZ       0x6a98                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a92   6af3     CLRF      0xf3,0x0       	    return 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a94   6af4     CLRF      0xf4,0x0                                                                                        
006a96   d028     BRA       0x6ae8                                                                                          
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Toggle the DTS bit if required                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(ep != 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a98   ec8b     CALL      0x7316,0x0         handle->ADR = ConvertToPhysicalAddress(data);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a9a   f039                                                                                                               
006a9c   ec95     CALL      0x752a,0x0                                                                                      
006a9e   f03a                                                                                                               
006aa0   0efb     MOVLW     0xfb                                                                                            
006aa2   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006aa4   ffee                                                                                                               
006aa6   0efc     MOVLW     0xfc                                                                                            
006aa8   cfdb     MOVFF     0xfdb,0xfed                                                                                     
006aaa   ffed                                                                                                               
006aac   ec8b     CALL      0x7316,0x0         handle->CNT = len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aae   f039                                                                                                               
006ab0   52ee     MOVF      0xee,0x1,0x0                                                                                    
006ab2   0efa     MOVLW     0xfa                                                                                            
006ab4   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006ab6   ffef                                                                                                               
006ab8   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aba   ec8b     CALL      0x7516,0x0                                                                                      
006abc   f03a                                                                                                               
006abe   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | (_DTSEN & _DTS_CHECKING_ENABLED);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac0   ec9a     CALL      0x7534,0x0                                                                                      
006ac2   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Point to the next buffer for ping pong purposes.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac4   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac6   50db     MOVF      0xdb,0x0,0x0                                                                                    
006ac8   e003     BZ        0x6ad0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aca   ec82     CALL      0x7304,0x0             USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006acc   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ace   d002     BRA       0x6ad4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad0   ecb9     CALL      0x7372,0x0             USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad2   f039                                                                                                               
006ad4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006ad6   74ef     BTG       0xef,0x2,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad8   cfde     MOVFF     0xfde,0x4e         return (USB_HANDLE)handle;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ada   f04e                                                                                                               
006adc   cfdd     MOVFF     0xfdd,0x4f                                                                                      
006ade   f04f                                                                                                               
006ae0   c04e     MOVFF     0x4e,0xff3                                                                                      
006ae2   fff3                                                                                                               
006ae4   c04f     MOVFF     0x4f,0xff4                                                                                      
006ae6   fff4                                                                                                               
006ae8   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aea   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006aec   e202     BC        0x6af2                                                                                          
006aee   6ae1     CLRF      0xe1,0x0                                                                                        
006af0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006af2   6ee1     MOVWF     0xe1,0x0                                                                                        
006af4   ef9a     GOTO      0x7334                                                                                          
006af6   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBStallEndpoint(BYTE ep, BYTE dir)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Configures the specified endpoint to send STALL to the host, the next   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    time the host tries to access the endpoint.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PreCondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE ep - The endpoint number that should be configured to send STALL.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE dir - The direction of the endpoint to STALL, either                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                              IN_TO_HOST or OUT_FROM_HOST.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af8   ec3a     CALL      0x7474,0x0     void USBStallEndpoint(BYTE ep, BYTE dir)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afa   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afc   0efe     MOVLW     0xfe               if(ep == 0u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afe   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b00   e103     BNZ       0x6b08                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packet that will arrrive.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b02   ec51     CALL      0x74a2,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b04   f03a                                                                                                               
0074a2   df2c     RCALL     0x72fc                                                                                          
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0074a4   0e8c     MOVLW     0x8c                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0074a6   6eef     MOVWF     0xef,0x0                                                                                        
0074a8   df3b     RCALL     0x7320                 pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0074aa   0e84     MOVLW     0x84                                                                                            
0074ac   6eef     MOVWF     0xef,0x0                                                                                        
0074ae   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b06   d009     BRA       0x6b1a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b08   ecbe     CALL      0x737c,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0a   f039                                                                                                               
006b0c   ec28     CALL      0x7450,0x0                                                                                      
006b0e   f03a                                                                                                               
007450   0d04     MULLW     0x4                                                                                             
007452   cff3     MOVFF     0xff3,0x4e                                                                                      
007454   f04e                                                                                                               
007456   cff4     MOVFF     0xff4,0x4f                                                                                      
007458   f04f                                                                                                               
00745a   0e00     MOVLW     0x0                                                                                             
00745c   264e     ADDWF     0x4e,0x1,0x0                                                                                    
00745e   0e04     MOVLW     0x4                                                                                             
007460   dfc8     RCALL     0x73f2                                                                                          
007462   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007464   ef9a     GOTO      0x7534                                                                                          
007466   f03a                                                                                                               
007534   def0     RCALL     0x7316                                                                                          
007536   50e8     MOVF      0xe8,0x0,0x0                                                                                    
007538   12ef     IORWF     0xef,0x1,0x0                                                                                    
00753a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //then stall that entry as well                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b10   ecbe     CALL      0x737c,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b12   f039                                                                                                               
006b14   0f01     ADDLW     0x1                                                                                             
006b16   ec28     CALL      0x7450,0x0                                                                                      
006b18   f03a                                                                                                               
0073f2   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0073f4   c04e     MOVFF     0x4e,0xfde                                                                                      
0073f6   ffde                                                                                                               
0073f8   c04f     MOVFF     0x4f,0xfdd                                                                                      
0073fa   ffdd                                                                                                               
0073fc   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1a   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b1e   e202     BC        0x6b24                                                                                          
006b20   6ae1     CLRF      0xe1,0x0                                                                                        
006b22   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b24   6ee1     MOVWF     0xe1,0x0                                                                                        
006b26   ef9a     GOTO      0x7334                                                                                          
006b28   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function can only be used after a SETUP packet is received and      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   before that setup packet is handled.  This is the time period in which   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   returns to the stack.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel the transfers for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2a   ec95     CALL      0x732a,0x0     void USBCancelIO(BYTE endpoint)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2c   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2e   a865     BTFSS     0x65,0x4,0x0       if(USBPacketDisable == 1u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b30   d016     BRA       0x6b5e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//to mess with the BDT right now.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b32   ec62     CALL      0x74c4,0x0         	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b34   f03a                                                                                                               
006b36   0e40     MOVLW     0x40                                                                                            
006b38   16ee     ANDWF     0xee,0x1,0x0                                                                                    
006b3a   6aee     CLRF      0xee,0x0                                                                                        
006b3c   6aee     CLRF      0xee,0x0                                                                                        
006b3e   6aee     CLRF      0xee,0x0                                                                                        
006b40   ec62     CALL      0x74c4,0x0         	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b42   f03a                                                                                                               
006b44   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b46   dbde     RCALL     0x7304                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b48   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b4a   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4c   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4e   6e4e     MOVWF     0x4e,0x0                                                                                        
006b50   ec62     CALL      0x74c4,0x0                                                                                      
006b52   f03a                                                                                                               
006b54   504e     MOVF      0x4e,0x0,0x0                                                                                    
006b56   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006b58   ec62     CALL      0x74c4,0x0         	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5a   f03a                                                                                                               
006b5c   7cef     BTG       0xef,0x6,0x0                                                                                    
0074c4   df1f     RCALL     0x7304                                                                                          
0074c6   efd2     GOTO      0x73a4                                                                                          
0074c8   f039                                                                                                               
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5e   d3ea     BRA       0x7334         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceDetach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to "soft detach" itself from     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB host.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to perform a "soft detach"       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   lets the host know the device is present and attached.  This will make   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Additionally, this function should only be called from the main() loop   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   this function may modify global interrupt enable bits and settings.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application firmware calls USBDeviceDetach(), it is strongly      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   recommended that the firmware wait at least >= 80ms before calling       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach().  If the firmeware performs a soft detach, and then    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   re-attaches too soon (ex: after a few micro seconds for instance), some  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   hosts may interpret this as an unexpected "glitch" rather than as a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   physical removal/re-attachment of the USB device.  In this case the host D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may simply ignore the event without re-enumerating the device.  To       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ensure that the host properly detects and processes the device soft      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detach/re-attach, it is recommended to make sure the device remains      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detached long enough to mimic a real human controlled USB                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unplug/re-attach event (ex: after calling USBDeviceDetach(), do not      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   call USBDeviceAttach() for at least 80+ms, preferrably longer.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Neither the USBDeviceDetach() or USBDeviceAttach() functions are blocking D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   or take long to execute.  It is the application firmware's               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   responsibility for adding the 80+ms delay, when using these API          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Note: The Windows plug and play event handler processing is fairly       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   slow, especially in certain versions of Windows, and for certain USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device classes.  It has been observed that some device classes need to   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   provide even more USB detach dwell interval (before calling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach()), in order to work correctly after re-enumeration.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the USB device is a CDC class device, it is recommended to wait       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   at least 1.5 seconds or longer, before soft re-attaching to the host,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   to provide the plug and play event handler enough time to finish         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   processing the removal event, before the re-attach occurs.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application is using the USB_POLLING mode option, then the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceDetach() and USBDeviceAttach() functions are not available.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In this mode, the USB stack relies on the "#define USE_USB_BUS_SENSE_IO"  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   and "#define USB_BUS_SENSE" options in the                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   HardwareProfile  [platform name].h file.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   When using the USB_POLLING mode option, and the                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   "#define USE_USB_BUS_SENSE_IO" definition has been commented out, then   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB stack assumes that it should always enable the USB module at     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pretty much all times.  Basically, anytime the application firmware      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calls USBDeviceTasks(), the firmware will automatically enable the USB   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   module.  This mode would typically be selected if the application was    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   designed to be a purely bus powered device.  In this case, the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   application is powered from the +5V VBUS supply from the USB port, so    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   it is correct and sensible in this type of application to power up and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   turn on the USB module, at anytime that the microcontroller is           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered (which implies the USB cable is attached and the host is also    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered).                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In a self powered application, the USB stack is designed with the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   intention that the user will enable the "#define USE_USB_BUS_SENSE_IO"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option in the HardwareProfile  [platform name].h file.  When this     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option is defined, then the USBDeviceTasks() function will automatically  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   check the I/O pin port value of the designated pin (based on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #define USB_BUS_SENSE option in the HardwareProfile  [platform name].h  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   file), every time the application calls USBDeviceTasks().  If the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceTasks() function is executed and finds that the pin defined by  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the #define USB_BUS_SENSE is in a logic low state, then it will          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   automatically disable the USB module and tri-state the D+ and D- pins.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If however the USBDeviceTasks() function is executed and finds the pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   defined by the #define USB_BUS_SENSE is in a logic high state, then it   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   will automatically enable the USB module, if it has not already been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enabled.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceDetach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                     return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              {                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceAttach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attachment to the USB host.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function indicates to the USB host that the USB device has been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device to start to enumerate on the bus.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may modify global interrupt enable bits and settings.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   For normal USB devices:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   of glitch and ignore the event altogether.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		See also the USBDeviceDetach() API function documentation.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ****************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceAttach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	    //Initialize registers to known states.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1CON = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Mask all USB interrupts                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1IE = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //set the ping pong mode, and set internal transceiver               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       SetConfigurationOptions();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBEnableInterrupts();  //Modifies global interrupt settings         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Enable module & attach to bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //moved to the attached state                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceState = ATTACHED_STATE;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowStatusStage(void);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function prepares the proper endpoint 0 IN or endpoint 0 OUT     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (based on the controlTransferState) to allow the status stage packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of a control transfer to complete.  This function gets used          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       internally by the USB stack itself, but it may also be called from   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the application firmware, IF the application firmware called         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the USBDeferStatusStage() function during the initial processing     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of the control transfer request.  In this case, the application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       must call the USBCtrlEPAllowStatusStage() once, after it has fully   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       completed processing and handling the data stage portion of the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       request.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       If the application firmware has no need for delaying control         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       transfers, and therefore never calls USBDeferStatusStage(), then the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       application firmware should not call USBCtrlEPAllowStatusStage().    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //This double checking is necessary to make certain that                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b60   0105     MOVLB     0x5                if(USBStatusStageEnabledFlag1 == FALSE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b62   51ec     MOVF      0xec,0x0,0x1                                                                                    
006b64   e122     BNZ       0x6baa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b66   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b68   6fec     MOVWF     0xec,0x1                                                                                        
006b6a   51ed     MOVF      0xed,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6c   e11e     BNZ       0x6baa                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6e   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b70   6fed     MOVWF     0xed,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //stage), based on the type of control transfer currently pending.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b72   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b74   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006b76   e107     BNZ       0x6b86                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b78   dbd3     RCALL     0x7320                         pBDTEntryIn[0]->CNT = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7a   52ee     MOVF      0xee,0x1,0x0                                                                                    
006b7c   6aef     CLRF      0xef,0x0                                                                                        
006b7e   dbd0     RCALL     0x7320                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b80   0ec8     MOVLW     0xc8                                                                                            
006b82   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b84   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b86   05d0     DECF      0xd0,0x0,0x1                                                                                    
006b88   e110     BNZ       0x6baa                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8a   6be3     CLRF      0xe3,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //next SETUP packet.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8c   dbdf     RCALL     0x734c                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8e   52ee     MOVF      0xee,0x1,0x0                                                                                    
006b90   0e40     MOVLW     0x40                                                                                            
006b92   6eef     MOVWF     0xef,0x0                                                                                        
006b94   dbdb     RCALL     0x734c                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b96   ec34     CALL      0x7468,0x0                                                                                      
006b98   f03a                                                                                                               
006b9a   dbd8     RCALL     0x734c                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9c   0e84     MOVLW     0x84                                                                                            
006b9e   6eef     MOVWF     0xef,0x0                                                                                        
006ba0   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba2   6fe3     MOVWF     0xe3,0x1                                                                                        
                                                   		#endif                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba4   dbab     RCALL     0x72fc                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba6   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba8   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006baa   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       This function is meant to be used in conjunction with either the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       then the firmware does not need to manually call                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       instead.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           should have called either USBDeferOUTDataStage() or              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           the firmware will be calling this function manually.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bac   0105     MOVLB     0x5                USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bae   6bee     CLRF      0xee,0x1                                                                                        
006bb0   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb2   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb4   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006bb6   e106     BNZ       0x6bc4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb8   ec8f     CALL      0x751e,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bba   f03a                                                                                                               
006bbc   dbcc     RCALL     0x7356                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbe   ec23     CALL      0x7446,0x0             pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc0   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc2   d010     BRA       0x6be4             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //value was no greater than the number of bytes the host requested.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc4   51d4     MOVF      0xd4,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc6   0104     MOVLB     0x4                                                                                             
006bc8   5d36     SUBWF     0x36,0x0,0x1                                                                                    
006bca   0105     MOVLB     0x5                                                                                             
006bcc   51d5     MOVF      0xd5,0x0,0x1                                                                                    
006bce   0104     MOVLB     0x4                                                                                             
006bd0   5937     SUBWFB    0x37,0x0,0x1                                                                                    
006bd2   e204     BC        0x6bdc                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd4   c436     MOVFF     0x436,0x5d4    			inPipes[0].wCount.Val = SetupPkt.wLength;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd6   f5d4                                                                                                               
006bd8   c437     MOVFF     0x437,0x5d5                                                                                     
006bda   f5d5                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bdc   d861     RCALL     0x6ca0         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bde   dba0     RCALL     0x7320         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be0   dbba     RCALL     0x7356                                                                                          
006be2   db9e     RCALL     0x7320         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be4   0ec8     MOVLW     0xc8                                                                                            
006be6   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be8   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Functions *********************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  BYTE direction - the direction to be configured              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function will configure the specified                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bea   ec3a     CALL      0x7474,0x0     static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bec   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //EPNum and direction values passed to this function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bee   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf0   6ede     MOVWF     0xde,0x0                                                                                        
006bf2   0e04     MOVLW     0x4                                                                                             
006bf4   6edd     MOVWF     0xdd,0x0                                                                                        
006bf6   dbc2     RCALL     0x737c             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf8   0d04     MULLW     0x4                                                                                             
006bfa   cff4     MOVFF     0xff4,0x4f                                                                                      
006bfc   f04f                                                                                                               
006bfe   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006c00   ffe9                                                                                                               
006c02   cfda     MOVFF     0xfda,0xfea                                                                                     
006c04   ffea                                                                                                               
006c06   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006c08   26ee     ADDWF     0xee,0x1,0x0                                                                                    
006c0a   504f     MOVF      0x4f,0x0,0x0                                                                                    
006c0c   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
00737c   0efd     MOVLW     0xfd                                                                                            
00737e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007380   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
007382   6e50     MOVWF     0x50,0x0                                                                                        
007384   0efe     MOVLW     0xfe                                                                                            
007386   50db     MOVF      0xdb,0x0,0x0                                                                                    
007388   0d04     MULLW     0x4                                                                                             
00738a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00738c   2450     ADDWF     0x50,0x0,0x0                                                                                    
00738e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0e   db83     RCALL     0x7316             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c10   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //for USBTransferOnePacket() API calls.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c12   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c14   50db     MOVF      0xdb,0x0,0x0                                                                                    
006c16   e102     BNZ       0x6c1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c18   dbac     RCALL     0x7372                 pBDTEntryOut[EPNum] = handle;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007372   0efe     MOVLW     0xfe                                                                                            
007374   6aea     CLRF      0xea,0x0                                                                                        
007376   34db     RLCF      0xdb,0x0,0x0                                                                                    
007378   ef73     GOTO      0x74e6                                                                                          
00737a   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1a   d001     BRA       0x6c1e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1c   db73     RCALL     0x7304                 pBDTEntryIn[EPNum] = handle;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006c20   cfde     MOVFF     0xfde,0xfee                                                                                     
006c22   ffee                                                                                                               
006c24   cfdd     MOVFF     0xfdd,0xfed                                                                                     
006c26   ffed                                                                                                               
007304   0efe     MOVLW     0xfe                                                                                            
007306   6aea     CLRF      0xea,0x0                                                                                        
007308   34db     RLCF      0xdb,0x0,0x0                                                                                    
00730a   ef6c     GOTO      0x74d8                                                                                          
00730c   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c28   db76     RCALL     0x7316                 handle->STAT.DTS = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2a   9cef     BCF       0xef,0x6,0x0                                                                                    
006c2c   db74     RCALL     0x7316                 (handle+1)->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2e   0e04     MOVLW     0x4                                                                                             
006c30   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006c32   0e00     MOVLW     0x0                                                                                             
006c34   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006c36   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Set DTS to one because the first thing we will do                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //when transmitting is toggle the bit                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.DTS = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c38   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c3a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006c3c   e202     BC        0x6c42                                                                                          
006c3e   6ae1     CLRF      0xe1,0x0                                                                                        
006c40   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006c42   6ee1     MOVWF     0xe1,0x0                                                                                        
006c44   d377     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  controls appropriately for a given situation. See code       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  below.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  There are three main scenarios:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a) There was no handler for the Request, in this case        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a STALL should be sent out.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  b) The host has requested a read control transfer,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     endpoints are required to be setup in a specific way.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  c) The host has requested a write control transfer, or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a control data stage is not required, endpoints are       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     required to be setup in a specific way.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Clear to resume packet processing.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c46   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c48   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4a   bfd3     BTFSC     0xd3,0x7,0x1                                                                                    
006c4c   d00d     BRA       0x6c68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4e   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c50   d009     BRA       0x6c64                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c52   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c54   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Control Write:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   once it is ready to begin receiving the data.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c56   51ef     MOVF      0xef,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c58   e101     BNZ       0x6c5c                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5a   dfa8     RCALL     0x6bac                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5c   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5e   6bed     CLRF      0xed,0x1                                                                                        
006c60   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c62   0012     RETURN    0x0                    else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * If no one knows how to service this request then stall.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c64   ef51     GOTO      0x74a2                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c66   f03a                                                                                                               
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c68   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6a   af30     BTFSS     0x30,0x7,0x1                                                                                    
006c6c   d00d     BRA       0x6c88                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6e   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_TX;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c70   0e01     MOVLW     0x1                                                                                             
006c72   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			/*                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * Control Read:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 */                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c74   51ee     MOVF      0xee,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c76   e101     BNZ       0x6c7a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c78   df99     RCALL     0x6bac                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    be written so that it can handle the early termination scenario. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        started the control transfer) has been reached.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        option can take care of this for you.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c7a   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c7c   6bed     CLRF      0xed,0x1                                                                                        
006c7e   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c80   51eb     MOVF      0xeb,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c82   e10d     BNZ       0x6c9e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c84   efb0     GOTO      0x6b60                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c86   f035                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//This situation occurs for special types of control transfers,               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//control transfer.  Ex:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//an IN status stage.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c88   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8a   0e02     MOVLW     0x2                                                                                             
006c8c   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8e   db36     RCALL     0x72fc         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c90   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c92   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c94   6bed     CLRF      0xed,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c96   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c98   51eb     MOVF      0xeb,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9a   e101     BNZ       0x6c9e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9c   df61     RCALL     0x6b60                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9e   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for device to host control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(IN transactions).  This function takes care of managing a                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer over multiple USB transactions.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					This routine should be called from only two places.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  USBCtrlTrfInHandler().                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca0   ec69     CALL      0x74d2,0x0     static void USBCtrlTrfTxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca2   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToSend;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca4   0e40     MOVLW     0x40               byteToSend = USB_EP0_BUFF_SIZE;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca6   6edf     MOVWF     0xdf,0x0                                                                                        
006ca8   0105     MOVLB     0x5                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006caa   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006cac   0e00     MOVLW     0x0                                                                                             
006cae   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006cb0   e20a     BC        0x6cc6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb2   c5d4     MOVFF     0x5d4,0xfdf            byteToSend = inPipes[0].wCount.Val;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb4   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb6   51cf     MOVF      0xcf,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb8   e102     BNZ       0x6cbe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cba   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbc   d003     BRA       0x6cc4                 else if(shortPacketStatus == SHORT_PKT_PENDING)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbe   05cf     DECF      0xcf,0x0,0x1                                                                                    
006cc0   e102     BNZ       0x6cc6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc2   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc4   6fcf     MOVWF     0xcf,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc6   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc8   6a4f     CLRF      0x4f,0x0                                                                                        
006cca   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006ccc   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006cce   6fd4     MOVWF     0xd4,0x1                                                                                        
006cd0   504f     MOVF      0x4f,0x0,0x0                                                                                    
006cd2   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006cd4   6fd5     MOVWF     0xd5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd6   db24     RCALL     0x7320             pBDTEntryIn[0]->CNT = byteToSend;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd8   52ee     MOVF      0xee,0x1,0x0                                                                                    
006cda   cfdf     MOVFF     0xfdf,0xfef                                                                                     
006cdc   ffef                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //which we will send to the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cde   0e38     MOVLW     0x38               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce0   6fdd     MOVWF     0xdd,0x1                                                                                        
006ce2   0e04     MOVLW     0x4                                                                                             
006ce4   6fde     MOVWF     0xde,0x1                                                                                        
006ce6   b1d3     BTFSC     0xd3,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce8   d00d     BRA       0x6d04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cea   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cec   e017     BZ        0x6d1c                                                                                          
006d02   d7f3     BRA       0x6cea                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cee   c5d1     MOVFF     0x5d1,0xff6                *pDst++ = *inPipes[0].pSrc.bRom++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf0   fff6                                                                                                               
006cf2   c5d2     MOVFF     0x5d2,0xff7                                                                                     
006cf4   fff7                                                                                                               
006cf6   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006cf8   0e00     MOVLW     0x0                                                                                             
006cfa   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006cfc   0008     TBLRD                                                                                                     
006cfe   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006d00   db57     RCALL     0x73b0                                                                                          
0073b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0073b2   c5dd     MOVFF     0x5dd,0xfe9                                                                                     
0073b4   ffe9                                                                                                               
0073b6   c5de     MOVFF     0x5de,0xfea                                                                                     
0073b8   ffea                                                                                                               
0073ba   2bdd     INCF      0xdd,0x1,0x1                                                                                    
0073bc   0e00     MOVLW     0x0                                                                                             
0073be   23de     ADDWFC    0xde,0x1,0x1                                                                                    
0073c0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0073c2   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0073c4   6eef     MOVWF     0xef,0x0                                                                                        
0073c6   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073c8   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else  // RAM                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d04   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d06   e00a     BZ        0x6d1c                                                                                          
006d1a   d7f4     BRA       0x6d04                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d08   c5d1     MOVFF     0x5d1,0xfe9                *pDst++ = *inPipes[0].pSrc.bRam++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0a   ffe9                                                                                                               
006d0c   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006d0e   ffea                                                                                                               
006d10   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006d12   0e00     MOVLW     0x0                                                                                             
006d14   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006d16   50ef     MOVF      0xef,0x0,0x0                                                                                    
006d18   db4b     RCALL     0x73b0                                                                                          
                                                       byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1c   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1e   d30a     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  wCount should be set to 0 at the start of each control       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for host to device control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					intended target firmware.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d20   dba9     RCALL     0x7474         static void USBCtrlTrfRxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToRead;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //last OUT transaction.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d22   db14     RCALL     0x734c             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d24   52ee     MOVF      0xee,0x1,0x0                                                                                    
006d26   cfef     MOVFF     0xfef,0xfdf                                                                                     
006d28   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //application firmware was expecting to receive.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2a   cfdf     MOVFF     0xfdf,0x4e         if(byteToRead > outPipes[0].wCount.Val)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2c   f04e                                                                                                               
006d2e   504e     MOVF      0x4e,0x0,0x0                                                                                    
006d30   0105     MOVLB     0x5                                                                                             
006d32   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006d34   0e00     MOVLW     0x0                                                                                             
006d36   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006d38   e202     BC        0x6d3e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3a   c5d9     MOVFF     0x5d9,0xfdf            byteToRead = outPipes[0].wCount.Val;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3c   ffdf                                                                                                               
                                               }	                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3e   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d40   6e4e     MOVWF     0x4e,0x0                                                                                        
006d42   6a4f     CLRF      0x4f,0x0                                                                                        
006d44   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006d46   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006d48   6fd9     MOVWF     0xd9,0x1                                                                                        
006d4a   504f     MOVF      0x4f,0x0,0x0                                                                                    
006d4c   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006d4e   6fda     MOVWF     0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //into the user application buffer space.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d50   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d52   6adb     CLRF      0xdb,0x0                                                                                        
006d54   50df     MOVF      0xdf,0x0,0x0                                                                                    
006d56   6ef3     MOVWF     0xf3,0x0                                                                                        
006d58   0e01     MOVLW     0x1                                                                                             
006d5a   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006d5c   fff4                                                                                                               
006d5e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006d60   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006d62   e216     BC        0x6d90                                                                                          
006d8a   0e01     MOVLW     0x1                                                                                             
006d8c   2adb     INCF      0xdb,0x1,0x0                                                                                    
006d8e   d7e2     BRA       0x6d54                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d64   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d66   50db     MOVF      0xdb,0x0,0x0                                                                                    
006d68   6aea     CLRF      0xea,0x0                                                                                        
006d6a   0f38     ADDLW     0x38                                                                                            
006d6c   6ee9     MOVWF     0xe9,0x0                                                                                        
006d6e   0e04     MOVLW     0x4                                                                                             
006d70   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006d72   50ef     MOVF      0xef,0x0,0x0                                                                                    
006d74   6ee6     MOVWF     0xe6,0x0                                                                                        
006d76   c5d6     MOVFF     0x5d6,0xfe9                                                                                     
006d78   ffe9                                                                                                               
006d7a   c5d7     MOVFF     0x5d7,0xfea                                                                                     
006d7c   ffea                                                                                                               
006d7e   2bd6     INCF      0xd6,0x1,0x1                                                                                    
006d80   0e00     MOVLW     0x0                                                                                             
006d82   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
006d84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006d86   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006d88   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the next packet in the sequence.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d90   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d92   80d8     BSF       0xd8,0x0,0x0                                                                                    
006d94   55d9     SUBFWB    0xd9,0x0,0x1                                                                                    
006d96   0e00     MOVLW     0x0                                                                                             
006d98   55da     SUBFWB    0xda,0x0,0x1                                                                                    
006d9a   e20d     BC        0x6db6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d9c   dbc0     RCALL     0x751e                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00751e   df93     RCALL     0x7446                                                                                          
007520   52ee     MOVF      0xee,0x1,0x0                                                                                    
007522   0e40     MOVLW     0x40                                                                                            
007524   6eef     MOVWF     0xef,0x0                                                                                        
006d9e   dadb     RCALL     0x7356                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007526   ef23     GOTO      0x7446                                                                                          
007528   f03a                                                                                                               
006da0   dad5     RCALL     0x734c                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da2   50ef     MOVF      0xef,0x0,0x0                                                                                    
006da4   0b40     ANDLW     0x40                                                                                            
006da6   e103     BNZ       0x6dae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da8   db4e     RCALL     0x7446                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006daa   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dac   d002     BRA       0x6db2                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dae   db4b     RCALL     0x7446                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db0   0e88     MOVLW     0x88                                                                                            
006db2   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db4   d012     BRA       0x6dda             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //We have received all OUT packets that we were expecting to                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the next SETUP transaction that may arrive.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db6   daa2     RCALL     0x72fc                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more data than it claims it was going to send.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db8   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dba   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//received successfully.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbc   51db     MOVF      0xdb,0x0,0x1           if(outPipes[0].pFunc != NULL)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbe   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006dc0   e007     BZ        0x6dd0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__XC8)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Special pragmas to suppress an expected/harmless warning       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //message when building with the XC8 compiler                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning push                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning disable 1088                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning pop                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc2   d005     BRA       0x6dce                         outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc4   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006dc6   fffa                                                                                                               
006dc8   0105     MOVLB     0x5                                                                                             
006dca   51db     MOVF      0xdb,0x0,0x1                                                                                    
006dcc   6ef9     MOVWF     0xf9,0x0                                                                                        
006dce   dffa     RCALL     0x6dc4                                                                                          
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd0   0105     MOVLB     0x5                    outPipes[0].info.bits.busy = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd2   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //and needs more time to finish handling the request, then the user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //this case, it is the application's firmware responsibility to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Note: The application firmware must process the request and call       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more details.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd4   51eb     MOVF      0xeb,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd6   e101     BNZ       0x6dda                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd8   dec3     RCALL     0x6b60                     USBCtrlEPAllowStatusStage();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dda   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ddc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006dde   e202     BC        0x6de4                                                                                          
006de0   6ae1     CLRF      0xe1,0x0                                                                                        
006de2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006de4   6ee1     MOVWF     0xe1,0x0                                                                                        
006de6   d2a6     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine first disables all endpoints by                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  clearing UEP registers. It then configures                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  (initializes) endpoints by calling the callback              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  function USBCBInitEP().                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de8   db74     RCALL     0x74d2         static void USBStdSetCfgHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // This will generate a zero length packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dea   0105     MOVLB     0x5                inPipes[0].info.bits.busy = 1;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dec   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dee   db50     RCALL     0x7490             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df0   0e30     MOVLW     0x30               memset((void*)&BDT[0], 0x00, sizeof(BDT));                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df2   6ee6     MOVWF     0xe6,0x0                                                                                        
006df4   6ae6     CLRF      0xe6,0x0                                                                                        
006df6   6ae6     CLRF      0xe6,0x0                                                                                        
006df8   0e00     MOVLW     0x0                                                                                             
006dfa   6ee6     MOVWF     0xe6,0x0                                                                                        
006dfc   0e04     MOVLW     0x4                                                                                             
006dfe   dab1     RCALL     0x7362                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e00   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e02   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e04   0e03     MOVLW     0x3                                                                                             
006e06   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006e08   e202     BC        0x6e0e                                                                                          
006e0c   d7fb     BRA       0x6e04                                                                                          
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0a   dac2     RCALL     0x7390         		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //clear the alternate interface settings                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0e   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e10   6ee6     MOVWF     0xe6,0x0                                                                                        
006e12   6ae6     CLRF      0xe6,0x0                                                                                        
006e14   6ae6     CLRF      0xe6,0x0                                                                                        
006e16   0ebe     MOVLW     0xbe                                                                                            
006e18   6ee6     MOVWF     0xe6,0x0                                                                                        
006e1a   0e05     MOVLW     0x5                                                                                             
006e1c   daa2     RCALL     0x7362                                                                                          
007362   6ee6     MOVWF     0xe6,0x0                                                                                        
007364   ece2     CALL      0x8fc4,0x0                                                                                      
007366   f047                                                                                                               
007368   6e4e     MOVWF     0x4e,0x0                                                                                        
00736a   0e05     MOVLW     0x5                                                                                             
00736c   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00736e   504e     MOVF      0x4e,0x0,0x0                                                                                    
007370   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e1e   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e20   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e22   0e08     MOVLW     0x8                                                                                             
006e24   6fc9     MOVWF     0xc9,0x1                                                                                        
006e26   0e04     MOVLW     0x4                                                                                             
006e28   6fca     MOVWF     0xca,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Set the next out to the current out packet                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2a   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2c   6fbf     MOVWF     0xbf,0x1                                                                                        
006e2e   0e04     MOVLW     0x4                                                                                             
006e30   6fc0     MOVWF     0xc0,0x1                                                                                        
006e32   c5bf     MOVFF     0x5bf,0x5c1        pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e34   f5c1                                                                                                               
006e36   6fc2     MOVWF     0xc2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the current configuration                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e38   c432     MOVFF     0x432,0x5bd        USBActiveConfiguration = SetupPkt.bConfigurationValue;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3a   f5bd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if the configuration value == 0                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3c   51bd     MOVF      0xbd,0x0,0x1       if(USBActiveConfiguration == 0u)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3e   e102     BNZ       0x6e44                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Go back to the addressed state                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e40   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e42   d00b     BRA       0x6e5a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //initialize the required endpoints                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e44   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e46   6ee6     MOVWF     0xe6,0x0                                                                                        
006e48   6ae6     CLRF      0xe6,0x0                                                                                        
006e4a   0ebd     MOVLW     0xbd                                                                                            
006e4c   6ee6     MOVWF     0xe6,0x0                                                                                        
006e4e   0e05     MOVLW     0x5                                                                                             
006e50   6ee6     MOVWF     0xe6,0x0                                                                                        
006e52   0e01     MOVLW     0x1                                                                                             
006e54   da5c     RCALL     0x730e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after performing all of the set configuration related initialization   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //tasks.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e56   0105     MOVLB     0x5                    USBDeviceState = CONFIGURED_STATE;		                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e58   0e20     MOVLW     0x20                                                                                            
006e5a   6fbc     MOVWF     0xbc,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5c   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5e   d26a     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  request.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e60   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e62   0104     MOVLB     0x4                                                                                             
006e64   5d30     SUBWF     0x30,0x0,0x1                                                                                    
006e66   e14e     BNZ       0x6f04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e68   0105     MOVLB     0x5                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6a   0ec0     MOVLW     0xc0                                                                                            
006e6c   6fd3     MOVWF     0xd3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6e   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e70   5133     MOVF      0x33,0x0,0x1                                                                                    
006e72   0a03     XORLW     0x3                                                                                             
006e74   e025     BZ        0x6ec0                                                                                          
006e76   0a01     XORLW     0x1                                                                                             
006e78   e009     BZ        0x6e8c                                                                                          
006e7a   0a03     XORLW     0x3                                                                                             
006e7c   e141     BNZ       0x6f00                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7e   0105     MOVLB     0x5                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e80   0e24     MOVLW     0x24                                                                                            
006e82   6fd1     MOVWF     0xd1,0x1                                                                                        
006e84   0e8f     MOVLW     0x8f                                                                                            
006e86   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e88   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8a   d034     BRA       0x6ef4                         break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8c   5132     MOVF      0x32,0x0,0x1                       inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8e   6ef6     MOVWF     0xf6,0x0                                                                                        
006e90   6af7     CLRF      0xf7,0x0                                                                                        
006e92   90d8     BCF       0xd8,0x0,0x0                                                                                    
006e94   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006e96   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006e98   0e79     MOVLW     0x79                                                                                            
006e9a   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006e9c   0e8f     MOVLW     0x8f                                                                                            
006e9e   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006ea0   0009     TBLRDPOSTINC                                                                                              
006ea2   cff5     MOVFF     0xff5,0x5d1                                                                                     
006ea4   f5d1                                                                                                               
006ea6   000a     TBLRDPOSTDEC                                                                                              
006ea8   cff5     MOVFF     0xff5,0x5d2                                                                                     
006eaa   f5d2                                                                                                               
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  in an address error on the dereference.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eac   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eae   0105     MOVLB     0x5                                                                                             
006eb0   dabc     RCALL     0x742a                                                                                          
006eb2   cff5     MOVFF     0xff5,0x5d4                                                                                     
006eb4   f5d4                                                                                                               
00742a   6af7     CLRF      0xf7,0x0                                                                                        
00742c   25d1     ADDWF     0xd1,0x0,0x1                                                                                    
00742e   6ef6     MOVWF     0xf6,0x0                                                                                        
007430   51d2     MOVF      0xd2,0x0,0x1                                                                                    
007432   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
007434   0008     TBLRD                                                                                                     
007436   0012     RETURN    0x0                                                                                             
006eb6   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb8   dab8     RCALL     0x742a                                                                                          
006eba   cff5     MOVFF     0xff5,0x5d5                                                                                     
006ebc   f5d5                                                                                                               
006ebe   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  indicate the number of string descriptors.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec0   0e04     MOVLW     0x4                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec2   5d32     SUBWF     0x32,0x0,0x1                                                                                    
006ec4   e21a     BC        0x6efa                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set memory type to RAM                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec6   0105     MOVLB     0x5                                inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec8   81d3     BSF       0xd3,0x0,0x1                                                                                    
                                                               //Get a pointer to the String descriptor requested           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eca   0104     MOVLB     0x4                                inPipes[0].pSrc.bRam = *(USB_SD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ecc   5132     MOVF      0x32,0x0,0x1                                                                                    
006ece   6ee9     MOVWF     0xe9,0x0                                                                                        
006ed0   6aea     CLRF      0xea,0x0                                                                                        
006ed2   90d8     BCF       0xd8,0x0,0x0                                                                                    
006ed4   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006ed6   36ea     RLCF      0xea,0x1,0x0                                                                                    
006ed8   0ef6     MOVLW     0xf6                                                                                            
006eda   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006edc   0e02     MOVLW     0x2                                                                                             
006ede   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006ee0   cfee     MOVFF     0xfee,0x5d1                                                                                     
006ee2   f5d1                                                                                                               
006ee4   cfed     MOVFF     0xfed,0x5d2                                                                                     
006ee6   f5d2                                                                                                               
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee8   c5d1     MOVFF     0x5d1,0xfe9                        inPipes[0].wCount.Val = *inPipes[0].pSrc.bRam;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eea   ffe9                                                                                                               
006eec   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006eee   ffea                                                                                                               
006ef0   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ef2   0105     MOVLB     0x5                                                                                             
006ef4   6fd4     MOVWF     0xd4,0x1                                                                                        
006ef6   6bd5     CLRF      0xd5,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if defined(IMPLEMENT_MICROSOFT_OS_DESCRIPTOR)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else if(SetupPkt.bDscIndex == MICROSOFT_OS_DESCRIPTOR_INDEX)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Get a pointer to the special MS OS string descriptor requested D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&MSOSDescriptor;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef8   0012     RETURN    0x0                            else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efa   0105     MOVLB     0x5                                inPipes[0].info.Val = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efc   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efe   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       default:                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f00   0105     MOVLB     0x5                            inPipes[0].info.Val = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f02   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end switch                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f04   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f06   dab6     RCALL     0x7474         static void USBStdGetStatusHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f08   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0a   6b38     CLRF      0x38,0x1                                                                                        
006f0c   6b39     CLRF      0x39,0x1           CtrlTrfData[1] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0e   5130     MOVF      0x30,0x0,0x1       switch(SetupPkt.Recipient)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f10   0b1f     ANDLW     0x1f                                                                                            
006f12   0a02     XORLW     0x2                                                                                             
006f14   e011     BZ        0x6f38                                                                                          
006f16   0a03     XORLW     0x3                                                                                             
006f18   e00c     BZ        0x6f32                                                                                          
006f1a   0a01     XORLW     0x1                                                                                             
006f1c   e11e     BNZ       0x6f5a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1e   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f20   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f22   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f24   8138     BSF       0x38,0x0,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f26   0105     MOVLB     0x5                        if(RemoteWakeup == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f28   05df     DECF      0xdf,0x0,0x1                                                                                    
006f2a   e117     BNZ       0x6f5a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2c   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2e   8338     BSF       0x38,0x1,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f30   d014     BRA       0x6f5a                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f32   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;     // No data to update              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f34   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006f36   d011     BRA       0x6f5a                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f38   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3a   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           BDT_ENTRY *p;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3c   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0u)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3e   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006f40   d002     BRA       0x6f46                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f42   dab6     RCALL     0x74b0                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f44   d001     BRA       0x6f48                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f46   dab9     RCALL     0x74ba                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f48   da40     RCALL     0x73ca                                                                                          
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4a   dabf     RCALL     0x74ca                         if((p->STAT.UOWN == 1u) && (p->STAT.BSTALL == 1u))               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4c   e006     BZ        0x6f5a                                                                                          
006f4e   d9e3     RCALL     0x7316                                                                                          
006f50   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f52   0b04     ANDLW     0x4                                                                                             
006f54   e002     BZ        0x6f5a                                                                                          
006f56   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f58   6f38     MOVWF     0x38,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5a   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 1u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5c   afd3     BTFSS     0xd3,0x7,0x1                                                                                    
006f5e   d007     BRA       0x6f6e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f60   0e38     MOVLW     0x38                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f62   6fd1     MOVWF     0xd1,0x1                                                                                        
006f64   0e04     MOVLW     0x4                                                                                             
006f66   6fd2     MOVWF     0xd2,0x1                                                                                        
006f68   81d3     BSF       0xd3,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6a   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6c   6fd4     MOVWF     0xd4,0x1                                                                                        
                                               }//end if(...)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6e   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f70   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006f72   e202     BC        0x6f78                                                                                          
006f74   6ae1     CLRF      0xe1,0x0                                                                                        
006f76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006f78   6ee1     MOVWF     0xe1,0x0                                                                                        
006f7a   d1dc     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStallHandler(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles the event of a STALL                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  occuring on the bus                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Does not really have to do anything here,                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * even for the control endpoint.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * but once a Setup Transaction is received, the ownership                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /* v2b fix */                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7c   010f     MOVLB     0xf                if(U1EP0bits.EPSTALL == 1u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7e   a126     BTFSS     0x26,0x0,0x1                                                                                    
006f80   d00c     BRA       0x6f9a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f82   d9e4     RCALL     0x734c                 if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f84   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f86   0880     SUBLW     0x80                                                                                            
006f88   e107     BNZ       0x6f98                                                                                          
006f8a   d9ca     RCALL     0x7320                                                                                          
006f8c   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f8e   0884     SUBLW     0x84                                                                                            
006f90   e103     BNZ       0x6f98                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Set ep0Bo to stall also                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f92   d9dc     RCALL     0x734c                     pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f94   0e8c     MOVLW     0x8c                                                                                            
006f96   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f98   9126     BCF       0x26,0x0,0x1           U1EP0bits.EPSTALL = 0;               // Clear stall status               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9a   9a62     BCF       0x62,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBSuspend(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles if the host tries to                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  suspend the device                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Reason:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * the number of subsequent bus transitions.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * [       IDLE       ][bus activity ->                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * <--- 3 ms ----->     ^                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                ^     ACTVIF=1                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                IDLEIF=1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          ^                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          This polling loop will see both                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          However, the program services IDLEIF first       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          because ACTIVIE=0.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          If this routine clears the only ACTIVIF,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          then it can never get out of the suspend         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          mode.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9e   010f     MOVLB     0xf                USBActivityIE = 1;                     // Enable bus activity interrupt      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa0   8536     BSF       0x36,0x2,0x1                                                                                    
006fa2   9862     BCF       0x62,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa4   8265     BSF       0x65,0x1,0x0           U1CONbits.SUSPND = 1;                   // Put USB module in power conserve D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                           // mode, SIE clock inactive      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa6   0105     MOVLB     0x5                USBBusIsSuspended = TRUE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa8   0e01     MOVLW     0x1                                                                                             
006faa   6fe0     MOVWF     0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * USBCBSuspend() if necessary.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fac   da14     RCALL     0x73d6             USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fae   0e75     MOVLW     0x75                                                                                            
006fb0   ef87     GOTO      0x730e                                                                                          
006fb2   f039                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb4   0105     MOVLB     0x5                USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb6   6be0     CLRF      0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If using clock switching, the place to restore the original               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb8   da0e     RCALL     0x73d6             USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fba   0e74     MOVLW     0x74                                                                                            
006fbc   d9a8     RCALL     0x730e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fbe   9265     BCF       0x65,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                           // mode.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc0   010f     MOVLB     0xf                USBActivityIE = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc2   9536     BCF       0x36,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               *********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               are required to synchronize the internal hardware state machine before       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               before the internal hardware is synchronized may not have an effect on       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PLL to lock.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ********************************************************************/        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc4   a462     BTFSS     0x62,0x2,0x0       while(USBActivityIF)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc6   d002     BRA       0x6fcc                                                                                          
006fca   d7fc     BRA       0x6fc4                                                                                          
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc8   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }  // Added                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fcc   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  types that it knows how to service and services              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  them:                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. EP0 SETUP                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. EP0 OUT                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. EP0 IN                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fce   da81     RCALL     0x74d2         static void USBCtrlEPService(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd0   0105     MOVLB     0x5                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd2   0e2d     MOVLW     0x2d                                                                                            
006fd4   6fea     MOVWF     0xea,0x1                                                                                        
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd6   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd8   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006fda   e139     BNZ       0x704e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined (_PIC14E) || defined(__18CXX)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fdc   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fde   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006fe0   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
006fe2   0b7f     ANDLW     0x7f                                                                                            
006fe4   0d04     MULLW     0x4                                                                                             
006fe6   cff3     MOVFF     0xff3,0x5bf                                                                                     
006fe8   f5bf                                                                                                               
006fea   cff4     MOVFF     0xff4,0x5c0                                                                                     
006fec   f5c0                                                                                                               
006fee   0e00     MOVLW     0x0                                                                                             
006ff0   27bf     ADDWF     0xbf,0x1,0x1                                                                                    
006ff2   0e04     MOVLW     0x4                                                                                             
006ff4   23c0     ADDWFC    0xc0,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__) || defined __XC16__           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #error "unimplemented"                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Set the next out to the current out packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff6   c5bf     MOVFF     0x5bf,0x5c1            pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff8   f5c1                                                                                                               
006ffa   c5c0     MOVFF     0x5c0,0x5c2                                                                                     
006ffc   f5c2                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffe   75c1     BTG       0xc1,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007000   d9a5     RCALL     0x734c                 if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007002   50ef     MOVF      0xef,0x0,0x0                                                                                    
007004   0b3c     ANDLW     0x3c                                                                                            
007006   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007008   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00700a   080d     SUBLW     0xd                                                                                             
00700c   e11e     BNZ       0x704a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       unsigned char setup_cnt;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700e   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007010   0e08     MOVLW     0x8                                                                                             
007012   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007014   e216     BC        0x7042                                                                                          
00703e   2adf     INCF      0xdf,0x1,0x0                                                                                    
007040   d7e7     BRA       0x7010                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007016   d99a     RCALL     0x734c                         *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007018   0e02     MOVLW     0x2                                                                                             
00701a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00701c   0e00     MOVLW     0x0                                                                                             
00701e   d9c2     RCALL     0x73a4                                                                                          
007020   50ef     MOVF      0xef,0x0,0x0                                                                                    
007022   6ee6     MOVWF     0xe6,0x0                                                                                        
007024   50df     MOVF      0xdf,0x0,0x0                                                                                    
007026   6aea     CLRF      0xea,0x0                                                                                        
007028   0f30     ADDLW     0x30                                                                                            
00702a   6ee9     MOVWF     0xe9,0x0                                                                                        
00702c   0e04     MOVLW     0x4                                                                                             
00702e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007030   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007032   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007034   6eef     MOVWF     0xef,0x0                                                                                        
0073a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0073a6   50ee     MOVF      0xee,0x0,0x0                                                                                    
0073a8   cfef     MOVFF     0xfef,0xfea                                                                                     
0073aa   ffea                                                                                                               
0073ac   6ee9     MOVWF     0xe9,0x0                                                                                        
0073ae   0012     RETURN    0x0                                                                                             
007036   d98a     RCALL     0x734c                         pBDTEntryEP0OutCurrent->ADR++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007038   da78     RCALL     0x752a                                                                                          
00703a   2aee     INCF      0xee,0x1,0x0                                                                                    
00703c   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007042   d984     RCALL     0x734c                     pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007044   da11     RCALL     0x7468                                                                                          
00734c   c5bf     MOVFF     0x5bf,0xfe9                                                                                     
00734e   ffe9                                                                                                               
007350   c5c0     MOVFF     0x5c0,0xfea                                                                                     
007352   ffea                                                                                                               
007354   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007046   d80a     RCALL     0x705c                     USBCtrlTrfSetupHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007048   d007     BRA       0x7058                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the DATA transfer                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704a   d823     RCALL     0x7092                     USBCtrlTrfOutHandler();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704c   d005     BRA       0x7058             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704e   0efd     MOVLW     0xfd                                                                                            
007050   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
007052   0804     SUBLW     0x4                                                                                             
007054   e101     BNZ       0x7058                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//  so take care of the IN transfer                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007056   d82c     RCALL     0x70b0                 USBCtrlTrfInHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007058   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705a   d16c     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. It initializes the control transfer state machine.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. It calls on each of the module that may know how to       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     service the Setup Request from the host.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     is required to call other module handlers.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     it is responsible for servicing the request, stage 3      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     then checks direction of the transfer to determine how    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     to prepare EP0 for the control transfer.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  the control transfer state machine:                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. WAIT_SETUP                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Refer to firmware manual to find out how one state           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  is transitioned to another.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  When transferring data over multiple transactions,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  it is important to keep track of data source, data           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  destination, and data count. These three parameters are      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  note if the data source is from ROM or RAM.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705c   0105     MOVLB     0x5                shortPacketStatus = SHORT_PKT_NOT_USED;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705e   6bcf     CLRF      0xcf,0x1                                                                                        
007060   6beb     CLRF      0xeb,0x1           USBDeferStatusStagePacket = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007062   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007064   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007066   6be3     CLRF      0xe3,0x1           BothEP0OutUOWNsSet = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007068   6bd0     CLRF      0xd0,0x1           controlTransferState = WAIT_SETUP;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //by the class request handler that will be called next.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706a   d95a     RCALL     0x7320             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706c   9eef     BCF       0xef,0x7,0x0                                                                                    
00706e   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007070   d957     RCALL     0x7320             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007072   9eef     BCF       0xef,0x7,0x0                                                                                    
007074   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007076   d9e7     RCALL     0x7446             pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007078   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707a   6bd3     CLRF      0xd3,0x1           inPipes[0].info.Val = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707c   6bd4     CLRF      0xd4,0x1           inPipes[0].wCount.Val = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707e   6bd5     CLRF      0xd5,0x1                                                                                        
007080   6bd8     CLRF      0xd8,0x1           outPipes[0].info.Val = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007082   6bd9     CLRF      0xd9,0x1           outPipes[0].wCount.Val = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007084   6bda     CLRF      0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007086   d851     RCALL     0x712a             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007088   d9a6     RCALL     0x73d6             USB_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00708a   0e03     MOVLW     0x3                                                                                             
00708c   d940     RCALL     0x730e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   process the request.  In this case, the default behavior will be to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   perform protocol STALL on EP0.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //--------------------------------------------------------------------------  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00708e   ef23     GOTO      0x6c46             USBCtrlEPServiceComplete();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007090   f036                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Note that if the the control transfer was from               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  host to device, the session owner should be notified         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  at the end of each OUT transaction to service the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  received data.                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007092   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007094   0105     MOVLB     0x5                                                                                             
007096   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
007098   e102     BNZ       0x709e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709a   ef90     GOTO      0x6d20                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709c   f036                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the status stage is complete, this means we are done with the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709e   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //to do anything to the BDT.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a0   51e3     MOVF      0xe3,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a2   e104     BNZ       0x70ac                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a4   d92b     RCALL     0x72fc         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072fc   d910     RCALL     0x751e                                                                                          
007446   c5c1     MOVFF     0x5c1,0xfe9                                                                                     
007448   ffe9                                                                                                               
00744a   c5c2     MOVFF     0x5c2,0xfea                                                                                     
00744c   ffea                                                                                                               
00744e   0012     RETURN    0x0                                                                                             
0072fe   d8b4     RCALL     0x7468         	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007468   d860     RCALL     0x752a                                                                                          
00746a   0e30     MOVLW     0x30                                                                                            
00746c   6eee     MOVWF     0xee,0x0                                                                                        
00746e   0e04     MOVLW     0x4                                                                                             
007470   6eed     MOVWF     0xed,0x0                                                                                        
007472   0012     RETURN    0x0                                                                                             
00752a   0e02     MOVLW     0x2                                                                                             
00752c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00752e   0e00     MOVLW     0x0                                                                                             
007530   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007532   0012     RETURN    0x0                                                                                             
0070a6   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL;			 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a8   6eef     MOVWF     0xef,0x0                                                                                        
007300   ef23     GOTO      0x7446                                                                                          
007302   f03a                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070aa   0012     RETURN    0x0            		else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ac   6be3     CLRF      0xe3,0x1       			BothEP0OutUOWNsSet = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ae   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an IN transaction according to          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  of the device until the completion of the control            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  to service this unique situation when the condition is       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb9.h and its function is to specifically service this      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  event.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b0   da10     RCALL     0x74d2         static void USBCtrlTrfInHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00732a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00732c   ffe6                                                                                                               
00732e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007330   ffd9                                                                                                               
007332   0012     RETURN    0x0                                                                                             
0074d2   df2b     RCALL     0x732a                                                                                          
0074d4   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0074d6   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE lastDTS;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b2   d936     RCALL     0x7320             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0070b6   0b40     ANDLW     0x40                                                                                            
0070b8   e001     BZ        0x70bc                                                                                          
0070ba   0e01     MOVLW     0x1                                                                                             
0070bc   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //switch to the next ping pong buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070be   0105     MOVLB     0x5                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c0   75c9     BTG       0xc9,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //evidently completed successfully.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c2   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c4   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0070c6   e10b     BNZ       0x70de                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c8   c432     MOVFF     0x432,0xf38            U1ADDR = SetupPkt.bDevADR.Val;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ca   ff38                                                                                                               
0070cc   010f     MOVLB     0xf                    if(U1ADDR != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ce   5138     MOVF      0x38,0x0,0x1                                                                                    
0070d0   e003     BZ        0x70d8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d2   0105     MOVLB     0x5                        USBDeviceState=ADDRESS_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d4   0e10     MOVLW     0x10                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d6   d002     BRA       0x70dc                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d8   0105     MOVLB     0x5                        USBDeviceState=DEFAULT_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070da   0e04     MOVLW     0x4                                                                                             
0070dc   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070de   05d0     DECF      0xd0,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e0   e113     BNZ       0x7108                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e2   d91e     RCALL     0x7320                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e4   d938     RCALL     0x7356                                                                                          
007356   d8e9     RCALL     0x752a                                                                                          
007358   0e38     MOVLW     0x38                                                                                            
00735a   6eee     MOVWF     0xee,0x0                                                                                        
00735c   0e04     MOVLW     0x4                                                                                             
00735e   6eed     MOVWF     0xed,0x0                                                                                        
007360   0012     RETURN    0x0                                                                                             
0070e6   dddc     RCALL     0x6ca0                 USBCtrlTrfTxService();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //case that the host erroneously tries to receive more data than it      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //should).                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e8   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ea   0105     MOVLB     0x5                                                                                             
0070ec   5dcf     SUBWF     0xcf,0x0,0x1                                                                                    
0070ee   e103     BNZ       0x70f6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // stall next time if host is still trying to read.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f0   d917     RCALL     0x7320                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f2   0e84     MOVLW     0x84                                                                                            
007320   c5c9     MOVFF     0x5c9,0xfe9                                                                                     
007322   ffe9                                                                                                               
007324   c5ca     MOVFF     0x5ca,0xfea                                                                                     
007326   ffea                                                                                                               
007328   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f4   d007     BRA       0x7104                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f6   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f8   e103     BNZ       0x7100                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fa   d912     RCALL     0x7320                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fc   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fe   d002     BRA       0x7104                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007100   d90f     RCALL     0x7320                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007102   0e88     MOVLW     0x88                                                                                            
007104   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end if(...)else                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007106   d00f     BRA       0x7126         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //if someone is still expecting data from the control transfer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  then make sure to terminate that request and let them know that      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  they are done                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007108   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710a   d00c     BRA       0x7124                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710c   51db     MOVF      0xdb,0x0,0x1               if(outPipes[0].pFunc != NULL)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710e   11dc     IORWF     0xdc,0x0,0x1                                                                                    
007110   e007     BZ        0x7120                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007112   d005     BRA       0x711e                         outPipes[0].pFunc();                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007114   c5dc     MOVFF     0x5dc,0xffa                                                                                     
007116   fffa                                                                                                               
007118   0105     MOVLB     0x5                                                                                             
00711a   51db     MOVF      0xdb,0x0,0x1                                                                                    
00711c   6ef9     MOVWF     0xf9,0x0                                                                                        
00711e   dffa     RCALL     0x7114                                                                                          
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007120   0105     MOVLB     0x5                        outPipes[0].info.bits.busy = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007122   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007124   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007126   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007128   d105     BRA       0x7334                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine checks the setup data packet to see             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  if it knows how to handle it                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712a   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712c   5130     MOVF      0x30,0x0,0x1                                                                                    
00712e   0b60     ANDLW     0x60                                                                                            
007130   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007132   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007134   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007136   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007138   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00713a   0900     IORLW     0x0                                                                                             
00713c   e001     BZ        0x7140                                                                                          
00713e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007140   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007142   0a0c     XORLW     0xc                                                                                             
007144   e045     BZ        0x71d0                                                                                          
007146   0a0b     XORLW     0xb                                                                                             
007148   e03f     BZ        0x71c8                                                                                          
00714a   0a0c     XORLW     0xc                                                                                             
00714c   e031     BZ        0x71b0                                                                                          
00714e   0a01     XORLW     0x1                                                                                             
007150   e022     BZ        0x7196                                                                                          
007152   0a0b     XORLW     0xb                                                                                             
007154   e01e     BZ        0x7192                                                                                          
007156   0a02     XORLW     0x2                                                                                             
007158   e01c     BZ        0x7192                                                                                          
00715a   0a03     XORLW     0x3                                                                                             
00715c   e018     BZ        0x718e                                                                                          
00715e   0a08     XORLW     0x8                                                                                             
007160   e010     BZ        0x7182                                                                                          
007162   0a01     XORLW     0x1                                                                                             
007164   e00c     BZ        0x717e                                                                                          
007166   0a0f     XORLW     0xf                                                                                             
007168   e008     BZ        0x717a                                                                                          
00716a   0a03     XORLW     0x3                                                                                             
00716c   e001     BZ        0x7170                                                                                          
00716e   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007170   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007172   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007174   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007176   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007178   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717a   ef30     GOTO      0x6e60                     USBStdGetDscHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717c   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717e   eff4     GOTO      0x6de8                     USBStdSetCfgHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007180   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007182   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007184   0ebd     MOVLW     0xbd                                                                                            
007186   6fd1     MOVWF     0xd1,0x1                                                                                        
007188   0e05     MOVLW     0x5                                                                                             
00718a   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718c   d00c     BRA       0x71a6                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718e   ef83     GOTO      0x6f06                     USBStdGetStatusHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007190   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007192   efe9     GOTO      0x71d2                     USBStdFeatureReqHandler();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007194   f038                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007196   5134     MOVF      0x34,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007198   0105     MOVLB     0x5                                                                                             
00719a   6fd1     MOVWF     0xd1,0x1                                                                                        
00719c   6bd2     CLRF      0xd2,0x1                                                                                        
00719e   0ebe     MOVLW     0xbe                                                                                            
0071a0   27d1     ADDWF     0xd1,0x1,0x1                                                                                    
0071a2   0e05     MOVLW     0x5                                                                                             
0071a4   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
0071a6   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a8   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071aa   6fd4     MOVWF     0xd4,0x1                                                                                        
0071ac   8fd3     BSF       0xd3,0x7,0x1               inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ae   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b0   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b2   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0071b4   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b6   5134     MOVF      0x34,0x0,0x1                                                                                    
0071b8   6aea     CLRF      0xea,0x0                                                                                        
0071ba   0fbe     ADDLW     0xbe                                                                                            
0071bc   6ee9     MOVWF     0xe9,0x0                                                                                        
0071be   0e05     MOVLW     0x5                                                                                             
0071c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0071c2   c432     MOVFF     0x432,0xfef                                                                                     
0071c4   ffef                                                                                                               
0071c6   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c8   d906     RCALL     0x73d6                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ca   0e02     MOVLW     0x2                                                                                             
0071cc   ef87     GOTO      0x730e                                                                                          
0071ce   f039                                                                                                               
0073d6   0e00     MOVLW     0x0                                                                                             
0073d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0073da   6ae6     CLRF      0xe6,0x0                                                                                        
0073dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0073de   6ae6     CLRF      0xe6,0x0                                                                                        
0073e0   0012     RETURN    0x0                                                                                             
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d0   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Maintained variables.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  FEATURES requests                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            This is a private function, intended for internal            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  feature requests.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d2   d8ab     RCALL     0x732a         static void USBStdFeatureReqHandler(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d4   0e05     MOVLW     0x5                                                                                             
0071d6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               EP_STATUS current_ep_data;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   DWORD* pUEP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unsigned char* pUEP;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableHnp();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableHnp();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableSupportHnp();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableSupportHnp();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableAltHnp();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableAltHnp();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d8   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071da   0532     DECF      0x32,0x0,0x1                                                                                    
0071dc   e110     BNZ       0x71fe                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071de   5130     MOVF      0x30,0x0,0x1                                                                                    
0071e0   0b1f     ANDLW     0x1f                                                                                            
0071e2   0900     IORLW     0x0                                                                                             
0071e4   e10c     BNZ       0x71fe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e6   0105     MOVLB     0x5                    inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e8   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0071ea   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ec   0104     MOVLB     0x4                                                                                             
0071ee   5d31     SUBWF     0x31,0x0,0x1                                                                                    
0071f0   e104     BNZ       0x71fa                                                                                          
0071f2   0105     MOVLB     0x5                        RemoteWakeup = TRUE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f4   0e01     MOVLW     0x1                                                                                             
0071f6   6fdf     MOVWF     0xdf,0x1                                                                                        
0071f8   d002     BRA       0x71fe                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071fa   0105     MOVLB     0x5                        RemoteWakeup = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071fc   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071fe   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007200   5132     MOVF      0x32,0x0,0x1                                                                                    
007202   e001     BZ        0x7206                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007204   d074     BRA       0x72ee                                                                                          
007206   5130     MOVF      0x30,0x0,0x1                                                                                    
007208   0b1f     ANDLW     0x1f                                                                                            
00720a   0802     SUBLW     0x2                                                                                             
00720c   e170     BNZ       0x72ee                                                                                          
00720e   5134     MOVF      0x34,0x0,0x1          (SetupPkt.EPNum != 0u) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007210   0b0f     ANDLW     0xf                                                                                             
007212   0900     IORLW     0x0                                                                                             
007214   e06c     BZ        0x72ee                                                                                          
007216   5134     MOVF      0x34,0x0,0x1                                                                                    
007218   0b0f     ANDLW     0xf                                                                                             
00721a   0802     SUBLW     0x2                                                                                             
00721c   e368     BNC       0x72ee                                                                                          
00721e   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007220   0105     MOVLB     0x5                                                                                             
007222   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
007224   e164     BNZ       0x72ee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//The request was valid.  Take control of the control transfer and             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//perform the host requested action.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007226   8fd3     BSF       0xd3,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007228   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00722a   bf34     BTFSC     0x34,0x7,0x1                                                                                    
00722c   d004     BRA       0x7236                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00722e   d940     RCALL     0x74b0                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007230   d8cc     RCALL     0x73ca                                                                                          
007232   d8d7     RCALL     0x73e2                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007234   d003     BRA       0x723c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007236   d941     RCALL     0x74ba                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007238   d8c8     RCALL     0x73ca                                                                                          
0073ca   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0073cc   cfee     MOVFF     0xfee,0xfde                                                                                     
0073ce   ffde                                                                                                               
0073d0   cfed     MOVFF     0xfed,0xfdd                                                                                     
0073d2   ffdd                                                                                                               
0073d4   0012     RETURN    0x0                                                                                             
00723a   d8d7     RCALL     0x73ea                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00723c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00723e   0e02     MOVLW     0x2                                                                                             
007240   cfef     MOVFF     0xfef,0xfdb                                                                                     
007242   ffdb                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //use for the next attempted transaction on that EP number.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007244   d8f9     RCALL     0x7438                     if(current_ep_data.bits.ping_pong_state == 0u) //Check if even       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007246   0b01     ANDLW     0x1                                                                                             
007248   e103     BNZ       0x7250                                                                                          
007438   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00743a   0f02     ADDLW     0x2                                                                                             
00743c   6ee9     MOVWF     0xe9,0x0                                                                                        
00743e   cfda     MOVFF     0xfda,0xfea                                                                                     
007440   ffea                                                                                                               
007442   50ef     MOVF      0xef,0x0,0x0                                                                                    
007444   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00724a   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00724c   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00724e   d001     BRA       0x7252                     else //else must have been odd                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007250   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  request                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007252   bf34     BTFSC     0x34,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007254   d002     BRA       0x725a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007256   d92c     RCALL     0x74b0                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00733c   5134     MOVF      0x34,0x0,0x1                                                                                    
00733e   0b0f     ANDLW     0xf                                                                                             
007340   6ee9     MOVWF     0xe9,0x0                                                                                        
007342   6aea     CLRF      0xea,0x0                                                                                        
007344   90d8     BCF       0xd8,0x0,0x0                                                                                    
007346   36e9     RLCF      0xe9,0x1,0x0                                                                                    
007348   36ea     RLCF      0xea,0x1,0x0                                                                                    
00734a   0012     RETURN    0x0                                                                                             
0074b0   df45     RCALL     0x733c                                                                                          
0074b2   0ec3     MOVLW     0xc3                                                                                            
0074b4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0074b6   0e05     MOVLW     0x5                                                                                             
0074b8   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007258   d001     BRA       0x725c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00725a   d92f     RCALL     0x74ba                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00725c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00725e   cfde     MOVFF     0xfde,0xfee                                                                                     
007260   ffee                                                                                                               
007262   cfdd     MOVFF     0xfdd,0xfed                                                                                     
007264   ffed                                                                                                               
0074ba   df40     RCALL     0x733c                                                                                          
0074bc   0ec9     MOVLW     0xc9                                                                                            
0074be   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0074c0   0e05     MOVLW     0x5                                                                                             
0074c2   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007266   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007268   5d31     SUBWF     0x31,0x0,0x1                                                                                    
00726a   e10c     BNZ       0x7284                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00726c   d92e     RCALL     0x74ca                     if(p->STAT.UOWN == 1u)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00726e   e007     BZ        0x727e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Mark that we are terminating this transfer and that the user   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  needs to be notified later                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007270   bf34     BTFSC     0x34,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007272   d002     BRA       0x7278                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007274   d8b6     RCALL     0x73e2                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007276   d001     BRA       0x727a                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007278   d8b8     RCALL     0x73ea                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00727a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00727c   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Then STALL the endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00727e   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007280   d959     RCALL     0x7534                                                                                          
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007282   d035     BRA       0x72ee                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle over the to the non-active BDT                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007284   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007286   d921     RCALL     0x74ca                         if(p->STAT.UOWN == 1u)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007288   e006     BZ        0x7296                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00728a   d845     RCALL     0x7316                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00728c   9eef     BCF       0xef,0x7,0x0                                                                                    
00728e   d843     RCALL     0x7316                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007290   8cef     BSF       0xef,0x6,0x0                                                                                    
007292   d8f4     RCALL     0x747c                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00747c   0e02     MOVLW     0x2                                                                                             
00747e   6ee6     MOVWF     0xe6,0x0                                                                                        
007480   6ae6     CLRF      0xe6,0x0                                                                                        
007482   cfde     MOVFF     0xfde,0xfe6                                                                                     
007484   ffe6                                                                                                               
007486   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
007488   ffe6                                                                                                               
00748a   0e05     MOVLW     0x5                                                                                             
00748c   ef87     GOTO      0x730e                                                                                          
00748e   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007294   d002     BRA       0x729a                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007296   d83f     RCALL     0x7316         					p->STAT.Val |= _DAT1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007298   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729a   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //set DTS to the proper state, and call the application callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729c   d8cd     RCALL     0x7438                         if((current_ep_data.bits.transfer_terminated != 0u) || (p->STAT.UOWN == 1u)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729e   0b02     ANDLW     0x2                                                                                             
0072a0   e102     BNZ       0x72a6                                                                                          
0072a2   d913     RCALL     0x74ca                                                                                          
0072a4   e00d     BZ        0x72c0                                                                                          
0074ca   df25     RCALL     0x7316                                                                                          
0074cc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0074ce   0b80     ANDLW     0x80                                                                                            
0074d0   0012     RETURN    0x0                                                                                             
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072a6   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072a8   bf34     BTFSC     0x34,0x7,0x1                                                                                    
0072aa   d002     BRA       0x72b0                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ac   d89a     RCALL     0x73e2                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073e2   5134     MOVF      0x34,0x0,0x1                                                                                    
0073e4   0b0f     ANDLW     0xf                                                                                             
0073e6   ef81     GOTO      0x7502                                                                                          
0073e8   f03a                                                                                                               
007502   6aea     CLRF      0xea,0x0                                                                                        
007504   0fe7     ADDLW     0xe7                                                                                            
007506   6ee9     MOVWF     0xe9,0x0                                                                                        
007508   0e05     MOVLW     0x5                                                                                             
00750a   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ae   d001     BRA       0x72b2                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b0   d89c     RCALL     0x73ea                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072b4   92ef     BCF       0xef,0x1,0x0                                                                                    
0073ea   5134     MOVF      0x34,0x0,0x1                                                                                    
0073ec   0b0f     ANDLW     0xf                                                                                             
0073ee   ef86     GOTO      0x750c                                                                                          
0073f0   f03a                                                                                                               
00750c   6aea     CLRF      0xea,0x0                                                                                        
00750e   0fe4     ADDLW     0xe4                                                                                            
007510   6ee9     MOVWF     0xe9,0x0                                                                                        
007512   0e05     MOVLW     0x5                                                                                             
007514   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b6   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b8   6e4e     MOVWF     0x4e,0x0                                                                                        
0072ba   d92d     RCALL     0x7516                                                                                          
                                                               //Call the application event handler callback function, so it can  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072bc   d8df     RCALL     0x747c                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00730e   6ee6     MOVWF     0xe6,0x0                                                                                        
007310   6ae6     CLRF      0xe6,0x0                                                                                        
007312   ef7a     GOTO      0x74f4                                                                                          
007314   f03a                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072be   d002     BRA       0x72c4                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c0   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c2   d929     RCALL     0x7516                                                                                          
007316   cfde     MOVFF     0xfde,0xfe9                                                                                     
007318   ffe9                                                                                                               
00731a   cfdd     MOVFF     0xfdd,0xfea                                                                                     
00731c   ffea                                                                                                               
00731e   0012     RETURN    0x0                                                                                             
007516   deff     RCALL     0x7316                                                                                          
007518   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00751a   16ef     ANDWF     0xef,0x1,0x0                                                                                    
00751c   0012     RETURN    0x0                                                                                             
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //We are going to call the user transfer terminated callback. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //to call it again later.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Let the application firmware know a transaction just       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //got terminated by the host, and that it is now free to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__C32__)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c4   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c6   5134     MOVF      0x34,0x0,0x1                                                                                    
0072c8   0b0f     ANDLW     0xf                                                                                             
0072ca   6a4f     CLRF      0x4f,0x0                                                                                        
0072cc   0f26     ADDLW     0x26                                                                                            
0072ce   6e4e     MOVWF     0x4e,0x0                                                                                        
0072d0   0e0f     MOVLW     0xf                                                                                             
0072d2   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0072d4   0e03     MOVLW     0x3                                                                                             
0072d6   c04e     MOVFF     0x4e,0xfdb                                                                                      
0072d8   ffdb                                                                                                               
0072da   0e04     MOVLW     0x4                                                                                             
0072dc   c04f     MOVFF     0x4f,0xfdb                                                                                      
0072de   ffdb                                                                                                               
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Clear the STALL bit in the UEP register                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e0   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0072e4   ffe9                                                                                                               
0072e6   0e04     MOVLW     0x4                                                                                             
0072e8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0072ea   ffea                                                                                                               
0072ec   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ee   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0072f2   e202     BC        0x72f8                                                                                          
0072f4   6ae1     CLRF      0xe1,0x0                                                                                        
0072f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0072f8   6ee1     MOVWF     0xe1,0x0                                                                                        
0072fa   d01c     BRA       0x7334                                                                                          
007334   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007336   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007338   ffd9                                                                                                               
00733a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** EOF USBDevice.c *****************************************************/       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               FileName:       usb_function_cdc.c                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Dependencies:   See INCLUDES section                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Hardware:       The code is natively intended to be used on the following    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               hardware platforms: PICDEM(TM) FS USB Demo Board,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               PIC18F87J50 FS USB Plug-In Module, or                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               Explorer 16 + PIC24 USB PIM.  The firmware may be            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               modified for use on other USB platforms by editing the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               HardwareProfile.h file.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Complier:   Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Company:        Microchip Technology, Inc.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               (the "Company") for its PIC(R) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB CDC Function Driver File                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               ..\\Include                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\My Demo Application                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.3    Decricated the mUSBUSARTIsTxTrfReady() macro.  It is                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    replaced by the USBUSARTIsTxTrfReady() function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6    Minor definition changes                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6a   No Changes                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.7    Fixed error in the part support list of the variables section           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    where the address of the CDC variables are defined.  The                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    PIC18F2553 was incorrectly named PIC18F2453 and the PIC18F4558          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    was incorrectly named PIC18F4458.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    http://www.microchip.com/forums/fb.aspx?m=487397                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.8    Minor change to CDCInitEP() to enhance ruggedness in                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    multithreaded usage scenarios.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.9b   Updated to implement optional support for DTS reporting.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #ifdef USB_USE_CDC                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //The cdc_data_rx[] and cdc_data_tx[] arrays and associated variables are used  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //as USB packet buffers in this firmware.  Therefore, they must be located in D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //a USB module accessible portion of microcontroller RAM.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata usbram2                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F2458) || defined(__18F2553) || defined(__18F4458) || defined(__18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18LF24K50) || defined(__18F24K50) || defined(__18LF25K50)\  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F25K50) || defined(__18LF45K50) || defined(__18F45K50)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x500                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F4450) || defined(__18F2450)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x480                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__XC8)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(_18F14K50) || defined(_18F13K50) || defined(_18LF14K50) || defined(_18LF13K50) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x260                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif  defined(_18F2455)   || defined(_18F2550)   || defined(_18F4455)  || defined(_18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F2458)   || defined(_18F2453)   || defined(_18F4558)  || defined(_18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18LF24K50) || defined(_18F24K50)  || defined(_18LF25K50)\    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F25K50)  || defined(_18LF45K50) || defined(_18F45K50)      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x500                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_18F4450) || defined(_18F2450)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x480                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_16F1459) || defined(_16LF1459) || defined(_16F1454) || defined(_16LF1454) || defined(_16F1455) || defined(_16LF1455) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x2140                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS 0x2190                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS 0x20A0                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define IN_DATA_BUFFER_ADDRESS_TAG                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define OUT_DATA_BUFFER_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define LINE_CODING_ADDRESS_TAG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define NOTICE_ADDRESS_TAG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_tx[CDC_DATA_IN_EP_SIZE] IN_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_rx[CDC_DATA_OUT_EP_SIZE] OUT_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           LINE_CODING line_coding LINE_CODING_ADDRESS_TAG;    // Buffer to store line coding information D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR CDC_NOTICE cdc_notice NOTICE_ADDRESS_TAG;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               SERIAL_STATE_NOTIFICATION SerialStatePacket;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_rx_len;            // total rx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_trf_state;         // States are defined cdc.h                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_tx_len;            // total tx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_mem_type;          // _ROM, _RAM                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataOutHandle;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataInHandle;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           DWORD BaudRateGen;			// BRG value calculated from baudrate                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE SerialStateBitmap;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE OldSerialStateBitmap;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_HANDLE CDCNotificationInHandle;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             requests according to the CDC specification.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             However, it is not really being used here, therefore a dummy buffer is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             used for conformance.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            **************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #define dummy_length    0x08                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE_VAL dummy_encapsulated_cmd_response[dummy_length];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SET_LINE_CODING_HANDLER)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CTRL_TRF_RETURN USB_CDC_SET_LINE_CODING_HANDLER(CTRL_TRF_PARAMS);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCDCSetLineCoding(void);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           //#pragma code                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		void USBCheckCDCRequest(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This routine checks the most recently received SETUP data packet to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		see if the request is specific to the CDC class.  If the request was          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		a CDC specific request, this function will take care of handling the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		request and responding appropriately.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	PreCondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This function should only be called after a control transfer SETUP            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		packet has arrived from the host.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Parameters:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Return Values:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Remarks:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		This function does not change status or do anything if the SETUP packet        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		did not contain a CDC class specific request.		                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCheckCDCRequest(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request recipient is not an interface then return                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e0e   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e10   5130     MOVF      0x30,0x0,0x1                                                                                    
007e12   0b1f     ANDLW     0x1f                                                                                            
007e14   0801     SUBLW     0x1                                                                                             
007e16   e001     BZ        0x7e1a                                                                                          
007e18   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request type is not class-specific then return                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e1a   5130     MOVF      0x30,0x0,0x1       if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD) return;            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e1c   0b60     ANDLW     0x60                                                                                            
007e1e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007e20   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007e22   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007e24   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007e26   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007e28   0801     SUBLW     0x1                                                                                             
007e2a   e001     BZ        0x7e2e                                                                                          
007e2c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Interface ID must match interface numbers associated with                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * CDC class, else return                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e2e   5134     MOVF      0x34,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e30   e003     BZ        0x7e38                (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e32   0534     DECF      0x34,0x0,0x1                                                                                    
007e34   e001     BZ        0x7e38                                                                                          
007e36   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e38   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e3a   0a22     XORLW     0x22                                                                                            
007e3c   e031     BZ        0x7ea0                                                                                          
007e3e   0a03     XORLW     0x3                                                                                             
007e40   e024     BZ        0x7e8a                                                                                          
007e42   0a01     XORLW     0x1                                                                                             
007e44   e015     BZ        0x7e70                                                                                          
007e46   0a21     XORLW     0x21                                                                                            
007e48   e00d     BZ        0x7e64                                                                                          
007e4a   0a01     XORLW     0x1                                                                                             
007e4c   e001     BZ        0x7e50                                                                                          
007e4e   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** These commands are required ******//                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    //send the packet                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e50   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e52   0eb4     MOVLW     0xb4                                                                                            
007e54   6fd1     MOVWF     0xd1,0x1                                                                                        
007e56   0e05     MOVLW     0x5                                                                                             
007e58   6fd2     MOVWF     0xd2,0x1                                                                                        
007e5a   0e08     MOVLW     0x8                        inPipes[0].wCount.Val = dummy_length;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e5c   6fd4     MOVWF     0xd4,0x1                                                                                        
007e5e   6bd5     CLRF      0xd5,0x1                                                                                        
007e60   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e62   d021     BRA       0x7ea6                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       // Populate dummy_encapsulated_cmd_response first.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e64   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e66   0eb4     MOVLW     0xb4                                                                                            
007e68   6fd1     MOVWF     0xd1,0x1                                                                                        
007e6a   0e05     MOVLW     0x5                                                                                             
007e6c   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e6e   d01b     BRA       0x7ea6                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** End of required commands ******//                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D1) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e70   c436     MOVFF     0x436,0x5d9                outPipes[0].wCount.Val = SetupPkt.wLength;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e72   f5d9                                                                                                               
007e74   c437     MOVFF     0x437,0x5da                                                                                     
007e76   f5da                                                                                                               
007e78   0105     MOVLB     0x5                        outPipes[0].pDst.bRam = (BYTE*)LINE_CODING_TARGET;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e7a   0e94     MOVLW     0x94                                                                                            
007e7c   6fd6     MOVWF     0xd6,0x1                                                                                        
007e7e   0e05     MOVLW     0x5                                                                                             
007e80   6fd7     MOVWF     0xd7,0x1                                                                                        
007e82   6bdb     CLRF      0xdb,0x1                   outPipes[0].pFunc = LINE_CODING_PFUNC;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e84   6bdc     CLRF      0xdc,0x1                                                                                        
007e86   8fd8     BSF       0xd8,0x7,0x1               outPipes[0].info.bits.busy = 1;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e88   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e8a   0105     MOVLB     0x5                        USBEP0SendRAMPtr(                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e8c   0e94     MOVLW     0x94                                                                                            
007e8e   6fd1     MOVWF     0xd1,0x1                                                                                        
007e90   0e05     MOVLW     0x5                                                                                             
007e92   6fd2     MOVWF     0xd2,0x1                                                                                        
007e94   0e07     MOVLW     0x7                                                                                             
007e96   6fd4     MOVWF     0xd4,0x1                                                                                        
007e98   6bd5     CLRF      0xd5,0x1                                                                                        
007e9a   0ec1     MOVLW     0xc1                                                                                            
007e9c   6fd3     MOVWF     0xd3,0x1                                                                                        
007e9e   0012     RETURN    0x0                            (BYTE*)&line_coding,                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           LINE_CODING_LENGTH,                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           USB_EP0_INCLUDE_ZERO);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ea0   c432     MOVFF     0x432,0x5af                break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ea2   f5af                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       control_signal_bitmap._byte = (BYTE)SetupPkt.W_Value.v[0];           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //One way to control the RTS pin is to allow the USB host to decide the value D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //that should be output on the RTS pin.  Although RTS and CTS pin functions D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //are technically intended for UART hardware based flow control, some legacy D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //UART devices use the RTS pin like a "general purpose" output pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //from the PC host.  In this usage model, the RTS pin is not related D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //to flow control for RX/TX.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //In this scenario, the USB host would want to be able to control the RTS D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //pin, and the below line of code should be uncommented.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //However, if the intention is to implement true RTS/CTS flow control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //for the RX/TX pair, then this application firmware should override D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //the USB host's setting for RTS, and instead generate a real RTS signal, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //based on the amount of remaining buffer space available for the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //actual hardware UART of this microcontroller.  In this case, the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //below code should be left commented out, but instead RTS should be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //controlled in the application firmware reponsible for operating the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //hardware UART of this microcontroller.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //---------                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //CONFIGURE_RTS(control_signal_bitmap.CARRIER_CONTROL);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           if(control_signal_bitmap.DTE_PRESENT == 1)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = USB_CDC_DTR_ACTIVE_LEVEL;                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = (USB_CDC_DTR_ACTIVE_LEVEL ^ 1);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ea4   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ea6   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007ea8   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D2) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_BREAK:                        // Optional                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			if (SetupPkt.wValue == 0xFFFF)  //0xFFFF means send break indefinitely until a new SEND_BREAK command is received D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_Tx = 0;       // Prepare to drive TX low (for break signalling)         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 0;   // Make sure TX pin configured as an output               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_ENABLE = 0;   // Turn off USART (to relinquish TX pin control)          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else if (SetupPkt.wValue == 0x0000) //0x0000 means stop sending indefinite break  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               			UART_ENABLE = 1;   // turn on USART                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 1;   // Make TX pin an input                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Send break signalling on the pin for (SetupPkt.wValue) milliseconds D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UART_SEND_BREAK();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//end USBCheckCDCRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** U S E R  A P I ***********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCInitEP(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function should      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               be called after the SET_CONFIGURATION command (ex: within the context of     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the USBCBInitEP() function).                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function sets        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the default line coding (baud rate, bit parity, number of data bits,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               and format). This function also enables the endpoints and prepares for       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the first transfer from the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function should be called after the SET_CONFIGURATION command.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This is most simply done by calling this function from the                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBCBInitEP() function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void USBCBInitEP(void)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       CDCInitEP();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCInitEP(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                              	//Abstract line coding information                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eaa   0105     MOVLB     0x5               	line_coding.dwDTERate.Val = 19200;      // baud rate                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eac   6b94     CLRF      0x94,0x1                                                                                        
007eae   0e4b     MOVLW     0x4b                                                                                            
007eb0   6f95     MOVWF     0x95,0x1                                                                                        
007eb2   6b96     CLRF      0x96,0x1                                                                                        
007eb4   6b97     CLRF      0x97,0x1                                                                                        
007eb6   6b98     CLRF      0x98,0x1          	line_coding.bCharFormat = 0x00;             // 1 stop bit                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb8   6b99     CLRF      0x99,0x1          	line_coding.bParityType = 0x00;             // None                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eba   0e08     MOVLW     0x8               	line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ebc   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ebe   6ba3     CLRF      0xa3,0x1           cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Reason:  Number of BYTEs to send to the host                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          varies from one transaction to                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          another. Cnt should equal the exact                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          number of BYTEs to transmit for                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          a given IN transaction.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          This number of BYTEs will only                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          be known right before the data is                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          sent.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec0   0e1a     MOVLW     0x1a               USBEnableEndpoint(CDC_COMM_EP,USB_IN_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec2   6ee6     MOVWF     0xe6,0x0                                                                                        
007ec4   0e01     MOVLW     0x1                                                                                             
007ec6   6ee6     MOVWF     0xe6,0x0                                                                                        
007ec8   ec12     CALL      0x6a24,0x0                                                                                      
007eca   f035                                                                                                               
007ecc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ece   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ed0   0e1e     MOVLW     0x1e               USBEnableEndpoint(CDC_DATA_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed2   6ee6     MOVWF     0xe6,0x0                                                                                        
007ed4   0e02     MOVLW     0x2                                                                                             
007ed6   6ee6     MOVWF     0xe6,0x0                                                                                        
007ed8   ec12     CALL      0x6a24,0x0                                                                                      
007eda   f035                                                                                                               
007edc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ede   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ee0   d91c     RCALL     0x811a             CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ee2   0105     MOVLB     0x5                CDCDataInHandle = NULL;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ee4   6bad     CLRF      0xad,0x1                                                                                        
007ee6   6bae     CLRF      0xae,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	CDCNotificationInHandle = NULL;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   mInitDTSPin();  //Configure DTS as a digital input                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	SerialStateBitmap.byte = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	OldSerialStateBitmap.byte = !SerialStateBitmap.byte;    //To force firmware to send an initial serial state packet to the host. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Prepare a SerialState notification element packet (contains info like DSR state) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bmRequestType = 0xA1; //Always 0xA1 for this type of packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bNotification = SERIAL_STATE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wValue = 0x0000;  //Always 0x0000 for this type of packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wIndex = CDC_COMM_INTF_ID;  //Interface number         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = 0x00;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.Reserved = 0x00;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wLength = 0x02;   //Always 2 bytes for this type of packet     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationHandler();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitDTRPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_HARDWARE_FLOW_CONTROL)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitRTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitCTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ee8   6ba4     CLRF      0xa4,0x1           cdc_trf_state = CDC_TX_READY;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eea   0012     RETURN    0x0            }//end CDCInitEP                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function: void CDCNotificationHandler(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary: Checks for changes in DSR status and reports them to the USB host.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description: Checks for changes in DSR pin state and reports any changes       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          to the USB host.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions: CDCInitEP() must have been called previously, prior to calling     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                         CDCNotificationHandler() for the first time.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is only implemented and needed when the                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_CDC_SUPPORT_DSR_REPORTING option has been enabled.  If the function is   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               enabled, it should be called periodically to sample the DSR pin and feed     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the information to the USB host.  This can be done by calling                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler() by itself, or, by calling CDCTxService() which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               also calls CDCNotificationHandler() internally, when appropriate.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCNotificationHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //Check the DTS I/O pin and if a state change is detected, notify the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //USB host by sending a serial state notification element packet.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if(UART_DTS == USB_CDC_DSR_ACTIVE_LEVEL) //UART_DTS must be defined to be an I/O pin in the hardware profile to use the DTS feature (ex: "PORTXbits.RXY") D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 1;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //If the state has changed, and the endpoint is available, send a packet to  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //notify the hUSB host of the change.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if((SerialStateBitmap.byte != OldSerialStateBitmap.byte) && (!USBHandleBusy(CDCNotificationInHandle))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Copy the updated value into the USB packet buffer to send.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = SerialStateBitmap.byte;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //We don't need to write to the other bytes in the SerialStatePacket USB D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //buffer, since they don't change and will always be the same as our     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //initialized value.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Send the packet over USB to the host.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationInHandle = USBTransferOnePacket(CDC_COMM_EP, IN_TO_HOST, (BYTE*)&SerialStatePacket, sizeof(SERIAL_STATE_NOTIFICATION)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Save the old value, so we can detect changes later.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   OldSerialStateBitmap.byte = SerialStateBitmap.byte;                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//void CDCNotificationHandler(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define CDCNotificationHandler() {}                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack, which may have an effect on the CDC       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint(s).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack.  This function should be called when      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               there is a USB event that needs to be processed by the CDC driver.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               event - the type of event that occured                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pdata - pointer to the data that caused the event                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               size - the size of the data that is pointed to by pdata                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eec   d941     RCALL     0x8170         BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eee   d965     RCALL     0x81ba             switch( (INT)event )                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ef0   0e05     MOVLW     0x5                                                                                             
007ef2   1842     XORWF     0x42,0x0,0x0                                                                                    
007ef4   e101     BNZ       0x7ef8                                                                                          
007ef6   5043     MOVF      0x43,0x0,0x0                                                                                    
007ef8   e002     BZ        0x7efe                                                                                          
0081ba   0efd     MOVLW     0xfd                                                                                            
0081bc   cfdb     MOVFF     0xfdb,0x42                                                                                      
0081be   f042                                                                                                               
0081c0   0efe     MOVLW     0xfe                                                                                            
0081c2   cfdb     MOVFF     0xfdb,0x43                                                                                      
0081c4   f043                                                                                                               
0081c6   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case EVENT_TRANSFER_TERMINATED:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007efe   d948     RCALL     0x8190                     if(pdata == CDCDataOutHandle)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f00   0105     MOVLB     0x5                                                                                             
007f02   51ab     MOVF      0xab,0x0,0x1                                                                                    
007f04   184e     XORWF     0x4e,0x0,0x0                                                                                    
007f06   e104     BNZ       0x7f10                                                                                          
007f08   51ac     MOVF      0xac,0x0,0x1                                                                                    
007f0a   184f     XORWF     0x4f,0x0,0x0                                                                                    
007f0c   e101     BNZ       0x7f10                                                                                          
008190   0efb     MOVLW     0xfb                                                                                            
008192   cfdb     MOVFF     0xfdb,0x4e                                                                                      
008194   f04e                                                                                                               
008196   0efc     MOVLW     0xfc                                                                                            
008198   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00819a   f04f                                                                                                               
00819c   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f0e   d905     RCALL     0x811a                         CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx));   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f10   d93f     RCALL     0x8190                     if(pdata == CDCDataInHandle)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f12   0105     MOVLB     0x5                                                                                             
007f14   51ad     MOVF      0xad,0x0,0x1                                                                                    
007f16   184e     XORWF     0x4e,0x0,0x0                                                                                    
007f18   e105     BNZ       0x7f24                                                                                          
007f1a   51ae     MOVF      0xae,0x0,0x1                                                                                    
007f1c   184f     XORWF     0x4f,0x0,0x0                                                                                    
007f1e   e102     BNZ       0x7f24                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //flush all of the data in the CDC buffer                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f20   6ba4     CLRF      0xa4,0x1                       cdc_trf_state = CDC_TX_READY;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f22   6ba9     CLRF      0xa9,0x1                       cdc_tx_len = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007efa   0e00     MOVLW     0x0                        return FALSE;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007efc   d014     BRA       0x7f26                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f24   0e01     MOVLW     0x1                return TRUE;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f26   d129     BRA       0x817a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE getsUSBUSART(char *buffer, BYTE len)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE numBytes;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE buffer[64]                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   numBytes = getsUSBUSART(buffer,sizeof(buffer)); //until the buffer is free. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(numBytes \> 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //we received numBytes bytes of data and they are copied into        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  the "buffer" variable.  We can do something with the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  here.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               buffer -  Pointer to where received BYTEs are to be stored                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               len -     The number of BYTEs expected.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f28   d923     RCALL     0x8170         BYTE getsUSBUSART(char *buffer, BYTE len)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f2a   0105     MOVLB     0x5                cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f2c   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f2e   51ab     MOVF      0xab,0x0,0x1       if(!USBHandleBusy(CDCDataOutHandle))                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f30   11ac     IORWF     0xac,0x0,0x1                                                                                    
007f32   e102     BNZ       0x7f38                                                                                          
007f34   0e00     MOVLW     0x0                                                                                             
007f36   d005     BRA       0x7f42                                                                                          
007f38   d932     RCALL     0x819e                                                                                          
007f3a   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f3c   0b80     ANDLW     0x80                                                                                            
007f3e   e001     BZ        0x7f42                                                                                          
007f40   0e01     MOVLW     0x1                                                                                             
007f42   0900     IORLW     0x0                                                                                             
007f44   e12d     BNZ       0x7fa0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Adjust the expected number of BYTEs to equal                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * the actual number of BYTEs received.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f46   0efc     MOVLW     0xfc                   if(len > USBHandleGetLength(CDCDataOutHandle))                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f48   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007f4a   f04e                                                                                                               
007f4c   d928     RCALL     0x819e                                                                                          
007f4e   52ee     MOVF      0xee,0x1,0x0                                                                                    
007f50   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f52   80d8     BSF       0xd8,0x0,0x0                                                                                    
007f54   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
007f56   e205     BC        0x7f62                                                                                          
007f58   d922     RCALL     0x819e                     len = USBHandleGetLength(CDCDataOutHandle);                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f5a   52ee     MOVF      0xee,0x1,0x0                                                                                    
007f5c   0efc     MOVLW     0xfc                                                                                            
007f5e   cfef     MOVFF     0xfef,0xfdb                                                                                     
007f60   ffdb                                                                                                               
00819e   c5ab     MOVFF     0x5ab,0xfe9                                                                                     
0081a0   ffe9                                                                                                               
0081a2   c5ac     MOVFF     0x5ac,0xfea                                                                                     
0081a4   ffea                                                                                                               
0081a6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f62   6ba3     CLRF      0xa3,0x1               for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f64   0efc     MOVLW     0xfc                                                                                            
007f66   50db     MOVF      0xdb,0x0,0x0                                                                                    
007f68   5da3     SUBWF     0xa3,0x0,0x1                                                                                    
007f6a   e219     BC        0x7f9e                                                                                          
007f9a   2ba3     INCF      0xa3,0x1,0x1                                                                                    
007f9c   d7e3     BRA       0x7f64                                                                                          
007f6c   51a3     MOVF      0xa3,0x0,0x1               buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f6e   6aea     CLRF      0xea,0x0                                                                                        
007f70   0f54     ADDLW     0x54                                                                                            
007f72   6ee9     MOVWF     0xe9,0x0                                                                                        
007f74   0e05     MOVLW     0x5                                                                                             
007f76   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007f78   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f7a   6ee6     MOVWF     0xe6,0x0                                                                                        
007f7c   51a3     MOVF      0xa3,0x0,0x1                                                                                    
007f7e   6ee7     MOVWF     0xe7,0x0                                                                                        
007f80   0efd     MOVLW     0xfd                                                                                            
007f82   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007f84   ffe9                                                                                                               
007f86   0efe     MOVLW     0xfe                                                                                            
007f88   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007f8a   ffea                                                                                                               
007f8c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007f8e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007f90   0e00     MOVLW     0x0                                                                                             
007f92   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007f94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007f96   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007f98   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f9e   d8bd     RCALL     0x811a                 CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00811a   0e40     MOVLW     0x40                                                                                            
00811c   6ee6     MOVWF     0xe6,0x0                                                                                        
00811e   0e54     MOVLW     0x54                                                                                            
008120   6ee6     MOVWF     0xe6,0x0                                                                                        
008122   0e05     MOVLW     0x5                                                                                             
008124   6ee6     MOVWF     0xe6,0x0                                                                                        
008126   6ae6     CLRF      0xe6,0x0                                                                                        
008128   d83f     RCALL     0x81a8                                                                                          
00812a   cff3     MOVFF     0xff3,0x5ab                                                                                     
00812c   f5ab                                                                                                               
00812e   cff4     MOVFF     0xff4,0x5ac                                                                                     
008130   f5ac                                                                                                               
008132   0012     RETURN    0x0                                                                                             
0081a8   0e02     MOVLW     0x2                                                                                             
0081aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0081ac   ec36     CALL      0x6a6c,0x0                                                                                      
0081ae   f035                                                                                                               
0081b0   6e4e     MOVWF     0x4e,0x0                                                                                        
0081b2   0e05     MOVLW     0x5                                                                                             
0081b4   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0081b6   504e     MOVF      0x4e,0x0,0x0                                                                                    
0081b8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa0   0105     MOVLB     0x5                return cdc_rx_len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa2   51a3     MOVF      0xa3,0x0,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa4   d0ea     BRA       0x817a         }//end getsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	void putUSBUSART(char *data, BYTE length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = {0x00, 0x01, 0x02, 0x03, 0x04};                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putUSBUSART(data,5);                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data - pointer to a RAM array of data to be transfered to the host     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE length - the number of bytes to be transfered (must be less than 255).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa6   d8e4     RCALL     0x8170         void putUSBUSART(char *data, BYTE  length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa8   0105     MOVLB     0x5                if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007faa   51a4     MOVF      0xa4,0x0,0x1                                                                                    
007fac   e107     BNZ       0x7fbc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fae   d8e9     RCALL     0x8182                 mUSBUSARTTxRam((BYTE*)data, length);     // See cdc.h                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fb0   0efc     MOVLW     0xfc                                                                                            
007fb2   cfdb     MOVFF     0xfdb,0x5a9                                                                                     
007fb4   f5a9                                                                                                               
007fb6   0e01     MOVLW     0x1                                                                                             
007fb8   6faa     MOVWF     0xaa,0x1                                                                                        
007fba   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fbc   d0de     BRA       0x817a         }//end putUSBUSART                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Function:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		void putsUSBUSART(char *data)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = "Hello World";                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putsUSBUSART(data);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data -  null\-terminated string of constant data. If a                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fbe   d904     RCALL     0x81c8         void putsUSBUSART(char *data)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0081c8   dfd3     RCALL     0x8170                                                                                          
0081ca   0e03     MOVLW     0x3                                                                                             
0081cc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *pData;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData, Length);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc0   e117     BNZ       0x7ff0             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0081ce   0105     MOVLB     0x5                                                                                             
0081d0   51a4     MOVF      0xa4,0x0,0x1                                                                                    
0081d2   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc2   d8c0     RCALL     0x8144             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008144   6adf     CLRF      0xdf,0x0                                                                                        
008146   d839     RCALL     0x81ba             pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008148   52de     MOVF      0xde,0x1,0x0                                                                                    
00814a   c042     MOVFF     0x42,0xfde                                                                                      
00814c   ffde                                                                                                               
00814e   c043     MOVFF     0x43,0xfdd                                                                                      
008150   ffdd                                                                                                               
008152   52dd     MOVF      0xdd,0x1,0x0                                                                                    
008154   0012     RETURN    0x0                                                                                             
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc4   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc6   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007fca   e00b     BZ        0x7fe2                                                                                          
007fcc   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fce   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007fd0   ffe9                                                                                                               
007fd2   2adb     INCF      0xdb,0x1,0x0                                                                                    
007fd4   0e02     MOVLW     0x2                                                                                             
007fd6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007fd8   ffea                                                                                                               
007fda   e301     BNC       0x7fde                                                                                          
007fdc   2adb     INCF      0xdb,0x1,0x0                                                                                    
007fde   50ef     MOVF      0xef,0x0,0x0                                                                                    
007fe0   e1f1     BNZ       0x7fc4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fe2   d8cf     RCALL     0x8182             mUSBUSARTTxRam((BYTE*)data, len);     // See cdc.h                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fe4   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007fe6   f5a9                                                                                                               
007fe8   0105     MOVLB     0x5                                                                                             
007fea   0e01     MOVLW     0x1                                                                                             
007fec   6faa     MOVWF     0xaa,0x1                                                                                        
007fee   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ff0   0e03     MOVLW     0x3            }//end putsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ff2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007ff4   e202     BC        0x7ffa                                                                                          
007ff6   6ae1     CLRF      0xe1,0x0                                                                                        
007ff8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ffa   6ee1     MOVWF     0xe1,0x0                                                                                        
007ffc   d0be     BRA       0x817a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void putrsUSBUSART(const ROM char *data)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putrsUSBUSART("Hello World");                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *data -  null\-terminated string of constant data. If a       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ffe   d8e4     RCALL     0x81c8         void putrsUSBUSART(const ROM char *data)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *pData;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008000   e118     BNZ       0x8032             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008002   d8a0     RCALL     0x8144             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008004   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008006   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008008   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00800a   e00c     BZ        0x8024                                                                                          
00800c   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00800e   cfdb     MOVFF     0xfdb,0xff6                                                                                     
008010   fff6                                                                                                               
008012   2adb     INCF      0xdb,0x1,0x0                                                                                    
008014   0e02     MOVLW     0x2                                                                                             
008016   cfdb     MOVFF     0xfdb,0xff7                                                                                     
008018   fff7                                                                                                               
00801a   e301     BNC       0x801e                                                                                          
00801c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00801e   0008     TBLRD                                                                                                     
008020   50f5     MOVF      0xf5,0x0,0x0                                                                                    
008022   e1f0     BNZ       0x8004                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008024   d8ae     RCALL     0x8182             mUSBUSARTTxRom((ROM BYTE*)data,len); // See cdc.h                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008026   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
008028   f5a9                                                                                                               
00802a   0105     MOVLB     0x5                                                                                             
00802c   6baa     CLRF      0xaa,0x1                                                                                        
00802e   0e01     MOVLW     0x1                                                                                             
008030   6fa4     MOVWF     0xa4,0x1                                                                                        
008182   0efd     MOVLW     0xfd                                                                                            
008184   cfdb     MOVFF     0xfdb,0x5a5                                                                                     
008186   f5a5                                                                                                               
008188   0efe     MOVLW     0xfe                                                                                            
00818a   cfdb     MOVFF     0xfdb,0x5a6                                                                                     
00818c   f5a6                                                                                                               
00818e   0012     RETURN    0x0                                                                                             
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008032   0e03     MOVLW     0x3            }//end putrsUSBUSART                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008034   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008036   e202     BC        0x803c                                                                                          
008038   6ae1     CLRF      0xe1,0x0                                                                                        
00803a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00803c   6ee1     MOVWF     0xe1,0x0                                                                                        
00803e   d09d     BRA       0x817a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /************************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCTxService(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state.                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state (after the CDCIniEP() function has already executed).   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is needed, in order to advance the internal software state     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               machine that takes care of sending multiple transactions worth of IN USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data to the host, associated with CDC serial data.  Failure to call          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService() perioidcally will prevent data from being sent to the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB host, over the CDC serial data interface.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       USBDeviceTasks();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Either the device is not configured or we are suspended        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //  so we don't want to do execute any application code          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Keep trying to send data to the PC as required                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           CDCTxService();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Run application code.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCIniEP() function should have already executed/the device should be        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               in the CONFIGURED_STATE.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ************************************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008040   d897     RCALL     0x8170         void CDCTxService(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008042   0e02     MOVLW     0x2                                                                                             
008044   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
008170   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008172   ffe6                                                                                                               
008174   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008176   ffd9                                                                                                               
008178   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE byte_to_send;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008046   0105     MOVLB     0x5                if(USBHandleBusy(CDCDataInHandle))                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008048   51ad     MOVF      0xad,0x0,0x1                                                                                    
00804a   11ae     IORWF     0xae,0x0,0x1                                                                                    
00804c   e102     BNZ       0x8052                                                                                          
00804e   0e00     MOVLW     0x0                                                                                             
008050   d008     BRA       0x8062                                                                                          
008052   c5ad     MOVFF     0x5ad,0xfe9                                                                                     
008054   ffe9                                                                                                               
008056   c5ae     MOVFF     0x5ae,0xfea                                                                                     
008058   ffea                                                                                                               
00805a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00805c   0b80     ANDLW     0x80                                                                                            
00805e   e001     BZ        0x8062                                                                                          
008060   0e01     MOVLW     0x1                                                                                             
008062   0900     IORLW     0x0                                                                                             
008064   e153     BNZ       0x810c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008066   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008068   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
00806a   e101     BNZ       0x806e                                                                                          
00806c   6ba4     CLRF      0xa4,0x1               cdc_trf_state = CDC_TX_READY;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00806e   51a4     MOVF      0xa4,0x0,0x1       if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008070   e04d     BZ        0x810c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008072   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008074   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
008076   e109     BNZ       0x808a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008078   6ae6     CLRF      0xe6,0x0               CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,NULL,0);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00807a   0e00     MOVLW     0x0                                                                                             
00807c   6ee6     MOVWF     0xe6,0x0                                                                                        
00807e   6ae6     CLRF      0xe6,0x0                                                                                        
008080   d859     RCALL     0x8134                                                                                          
008134   0e01     MOVLW     0x1                                                                                             
008136   6ee6     MOVWF     0xe6,0x0                                                                                        
008138   d837     RCALL     0x81a8                                                                                          
00813a   cff3     MOVFF     0xff3,0x5ad                                                                                     
00813c   f5ad                                                                                                               
00813e   cff4     MOVFF     0xff4,0x5ae                                                                                     
008140   f5ae                                                                                                               
008142   0012     RETURN    0x0                                                                                             
                                                   //CDC_DATA_BD_IN.CNT = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008082   0105     MOVLB     0x5                    cdc_trf_state = CDC_TX_COMPLETING;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008084   0e03     MOVLW     0x3                                                                                             
008086   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008088   d041     BRA       0x810c             else if(cdc_trf_state == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00808a   05a4     DECF      0xa4,0x0,0x1                                                                                    
00808c   e13f     BNZ       0x810c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * First, have to figure out how many byte of data to send.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00808e   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008090   6e4e     MOVWF     0x4e,0x0                                                                                        
008092   6a4f     CLRF      0x4f,0x0                                                                                        
008094   51a9     MOVF      0xa9,0x0,0x1                                                                                    
008096   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
008098   0e00     MOVLW     0x0                                                                                             
00809a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00809c   e203     BC        0x80a4                                                                                          
00809e   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080a0   6edf     MOVWF     0xdf,0x0                                                                                        
0080a2   d002     BRA       0x80a8             	else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080a4   c5a9     MOVFF     0x5a9,0xfdf        	    byte_to_send = cdc_tx_len;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080a6   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080a8   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080aa   5da9     SUBWF     0xa9,0x0,0x1                                                                                    
0080ac   6fa9     MOVWF     0xa9,0x1                                                                                        
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080ae   0e14     MOVLW     0x14                   pCDCDst.bRam = (BYTE*)&cdc_data_tx; // Set destination pointer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080b0   6fa7     MOVWF     0xa7,0x1                                                                                        
0080b2   0e05     MOVLW     0x5                                                                                             
0080b4   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080b6   0e01     MOVLW     0x1                    i = byte_to_send;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080b8   cfdf     MOVFF     0xfdf,0xfdb                                                                                     
0080ba   ffdb                                                                                                               
0080bc   51aa     MOVF      0xaa,0x0,0x1           if(cdc_mem_type == USB_EP0_ROM)            // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080be   e10b     BNZ       0x80d6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080c0   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0080c4   e012     BZ        0x80ea                                                                                          
0080d4   d7f5     BRA       0x80c0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080c6   c5a5     MOVFF     0x5a5,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080c8   fff6                                                                                                               
0080ca   c5a6     MOVFF     0x5a6,0xff7                                                                                     
0080cc   fff7                                                                                                               
0080ce   0008     TBLRD                                                                                                     
0080d0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0080d2   d841     RCALL     0x8156                                                                                          
008156   c5a7     MOVFF     0x5a7,0xfe9                                                                                     
008158   ffe9                                                                                                               
00815a   c5a8     MOVFF     0x5a8,0xfea                                                                                     
00815c   ffea                                                                                                               
00815e   6eef     MOVWF     0xef,0x0                                                                                        
008160   2ba7     INCF      0xa7,0x1,0x1                   pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008162   0e00     MOVLW     0x0                                                                                             
008164   23a8     ADDWFC    0xa8,0x1,0x1                                                                                    
008166   2ba5     INCF      0xa5,0x1,0x1                   pCDCSrc.bRom++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008168   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
00816a   0e01     MOVLW     0x1                            i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00816c   06db     DECF      0xdb,0x1,0x0                                                                                    
00816e   0012     RETURN    0x0                                                                                             
                                                       }//end while(byte_to_send)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   else // _RAM                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080d6   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0080da   e007     BZ        0x80ea                                                                                          
0080e8   d7f6     BRA       0x80d6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080dc   c5a5     MOVFF     0x5a5,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080de   ffe9                                                                                                               
0080e0   c5a6     MOVFF     0x5a6,0xfea                                                                                     
0080e2   ffea                                                                                                               
0080e4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0080e6   d837     RCALL     0x8156                                                                                          
                                                           pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           pCDCSrc.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }//end while(byte_to_send._word)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }//end if(cdc_mem_type...)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080ea   0105     MOVLB     0x5                    if(cdc_tx_len == 0u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080ec   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0080ee   e107     BNZ       0x80fe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080f0   0e40     MOVLW     0x40                       if(byte_to_send == CDC_DATA_IN_EP_SIZE)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080f2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0080f4   e102     BNZ       0x80fa                                                                                          
0080f6   0e02     MOVLW     0x2                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080f8   d001     BRA       0x80fc                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080fa   0e03     MOVLW     0x3                            cdc_trf_state = CDC_TX_COMPLETING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080fc   6fa4     MOVWF     0xa4,0x1                                                                                        
                                                   }//end if(cdc_tx_len...)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080fe   cfdf     MOVFF     0xfdf,0xfe6            CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_tx,byte_to_send); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008100   ffe6                                                                                                               
008102   0e14     MOVLW     0x14                                                                                            
008104   6ee6     MOVWF     0xe6,0x0                                                                                        
008106   0e05     MOVLW     0x5                                                                                             
008108   6ee6     MOVWF     0xe6,0x0                                                                                        
00810a   d814     RCALL     0x8134                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00810c   0e02     MOVLW     0x2            }//end CDCTxService                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00810e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008110   e202     BC        0x8116                                                                                          
008112   6ae1     CLRF      0xe1,0x0                                                                                        
008114   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008116   6ee1     MOVWF     0xe1,0x0                                                                                        
008118   d030     BRA       0x817a                                                                                          
00817a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00817c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00817e   ffd9                                                                                                               
008180   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif //USB_USE_CDC                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** EOF cdc.c ****************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * FileName:        ebb.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Versions:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8 -                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.1 5/19/10 - Only change is to recompile with Microchip USB Stack v2.7     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.2 5/31/10 - Only change is to change name in USB enumeration string to Ei D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Bot Board - using new PID for SchmalzHaus                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9   6/11/10 - Added two commands:                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SQ - Solenoid Query - returns 0 or 1 for down and up         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ST - Solenoid Toggle - toggles state of the servo/solenoid   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.2 6/15/10 - Added commands:                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,11 sets pen up speed                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,12 sets pen down speed                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SL - sets the current layer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QL - queries the current layer                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - sets move (node) count                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QN - Query node count                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QB - Query Button command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.3 6/16/10 - Replaced SN with CL (Clear Node) command                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.4 6/22/10 - Node Count now incremented on pauses (SM with zero step size) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  as well                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.5 7/2/10 - Node count no longer incremented at all except for NI command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NI - Node count Increment                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ND - Node count Decrement                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - Set Node count (with 8 byte variable)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  BL - With latest bootloader, will jump to Boot Load mode     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.6 7/3/10 - Removed extra vectors below 0x1000 for easier merging of HEX   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      files                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - use c018i_HID_BL.o now                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.0 9/9/10 - Add in                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QC - Query Current - reads voltage of current adjustment pot D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: This is NOT done the 'right way'. Instead, we set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      up the pin for analog input at boot, then when the QC    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      comes in, we activate the ADC and take one reading and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      then shut it down. Eventually, we should re-write the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      'UBW' ADC routines to work with the much more flexible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ADC in the 46J50 part and then just use that generic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      code for reading the value of the pot.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,13,{0,1} - enables/disables RB0 as another PRG button for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pause detection                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.1 9/13/10 - Bug fix - on v1.1 EBB hardware, need to disable RB0 alt pause D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      button. Switched it to RB2 on v1.1 hardware              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.2 10/3/10 - Bug fix - QC command not returning proper results - added     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      cast and now works OK                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.0 10/21/10- Added in                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE - Set Engraver - turns engraver (on RB3) on or off, or    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      set to PWM power level                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Added code in init to pre-charge RC7 (USB_SENSE_IO) high   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      before running rest of code                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      to get around wrong resistor value on hardware.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1 11/21/10- Removed Microchip USB stack v2.7, replaced it with v2.8 from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  MAL 2010_10_19.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Also using generic Microchip folder now rather than re-named D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      one (simpler to update).                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated code in main.c (and others) to match updates from    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      latest MAL CDC example.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1cTest1 01/17/11 - Added third parameter to SP command to use any PortB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pin for servo output.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  For this version only - used PortB2 as standard servo output D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1d 02/11/11 - Reverted back to RB1 for servo output                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                 - Updated check_and_send_TX_data() to allow unlimited data to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      go out without overrunning the output buffer, same as    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      UBW 1.4.7.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.2 11/04/11 - Fixed PI command to return just a 0 or a 1                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated to USB stack 2.9a                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Created MPLAB X project for this firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,<state> to enable/disable solenoid output on RB4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command and solenoid command interaction - D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      we now turn off solenoid output on RB4 if user uses S2   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to use RB4 for RC servo output.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command where a duration of 0 would not    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      shut off the PWM channel                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug in S2 command where <rate> variable was not being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used correctly                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Switched default number of S2 channels to 8 (from 7 before)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.3 12/12/11 - RB3 now defaults to digital I/O on boot, can still use SE    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to do PWM later if you want                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Compiled with latest UBW stack - 2.9b from MAL 2011-10-18    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.4 12/14/11 - RB3 now defaults to OFF, rather than ON, at boot.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.5 12/15/11 - Fixed problem with pen servo (RB1) being inverted on boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.0 11/07/12 - Fixed problem with SP command not working properly with      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ports other than RB1 because we don't properly use S2    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands for SP up/down within ISR. Tested on all PortB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.1 09/19/13 - Expanded internal delay counter to 32 bits so we can have    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      delays longer than 2.1s. Now up to 64K ms.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with all <duration> parameters, SP, TP             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands. Now in ms, defaults to 500ms, and actually     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      works up to 64Kms.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed uninitialized data bug with command FIFO. We were seeing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      very long random delays first time SM,<delay>,0,0 was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - SP command was executing servo move at end of <duration>. It D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      now starts servo move and <duration> delay at same time. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated USB stack to Microchip MAL USB v2.9j                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.2 10/15/13 - Fixed bug with SE command that was preventing anything other D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  than 50% duty cycle from working.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,2,{0,1,2} to control PIC and drivers connection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  0 = PIC controls built in drivers                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  1 = PIC controls external step/dir/en drives                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  2 = external step/dir/en controls built-in drivers           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Also updated the pins that are used for driving external     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step/dir/en drives. (See documentation)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,1,{0,1,2} documentation to match code and removed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,14 which is not needed.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated logic for EM command to use state of SC,2,{0,1,2}    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  properly.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,{0,1} to switch between default of 1/25Khz units D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for SP and TP command <duration> parameters, and 1ms units   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.3 01/11/14 - Rewrote analog system so we don't have problems with QC      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands anymore. New command AC.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.4 04/26/14 - Fixed bug where 0 for duration in SM would cause problems    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Found bug where the <servo_min> and <servo_max> values were  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  reversed in the SP command. This has now been fixed so that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SP commands will operate the same as 2.0.1 version.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Set initial  'position' of main servo to be 1mS to mimic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  behavior of v2.0.1 firmware.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated license to BSD 3-clause                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Changed SP and TP commands so that if no <duration> parameter D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  is used, it does not default to 500mS delay, but rather 0mS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  This should now work exactly as 2.0.1 when no parameter is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Tested 2.2.4 against 2.0.1 with Saleae Logic analyzer. Looked D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  at several Inkscape plots. Confirmed that timing of steppers D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and servo are the same. Confirmed that all RB0 through RB7   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  outputs are the same between the two versions.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.5 04/29/14 - Added 'long' arguments to SM for <move_duration> and <axis1> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and <axis2>. All can be 3 bytes now. Also added checks in    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command to make sure that arguments don't result in a     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step speed that's too low (<0.76Hz).                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.6 01/01/15 - Added 'QM' command - Query Motor, tells PC what is moving.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.7 08/13/15 - Added 'ES' command, which will immediately abort any SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  but leave the motors energized. (E-stop) It returns "1" if   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  it aborted a move in progress, "0" otherwise. It will also   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  delete any pending SM command in the FIFO.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.8 08/14/15 - Corrected error checking in SM command to accurately reflect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  too fast and too slow requests. (>25K or <1.31 steps per     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  second). Also added type cast that now allows for full range D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  of step values to work properly.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.9 08/18/15 - Added extra values to output of ES command to indicate how   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  many steps were aborted.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.3.0 08/28/15 - Added new XM command as per issue #29 for driving mixed-axis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  geometry machines.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.0 03/14/16 - Added new AM command for using accelerated                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  stepper motion. Includes going to 32 bit accumulators in ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  to achieve necessary resolution, which includes changes to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command as well. Also added "CU,2,0" to turn of SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  parameter checking for speed.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: AM command may not be quite 'right' yet. Although it   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  has passed simple tests, it could not be made to reliably    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  work from the Inkscape plugin, so it is not currently being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used. It may have to change in future versions of this       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  firmware.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.1 08/08/16 - Added new form of SE command, with optional parameter that   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  puts SE in motion queue. (issue #51)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed issue #52 (bug in parameter check in parse_SM_packet()) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.2 08/10/16 - Fixed bug in SE command that would set engraver to 50% if    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE,1,0 was used. Also added engraver power to FIFO structure D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for when third SE parameter is 1.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.3 11/07/16 - Added QS (Query Step position) and CS (Clear Step position)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.4 11/16/16 - Added extra value to QM command to show status of FIFO       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.5 01/07/17 - Fixed math error in SM/XM commands (see issue #71)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.6 01/08/17 - Added special case code for moves less than 30ms long (this  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  special case just un-does the change for issue #71 for these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  short moves)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.0 01/09/17 - Added LM (low level move) command to allow PC to do all math D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.1 01/18/17 - Fixed LM command to take negative and positive Accel         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed 25KHz ISR to be much closer to 25KHz                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.2 07/07/17 - Fixed issue #78 : detected and reject 0,0 for LM command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed some uninitialized variables                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  LM Accel parameter went to 32 bits signed from 16 bit signed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.3 07/09/17 - Fixed bug in LM command that would corrupt currently running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    moves with new data.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.4 01/06/18 - Added ST (Set Tag), QT (Query Tag) commands.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added RB (ReBoot) command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added any name set with ST command to end of USB Device Name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed problem with reading bit 7 of any I/O port (issue #82) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.5 07/06/18 - Enhanced ST command by writing to both Device name and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    serial number USB fields.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.6 07/11/18 - Added RC Servo power control functionality on pin RA3        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Includes new QR and SR commands. See issue #103 for more   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.0 09/08/18 - Added direct servo power toggle command SR                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Set servo default timeout to 15 minutes, pen up at boot,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo power off at boot                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Changed default pen up/down positions                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.1 01/07/19 - Added "QG" general query command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.2 01/11/19 - Added "HM" Home Motor command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.3 05/24/19 - Changed default RC servo power down time from 15min to 60s   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.4 11/05/19 - Fixed bug #124 (Math error in SM command for edge case       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    input parameters)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.5 11/29/19 - Changed SR command behavior so it only enables servo power   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    after SP command, not also after stepper movement          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.6 05/26/20 - Fixed a bug with the PC/PG command which caused some changes D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    not to take effect for up to 64K more milliseconds.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       11/10/20 - Fixed bug where S2 command wouldn't turn power on to RB1     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo output if it had been turned off.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.7.0 11/19/20 - No longer allow Rate to go negative (like from LM command)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    inside ISR                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Removed AM command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional parameter <Clear> to all stepper motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    commands to allow explicit zeroing of accumulators         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Renamed internal parameters for some commands (LT/LM) for    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    clarity. Also queue structure members got renamed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional absolute position values to HM command        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added LT command, based on LM command                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in LM command based on Kinematics analysis      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in ISR (for LM/LT) based on Kinematics analysis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed bug where negative accelerations could cause delays before  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    last step.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  EM command now always clears accumulators                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Reduced effective pulse width for step pulses down to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    between 1.6 and 2.3 uS.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.0 04/22/21 - Issue 151: Added QE command to return state of motor enables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    and their microstep resolution                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 152: Move EM command to motion queue                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 153: Add optional parameter to ES command to disable   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    motors.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fix bug in ES command that didn't send return packet         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.1 07/26/22 - Issue 180: Add CU,3,1 to turn on RED LED reporting of FIFO empty D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.2 05/05/23 - Add CU,50 to control automatic motor enable                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.9.0 11/2/22  - Issue 185 : Get LT and LM commands to allow accelerations    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    through zero (i.e. reverse direction mid-move)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Massive refactor of motion ISR to improve performance        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Proper formatting/indenting of entire EBB codebase for readability D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Turned all warnings/messages on in compiler, fixed all       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <math.h>                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ubw.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "delays.h"                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_demo.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Define this to enable the use of the C step (high) ISR. Undefine for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the assembly language version                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define USE_C_ISR                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the value that gets multiplied by Steps/Duration to compute           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the StepAdd values.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define OVERFLOW_MUL            (0x8000 / HIGH_ISR_TICKS_PER_MS)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define MAX_RC_DURATION         11890                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The number of individual addressable unsigned bytes that are available        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // in the SL and QL commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define SL_STORAGE_SIZE         32u                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the FIFO that stores the motion commands. It spans multiple RAM       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // banks from 0x600 through 0xDFF (length 0x800 or 2048d), and must only be      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // accessed via pointer.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that no matter what COMMAND_FIFO_MAX_LENGTH is set to, we reserve the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // entire 0x800 bytes of space in the FIFO_scn here. That prevents the linker    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // from putting variables after this section.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata FIFO_scn                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CommandFIFO[COMMAND_FIFO_SIZE_BYTES];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These global variables are deliberately put into "Bank" 0 of RAM (the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access/near bank).                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the small global variables that the 25KHz ISR has to access.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // With them all being in bank 0, no bank switch instructions are needed         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to access them.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata access ISR_access                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //static UINT8 TookStep;       // LSb set if a step was taken                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AllDone;        // LSb set if this command is complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 isr_i;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AxisActive[NUMBER_OF_STEPPERS];     // LSb set if an axis is not done stepping D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near DriverConfigurationType DriverConfiguration;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable RC Servo output for pen up/down                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near UINT8 gUseRCPenServo;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable red LED lit when FIFO is empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gRedLEDEmptyFIFO;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set when user presses the PRG or alternate PRG button                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 ButtonPushed;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable use of alternate PRG (pause) button                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 UseAltPause;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bitfield used to keep track of what test modes are enabled/disabled           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 TestMode;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Used as temporary variable inside ISR for servo channel index                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 ISR_Channel;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary holder for PortB value in ISR so we don't have to sample more than once D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 PortBTemp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchMask;      // 8-bit PortB mask                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTarget;    // 8-bit PortB target values          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTriggered; // Non-zero if limit switch trigger has fired D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables for managing FIFO depth/indexes                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOLength;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOIn;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOOut;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Holds a local copy of the Command from CommandFIFO[gFIFOOut].Command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gFIFOCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Current length of FIFO                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gCurrentFIFOLength;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporarily store FSR0 during command copy assembly (note these can be in any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // bank)                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0L_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0H_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer in RAM to the first byte of the next unplayed FIFO command            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_high;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_low;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These values hold the global step position of each axis                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer to a MoveCommandType element of the FIFO array                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near MoveCommandType * FIFOPtr = (near MoveCommandType *)&CommandFIFO[0];        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Accumulator for each axis                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near u32b4_t acc_union[2];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // ISR globals used in test modes for keeping track of each move                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRTickCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount0ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition0ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount1ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition1ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bank 1 is the "ISR Bank". By placing all variables that the ISR needs         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access to either in the access bank (above) or in Bank 1, then the bank       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // select register can be kept pointing to Bank 1 and no bank switch instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are needed in the iSR.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata ISR_globals = 0x180                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Variables used during debug printing within ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static u32b4_t xx;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8 nib;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The move command containing the currently executing move command in the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           MoveCommandType CurrentCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned int DemoModeActive;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           SolenoidStateType SolenoidState;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned int SolenoidDelay;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // track the latest state of the pen                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           PenStateType PenState;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned long NodeCount;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned char QC_ms_timer;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT StoredEngraverPower;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set TRUE to enable solenoid output for pen up/down                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gUseSolenoid;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When FALSE, we skip parameter checks for motor move commands so they can run faster D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gLimitChecks;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable all strings to use '\n' line endings, and use standardized  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // command reply format                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 gStandardizedCommandFormat;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temp storage in ISR for late ISR compensation value                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CurTime;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals replace the local (stack) variables used during processing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and parsing of stepper motor commands. They also take the place of parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for the two low-level (process_low_level and process_simple) move functions.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Since we know that we can never be working on more than one of these commands D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // at the same time, and since we have enough global RAM space, it makes some    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // sense to make these static globals. This reduces the change of a stack        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // overflow.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_3;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_4;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_5;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_6;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_7;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_8;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_9;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_10;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_11;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These next set of defines create local, meaningful names. They reference the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // above globals, but in ways that make sense for the routine they are used in.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For HM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_StepRate    gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos1        gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos2        gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For XM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_ASteps      gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_BSteps      gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_motor_move_fp                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gDurationMS     gUInt32_1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gIntervals      gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gClearAccs      gUInt32_3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate1          gInt32_4                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps1         gInt32_5                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel1         gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk1          gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate2          gInt32_8                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps2         gInt32_9                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel2         gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk2          gInt32_11                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_rate_move_fp()                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSRM_Rate       gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /* List of functions which use (in some way) the above globals/defines           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_motor_move_fp()                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gIntervals    UINT32  gUInt32_2 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_rate_move_fp()                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSRM_Rate     UINT32  gUInt32_2 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               (none)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           parse_XM_packet()                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_ASteps    INT32   gInt32_6  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_BSteps    INT32   gInt32_10 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           */                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals are now set to be put anywhere the linker can find space for them D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static MoveCommandType gMoveTemp;     // Commands fill this then copy to FIFO    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Storage for the 32 bytes of "SL" command values                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8   gSL_Storage[32];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Local function definitions                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_StepCounters(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_low_level_move(BOOL TimedMove,  ExtractReturnType ClearRet); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_motor_move_fp(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_rate_move_fp(void);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           extern void FIFO_COPY(void);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // High ISR                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma interrupt high_ISR                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001050   cfda     MOVFF     0xfda,0xfe4    void high_ISR(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001052   ffe4                                                                                                               
001054   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001056   ffe4                                                                                                               
001058   cfea     MOVFF     0xfea,0xfe4                                                                                     
00105a   ffe4                                                                                                               
00105c   cff3     MOVFF     0xff3,0xfe4                                                                                     
00105e   ffe4                                                                                                               
001060   cff4     MOVFF     0xff4,0xfe4                                                                                     
001062   ffe4                                                                                                               
001064   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 25KHz ISR fire. Note: For speed, we don't check that INTCONbits.TMR0IF is set D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // here. We assume it is, as it's the only interrupt that should be triggering D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // calls to high_ISR()                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the interrupt                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001066   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load the current value of the timer (it will be above zero) so we know      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // how long it took from when the interrupt fired until we actually            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // serviced the interrupted.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001068   cfd6     MOVFF     0xfd6,0x1c4      CurTime = TMR0L;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106a   f1c4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because the timer is a 'count up' timer, and because it generates an        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // interrupt when it rolls over at 0x00, our TIMER0_RELOAD value is effectively D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // a negative value. By adding CurTime to that reload value, we decrease the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount of time we want to wait until the next ISR fires by the exact        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount that we were delayed by in getting to this ISR tick. Thus any        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'lateness' in this ISR tick is compensated for in the next tick, keeping    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // an overall steady 40uS between ticks even if one or two ISRs take too long  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and delay the start of the next tick by some amount.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106c   0e8a     MOVLW     0x8a             TMR0L = TIMER0_RELOAD + CurTime;  // Reload for 25KHz ISR fire                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106e   0101     MOVLB     0x1                                                                                             
001070   25c4     ADDWF     0xc4,0x0,0x1                                                                                    
001072   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001074   b209     BTFSC     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001076   828c     BSF       0x8c,0x1,0x0       LATDbits.LATD1 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001078   8000     BSF       0x0,0x0,0x0      bitsetzero(AllDone);      // Start every ISR assuming we are done with the current command - set bit 0 of AllDone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Process a motor move command of any type                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This is the main chunk of code for EBB : the step generation code in the 25KHz ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The first section determines if we need to take any steps this time through the ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It is broken into sections, one for each type of stepper motion command because  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // they each have different amounts of processing needed to determine if a step is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // necessary or not.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then the second section is common to all stepper motion commands and handles D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the actual step pulse generation as well as direction bit control.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Active bits will be set if there is still motion left to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // generate on an axis. They are set when the command is first loaded          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into CurrentCommand and then cleared once all steps have been taken         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (either in time or in step count). They are checked inside each             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // command's step processing (below) so that we only spend time working        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // on axis that have activity left                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Important assumptions:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // There is only one bit set in the CurrentCommand.Command byte                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // A very complete mathematical analysis of the way the various stepper        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands are expected to work can be found here;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // https://evilmadscience.s3.amazonaws.com/dl/ad/public/AxiDrawKinematics.pdf  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here we handle the 'simple' (non accelerating) stepper commands.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These three command (SM, XM and HM) do not use                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // acceleration and so that code is left out to save time. This is also        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the most common command used by the various PC softwares so we check        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for it first.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107a   0e05     MOVLW     0x5              if (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00107e   e13f     BNZ       0x10fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Direction bits need to be output before step bits. Since we know step bis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are clear at this point, it's safe to always output direction bits here   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // before we start messing with the step bits                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001080   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001082   e104     BNZ       0x108c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001084   0e5f     MOVLW     0x5f                 LATD = (PORTD & ~(DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001086   1483     ANDWF     0x83,0x0,0x0                                                                                    
001088   1186     IORWF     0x86,0x0,0x1                                                                                    
00108a   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108c   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108e   d008     BRA       0x10a0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001090   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001092   1402     ANDWF     0x2,0x0,0x0                                                                                     
001094   e103     BNZ       0x109c                                                                                          
001096   0e01     MOVLW     0x1                                                                                             
001098   1403     ANDWF     0x3,0x0,0x0                                                                                     
00109a   e002     BZ        0x10a0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109c   eca9     CALL      0x3752,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109e   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a0   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a2   d012     BRA       0x10c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Add the rate to the accumulator and see if the MSb got set. If so       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // then take a step and record that the step was taken                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a4   ecf6     CALL      0x39ec,0x0           acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a6   f01c                                                                                                               
0039ec   518c     MOVF      0x8c,0x0,0x1                                                                                    
0039ee   261e     ADDWF     0x1e,0x1,0x0                                                                                    
0039f0   518d     MOVF      0x8d,0x0,0x1                                                                                    
0039f2   221f     ADDWFC    0x1f,0x1,0x0                                                                                    
0039f4   518e     MOVF      0x8e,0x0,0x1                                                                                    
0039f6   2220     ADDWFC    0x20,0x1,0x0                                                                                    
0039f8   518f     MOVF      0x8f,0x0,0x1                                                                                    
0039fa   2221     ADDWFC    0x21,0x1,0x0                                                                                    
0039fc   0012     RETURN    0x0                                                                                             
0010a8   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010aa   d00e     BRA       0x10c8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ac   9e21     BCF       0x21,0x7,0x0           acc_union[0].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ae   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b0   ecaf     CALL      0x375e,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b2   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b4   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b6   d004     BRA       0x10c0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b8   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ba   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0010bc   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0010be   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // For these stepper motion commands zero steps left means               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // the axis is no longer active                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c0   ec54     CALL      0x36a8,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c2   f01b                                                                                                               
0010c4   e101     BNZ       0x10c8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c6   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c8   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ca   d011     BRA       0x10ee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010cc   ecff     CALL      0x39fe,0x0           acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ce   f01c                                                                                                               
0039fe   5190     MOVF      0x90,0x0,0x1                                                                                    
003a00   2622     ADDWF     0x22,0x1,0x0                                                                                    
003a02   5191     MOVF      0x91,0x0,0x1                                                                                    
003a04   2223     ADDWFC    0x23,0x1,0x0                                                                                    
003a06   5192     MOVF      0x92,0x0,0x1                                                                                    
003a08   2224     ADDWFC    0x24,0x1,0x0                                                                                    
003a0a   5193     MOVF      0x93,0x0,0x1                                                                                    
003a0c   2225     ADDWFC    0x25,0x1,0x0                                                                                    
003a0e   0012     RETURN    0x0                                                                                             
0010d0   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d2   d00d     BRA       0x10ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d4   9e25     BCF       0x25,0x7,0x0           acc_union[1].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d6   ecf2     CALL      0x37e4,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037e4   8986                                                                                                               
0010d8   f01b     WORD2     0x1b                   CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037e6   0798     DECF      0x98,0x1,0x1                                                                                    
0037e8   0e00     MOVLW     0x0                                                                                             
0037ea   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
0037ec   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
0037ee   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
0037f0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010da   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010dc   d004     BRA       0x10e6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010de   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e0   2233     ADDWFC    0x33,0x1,0x0                                                                                    
0010e2   2234     ADDWFC    0x34,0x1,0x0                                                                                    
0010e4   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e6   ecbe     CALL      0x377c,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e8   f01b                                                                                                               
0010ea   e101     BNZ       0x10ee                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ec   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ee   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f0   1402     ANDWF     0x2,0x0,0x0                                                                                     
0010f2   e151     BNZ       0x1196                                                                                          
0010f4   0e01     MOVLW     0x1                                                                                             
0010f6   1403     ANDWF     0x3,0x0,0x0                                                                                     
0010f8   e101     BNZ       0x10fc                                                                                          
0010fa   d08b     BRA       0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fc   d04c     BRA       0x1196             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Low level Move (LM) : This one uses acceleration, so take that              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into account.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fe   0e06     MOVLW     0x6              if (CurrentCommand.Command == COMMAND_LM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001100   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001102   e14b     BNZ       0x119a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001104   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001106   d008     BRA       0x1118                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001108   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110a   1402     ANDWF     0x2,0x0,0x0                                                                                     
00110c   e103     BNZ       0x1114                                                                                          
00110e   0e01     MOVLW     0x1                                                                                             
001110   1403     ANDWF     0x3,0x0,0x0                                                                                     
001112   e002     BZ        0x1118                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001114   eca9     CALL      0x3752,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001116   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1   LM ////                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001118   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111a   d01b     BRA       0x1152                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111c   ec3d     CALL      0x347a,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111e   f01a                                                                                                               
00347a   519c     MOVF      0x9c,0x0,0x1                                                                                    
00347c   27a4     ADDWF     0xa4,0x1,0x1                                                                                    
00347e   519d     MOVF      0x9d,0x0,0x1                                                                                    
003480   23a5     ADDWFC    0xa5,0x1,0x1                                                                                    
003482   519e     MOVF      0x9e,0x0,0x1                                                                                    
003484   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
003486   519f     MOVF      0x9f,0x0,0x1                                                                                    
003488   23a7     ADDWFC    0xa7,0x1,0x1                                                                                    
00348a   51a4     MOVF      0xa4,0x0,0x1         CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00348c   278c     ADDWF     0x8c,0x1,0x1                                                                                    
00348e   51a5     MOVF      0xa5,0x0,0x1                                                                                    
003490   238d     ADDWFC    0x8d,0x1,0x1                                                                                    
003492   51a6     MOVF      0xa6,0x0,0x1                                                                                    
003494   238e     ADDWFC    0x8e,0x1,0x1                                                                                    
003496   51a7     MOVF      0xa7,0x0,0x1                                                                                    
003498   238f     ADDWFC    0x8f,0x1,0x1                                                                                    
00349a   eff6     GOTO      0x39ec               acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00349c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001120   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001122   d017     BRA       0x1152                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001124   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001126   1421     ANDWF     0x21,0x0,0x0                                                                                    
001128   6e21     MOVWF     0x21,0x0                                                                                        
00112a   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112c   ecaf     CALL      0x375e,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001130   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001132   d004     BRA       0x113c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001134   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001136   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
001138   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
00113a   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113c   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113e   d003     BRA       0x1146                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001140   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001142   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001144   d002     BRA       0x114a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001146   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001148   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114a   ec54     CALL      0x36a8,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114c   f01b                                                                                                               
00114e   e101     BNZ       0x1152                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001150   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2    LM ////                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001152   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001154   d01a     BRA       0x118a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001156   ec4f     CALL      0x349e,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001158   f01a                                                                                                               
00349e   51a0     MOVF      0xa0,0x0,0x1                                                                                    
0034a0   27a8     ADDWF     0xa8,0x1,0x1                                                                                    
0034a2   51a1     MOVF      0xa1,0x0,0x1                                                                                    
0034a4   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
0034a6   51a2     MOVF      0xa2,0x0,0x1                                                                                    
0034a8   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
0034aa   51a3     MOVF      0xa3,0x0,0x1                                                                                    
0034ac   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
0034ae   51a8     MOVF      0xa8,0x0,0x1         CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034b0   2790     ADDWF     0x90,0x1,0x1                                                                                    
0034b2   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0034b4   2391     ADDWFC    0x91,0x1,0x1                                                                                    
0034b6   51aa     MOVF      0xaa,0x0,0x1                                                                                    
0034b8   2392     ADDWFC    0x92,0x1,0x1                                                                                    
0034ba   51ab     MOVF      0xab,0x0,0x1                                                                                    
0034bc   2393     ADDWFC    0x93,0x1,0x1                                                                                    
0034be   efff     GOTO      0x39fe               acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034c0   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115a   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115c   d016     BRA       0x118a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115e   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001160   1425     ANDWF     0x25,0x0,0x0                                                                                    
001162   6e25     MOVWF     0x25,0x0                                                                                        
001164   ecf2     CALL      0x37e4,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001166   f01b                                      CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001168   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116a   d004     BRA       0x1174                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116c   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116e   2233     ADDWFC    0x33,0x1,0x0                                                                                    
001170   2234     ADDWFC    0x34,0x1,0x0                                                                                    
001172   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001174   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001176   d003     BRA       0x117e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001178   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117a   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117c   d002     BRA       0x1182                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117e   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001180   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001182   ecbe     CALL      0x377c,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001184   f01b                                                                                                               
001186   e101     BNZ       0x118a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001188   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118a   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118c   1402     ANDWF     0x2,0x0,0x0                                                                                     
00118e   e103     BNZ       0x1196                                                                                          
001190   0e01     MOVLW     0x1                                                                                             
001192   1403     ANDWF     0x3,0x0,0x0                                                                                     
001194   e03e     BZ        0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001196   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001198   d03c     BRA       0x1212             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Low level Timed (LT) command is pretty special. Instead of running      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until all step counts are zero, it runs for a certain amount of 25Khz       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ISR ticks (stored in .Steps[0]). Both axis continue to produce steps        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until the time is used up. This affects how AxisActive is computed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Only AxisActive[0] is used for this command, not AxisActive[1].             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119a   0e07     MOVLW     0x7              if (CurrentCommand.Command == COMMAND_LT_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00119e   e139     BNZ       0x1212                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Has time run out for this command yet?                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a0   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a2   d037     BRA       0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the test mode is active, count this tick as part of the move if there D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // are steps to take.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a4   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a6   d002     BRA       0x11ac                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a8   eca9     CALL      0x3752,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011aa   f01b                                                                                                               
003752   2a26     INCF      0x26,0x1,0x0                                                                                    
003754   0e00     MOVLW     0x0                                                                                             
003756   2227     ADDWFC    0x27,0x1,0x0                                                                                    
003758   2228     ADDWFC    0x28,0x1,0x0                                                                                    
00375a   2229     ADDWFC    0x29,0x1,0x0                                                                                    
00375c   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // A simple optimization: we only have one 'count' for LT, to know         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // when we're done, so we can directly clear AllDone here if we are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // not yet done with this move.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ac   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Nope not done. So count this ISR tick, and then see if we need to take  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // a step                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ae   ecaf     CALL      0x375e,0x0           CurrentCommand.m.sm.Steps[0]--;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b0   f01b                                                                                                               
00375e   0794     DECF      0x94,0x1,0x1                                                                                    
003760   0e00     MOVLW     0x0                                                                                             
003762   5b95     SUBWFB    0x95,0x1,0x1                                                                                    
003764   5b96     SUBWFB    0x96,0x1,0x1                                                                                    
003766   5b97     SUBWFB    0x97,0x1,0x1                                                                                    
003768   0012     RETURN    0x0                                                                                             
0011b2   ec54     CALL      0x36a8,0x0           if (CurrentCommand.m.sm.Steps[0] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b4   f01b                                                                                                               
0011b6   e101     BNZ       0x11ba                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b8   9002     BCF       0x2,0x0,0x0            bitclrzero(AxisActive[0]);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 1   LT ////                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ba   ec3d     CALL      0x347a,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011bc   f01a                                                                                                               
                                                 CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011be   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c0   d012     BRA       0x11e6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c2   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c4   1421     ANDWF     0x21,0x0,0x0                                                                                    
0011c6   6e21     MOVWF     0x21,0x0                                                                                        
0011c8   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ca   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011cc   d005     BRA       0x11d8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ce   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d0   0e00     MOVLW     0x0                                                                                             
0011d2   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0011d4   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0011d6   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d8   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011da   d003     BRA       0x11e2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011dc   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011de   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e0   d002     BRA       0x11e6                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e2   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e4   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 2    LT  ////                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e6   ec4f     CALL      0x349e,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e8   f01a                                                                                                               
                                                 CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ea   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ec   d012     BRA       0x1212                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ee   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f0   1425     ANDWF     0x25,0x0,0x0                                                                                    
0011f2   6e25     MOVWF     0x25,0x0                                                                                        
0011f4   8986     BSF       0x86,0x4,0x1           CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f6   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f8   d005     BRA       0x1204                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fa   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fc   0e00     MOVLW     0x0                                                                                             
0011fe   2233     ADDWFC    0x33,0x1,0x0                                                                                    
001200   2234     ADDWFC    0x34,0x1,0x0                                                                                    
001202   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001204   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001206   d003     BRA       0x120e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001208   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120a   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120c   d002     BRA       0x1212                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120e   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001210   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This next block of code (OutputBits:) is common to all of the above         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // stepper motion commands. Each of them either jumps here when they           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // are done or falls through in the case of the last command above.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This block sets/clears step and direction GPIO bits if the command that just D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ran needs to output something new. Also takes care of recording this        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // step properly.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // NOTE: Even though it seems like a bad idea to have non-stepper              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands execute this block before they are caught below, doing it this     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // way saves a few instruction cycles for the commands where speed matters     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // most - the stepper commands.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           OutputBits:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check to see if either stepper needs to actually output a step pulse    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001212   0e50     MOVLW     0x50             if ((CurrentCommand.m.sm.DirBits & (STEP1_BIT | STEP2_BIT)) != 0u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001214   1586     ANDWF     0x86,0x0,0x1                                                                                    
001216   e04e     BZ        0x12b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001218   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121a   e105     BNZ       0x1226                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121c   0e0f     MOVLW     0xf                  LATD = (PORTD & ~(STEP1_BIT | STEP2_BIT | DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121e   1483     ANDWF     0x83,0x0,0x0                                                                                    
001220   1186     IORWF     0x86,0x0,0x1                                                                                    
001222   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001224   d00e     BRA       0x1242             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the DIR Bits                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001226   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001228   d002     BRA       0x122e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122a   848b     BSF       0x8b,0x2,0x0           Dir1AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122c   d001     BRA       0x1230               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122e   948b     BCF       0x8b,0x2,0x0           Dir1AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001230   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001232   d002     BRA       0x1238                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001234   8489     BSF       0x89,0x2,0x0           Dir2AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001236   d001     BRA       0x123a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001238   9489     BCF       0x89,0x2,0x0           Dir2AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the STEP bits                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123a   bd86     BTFSC     0x86,0x6,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123c   8c8b     BSF       0x8b,0x6,0x0           Step1AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123e   b986     BTFSC     0x86,0x4,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001240   8a89     BSF       0x89,0x5,0x0           Step2AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This next section not only counts the step(s) we are taking, but          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // also acts as a delay to keep the step bit set for a little while.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001242   ad86     BTFSS     0x86,0x6,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001244   d019     BRA       0x1278                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001246   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001248   d00c     BRA       0x1262                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124a   0616     DECF      0x16,0x1,0x0           globalStepCounter1--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124c   0e00     MOVLW     0x0                                                                                             
00124e   5a17     SUBWFB    0x17,0x1,0x0                                                                                    
001250   5a18     SUBWFB    0x18,0x1,0x0                                                                                    
001252   5a19     SUBWFB    0x19,0x1,0x0                                                                                    
001254   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001256   d010     BRA       0x1278                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001258   062e     DECF      0x2e,0x1,0x0             gISRPosition0ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125a   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
00125c   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
00125e   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001260   d00b     BRA       0x1278               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001262   2a16     INCF      0x16,0x1,0x0           globalStepCounter1++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001264   0e00     MOVLW     0x0                                                                                             
001266   2217     ADDWFC    0x17,0x1,0x0                                                                                    
001268   2218     ADDWFC    0x18,0x1,0x0                                                                                    
00126a   2219     ADDWFC    0x19,0x1,0x0                                                                                    
00126c   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00126e   d004     BRA       0x1278                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001270   2a2e     INCF      0x2e,0x1,0x0             gISRPosition0ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001272   222f     ADDWFC    0x2f,0x1,0x0                                                                                    
001274   2230     ADDWFC    0x30,0x1,0x0                                                                                    
001276   2231     ADDWFC    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001278   a986     BTFSS     0x86,0x4,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127a   d019     BRA       0x12ae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127c   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127e   d00c     BRA       0x1298                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001280   061a     DECF      0x1a,0x1,0x0           globalStepCounter2--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001282   0e00     MOVLW     0x0                                                                                             
001284   5a1b     SUBWFB    0x1b,0x1,0x0                                                                                    
001286   5a1c     SUBWFB    0x1c,0x1,0x0                                                                                    
001288   5a1d     SUBWFB    0x1d,0x1,0x0                                                                                    
00128a   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128c   d010     BRA       0x12ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128e   0636     DECF      0x36,0x1,0x0             gISRPosition1ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001290   5a37     SUBWFB    0x37,0x1,0x0                                                                                    
001292   5a38     SUBWFB    0x38,0x1,0x0                                                                                    
001294   5a39     SUBWFB    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001296   d00b     BRA       0x12ae               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001298   2a1a     INCF      0x1a,0x1,0x0           globalStepCounter2++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00129a   0e00     MOVLW     0x0                                                                                             
00129c   221b     ADDWFC    0x1b,0x1,0x0                                                                                    
00129e   221c     ADDWFC    0x1c,0x1,0x0                                                                                    
0012a0   221d     ADDWFC    0x1d,0x1,0x0                                                                                    
0012a2   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a4   d004     BRA       0x12ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a6   2a36     INCF      0x36,0x1,0x0             gISRPosition1ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a8   2237     ADDWFC    0x37,0x1,0x0                                                                                    
0012aa   2238     ADDWFC    0x38,0x1,0x0                                                                                    
0012ac   2239     ADDWFC    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the two step bits so they're empty for the next pass through ISR    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ae   0eaf     MOVLW     0xaf               CurrentCommand.m.sm.DirBits &= ~(STEP1_BIT | STEP2_BIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b0   1786     ANDWF     0x86,0x1,0x1                                                                                    
                                               // We need to skip over all the rest of command checks, since we already     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // handled the command that is currently executing.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b2   d0e4     BRA       0x147c             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           NonStepperCommands:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check for all the other (non-stepper based) motion FIFO commands        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b4   0e02     MOVLW     0x2              if (CurrentCommand.Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b6   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0012b8   e158     BNZ       0x136a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should change the state of the pen                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ba   a005     BTFSS     0x5,0x0,0x0        if (bittstzero(gUseRCPenServo))                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012bc   d03a     BRA       0x1332                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Precompute the channel, since we use it all over the place              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012be   05af     DECF      0xaf,0x0,0x1         ISR_Channel = CurrentCommand.m.sm.ServoChannel - 1;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c0   6e0a     MOVWF     0xa,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This code below is the meat of the RCServo2_Move() function             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We have to manually write it in here rather than calling                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the function because a real function inside the ISR                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // causes the compiler to generate enormous amounts of setup/tear down     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // code and things run way too slowly.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the user is trying to turn off this channel's RC servo output        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c2   51ad     MOVF      0xad,0x0,0x1         if (0u == CurrentCommand.m.sm.ServoPosition)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c4   11ae     IORWF     0xae,0x0,0x1                                                                                    
0012c6   e11a     BNZ       0x12fc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Turn off the PPS routing to the pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c8   ec4d     CALL      0x369a,0x0             *(gRC2RPORPtr + gRC2RPn[ISR_Channel]) = 0;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ca   f01b                                                                                                               
0012cc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0012ce   0100     MOVLB     0x0                                                                                             
0012d0   6aea     CLRF      0xea,0x0                                                                                        
0012d2   259c     ADDWF     0x9c,0x0,0x1                                                                                    
0012d4   6ee9     MOVWF     0xe9,0x0                                                                                        
0012d6   519d     MOVF      0x9d,0x0,0x1                                                                                    
0012d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0012da   6aef     CLRF      0xef,0x0                                                                                        
                                                   // Clear everything else out for this channel                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012dc   ec40     CALL      0x3a80,0x0             gRC2Rate[ISR_Channel] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012de   f01d                                                                                                               
0012e0   6aee     CLRF      0xee,0x0                                                                                        
0012e2   6aed     CLRF      0xed,0x0                                                                                        
003a80   dcef     RCALL     0x3460                                                                                          
003a82   0e89     MOVLW     0x89                                                                                            
003a84   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003a86   0e00     MOVLW     0x0                                                                                             
003a88   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003a8a   0012     RETURN    0x0                                                                                             
0012e4   ec46     CALL      0x3a8c,0x0             gRC2Target[ISR_Channel] = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012e6   f01d                                                                                                               
0012e8   6aee     CLRF      0xee,0x0                                                                                        
0012ea   6aed     CLRF      0xed,0x0                                                                                        
003a8c   dce9     RCALL     0x3460                                                                                          
003a8e   0e79     MOVLW     0x79                                                                                            
003a90   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003a92   0e00     MOVLW     0x0                                                                                             
003a94   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003a96   0012     RETURN    0x0                                                                                             
0012ec   ec4d     CALL      0x369a,0x0             gRC2RPn[ISR_Channel] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ee   f01b                                                                                                               
0012f0   6aef     CLRF      0xef,0x0                                                                                        
0012f2   ec5a     CALL      0x3ab4,0x0             gRC2Value[ISR_Channel] = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012f4   f01d                                                                                                               
0012f6   6aee     CLRF      0xee,0x0                                                                                        
0012f8   6aed     CLRF      0xed,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fa   d01b     BRA       0x1332               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Otherwise, set all of the values that start this RC servo moving      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fc   ec40     CALL      0x3a80,0x0             gRC2Rate[ISR_Channel] = CurrentCommand.m.sm.ServoRate;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fe   f01d                                                                                                               
001300   c1b0     MOVFF     0x1b0,0xfee                                                                                     
001302   ffee                                                                                                               
001304   c1b1     MOVFF     0x1b1,0xfed                                                                                     
001306   ffed                                                                                                               
001308   ec46     CALL      0x3a8c,0x0             gRC2Target[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130a   f01d                                                                                                               
00130c   c1ad     MOVFF     0x1ad,0xfee                                                                                     
00130e   ffee                                                                                                               
001310   c1ae     MOVFF     0x1ae,0xfed                                                                                     
001312   ffed                                                                                                               
001314   ec4d     CALL      0x369a,0x0             gRC2RPn[ISR_Channel] = CurrentCommand.m.sm.ServoRPn;                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001316   f01b                                                                                                               
001318   c1ac     MOVFF     0x1ac,0xfef                                                                                     
00131a   ffef                                                                                                               
00369a   500a     MOVF      0xa,0x0,0x0                                                                                     
00369c   6aea     CLRF      0xea,0x0                                                                                        
00369e   0f71     ADDLW     0x71                                                                                            
0036a0   6ee9     MOVWF     0xe9,0x0                                                                                        
0036a2   0e00     MOVLW     0x0                                                                                             
0036a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0036a6   0012     RETURN    0x0                                                                                             
00131c   ec5a     CALL      0x3ab4,0x0             if (gRC2Value[ISR_Channel] == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00131e   f01d                                                                                                               
001320   50ee     MOVF      0xee,0x0,0x0                                                                                    
001322   10ed     IORWF     0xed,0x0,0x0                                                                                    
001324   e106     BNZ       0x1332                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001326   ec5a     CALL      0x3ab4,0x0               gRC2Value[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001328   f01d                                                                                                               
00132a   c1ad     MOVFF     0x1ad,0xfee                                                                                     
00132c   ffee                                                                                                               
00132e   c1ae     MOVFF     0x1ae,0xfed                                                                                     
001330   ffed                                                                                                               
003460   500a     MOVF      0xa,0x0,0x0                                                                                     
003462   6ee9     MOVWF     0xe9,0x0                                                                                        
003464   6aea     CLRF      0xea,0x0                                                                                        
003466   90d8     BCF       0xd8,0x0,0x0                                                                                    
003468   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00346a   36ea     RLCF      0xea,0x1,0x0                                                                                    
00346c   0012     RETURN    0x0                                                                                             
00382a   0e61     MOVLW     0x61                                                                                            
00382c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00382e   0e00     MOVLW     0x0                                                                                             
003830   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003832   0012     RETURN    0x0                                                                                             
003ab4   dcd5     RCALL     0x3460                                                                                          
003ab6   ef15     GOTO      0x382a                                                                                          
003ab8   f01c                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If this servo is the pen servo (on g_servo2_RPn)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001332   0100     MOVLB     0x0                if (CurrentCommand.m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001334   51a6     MOVF      0xa6,0x0,0x1                                                                                    
001336   0101     MOVLB     0x1                                                                                             
001338   5dac     SUBWF     0xac,0x0,0x1                                                                                    
00133a   e117     BNZ       0x136a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Then set its new state based on the new position                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133c   0100     MOVLB     0x0                  if (CurrentCommand.m.sm.ServoPosition == g_servo2_min)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133e   51a0     MOVF      0xa0,0x0,0x1                                                                                    
001340   0101     MOVLB     0x1                                                                                             
001342   19ad     XORWF     0xad,0x0,0x1                                                                                    
001344   e10c     BNZ       0x135e                                                                                          
001346   0100     MOVLB     0x0                                                                                             
001348   51a1     MOVF      0xa1,0x0,0x1                                                                                    
00134a   0101     MOVLB     0x1                                                                                             
00134c   19ae     XORWF     0xae,0x0,0x1                                                                                    
00134e   e107     BNZ       0x135e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001350   0e01     MOVLW     0x1                    PenState = PEN_UP;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001352   6fb9     MOVWF     0xb9,0x1                                                                                        
001354   6bb6     CLRF      0xb6,0x1               SolenoidState = SOLENOID_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001356   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001358   e008     BZ        0x136a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135a   988a     BCF       0x8a,0x4,0x0             PenUpDownIO = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135c   d006     BRA       0x136a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135e   6bb9     CLRF      0xb9,0x1               PenState = PEN_DOWN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001360   0e01     MOVLW     0x1                    SolenoidState = SOLENOID_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001362   6fb6     MOVWF     0xb6,0x1                                                                                        
001364   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001366   e001     BZ        0x136a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001368   888a     BSF       0x8a,0x4,0x0             PenUpDownIO = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001376   0e02     MOVLW     0x2                (CurrentCommand.Command == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001378   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00137a   e002     BZ        0x1380                                                                                          
00137c   0e00     MOVLW     0x0                                                                                             
00137e   d001     BRA       0x1382                                                                                          
001380   0e01     MOVLW     0x1                                                                                             
                                               |                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136a   0585     DECF      0x85,0x0,0x1       (CurrentCommand.Command == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136c   e002     BZ        0x1372                                                                                          
00136e   0e00     MOVLW     0x0                                                                                             
001370   d001     BRA       0x1374                                                                                          
001372   0e01     MOVLW     0x1                                                                                             
001374   6e5a     MOVWF     0x5a,0x0                                                                                        
001382   105a     IORWF     0x5a,0x0,0x0     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001384   e00e     BZ        0x13a2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: Intentional fall-through to COMMAND_DELAY here                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Because the only two commands that ever use DelayCounter are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // COMMAND_DELAY and COMMAND_SERVO_MOVE. So we handle the servo stuff        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // above, and then let it fall through to the delay code below.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Handle a delay                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001386   ecc3     CALL      0x3786,0x0         if (CurrentCommand.m.sm.DelayCounter)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001388   f01b                                                                                                               
00138a   e101     BNZ       0x138e                                                                                          
00138c   d077     BRA       0x147c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00138e   0787     DECF      0x87,0x1,0x1         CurrentCommand.m.sm.DelayCounter--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001390   0e00     MOVLW     0x0                                                                                             
001392   5b88     SUBWFB    0x88,0x1,0x1                                                                                    
001394   5b89     SUBWFB    0x89,0x1,0x1                                                                                    
001396   5b8a     SUBWFB    0x8a,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001398   ecc3     CALL      0x3786,0x0           if (CurrentCommand.m.sm.DelayCounter)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139a   f01b                                                                                                               
00139c   e06f     BZ        0x147c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139e   9000     BCF       0x0,0x0,0x0            bitclrzero(AllDone);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a0   d06d     BRA       0x147c             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a2   0e03     MOVLW     0x3              if (CurrentCommand.Command == COMMAND_SE)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a4   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0013a6   e12a     BNZ       0x13fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should start or stop the engraver                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State of the SE command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a8   518b     MOVF      0x8b,0x0,0x1       if (CurrentCommand.m.sm.SEState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013aa   e023     BZ        0x13f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ac   c1b2     MOVFF     0x1b2,0x5a           CCPR1L = CurrentCommand.m.sm.SEPower >> 2;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ae   f05a                                                                                                               
0013b0   c1b3     MOVFF     0x1b3,0x5b                                                                                      
0013b2   f05b                                                                                                               
0013b4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013b6   325b     RRCF      0x5b,0x1,0x0                                                                                    
0013b8   325a     RRCF      0x5a,0x1,0x0                                                                                    
0013ba   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013bc   325b     RRCF      0x5b,0x1,0x0                                                                                    
0013be   325a     RRCF      0x5a,0x1,0x0                                                                                    
0013c0   505a     MOVF      0x5a,0x0,0x0                                                                                    
0013c2   6ebb     MOVWF     0xbb,0x0                                                                                        
0013c4   c1bf     MOVFF     0x1bf,0x5c           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c6   f05c                                                                                                               
0013c8   c1c0     MOVFF     0x1c0,0x5d                                                                                      
0013ca   f05d                                                                                                               
0013cc   0e04     MOVLW     0x4                                                                                             
0013ce   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013d0   365c     RLCF      0x5c,0x1,0x0                                                                                    
0013d2   365d     RLCF      0x5d,0x1,0x0                                                                                    
0013d4   04e8     DECF      0xe8,0x0,0x0                                                                                    
0013d6   e1fb     BNZ       0x13ce                                                                                          
0013d8   0e30     MOVLW     0x30                                                                                            
0013da   165c     ANDWF     0x5c,0x1,0x0                                                                                    
0013dc   0e00     MOVLW     0x0                                                                                             
0013de   165d     ANDWF     0x5d,0x1,0x0                                                                                    
0013e0   0ecf     MOVLW     0xcf                                                                                            
0013e2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013e4   0100     MOVLB     0x0                                                                                             
0013e6   105c     IORWF     0x5c,0x0,0x0                                                                                    
0013e8   6e5a     MOVWF     0x5a,0x0                                                                                        
0013ea   c05d     MOVFF     0x5d,0x5b                                                                                       
0013ec   f05b                                                                                                               
0013ee   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f0   d003     BRA       0x13f8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f2   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f4   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f6   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013f8   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fa   d03f     BRA       0x147a             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fc   0e04     MOVLW     0x4              if (CurrentCommand.Command == COMMAND_EM)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fe   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001400   e13d     BNZ       0x147c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As of version 2.8.0, we now have the EM command transplanted here into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the motion queue. This is so that changes to motor enable or microstep    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution happen at predictable times rather than randomly.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We use CurrentCommand.m.sm.DirBits as "EA1" (the first parameter) and     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // CurrentCommand.m.sm.ServoRPn as "EA2" (the second parameter) since they're D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // both UINT8s.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001402   5186     MOVF      0x86,0x0,0x1       if (CurrentCommand.m.sm.DirBits > 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001404   0800     SUBLW     0x0                                                                                             
001406   e223     BC        0x144e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001408   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140a   e102     BNZ       0x1410                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140c   908d     BCF       0x8d,0x0,0x0           Enable1IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140e   d001     BRA       0x1412               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001410   928c     BCF       0x8c,0x1,0x0           Enable1AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001412   0586     DECF      0x86,0x0,0x1         if (CurrentCommand.m.sm.DirBits == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001414   e103     BNZ       0x141c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001416   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001418   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141a   8c89     BSF       0x89,0x6,0x0           MS3_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141c   0e02     MOVLW     0x2                  if (CurrentCommand.m.sm.DirBits == 2u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141e   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001420   e103     BNZ       0x1428                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001422   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001424   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001426   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001428   0e03     MOVLW     0x3                  if (CurrentCommand.m.sm.DirBits == 3u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142a   5d86     SUBWF     0x86,0x0,0x1                                                                                    
00142c   e103     BNZ       0x1434                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142e   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001430   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001432   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001434   0e04     MOVLW     0x4                  if (CurrentCommand.m.sm.DirBits == 4u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001436   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001438   e103     BNZ       0x1440                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143a   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143c   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143e   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001440   0e05     MOVLW     0x5                  if (CurrentCommand.m.sm.DirBits == 5u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001442   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001444   e109     BNZ       0x1458                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001446   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001448   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144a   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144c   d005     BRA       0x1458             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144e   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001450   e102     BNZ       0x1456                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001452   808d     BSF       0x8d,0x0,0x0           Enable1IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001454   d001     BRA       0x1458               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001456   828c     BSF       0x8c,0x1,0x0           Enable1AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001458   51ac     MOVF      0xac,0x0,0x1       if (CurrentCommand.m.sm.ServoRPn > 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145a   0800     SUBLW     0x0                                                                                             
00145c   e206     BC        0x146a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145e   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001460   e102     BNZ       0x1466                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001462   928b     BCF       0x8b,0x1,0x0           Enable2IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001464   d007     BRA       0x1474               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001466   9289     BCF       0x89,0x1,0x0           Enable2AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001468   d005     BRA       0x1474             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146a   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146c   e102     BNZ       0x1472                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146e   828b     BSF       0x8b,0x1,0x0           Enable2IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001470   d001     BRA       0x1474               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001472   8289     BSF       0x89,0x1,0x0           Enable2AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Always clear the step counts if motors are enabled/disabled or            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution is changed.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: This section is the same code as clear_StepCounters(), but since    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // we can't have any function calls in an ISR (or the ISR blows up in        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // space and speed) we have to copy the guts of that function here.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear out the global step counters                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001474   eca2     CALL      0x3544,0x0         globalStepCounter1 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001476   f01a                                                                                                               
003544   6a16     CLRF      0x16,0x0                                                                                        
003546   6a17     CLRF      0x17,0x0                                                                                        
003548   6a18     CLRF      0x18,0x0                                                                                        
00354a   6a19     CLRF      0x19,0x0                                                                                        
00354c   6a1a     CLRF      0x1a,0x0           globalStepCounter2 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00354e   6a1b     CLRF      0x1b,0x0                                                                                        
003550   6a1c     CLRF      0x1c,0x0                                                                                        
003552   6a1d     CLRF      0x1d,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear both step accumulators as well                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003554   6a1e     CLRF      0x1e,0x0           acc_union[0].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003556   6a1f     CLRF      0x1f,0x0                                                                                        
003558   6a20     CLRF      0x20,0x0                                                                                        
00355a   6a21     CLRF      0x21,0x0                                                                                        
00355c   6a22     CLRF      0x22,0x0           acc_union[1].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00355e   6a23     CLRF      0x23,0x0                                                                                        
003560   6a24     CLRF      0x24,0x0                                                                                        
003562   6a25     CLRF      0x25,0x0                                                                                        
003564   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // All EM command clear the limit switch trigger                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001478   900e     BCF       0xe,0x0,0x0        bitclrzero(gLimitSwitchTriggered);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147a   8000     BSF       0x0,0x0,0x0        bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If no bits in CurrentCommand.Command are set then AllDone will be true,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // so we'll go on to the next command (if there is one)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           CheckForNextCommand:                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Deal with printing out internal ISR values                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Note that TEST_MODE_USART_ISR_BIT is set for both normal (only end of move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and full (every ISR tick) printing.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147c   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147e   d0fd     BRA       0x167a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001480   0e01     MOVLW     0x1                if (bittstzero(AllDone) || bittst(TestMode, TEST_MODE_USART_ISR_FULL_NUM))   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001482   1400     ANDWF     0x0,0x0,0x0                                                                                     
001484   e104     BNZ       0x148e                                                                                          
001486   0e08     MOVLW     0x8                                                                                             
001488   1409     ANDWF     0x9,0x0,0x0                                                                                     
00148a   e101     BNZ       0x148e                                                                                          
00148c   d0f6     BRA       0x167a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If this is the end of an LM move, then print out all the important values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of everything (now that global step positions have been taken into      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // account) for checking that our math is working right                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014ac   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014ae   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0014b0   e002     BZ        0x14b6                                                                                          
0014b2   0e00     MOVLW     0x0                                                                                             
0014b4   d001     BRA       0x14b8                                                                                          
0014b6   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00149e   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014a0   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0014a2   e002     BZ        0x14a8                                                                                          
0014a4   0e00     MOVLW     0x0                                                                                             
0014a6   d001     BRA       0x14aa                                                                                          
0014a8   0e01     MOVLW     0x1                                                                                             
0014aa   6e5a     MOVWF     0x5a,0x0                                                                                        
0014b8   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00148e   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001490   0101     MOVLB     0x1                                                                                             
001492   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001494   e002     BZ        0x149a                                                                                          
001496   0e00     MOVLW     0x0                                                                                             
001498   d001     BRA       0x149c                                                                                          
00149a   0e01     MOVLW     0x1                                                                                             
00149c   6e5b     MOVWF     0x5b,0x0                                                                                        
0014ba   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014bc   e101     BNZ       0x14c0                                                                                          
0014be   d0dd     BRA       0x167a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Setting this bit when we have something to print out will cause the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // ISR to be rescheduled so we have as much time as we need to print     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c0   8e09     BSF       0x9,0x7,0x0            bitset(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Move is complete, output "T:" (ISR ticks), "Steps:" (total steps from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // this move) "C:" (accumulator value), "R:" (rate value), "Pos:"        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // (step position)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// TODO: This could use some MASSIVE cleanup - turn this into a buffered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// ISR driven serial output for best efficiency. Or at the very least   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// make signed and unsigned printing macros.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //#define ISR_DEBUG_PRINT_ASCII 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if ISR_DEBUG_PRINT_ASCII                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('T')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRTickCountForThisCommand) // Macro for printing HEX value in ASCII D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Print all values using raw binary                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c2   c026     MOVFF     0x26,0x180             BinPrint(gISRTickCountForThisCommand) // Macro for printing raw binary value D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c4   f180                                                                                                               
0014c6   c027     MOVFF     0x27,0x181                                                                                      
0014c8   f181                                                                                                               
0014ca   c028     MOVFF     0x28,0x182                                                                                      
0014cc   f182                                                                                                               
0014ce   c029     MOVFF     0x29,0x183                                                                                      
0014d0   f183                                                                                                               
0014d2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014d4   d7fe     BRA       0x14d2                                                                                          
0014d6   c183     MOVFF     0x183,0xfae                                                                                     
0014d8   ffae                                                                                                               
0014da   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014dc   d7fe     BRA       0x14da                                                                                          
0014de   c182     MOVFF     0x182,0xfae                                                                                     
0014e0   ffae                                                                                                               
0014e2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e4   d7fe     BRA       0x14e2                                                                                          
0014e6   c181     MOVFF     0x181,0xfae                                                                                     
0014e8   ffae                                                                                                               
0014ea   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014ec   d7fe     BRA       0x14ea                                                                                          
0014ee   c180     MOVFF     0x180,0xfae                                                                                     
0014f0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps1 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f2   c02a     MOVFF     0x2a,0x180             BinPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f4   f180                                                                                                               
0014f6   c02b     MOVFF     0x2b,0x181                                                                                      
0014f8   f181                                                                                                               
0014fa   c02c     MOVFF     0x2c,0x182                                                                                      
0014fc   f182                                                                                                               
0014fe   c02d     MOVFF     0x2d,0x183                                                                                      
001500   f183                                                                                                               
001502   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001504   d7fe     BRA       0x1502                                                                                          
001506   c183     MOVFF     0x183,0xfae                                                                                     
001508   ffae                                                                                                               
00150a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00150c   d7fe     BRA       0x150a                                                                                          
00150e   c182     MOVFF     0x182,0xfae                                                                                     
001510   ffae                                                                                                               
001512   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001514   d7fe     BRA       0x1512                                                                                          
001516   c181     MOVFF     0x181,0xfae                                                                                     
001518   ffae                                                                                                               
00151a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00151c   d7fe     BRA       0x151a                                                                                          
00151e   c180     MOVFF     0x180,0xfae                                                                                     
001520   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001522   c01e     MOVFF     0x1e,0x180             BinPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001524   f180                                                                                                               
001526   c01f     MOVFF     0x1f,0x181                                                                                      
001528   f181                                                                                                               
00152a   c020     MOVFF     0x20,0x182                                                                                      
00152c   f182                                                                                                               
00152e   c021     MOVFF     0x21,0x183                                                                                      
001530   f183                                                                                                               
001532   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001534   d7fe     BRA       0x1532                                                                                          
001536   c183     MOVFF     0x183,0xfae                                                                                     
001538   ffae                                                                                                               
00153a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00153c   d7fe     BRA       0x153a                                                                                          
00153e   c182     MOVFF     0x182,0xfae                                                                                     
001540   ffae                                                                                                               
001542   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001544   d7fe     BRA       0x1542                                                                                          
001546   c181     MOVFF     0x181,0xfae                                                                                     
001548   ffae                                                                                                               
00154a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00154c   d7fe     BRA       0x154a                                                                                          
00154e   c180     MOVFF     0x180,0xfae                                                                                     
001550   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001552   c18c     MOVFF     0x18c,0x180            BinPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001554   f180                                                                                                               
001556   c18d     MOVFF     0x18d,0x181                                                                                     
001558   f181                                                                                                               
00155a   c18e     MOVFF     0x18e,0x182                                                                                     
00155c   f182                                                                                                               
00155e   c18f     MOVFF     0x18f,0x183                                                                                     
001560   f183                                                                                                               
001562   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001564   d7fe     BRA       0x1562                                                                                          
001566   c183     MOVFF     0x183,0xfae                                                                                     
001568   ffae                                                                                                               
00156a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00156c   d7fe     BRA       0x156a                                                                                          
00156e   c182     MOVFF     0x182,0xfae                                                                                     
001570   ffae                                                                                                               
001572   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001574   d7fe     BRA       0x1572                                                                                          
001576   c181     MOVFF     0x181,0xfae                                                                                     
001578   ffae                                                                                                               
00157a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00157c   d7fe     BRA       0x157a                                                                                          
00157e   c180     MOVFF     0x180,0xfae                                                                                     
001580   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position1 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001582   c02e     MOVFF     0x2e,0x180             BinPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001584   f180                                                                                                               
001586   c02f     MOVFF     0x2f,0x181                                                                                      
001588   f181                                                                                                               
00158a   c030     MOVFF     0x30,0x182                                                                                      
00158c   f182                                                                                                               
00158e   c031     MOVFF     0x31,0x183                                                                                      
001590   f183                                                                                                               
001592   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001594   d7fe     BRA       0x1592                                                                                          
001596   c183     MOVFF     0x183,0xfae                                                                                     
001598   ffae                                                                                                               
00159a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00159c   d7fe     BRA       0x159a                                                                                          
00159e   c182     MOVFF     0x182,0xfae                                                                                     
0015a0   ffae                                                                                                               
0015a2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015a4   d7fe     BRA       0x15a2                                                                                          
0015a6   c181     MOVFF     0x181,0xfae                                                                                     
0015a8   ffae                                                                                                               
0015aa   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015ac   d7fe     BRA       0x15aa                                                                                          
0015ae   c180     MOVFF     0x180,0xfae                                                                                     
0015b0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps2 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b2   c032     MOVFF     0x32,0x180             BinPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b4   f180                                                                                                               
0015b6   c033     MOVFF     0x33,0x181                                                                                      
0015b8   f181                                                                                                               
0015ba   c034     MOVFF     0x34,0x182                                                                                      
0015bc   f182                                                                                                               
0015be   c035     MOVFF     0x35,0x183                                                                                      
0015c0   f183                                                                                                               
0015c2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015c4   d7fe     BRA       0x15c2                                                                                          
0015c6   c183     MOVFF     0x183,0xfae                                                                                     
0015c8   ffae                                                                                                               
0015ca   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015cc   d7fe     BRA       0x15ca                                                                                          
0015ce   c182     MOVFF     0x182,0xfae                                                                                     
0015d0   ffae                                                                                                               
0015d2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015d4   d7fe     BRA       0x15d2                                                                                          
0015d6   c181     MOVFF     0x181,0xfae                                                                                     
0015d8   ffae                                                                                                               
0015da   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015dc   d7fe     BRA       0x15da                                                                                          
0015de   c180     MOVFF     0x180,0xfae                                                                                     
0015e0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e2   c022     MOVFF     0x22,0x180             BinPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e4   f180                                                                                                               
0015e6   c023     MOVFF     0x23,0x181                                                                                      
0015e8   f181                                                                                                               
0015ea   c024     MOVFF     0x24,0x182                                                                                      
0015ec   f182                                                                                                               
0015ee   c025     MOVFF     0x25,0x183                                                                                      
0015f0   f183                                                                                                               
0015f2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015f4   d7fe     BRA       0x15f2                                                                                          
0015f6   c183     MOVFF     0x183,0xfae                                                                                     
0015f8   ffae                                                                                                               
0015fa   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015fc   d7fe     BRA       0x15fa                                                                                          
0015fe   c182     MOVFF     0x182,0xfae                                                                                     
001600   ffae                                                                                                               
001602   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001604   d7fe     BRA       0x1602                                                                                          
001606   c181     MOVFF     0x181,0xfae                                                                                     
001608   ffae                                                                                                               
00160a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00160c   d7fe     BRA       0x160a                                                                                          
00160e   c180     MOVFF     0x180,0xfae                                                                                     
001610   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001612   c190     MOVFF     0x190,0x180            BinPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001614   f180                                                                                                               
001616   c191     MOVFF     0x191,0x181                                                                                     
001618   f181                                                                                                               
00161a   c192     MOVFF     0x192,0x182                                                                                     
00161c   f182                                                                                                               
00161e   c193     MOVFF     0x193,0x183                                                                                     
001620   f183                                                                                                               
001622   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001624   d7fe     BRA       0x1622                                                                                          
001626   c183     MOVFF     0x183,0xfae                                                                                     
001628   ffae                                                                                                               
00162a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00162c   d7fe     BRA       0x162a                                                                                          
00162e   c182     MOVFF     0x182,0xfae                                                                                     
001630   ffae                                                                                                               
001632   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001634   d7fe     BRA       0x1632                                                                                          
001636   c181     MOVFF     0x181,0xfae                                                                                     
001638   ffae                                                                                                               
00163a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00163c   d7fe     BRA       0x163a                                                                                          
00163e   c180     MOVFF     0x180,0xfae                                                                                     
001640   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001642   c036     MOVFF     0x36,0x180             BinPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001644   f180                                                                                                               
001646   c037     MOVFF     0x37,0x181                                                                                      
001648   f181                                                                                                               
00164a   c038     MOVFF     0x38,0x182                                                                                      
00164c   f182                                                                                                               
00164e   c039     MOVFF     0x39,0x183                                                                                      
001650   f183                                                                                                               
001652   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001654   d7fe     BRA       0x1652                                                                                          
001656   c183     MOVFF     0x183,0xfae                                                                                     
001658   ffae                                                                                                               
00165a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00165c   d7fe     BRA       0x165a                                                                                          
00165e   c182     MOVFF     0x182,0xfae                                                                                     
001660   ffae                                                                                                               
001662   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001664   d7fe     BRA       0x1662                                                                                          
001666   c181     MOVFF     0x181,0xfae                                                                                     
001668   ffae                                                                                                               
00166a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00166c   d7fe     BRA       0x166a                                                                                          
00166e   c180     MOVFF     0x180,0xfae                                                                                     
001670   ffae                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001672   a2ad     BTFSS     0xad,0x1,0x0           PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001674   d7fe     BRA       0x1672                                                                                          
001676   0e0a     MOVLW     0xa                                                                                             
001678   6eae     MOVWF     0xae,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It limit switch checking is enabled, check to see if a limit switch value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // has been seen (CU,51 and CU,52)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167a   500c     MOVF      0xc,0x0,0x0      if (gLimitSwitchMask)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167c   e01c     BZ        0x16b6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167e   5081     MOVF      0x81,0x0,0x0       PortBTemp = PORTB;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001680   6e0b     MOVWF     0xb,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001682   50e8     MOVF      0xe8,0x0,0x0       if (((~(PortBTemp ^ gLimitSwitchTarget)) & gLimitSwitchMask) && !bittstzero(gLimitSwitchTriggered)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001684   180d     XORWF     0xd,0x0,0x0                                                                                     
001686   1ce8     COMF      0xe8,0x0,0x0                                                                                    
001688   140c     ANDWF     0xc,0x0,0x0                                                                                     
00168a   e015     BZ        0x16b6                                                                                          
00168c   0e01     MOVLW     0x1                                                                                             
00168e   140e     ANDWF     0xe,0x0,0x0                                                                                     
001690   e112     BNZ       0x16b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // At least one of the bits in PortB that we are looking at is in a state  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // now where it has 'triggered' and so we need to shut down the current    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // move, and remove all remaining commands from the FIFO                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001692   c00b     MOVFF     0xb,0x4c9            gLimitSwitchPortB = PortBTemp;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001694   f4c9                                                                                                               
001696   800e     BSF       0xe,0x0,0x0          bitsetzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001698   6a02     CLRF      0x2,0x0              AxisActive[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169a   6a03     CLRF      0x3,0x0              AxisActive[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169c   8000     BSF       0x0,0x0,0x0          bitsetzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169e   6a0f     CLRF      0xf,0x0              gFIFOLength = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a0   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a2   6a11     CLRF      0x11,0x0             gFIFOOut = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Flush the whole FIFO by clearing each element's Command field           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a4   6a01     CLRF      0x1,0x0              for (isr_i=0; isr_i < COMMAND_FIFO_MAX_LENGTH; isr_i++)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a6   0e20     MOVLW     0x20                                                                                            
0016a8   5c01     SUBWF     0x1,0x0,0x0                                                                                     
0016aa   e205     BC        0x16b6                                                                                          
0016b2   2a01     INCF      0x1,0x1,0x0                                                                                     
0016b4   d7f8     BRA       0x16a6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ac   5001     MOVF      0x1,0x0,0x0            FIFOPtr[isr_i].Command = COMMAND_NONE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ae   ecbf     CALL      0x357e,0x0                                                                                      
0016b0   f01a                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're done with our current command, load in the next one                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b6   a000     BTFSS     0x0,0x0,0x0      if (bittstzero(AllDone))                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b8   d113     BRA       0x18e0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ba   0101     MOVLB     0x1                CurrentCommand.Command = COMMAND_NONE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016bc   6b85     CLRF      0x85,0x1                                                                                        
0016be   500f     MOVF      0xf,0x0,0x0        if (gFIFOLength != 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c0   e101     BNZ       0x16c4                                                                                          
0016c2   d0f6     BRA       0x18b0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c4   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c6   808c     BSF       0x8c,0x0,0x0           LATDbits.LATD0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c8   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ca   948c     BCF       0x8c,0x2,0x0           mLED_2_Off()                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If enabled, move stepper disable state to primed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016cc   0104     MOVLB     0x4                  if (g_StepperDisableState != kSTEPPER_TIMEOUT_DISABLED)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ce   5195     MOVF      0x95,0x0,0x1                                                                                    
0016d0   e002     BZ        0x16d6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d2   0e01     MOVLW     0x1                    g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d4   6f95     MOVWF     0x95,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO_COPY();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Check to see if the FIFO_out_ptr needs wrapping                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_C_ISR)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Instead of copying over the entire MoveCommandType every time, to save  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // time we will check which command is next in the FIFO, and then only     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // copy over those fields that the new command actually uses.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The order that we check these is the same as the main ISR check order   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // above, where we want to have the most common commands checked first     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // since they will then happen faster.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d6   5011     MOVF      0x11,0x0,0x0         gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d8   ec5e     CALL      0x36bc,0x0                                                                                      
0016da   f01b                                                                                                               
0016dc   6e12     MOVWF     0x12,0x0                                                                                        
0036bc   dabc     RCALL     0x3c36                                                                                          
0036be   50ef     MOVF      0xef,0x0,0x0                                                                                    
0036c0   0012     RETURN    0x0                                                                                             
003c36   0d2f     MULLW     0x2f                                                                                            
003c38   0105     MOVLB     0x5                                                                                             
003c3a   ef8a     GOTO      0x3914                                                                                          
003c3c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016de   0e05     MOVLW     0x5                  if (gFIFOCommand == COMMAND_SM_XM_HM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e0   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016e2   e103     BNZ       0x16ea                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e4   ec77     CALL      0x3aee,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e6   f01d                                                                                                               
003aee   ec06     CALL      0x320c,0x0                                                                                      
003af0   f019                                                                                                               
003af2   cfef     MOVFF     0xfef,0x185                                                                                     
003af4   f185                                                                                                               
003af6   d8d4     RCALL     0x3ca0                 CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003af8   0e06     MOVLW     0x6                                                                                             
003afa   dc5b     RCALL     0x33b2                                                                                          
003afc   cfee     MOVFF     0xfee,0x18c                                                                                     
003afe   f18c                                                                                                               
003b00   cfee     MOVFF     0xfee,0x18d                                                                                     
003b02   f18d                                                                                                               
003b04   cfee     MOVFF     0xfee,0x18e                                                                                     
003b06   f18e                                                                                                               
003b08   cfef     MOVFF     0xfef,0x18f                                                                                     
003b0a   f18f                                                                                                               
003b0c   d8c9     RCALL     0x3ca0                 CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b0e   0e06     MOVLW     0x6                                                                                             
003b10   dc50     RCALL     0x33b2                                                                                          
003b12   0e04     MOVLW     0x4                                                                                             
003b14   dc4e     RCALL     0x33b2                                                                                          
003b16   efcf     GOTO      0x359e                                                                                          
003b18   f01a                                                                                                               
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e8   d005     BRA       0x16f4               else if (gFIFOCommand == COMMAND_LM_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ea   0e06     MOVLW     0x6                                                                                             
0016ec   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016ee   e114     BNZ       0x1718                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f0   ec2e     CALL      0x385c,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f2   f01c                                                                                                               
00385c   d948     RCALL     0x3aee                                                                                          
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00385e   da08     RCALL     0x3c70                 CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003860   cfee     MOVFF     0xfee,0x1a4                                                                                     
003862   f1a4                                                                                                               
003864   cfee     MOVFF     0xfee,0x1a5                                                                                     
003866   f1a5                                                                                                               
003868   cfee     MOVFF     0xfee,0x1a6                                                                                     
00386a   f1a6                                                                                                               
00386c   cfef     MOVFF     0xfef,0x1a7                                                                                     
00386e   f1a7                                                                                                               
003c70   d817     RCALL     0x3ca0                                                                                          
003c72   0e1e     MOVLW     0x1e                                                                                            
003c74   efd9     GOTO      0x33b2                                                                                          
003c76   f019                                                                                                               
003870   d9ff     RCALL     0x3c70                 CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003872   0e04     MOVLW     0x4                                                                                             
003874   dd9e     RCALL     0x33b2                                                                                          
003876   cfee     MOVFF     0xfee,0x1a8                                                                                     
003878   f1a8                                                                                                               
00387a   cfee     MOVFF     0xfee,0x1a9                                                                                     
00387c   f1a9                                                                                                               
00387e   cfee     MOVFF     0xfee,0x1aa                                                                                     
003880   f1aa                                                                                                               
003882   cfef     MOVFF     0xfef,0x1ab                                                                                     
003884   f1ab                                                                                                               
003886   d9f8     RCALL     0x3c78                 CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003888   cfee     MOVFF     0xfee,0x19c                                                                                     
00388a   f19c                                                                                                               
00388c   cfee     MOVFF     0xfee,0x19d                                                                                     
00388e   f19d                                                                                                               
003890   cfee     MOVFF     0xfee,0x19e                                                                                     
003892   f19e                                                                                                               
003894   cfef     MOVFF     0xfef,0x19f                                                                                     
003896   f19f                                                                                                               
003c78   d813     RCALL     0x3ca0                                                                                          
003c7a   0e16     MOVLW     0x16                                                                                            
003c7c   efd9     GOTO      0x33b2                                                                                          
003c7e   f019                                                                                                               
0036c2   cfee     MOVFF     0xfee,0x1a0            CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036c4   f1a0                                                                                                               
0036c6   cfee     MOVFF     0xfee,0x1a1                                                                                     
0036c8   f1a1                                                                                                               
0036ca   cfee     MOVFF     0xfee,0x1a2                                                                                     
0036cc   f1a2                                                                                                               
0036ce   cfef     MOVFF     0xfef,0x1a3                                                                                     
0036d0   f1a3                                                                                                               
0036d2   0012     RETURN    0x0                                                                                             
003898   d9ef     RCALL     0x3c78                                                                                          
00389a   0e04     MOVLW     0x4                                                                                             
00389c   dd8a     RCALL     0x33b2                                                                                          
00389e   ef61     GOTO      0x36c2                                                                                          
0038a0   f01b                                                                                                               
0016f4   ecf0     CALL      0x39e0,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f6   f01c                                                                                                               
0016f8   ec6a     CALL      0x36d4,0x0                                                                                      
0016fa   f01b                                                                                                               
0036d4   cfee     MOVFF     0xfee,0x194                                                                                     
0036d6   f194                                                                                                               
0036d8   cfee     MOVFF     0xfee,0x195                                                                                     
0036da   f195                                                                                                               
0036dc   cfee     MOVFF     0xfee,0x196                                                                                     
0036de   f196                                                                                                               
0036e0   cfef     MOVFF     0xfef,0x197                                                                                     
0036e2   f197                                                                                                               
0036e4   0012     RETURN    0x0                                                                                             
0016fc   ecf0     CALL      0x39e0,0x0             CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016fe   f01c                                                                                                               
001700   0e04     MOVLW     0x4                                                                                             
001702   ecd9     CALL      0x33b2,0x0                                                                                      
001704   f019                                                                                                               
001706   cfee     MOVFF     0xfee,0x198                                                                                     
001708   f198                                                                                                               
00170a   cfee     MOVFF     0xfee,0x199                                                                                     
00170c   f199                                                                                                               
00170e   cfee     MOVFF     0xfee,0x19a                                                                                     
001710   f19a                                                                                                               
001712   cfef     MOVFF     0xfef,0x19b                                                                                     
001714   f19b                                                                                                               
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001716   d009     BRA       0x172a               else if (gFIFOCommand == COMMAND_LT_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001718   0e07     MOVLW     0x7                                                                                             
00171a   5c12     SUBWF     0x12,0x0,0x0                                                                                    
00171c   e111     BNZ       0x1740                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00171e   ec2e     CALL      0x385c,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001720   f01c                                                                                                               
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00359e   cfee     MOVFF     0xfee,0x190            CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035a0   f190                                                                                                               
0035a2   cfee     MOVFF     0xfee,0x191                                                                                     
0035a4   f191                                                                                                               
0035a6   cfee     MOVFF     0xfee,0x192                                                                                     
0035a8   f192                                                                                                               
0035aa   cfef     MOVFF     0xfef,0x193                                                                                     
0035ac   f193                                                                                                               
0035ae   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001722   ecf0     CALL      0x39e0,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001724   f01c                                                                                                               
001726   ec6a     CALL      0x36d4,0x0                                                                                      
001728   f01b                                                                                                               
0039e0   d95f     RCALL     0x3ca0                                                                                          
0039e2   0e0e     MOVLW     0xe                                                                                             
0039e4   efd9     GOTO      0x33b2                                                                                          
0039e6   f019                                                                                                               
00172a   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00172c   f01e                                                                                                               
00172e   cfef     MOVFF     0xfef,0x186                                                                                     
001730   f186                                                                                                               
001732   ec06     CALL      0x320c,0x0             CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001734   f019                                                                                                               
001736   ec1d     CALL      0x343a,0x0                                                                                      
001738   f01a                                                                                                               
00173a   ec08     CALL      0x3a10,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173c   f01d                                                                                                               
003a10   d947     RCALL     0x3ca0                                                                                          
003a12   0e05     MOVLW     0x5                                                                                             
003a14   dcce     RCALL     0x33b2                                                                                          
003a16   cfef     MOVFF     0xfef,0x18b                                                                                     
003a18   f18b                                                                                                               
003a1a   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173e   d044     BRA       0x17c8               else if (gFIFOCommand == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001740   0e02     MOVLW     0x2                                                                                             
001742   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001744   e11e     BNZ       0x1782                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001746   ecb2     CALL      0x3964,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001748   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00174a   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.ServoPosition  = FIFOPtr[gFIFOOut].m.sm.ServoPosition; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00174c   f01e                                                                                                               
00174e   0e27     MOVLW     0x27                                                                                            
001750   ecd9     CALL      0x33b2,0x0                                                                                      
001752   f019                                                                                                               
001754   cfee     MOVFF     0xfee,0x1ad                                                                                     
001756   f1ad                                                                                                               
001758   cfed     MOVFF     0xfed,0x1ae                                                                                     
00175a   f1ae                                                                                                               
00175c   ec0e     CALL      0x3a1c,0x0             CurrentCommand.m.sm.ServoRPn       = FIFOPtr[gFIFOOut].m.sm.ServoRPn;    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00175e   f01d                                                                                                               
003a1c   ec06     CALL      0x320c,0x0                                                                                      
003a1e   f019                                                                                                               
003a20   d92f     RCALL     0x3c80                                                                                          
003a22   cfef     MOVFF     0xfef,0x1ac                                                                                     
003a24   f1ac                                                                                                               
003a26   0012     RETURN    0x0                                                                                             
003c80   52ee     MOVF      0xee,0x1,0x0                                                                                    
003c82   0e26     MOVLW     0x26                                                                                            
003c84   efd9     GOTO      0x33b2                                                                                          
003c86   f019                                                                                                               
001760   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.ServoChannel   = FIFOPtr[gFIFOOut].m.sm.ServoChannel; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001762   f01e                                                                                                               
001764   0e29     MOVLW     0x29                                                                                            
001766   ecd9     CALL      0x33b2,0x0                                                                                      
001768   f019                                                                                                               
00176a   cfef     MOVFF     0xfef,0x1af                                                                                     
00176c   f1af                                                                                                               
00176e   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.ServoRate      = FIFOPtr[gFIFOOut].m.sm.ServoRate;   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001770   f01e                                                                                                               
001772   0e2a     MOVLW     0x2a                                                                                            
001774   ecd9     CALL      0x33b2,0x0                                                                                      
001776   f019                                                                                                               
001778   cfee     MOVFF     0xfee,0x1b0                                                                                     
00177a   f1b0                                                                                                               
00177c   cfed     MOVFF     0xfed,0x1b1                                                                                     
00177e   f1b1                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001780   d023     BRA       0x17c8               else if (gFIFOCommand == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001782   0412     DECF      0x12,0x0,0x0                                                                                    
001784   e103     BNZ       0x178c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001786   ecb2     CALL      0x3964,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001788   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178a   d01e     BRA       0x17c8               else if (gFIFOCommand == COMMAND_SE)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178c   0e03     MOVLW     0x3                                                                                             
00178e   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001790   e10e     BNZ       0x17ae                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001792   ecb2     CALL      0x3964,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001794   f01c                                                                                                               
003964   dc53     RCALL     0x320c                                                                                          
003966   cfef     MOVFF     0xfef,0x185                                                                                     
003968   f185                                                                                                               
00343a   52ee     MOVF      0xee,0x1,0x0           CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00343c   52ee     MOVF      0xee,0x1,0x0                                                                                    
00343e   cfee     MOVFF     0xfee,0x187                                                                                     
003440   f187                                                                                                               
003442   cfee     MOVFF     0xfee,0x188                                                                                     
003444   f188                                                                                                               
003446   cfee     MOVFF     0xfee,0x189                                                                                     
003448   f189                                                                                                               
00344a   cfef     MOVFF     0xfef,0x18a                                                                                     
00344c   f18a                                                                                                               
00344e   0012     RETURN    0x0                                                                                             
00396a   dc50     RCALL     0x320c                                                                                          
00396c   ef1d     GOTO      0x343a                                                                                          
00396e   f01a                                                                                                               
001796   ec08     CALL      0x3a10,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001798   f01d                                                                                                               
00179a   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.SEPower        = FIFOPtr[gFIFOOut].m.sm.SEPower;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179c   f01e                                                                                                               
00179e   0e2c     MOVLW     0x2c                                                                                            
0017a0   ecd9     CALL      0x33b2,0x0                                                                                      
0017a2   f019                                                                                                               
0017a4   cfee     MOVFF     0xfee,0x1b2                                                                                     
0017a6   f1b2                                                                                                               
0017a8   cfed     MOVFF     0xfed,0x1b3                                                                                     
0017aa   f1b3                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ac   d00d     BRA       0x17c8               else if (gFIFOCommand == COMMAND_EM)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ae   0e04     MOVLW     0x4                                                                                             
0017b0   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0017b2   e10a     BNZ       0x17c8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b4   ec06     CALL      0x320c,0x0             CurrentCommand.Command       = FIFOPtr[gFIFOOut].Command;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b6   f019                                                                                                               
0017b8   cfef     MOVFF     0xfef,0x185                                                                                     
0017ba   f185                                                                                                               
00320c   5011     MOVF      0x11,0x0,0x0                                                                                    
00320e   0d2f     MULLW     0x2f                                                                                            
003210   ef8a     GOTO      0x3914                                                                                          
003212   f01c                                                                                                               
0017bc   ec50     CALL      0x3ca0,0x0             CurrentCommand.m.sm.DirBits       = FIFOPtr[gFIFOOut].m.sm.DirBits;      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017be   f01e                                                                                                               
0017c0   cfef     MOVFF     0xfef,0x186                                                                                     
0017c2   f186                                                                                                               
003ca0   ec06     CALL      0x320c,0x0                                                                                      
003ca2   f019                                                                                                               
003ca4   52ee     MOVF      0xee,0x1,0x0                                                                                    
003ca6   0012     RETURN    0x0                                                                                             
0017c4   ec0e     CALL      0x3a1c,0x0             CurrentCommand.m.sm.ServoRPn      = FIFOPtr[gFIFOOut].m.sm.ServoRPn;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c6   f01d                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // gFIFOCommand had a value that is not allowed                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Take care of clearing the step accumulators for the next move if        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it's a motor move (of any type) - if the command requests it            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e6   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e8   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017ea   e002     BZ        0x17f0                                                                                          
0017ec   0e00     MOVLW     0x0                                                                                             
0017ee   d001     BRA       0x17f2                                                                                          
0017f0   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d8   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017da   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017dc   e002     BZ        0x17e2                                                                                          
0017de   0e00     MOVLW     0x0                                                                                             
0017e0   d001     BRA       0x17e4                                                                                          
0017e2   0e01     MOVLW     0x1                                                                                             
0017e4   6e5a     MOVWF     0x5a,0x0                                                                                        
0017f2   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c8   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ca   0101     MOVLB     0x1                                                                                             
0017cc   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017ce   e002     BZ        0x17d4                                                                                          
0017d0   0e00     MOVLW     0x0                                                                                             
0017d2   d001     BRA       0x17d6                                                                                          
0017d4   0e01     MOVLW     0x1                                                                                             
0017d6   6e5b     MOVWF     0x5b,0x0                                                                                        
0017f4   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f6   e03a     BZ        0x186c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // These are used in TEST_MODE_USART_ISR_NUM to allow an arbitrary       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // value to be loaded into one or both accumulators for testing          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f8   a98b     BTFSS     0x8b,0x4,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC1_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fa   d008     BRA       0x180c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fc   c187     MOVFF     0x187,0x1e               acc_union[0].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fe   f01e                                                                                                               
001800   c188     MOVFF     0x188,0x1f                                                                                      
001802   f01f                                                                                                               
001804   c189     MOVFF     0x189,0x20                                                                                      
001806   f020                                                                                                               
001808   c18a     MOVFF     0x18a,0x21                                                                                      
00180a   f021                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180c   ab8b     BTFSS     0x8b,0x5,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC2_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180e   d008     BRA       0x1820                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001810   c187     MOVFF     0x187,0x22               acc_union[1].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001812   f022                                                                                                               
001814   c188     MOVFF     0x188,0x23                                                                                      
001816   f023                                                                                                               
001818   c189     MOVFF     0x189,0x24                                                                                      
00181a   f024                                                                                                               
00181c   c18a     MOVFF     0x18a,0x25                                                                                      
00181e   f025                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Use the SEState to determine which accumulators to clear.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001820   a18b     BTFSS     0x8b,0x0,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC1_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001822   d004     BRA       0x182c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001824   6a1e     CLRF      0x1e,0x0                 acc_union[0].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001826   6a1f     CLRF      0x1f,0x0                                                                                        
001828   6a20     CLRF      0x20,0x0                                                                                        
00182a   6a21     CLRF      0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182c   a38b     BTFSS     0x8b,0x1,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC2_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182e   d004     BRA       0x1838                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001830   6a22     CLRF      0x22,0x0                 acc_union[1].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001832   6a23     CLRF      0x23,0x0                                                                                        
001834   6a24     CLRF      0x24,0x0                                                                                        
001836   6a25     CLRF      0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001838   a58b     BTFSS     0x8b,0x2,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC1_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183a   d005     BRA       0x1846                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183c   681e     SETF      0x1e,0x0                 acc_union[0].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183e   681f     SETF      0x1f,0x0                                                                                        
001840   6820     SETF      0x20,0x0                                                                                        
001842   0e7f     MOVLW     0x7f                                                                                            
001844   6e21     MOVWF     0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001846   a78b     BTFSS     0x8b,0x3,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC2_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001848   d005     BRA       0x1854                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00184a   6822     SETF      0x22,0x0                 acc_union[1].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00184c   6823     SETF      0x23,0x0                                                                                        
00184e   6824     SETF      0x24,0x0                                                                                        
001850   0e7f     MOVLW     0x7f                                                                                            
001852   6e25     MOVWF     0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the "Active" flags for this move based on steps for each axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001854   ec54     CALL      0x36a8,0x0             if (CurrentCommand.m.sm.Steps[0])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001856   f01b                                                                                                               
001858   e002     BZ        0x185e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185a   8002     BSF       0x2,0x0,0x0              bitsetzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185c   d001     BRA       0x1860                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185e   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001860   ecbe     CALL      0x377c,0x0             if (CurrentCommand.m.sm.Steps[1])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001862   f01b                                                                                                               
001864   e002     BZ        0x186a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001866   8003     BSF       0x3,0x0,0x0              bitsetzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001868   d001     BRA       0x186c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186a   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186c   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186e   d014     BRA       0x1898                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001870   6a26     CLRF      0x26,0x0               gISRTickCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001872   6a27     CLRF      0x27,0x0                                                                                        
001874   6a28     CLRF      0x28,0x0                                                                                        
001876   6a29     CLRF      0x29,0x0                                                                                        
001878   6a2a     CLRF      0x2a,0x0               gISRStepCount0ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00187a   6a2b     CLRF      0x2b,0x0                                                                                        
00187c   6a2c     CLRF      0x2c,0x0                                                                                        
00187e   6a2d     CLRF      0x2d,0x0                                                                                        
001880   6a2e     CLRF      0x2e,0x0               gISRPosition0ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001882   6a2f     CLRF      0x2f,0x0                                                                                        
001884   6a30     CLRF      0x30,0x0                                                                                        
001886   6a31     CLRF      0x31,0x0                                                                                        
001888   6a32     CLRF      0x32,0x0               gISRStepCount1ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00188a   6a33     CLRF      0x33,0x0                                                                                        
00188c   6a34     CLRF      0x34,0x0                                                                                        
00188e   6a35     CLRF      0x35,0x0                                                                                        
001890   6a36     CLRF      0x36,0x0               gISRPosition1ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001892   6a37     CLRF      0x37,0x0                                                                                        
001894   6a38     CLRF      0x38,0x0                                                                                        
001896   6a39     CLRF      0x39,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Zero out command in FIFO we just copied, but leave the rest of the fields alone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001898   5011     MOVF      0x11,0x0,0x0         FIFOPtr[gFIFOOut].Command = COMMAND_NONE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189a   ecbf     CALL      0x357e,0x0                                                                                      
00189c   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Increment gFIFO_Out                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189e   2a11     INCF      0x11,0x1,0x0         gFIFOOut++;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a0   5013     MOVF      0x13,0x0,0x0         if (gFIFOOut >= gCurrentFIFOLength)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a2   5c11     SUBWF     0x11,0x0,0x0                                                                                    
0018a4   e301     BNC       0x18a8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a6   6a11     CLRF      0x11,0x0               gFIFOOut = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a8   500f     MOVF      0xf,0x0,0x0          if (gFIFOLength)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018aa   e01a     BZ        0x18e0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ac   060f     DECF      0xf,0x1,0x0            gFIFOLength--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ae   d018     BRA       0x18e0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Current command is done, and the FIFO is completely empty.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Start up stepper motor disable timeout (if enabled)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b0   0104     MOVLB     0x4                  if (g_StepperDisableState == kSTEPPER_TIMEOUT_PRIMED)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b2   0595     DECF      0x95,0x0,0x1                                                                                    
0018b4   e10c     BNZ       0x18ce                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b6   0104     MOVLB     0x4                    g_StepperDisableSecondCounter = 1000u;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b8   0ee8     MOVLW     0xe8                                                                                            
0018ba   6f98     MOVWF     0x98,0x1                                                                                        
0018bc   0e03     MOVLW     0x3                                                                                             
0018be   6f99     MOVWF     0x99,0x1                                                                                        
0018c0   c496     MOVFF     0x496,0x49a            g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c2   f49a                                                                                                               
0018c4   c497     MOVFF     0x497,0x49b                                                                                     
0018c6   f49b                                                                                                               
0018c8   0104     MOVLB     0x4                    g_StepperDisableState = kSTEPPER_TIMEOUT_TIMING;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ca   0e02     MOVLW     0x2                                                                                             
0018cc   6f95     MOVWF     0x95,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ce   0101     MOVLB     0x1                  CurrentCommand.m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d0   6b87     CLRF      0x87,0x1                                                                                        
0018d2   6b88     CLRF      0x88,0x1                                                                                        
0018d4   6b89     CLRF      0x89,0x1                                                                                        
0018d6   6b8a     CLRF      0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d8   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018da   848c     BSF       0x8c,0x2,0x0           mLED_2_On()                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018dc   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018de   8289     BSF       0x89,0x1,0x0           LATAbits.LATA1 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for button being pushed                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e0   ae80     BTFSS     0x80,0x7,0x0     if (!swProgram)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e2   8007     BSF       0x7,0x0,0x0        bitsetzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e4   a008     BTFSS     0x8,0x0,0x0      if (bittstzero(UseAltPause))                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e6   d002     BRA       0x18ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e8   a081     BTFSS     0x81,0x0,0x0       if (!PORTBbits.RB0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ea   8007     BSF       0x7,0x0,0x0          bitsetzero(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // To give as much time for the step pulses to be high, we clear them as the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // very last thing we do before leaving the ISR. It never hurts us to clear    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // these bits even if no step happened this ISR tick                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ec   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ee   e103     BNZ       0x18f6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f0   9c8c     BCF       0x8c,0x6,0x0       Step1IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f2   988c     BCF       0x8c,0x4,0x0       Step2IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f4   d002     BRA       0x18fa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f6   9c8b     BCF       0x8b,0x6,0x0       Step1AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f8   9a89     BCF       0x89,0x5,0x0       Step2AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fa   ae09     BTFSS     0x9,0x7,0x0      if (bittst(TestMode, TEST_MODE_PRINT_TRIGGER_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fc   d004     BRA       0x1906                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the interrupt as the last thing we do. This allows us to have       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // arbitrarily long interrupts to print debug information out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fe   94f2     BCF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001900   0e8a     MOVLW     0x8a               TMR0L = TIMER0_RELOAD;  // Reload for 25KHz ISR fire                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001902   6ed6     MOVWF     0xd6,0x0                                                                                        
001904   9e09     BCF       0x9,0x7,0x0        bitclr(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001906   a209     BTFSS     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001908   d003     BRA       0x1910                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190a   9289     BCF       0x89,0x1,0x0       LATAbits.LATA1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190c   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190e   928c     BCF       0x8c,0x1,0x0       LATDbits.LATD1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001910   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001912   cfe5     MOVFF     0xfe5,0xff4                                                                                     
001914   fff4                                                                                                               
001916   cfe5     MOVFF     0xfe5,0xff3                                                                                     
001918   fff3                                                                                                               
00191a   cfe5     MOVFF     0xfe5,0xfea                                                                                     
00191c   ffea                                                                                                               
00191e   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
001920   ffe9                                                                                                               
001922   cfe5     MOVFF     0xfe5,0xfda                                                                                     
001924   ffda                                                                                                               
001926   0011     RETFIE    0x1                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Zero out all global variables used for parameter passing between motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parsing commands                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001928   0101     MOVLB     0x1              gUInt32_1 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00192a   6bc5     CLRF      0xc5,0x1                                                                                        
00192c   6bc6     CLRF      0xc6,0x1                                                                                        
00192e   6bc7     CLRF      0xc7,0x1                                                                                        
001930   6bc8     CLRF      0xc8,0x1                                                                                        
001932   ec1a     CALL      0x3834,0x0       gUInt32_2 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001934   f01c                                                                                                               
001936   6bcd     CLRF      0xcd,0x1         gUInt32_3 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001938   6bce     CLRF      0xce,0x1                                                                                        
00193a   6bcf     CLRF      0xcf,0x1                                                                                        
00193c   6bd0     CLRF      0xd0,0x1                                                                                        
00193e   6bd1     CLRF      0xd1,0x1         gInt32_4 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001940   6bd2     CLRF      0xd2,0x1                                                                                        
001942   6bd3     CLRF      0xd3,0x1                                                                                        
001944   6bd4     CLRF      0xd4,0x1                                                                                        
001946   6bd5     CLRF      0xd5,0x1         gInt32_5 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001948   6bd6     CLRF      0xd6,0x1                                                                                        
00194a   6bd7     CLRF      0xd7,0x1                                                                                        
00194c   6bd8     CLRF      0xd8,0x1                                                                                        
00194e   6bd9     CLRF      0xd9,0x1         gInt32_6 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001950   6bda     CLRF      0xda,0x1                                                                                        
001952   6bdb     CLRF      0xdb,0x1                                                                                        
001954   6bdc     CLRF      0xdc,0x1                                                                                        
001956   6bdd     CLRF      0xdd,0x1         gInt32_7 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001958   6bde     CLRF      0xde,0x1                                                                                        
00195a   6bdf     CLRF      0xdf,0x1                                                                                        
00195c   6be0     CLRF      0xe0,0x1                                                                                        
00195e   6be1     CLRF      0xe1,0x1         gInt32_8 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001960   6be2     CLRF      0xe2,0x1                                                                                        
001962   6be3     CLRF      0xe3,0x1                                                                                        
001964   6be4     CLRF      0xe4,0x1                                                                                        
001966   6be5     CLRF      0xe5,0x1         gInt32_9 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001968   6be6     CLRF      0xe6,0x1                                                                                        
00196a   6be7     CLRF      0xe7,0x1                                                                                        
00196c   6be8     CLRF      0xe8,0x1                                                                                        
00196e   6be9     CLRF      0xe9,0x1         gInt32_10 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001970   6bea     CLRF      0xea,0x1                                                                                        
001972   6beb     CLRF      0xeb,0x1                                                                                        
001974   6bec     CLRF      0xec,0x1                                                                                        
001976   6bed     CLRF      0xed,0x1         gInt32_11 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001978   6bee     CLRF      0xee,0x1                                                                                        
00197a   6bef     CLRF      0xef,0x1                                                                                        
00197c   6bf0     CLRF      0xf0,0x1                                                                                        
00197e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Init code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001980   cfd9     MOVFF     0xfd9,0xfe6    void EBB_Init(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001982   ffe6                                                                                                               
001984   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001986   ffd9                                                                                                               
001988   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Initialize all Current Command values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00198a   6adf     CLRF      0xdf,0x0         for (i = 0; i < NUMBER_OF_STEPPERS; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00198c   0e02     MOVLW     0x2                                                                                             
00198e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001990   e22d     BC        0x19ec                                                                                          
0019e8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0019ea   d7d0     BRA       0x198c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001992   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Rate[i].value = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001994   0d04     MULLW     0x4                                                                                             
001996   cff3     MOVFF     0xff3,0xfe9                                                                                     
001998   ffe9                                                                                                               
00199a   cff4     MOVFF     0xff4,0xfea                                                                                     
00199c   ffea                                                                                                               
00199e   0e8c     MOVLW     0x8c                                                                                            
0019a0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019a2   0e01     MOVLW     0x1                                                                                             
0019a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019a6   0e01     MOVLW     0x1                                                                                             
0019a8   6eee     MOVWF     0xee,0x0                                                                                        
0019aa   6aee     CLRF      0xee,0x0                                                                                        
0019ac   6aee     CLRF      0xee,0x0                                                                                        
0019ae   6aee     CLRF      0xee,0x0                                                                                        
0019b0   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Steps[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019b2   0d04     MULLW     0x4                                                                                             
0019b4   cff3     MOVFF     0xff3,0xfe9                                                                                     
0019b6   ffe9                                                                                                               
0019b8   cff4     MOVFF     0xff4,0xfea                                                                                     
0019ba   ffea                                                                                                               
0019bc   0e94     MOVLW     0x94                                                                                            
0019be   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019c0   0e01     MOVLW     0x1                                                                                             
0019c2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019c4   6aee     CLRF      0xee,0x0                                                                                        
0019c6   6aee     CLRF      0xee,0x0                                                                                        
0019c8   6aee     CLRF      0xee,0x0                                                                                        
0019ca   6aee     CLRF      0xee,0x0                                                                                        
0019cc   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Accel[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ce   0d04     MULLW     0x4                                                                                             
0019d0   cff3     MOVFF     0xff3,0xfe9                                                                                     
0019d2   ffe9                                                                                                               
0019d4   cff4     MOVFF     0xff4,0xfea                                                                                     
0019d6   ffea                                                                                                               
0019d8   0ea4     MOVLW     0xa4                                                                                            
0019da   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019dc   0e01     MOVLW     0x1                                                                                             
0019de   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019e0   6aee     CLRF      0xee,0x0                                                                                        
0019e2   6aee     CLRF      0xee,0x0                                                                                        
0019e4   6aee     CLRF      0xee,0x0                                                                                        
0019e6   6aee     CLRF      0xee,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ec   0101     MOVLB     0x1              CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ee   6b85     CLRF      0x85,0x1                                                                                        
0019f0   0101     MOVLB     0x1              CurrentCommand.m.sm.DirBits = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f2   6b86     CLRF      0x86,0x1                                                                                        
0019f4   0101     MOVLB     0x1              CurrentCommand.m.sm.DelayCounter = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f6   6b87     CLRF      0x87,0x1                                                                                        
0019f8   6b88     CLRF      0x88,0x1                                                                                        
0019fa   6b89     CLRF      0x89,0x1                                                                                        
0019fc   6b8a     CLRF      0x8a,0x1                                                                                        
0019fe   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoPosition = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a00   6bad     CLRF      0xad,0x1                                                                                        
001a02   6bae     CLRF      0xae,0x1                                                                                        
001a04   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRPn = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a06   6bac     CLRF      0xac,0x1                                                                                        
001a08   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoChannel = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0a   6baf     CLRF      0xaf,0x1                                                                                        
001a0c   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRate = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0e   6bb0     CLRF      0xb0,0x1                                                                                        
001a10   6bb1     CLRF      0xb1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a12   9006     BCF       0x6,0x0,0x0      bitclrzero(gRedLEDEmptyFIFO);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a14   6a09     CLRF      0x9,0x0          TestMode = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTA = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a16   8092     BSF       0x92,0x0,0x0     RefRA0_IO_TRIS = INPUT_PIN;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTB = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  INTCON2bits.RBPU = 0;   // Turn on weak-pull ups for port B                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTC = 0;              // Start out low                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISC = 0x80;           // Make portC output except for PortC bit 7, USB bus sense D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And make sure to always use low priority for ADC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a18   9c9f     BCF       0x9f,0x6,0x0     IPR1bits.ADIP = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Turn on AN0 (RA0) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1a   0e01     MOVLW     0x1              AnalogConfigure(RA0_CUR_ADJ_ADC_CHANNEL,1);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1c   6ee6     MOVWF     0xe6,0x0                                                                                        
001a1e   6ae6     CLRF      0xe6,0x0                                                                                        
001a20   ec0e     CALL      0x541c,0x0                                                                                      
001a22   f02a                                                                                                               
001a24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             // Turn on AN11 (V+) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a28   0e01     MOVLW     0x1              AnalogConfigure(RA11_VPLUS_POWER_ADC_CHANNEL,1);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2a   6ee6     MOVWF     0xe6,0x0                                                                                        
001a2c   0e0b     MOVLW     0xb                                                                                             
001a2e   6ee6     MOVWF     0xe6,0x0                                                                                        
001a30   ec0e     CALL      0x541c,0x0                                                                                      
001a32   f02a                                                                                                               
001a34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a38   848d     BSF       0x8d,0x2,0x0     MS1_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3a   9496     BCF       0x96,0x2,0x0     MS1_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3c   828d     BSF       0x8d,0x1,0x0     MS2_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3e   9296     BCF       0x96,0x1,0x0     MS2_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a40   8c89     BSF       0x89,0x6,0x0     MS3_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a42   9c92     BCF       0x92,0x6,0x0     MS3_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a44   808d     BSF       0x8d,0x0,0x0     Enable1IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a46   9096     BCF       0x96,0x0,0x0     Enable1IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a48   828b     BSF       0x8b,0x1,0x0     Enable2IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4a   9294     BCF       0x94,0x1,0x0     Enable2IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4c   9c8c     BCF       0x8c,0x6,0x0     Step1IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4e   9c95     BCF       0x95,0x6,0x0     Step1IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a50   9e8c     BCF       0x8c,0x7,0x0     Dir1IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a52   9e95     BCF       0x95,0x7,0x0     Dir1IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a54   988c     BCF       0x8c,0x4,0x0     Step2IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a56   9895     BCF       0x95,0x4,0x0     Step2IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a58   9a8c     BCF       0x8c,0x5,0x0     Dir2IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5a   9a95     BCF       0x95,0x5,0x0     Dir2IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // For bug in VUSB divider resistor, set RC7 as output and set high            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait a little while to charge up                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then set back as an input                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The idea here is to get the Schmidt trigger input RC7 high before           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // we make it an input, thus getting it above the 2.65V ST threshold           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And allowing VUSB to keep the logic level on the pin high at 2.5V           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5c   9e94     BCF       0x94,0x7,0x0     tris_usb_bus_sense = OUTPUT_PIN; // See HardwareProfile.h                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5e   8e82     BSF       0x82,0x7,0x0     USB_BUS_SENSE = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a60   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a62   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a64   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a66   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a68   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a70   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a72   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a74   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a76   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a78   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a80   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a82   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a84   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a86   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a88   9e82     BCF       0x82,0x7,0x0     USB_BUS_SENSE = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a8a   0101     MOVLB     0x1              gUseSolenoid = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a8c   0e01     MOVLW     0x1                                                                                             
001a8e   6fc1     MOVWF     0xc1,0x1                                                                                        
001a90   8005     BSF       0x5,0x0,0x0      bitsetzero(gUseRCPenServo);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up pen up/down direction as output                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a92   988a     BCF       0x8a,0x4,0x0     PenUpDownIO = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a94   9893     BCF       0x93,0x4,0x0     PenUpDownIO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up RC Servo power control to be off                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a96   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a98   9692     BCF       0x92,0x3,0x0     RCServoPowerIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9a   0101     MOVLB     0x1              SolenoidState = SOLENOID_ON;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9c   0e01     MOVLW     0x1                                                                                             
001a9e   6fb6     MOVWF     0xb6,0x1                                                                                        
001aa0   6a04     CLRF      0x4,0x0          DriverConfiguration = PIC_CONTROLS_DRIVERS;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa2   0101     MOVLB     0x1              PenState = PEN_UP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa4   0e01     MOVLW     0x1                                                                                             
001aa6   6fb9     MOVWF     0xb9,0x1                                                                                        
001aa8   6adf     CLRF      0xdf,0x0         for (i=0; i < SL_STORAGE_SIZE; i++)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aaa   0e20     MOVLW     0x20                                                                                            
001aac   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001aae   e209     BC        0x1ac2                                                                                          
001abe   2adf     INCF      0xdf,0x1,0x0                                                                                    
001ac0   d7f4     BRA       0x1aaa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab0   50df     MOVF      0xdf,0x0,0x0       gSL_Storage[i] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab2   6aea     CLRF      0xea,0x0                                                                                        
001ab4   0f58     ADDLW     0x58                                                                                            
001ab6   6ee9     MOVWF     0xe9,0x0                                                                                        
001ab8   0e01     MOVLW     0x1                                                                                             
001aba   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001abc   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac2   0101     MOVLB     0x1              NodeCount = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac4   6bba     CLRF      0xba,0x1                                                                                        
001ac6   6bbb     CLRF      0xbb,0x1                                                                                        
001ac8   6bbc     CLRF      0xbc,0x1                                                                                        
001aca   6bbd     CLRF      0xbd,0x1                                                                                        
001acc   6a07     CLRF      0x7,0x0          ButtonPushed = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ace   0101     MOVLB     0x1              gStandardizedCommandFormat = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad0   6bc3     CLRF      0xc3,0x1                                                                                        
001ad2   0101     MOVLB     0x1              gLimitChecks = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad4   0e01     MOVLW     0x1                                                                                             
001ad6   6fc2     MOVWF     0xc2,0x1                                                                                        
001ad8   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ada   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001adc   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ade   0e01     MOVLW     0x1              gCurrentFIFOLength = 1; // Default the FIFO length to 1 on boot                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae0   6e13     MOVWF     0x13,0x0                                                                                        
                                             //isr_FSR0L_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //isr_FSR0H_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Start out FIFO out pointer on first element in FIFO array, which starts at  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // address 0x500                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae2   0e05     MOVLW     0x5              FIFO_out_ptr_high = 0x05;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae4   6e14     MOVWF     0x14,0x0                                                                                        
001ae6   6a15     CLRF      0x15,0x0         FIFO_out_ptr_low  = 0x00;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Default RB0 to be an input, with the pull-up enabled, for use as alternate  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // PAUSE button (just like PRG)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Except for v1.1 hardware, use RB2                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae8   8093     BSF       0x93,0x0,0x0     TRISBbits.TRISB0 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aea   9ef1     BCF       0xf1,0x7,0x0     INTCON2bits.RBPU = 0;       // Turn on all of PortB pull-ups                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aec   8008     BSF       0x8,0x0,0x0      bitsetzero(UseAltPause);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aee   9693     BCF       0x93,0x3,0x0     TRISBbits.TRISB3 = 0;       // Make RB3 an output (for engraver)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af0   9681     BCF       0x81,0x3,0x0     PORTBbits.RB3 = 0;          // And make sure it starts out off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These are ISR variables, can't set them to zero in their definitions or     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the linker puts them in a different bank and ISR expands with more MOVLB    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // instructions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af2   6a0b     CLRF      0xb,0x0          PortBTemp = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af4   6a0c     CLRF      0xc,0x0          gLimitSwitchMask = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af6   6a0d     CLRF      0xd,0x0          gLimitSwitchTarget = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af8   900e     BCF       0xe,0x0,0x0      bitclrzero(gLimitSwitchTriggered);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out global stepper positions                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afa   ecec     CALL      0x31d8,0x0       clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afc   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set up TMR0 for our 25KHz High ISR for stepping                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afe   8cd5     BSF       0xd5,0x6,0x0     T0CONbits.T08BIT = 1;     // Set 8 bit mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b00   9ad5     BCF       0xd5,0x5,0x0     T0CONbits.T0CS = 0;       // System clocked from Fosc/4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b02   96d5     BCF       0xd5,0x3,0x0     T0CONbits.PSA = 0;        // Use prescaler                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b04   94d5     BCF       0xd5,0x2,0x0     T0CONbits.T0PS2 = 0;      // Use 4:1 Prescale value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b06   92d5     BCF       0xd5,0x1,0x0     T0CONbits.T0PS1 = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b08   80d5     BSF       0xd5,0x0,0x0     T0CONbits.T0PS0 = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0a   6ad6     CLRF      0xd6,0x0         TMR0L = 0x00;             // Give the timer some time before it fires the first time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0c   8ed5     BSF       0xd5,0x7,0x0     T0CONbits.TMR0ON = 1;     // Turn the timer on                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0e   84f1     BSF       0xf1,0x2,0x0     INTCON2bits.TMR0IP = 1;   // Use high priority interrupt for Timer 0           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b10   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;    // Clear the interrupt                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b12   8af2     BSF       0xf2,0x5,0x0     INTCONbits.TMR0IE = 1;    // Turn on the interrupt                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b14   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b16   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b18   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001b1a   ffd9                                                                                                               
001b1c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Stepper (mode) Configure command                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,0<CR> will use just solenoid output for pen up/down                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,1<CR> will use servo on RB1 for pen up/down                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,2<CR> will use servo on RB1 for pen up/down, but with ECCP2 (PWM) in hardware (default) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,0<CR> will make PIC control drivers (default)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,1<CR> will make PIC control external drivers using these pins            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE1 = RD1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE2 = RA1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP1 = RC6                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR1 = RC2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP2 = RA5                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR2 = RA2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,2<CR> will disconnect PIC from drivers and allow external step/dir source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,4,<servo2_min><CR> will set <servo2_min> as the minimum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,5,<servo2_max><CR> will set <servo2_max> as the maximum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,6,<servo_min><CR> will set <servo_min> as the minimum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,7,<servo_max><CR> will set <servo_max> as the maximum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,8,<servo2_slots><CR> sets the number of slots for the servo2 system (1 to 24) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,9,<servo2_slotMS><CR> sets the number of ms in duration for each slot (1 to 6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,10,<servo2_rate><CR> sets the rate of change for the servo (both up and down) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,11,<servo2_rate><CR> sets the pen up speed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,12,<servo2_rate><CR> sets the pen down speed                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,1<CR> enables RB3 as parallel input to PRG button for pause detection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,0<CR> disables RB3 as parallel input to PRG button for pause detection  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b1e   ecc9     CALL      0x3392,0x0     void parse_SC_packet (void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b20   f019                                                                                                               
001b22   0e03     MOVLW     0x3                                                                                             
001b24   ec8e     CALL      0x351c,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b26   f01a                                unsigned char Para1 = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned int Para2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b28   ec88     CALL      0x3910,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2a   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Para1, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2c   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &Para2, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2e   ec4c     CALL      0x3a98,0x0                                                                                      
001b30   f01d                                                                                                               
001b32   ec71     CALL      0x3ae2,0x0                                                                                      
001b34   f01d                                                                                                               
003a98   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003a9a   0f01     ADDLW     0x1                                                                                             
003a9c   6ee6     MOVWF     0xe6,0x0                                                                                        
003a9e   0e00     MOVLW     0x0                                                                                             
003aa0   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003aa2   6ee6     MOVWF     0xe6,0x0                                                                                        
003aa4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b36   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b38   5184     MOVF      0x84,0x0,0x1                                                                                    
001b3a   e001     BZ        0x1b3e                                                                                          
001b3c   d0ab     BRA       0x1c94                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to select which (solenoid/servo) gets used for pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b3e   04df     DECF      0xdf,0x0,0x0     if (Para1 == 1u)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b40   e120     BNZ       0x1b82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just solenoid                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b42   ec5d     CALL      0x3aba,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b44   f01d                                                                                                               
001b46   e107     BNZ       0x1b56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b48   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4a   0e01     MOVLW     0x1                                                                                             
001b4c   6fc1     MOVWF     0xc1,0x1                                                                                        
001b4e   9005     BCF       0x5,0x0,0x0          bitclrzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Turn off RC signal on Pen Servo output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b50   ecb3     CALL      0x3566,0x0           RCServo2_Move(0, g_servo2_RPn, 0, 0, FALSE);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b52   f01a                                                                                                               
003566   6ae6     CLRF      0xe6,0x0                                                                                        
003568   0e00     MOVLW     0x0                                                                                             
00356a   6ee6     MOVWF     0xe6,0x0                                                                                        
00356c   6ae6     CLRF      0xe6,0x0                                                                                        
00356e   6ee6     MOVWF     0xe6,0x0                                                                                        
003570   6ae6     CLRF      0xe6,0x0                                                                                        
003572   c0a6     MOVFF     0xa6,0xfe6                                                                                      
003574   ffe6                                                                                                               
003576   6ee6     MOVWF     0xe6,0x0                                                                                        
003578   6ae6     CLRF      0xe6,0x0                                                                                        
00357a   ef53     GOTO      0x3aa6                                                                                          
00357c   f01d                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just RC servo                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b54   d00e     BRA       0x1b72             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b56   ec37     CALL      0x346e,0x0                                                                                      
001b58   f01a                                                                                                               
001b5a   0e01     MOVLW     0x1                                                                                             
001b5c   18ee     XORWF     0xee,0x0,0x0                                                                                    
001b5e   e105     BNZ       0x1b6a                                                                                          
001b60   50ed     MOVF      0xed,0x0,0x0                                                                                    
001b62   e103     BNZ       0x1b6a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b64   0101     MOVLB     0x1                  gUseSolenoid = FALSE;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b66   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use solenoid AND servo (default)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b68   d003     BRA       0x1b70             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6a   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6c   0e01     MOVLW     0x1                                                                                             
001b6e   6fc1     MOVWF     0xc1,0x1                                                                                        
001b70   8005     BSF       0x5,0x0,0x0          bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Send a new command to set the state of the servo/solenoid                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b72   0e00     MOVLW     0x0                process_SP(PenState, 0);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b74   6ee6     MOVWF     0xe6,0x0                                                                                        
001b76   6ae6     CLRF      0xe6,0x0                                                                                        
001b78   c1b9     MOVFF     0x1b9,0xfe6                                                                                     
001b7a   ffe6                                                                                                               
001b7c   ecb5     CALL      0x376a,0x0                                                                                      
001b7e   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to switch between built-in drivers and external drivers   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b80   d087     BRA       0x1c90           else if (Para1 == 2u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b82   0e02     MOVLW     0x2                                                                                             
001b84   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b86   e12d     BNZ       0x1be2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b88   ec5d     CALL      0x3aba,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8a   f01d                                                                                                               
001b8c   e108     BNZ       0x1b9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8e   6a04     CLRF      0x4,0x0              DriverConfiguration = PIC_CONTROLS_DRIVERS;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Connections to drivers become outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b90   9096     BCF       0x96,0x0,0x0         Enable1IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b92   9294     BCF       0x94,0x1,0x0         Enable2IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b94   9c95     BCF       0x95,0x6,0x0         Step1IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b96   9e95     BCF       0x95,0x7,0x0         Dir1IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b98   9895     BCF       0x95,0x4,0x0         Step2IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9a   9a95     BCF       0x95,0x5,0x0         Dir2IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9c   d01b     BRA       0x1bd4             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9e   ec37     CALL      0x346e,0x0                                                                                      
001ba0   f01a                                                                                                               
001ba2   0e01     MOVLW     0x1                                                                                             
001ba4   18ee     XORWF     0xee,0x0,0x0                                                                                    
001ba6   e10c     BNZ       0x1bc0                                                                                          
001ba8   50ed     MOVF      0xed,0x0,0x0                                                                                    
001baa   e10a     BNZ       0x1bc0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bac   0e01     MOVLW     0x1                  DriverConfiguration = PIC_CONTROLS_EXTERNAL;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bae   ecd2     CALL      0x37a4,0x0                                                                                      
0037a4   6e04                                                                                                               
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb0   f01b     WORD2     0x1b                 Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037a6   8096     BSF       0x96,0x0,0x0                                                                                    
0037a8   8294     BSF       0x94,0x1,0x0         Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037aa   8c95     BSF       0x95,0x6,0x0         Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037ac   8e95     BSF       0x95,0x7,0x0         Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037ae   8895     BSF       0x95,0x4,0x0         Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037b0   8a95     BSF       0x95,0x5,0x0         Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037b2   0012     RETURN    0x0                                                                                             
                                                 // Alternate I/O pins become outputs                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb2   9494     BCF       0x94,0x2,0x0         Dir1AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb4   9492     BCF       0x92,0x2,0x0         Dir2AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb6   9c94     BCF       0x94,0x6,0x0         Step1AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb8   9a92     BCF       0x92,0x5,0x0         Step2AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bba   9295     BCF       0x95,0x1,0x0         Enable1AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbc   9292     BCF       0x92,0x1,0x0         Enable2AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbe   d068     BRA       0x1c90             else if (Para2 == 2u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bc0   ec37     CALL      0x346e,0x0                                                                                      
001bc2   f01a                                                                                                               
001bc4   0e02     MOVLW     0x2                                                                                             
001bc6   18ee     XORWF     0xee,0x0,0x0                                                                                    
001bc8   e163     BNZ       0x1c90                                                                                          
001bca   50ed     MOVF      0xed,0x0,0x0                                                                                    
001bcc   e161     BNZ       0x1c90                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bce   0e02     MOVLW     0x2                  DriverConfiguration = EXTERNAL_CONTROLS_DRIVERS;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd0   ecd2     CALL      0x37a4,0x0                                                                                      
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd2   f01b                                    Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd4   8494     BSF       0x94,0x2,0x0         Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd6   8492     BSF       0x92,0x2,0x0         Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd8   8c94     BSF       0x94,0x6,0x0         Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bda   8a92     BSF       0x92,0x5,0x0         Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bdc   8295     BSF       0x95,0x1,0x0         Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bde   8292     BSF       0x92,0x1,0x0         Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <min_servo> for Servo2 method                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be0   d057     BRA       0x1c90           else if (Para1 == 4u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be2   0e04     MOVLW     0x4                                                                                             
001be4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001be6   e107     BNZ       0x1bf6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be8   0e01     MOVLW     0x1                g_servo2_min = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bea   cfdb     MOVFF     0xfdb,0xa0                                                                                      
001bec   f0a0                                                                                                               
001bee   0e02     MOVLW     0x2                                                                                             
001bf0   cfdb     MOVFF     0xfdb,0xa1                                                                                      
001bf2   f0a1                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <max_servo> for Servo2                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf4   d04d     BRA       0x1c90           else if (Para1 == 5u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf6   0e05     MOVLW     0x5                                                                                             
001bf8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001bfa   e107     BNZ       0x1c0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bfc   0e01     MOVLW     0x1                g_servo2_max = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bfe   cfdb     MOVFF     0xfdb,0x9e                                                                                      
001c00   f09e                                                                                                               
001c02   0e02     MOVLW     0x2                                                                                             
001c04   cfdb     MOVFF     0xfdb,0x9f                                                                                      
001c06   f09f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <gRC2Slots>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c08   d043     BRA       0x1c90           else if (Para1 == 8u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0a   0e08     MOVLW     0x8                                                                                             
001c0c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c0e   e10f     BNZ       0x1c2e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c10   ec37     CALL      0x346e,0x0         if (Para2 > MAX_RC2_SERVOS)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c12   f01a                                                                                                               
001c14   0e08     MOVLW     0x8                                                                                             
001c16   80d8     BSF       0xd8,0x0,0x0                                                                                    
001c18   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001c1a   0e00     MOVLW     0x0                                                                                             
001c1c   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001c1e   e203     BC        0x1c26                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c20   0e08     MOVLW     0x8                  Para2 = MAX_RC2_SERVOS;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c22   ecf9     CALL      0x37f2,0x0                                                                                      
001c24   f01b                                                                                                               
0037f2   6ef3     MOVWF     0xf3,0x0                                                                                        
0037f4   0e01     MOVLW     0x1                                                                                             
0037f6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0037f8   ffdb                                                                                                               
0037fa   0e02     MOVLW     0x2                                                                                             
0037fc   6adb     CLRF      0xdb,0x0                                                                                        
0037fe   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c26   0e01     MOVLW     0x1                gRC2Slots = Para2;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c28   cfdb     MOVFF     0xfdb,0x9a                                                                                      
001c2a   f09a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c2c   d031     BRA       0x1c90           else if (Para1 == 9u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c2e   0e09     MOVLW     0x9                                                                                             
001c30   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c32   e10f     BNZ       0x1c52                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c34   ec37     CALL      0x346e,0x0         if (Para2 > 6u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c36   f01a                                                                                                               
001c38   0e06     MOVLW     0x6                                                                                             
001c3a   80d8     BSF       0xd8,0x0,0x0                                                                                    
001c3c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001c3e   0e00     MOVLW     0x0                                                                                             
001c40   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001c42   e203     BC        0x1c4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c44   0e06     MOVLW     0x6                  Para2 = 6;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c46   ecf9     CALL      0x37f2,0x0                                                                                      
001c48   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4a   0e01     MOVLW     0x1                gRC2SlotMS = Para2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4c   cfdb     MOVFF     0xfdb,0x9b                                                                                      
001c4e   f09b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c50   d01f     BRA       0x1c90           else if (Para1 == 10u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c52   0e0a     MOVLW     0xa                                                                                             
001c54   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c56   e103     BNZ       0x1c5e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c58   ec00     CALL      0x3800,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5a   f01c                                                                                                               
003800   0e01     MOVLW     0x1                                                                                             
003802   cfdb     MOVFF     0xfdb,0xa2                                                                                      
003804   f0a2                                                                                                               
003806   0e02     MOVLW     0x2                                                                                             
003808   cfdb     MOVFF     0xfdb,0xa3                                                                                      
00380a   f0a3                                                                                                               
00380c   0012     RETURN    0x0                                                                                             
                                               g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5c   d009     BRA       0x1c70           else if (Para1 == 11u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5e   0e0b     MOVLW     0xb                                                                                             
001c60   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c62   e103     BNZ       0x1c6a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c64   ec00     CALL      0x3800,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c66   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c68   d013     BRA       0x1c90           else if (Para1 == 12u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c6a   0e0c     MOVLW     0xc                                                                                             
001c6c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c6e   e107     BNZ       0x1c7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c70   0e01     MOVLW     0x1                g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c72   cfdb     MOVFF     0xfdb,0xa4                                                                                      
001c74   f0a4                                                                                                               
001c76   0e02     MOVLW     0x2                                                                                             
001c78   cfdb     MOVFF     0xfdb,0xa5                                                                                      
001c7a   f0a5                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7c   d009     BRA       0x1c90             else if (Para1 == 13u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7e   0e0d     MOVLW     0xd                                                                                             
001c80   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c82   e106     BNZ       0x1c90                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c84   ec5d     CALL      0x3aba,0x0         if (Para2)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c86   f01d                                                                                                               
001c88   e002     BZ        0x1c8e                                                                                          
00346e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003470   0f01     ADDLW     0x1                                                                                             
003472   6ee9     MOVWF     0xe9,0x0                                                                                        
003474   cfda     MOVFF     0xfda,0xfea                                                                                     
003476   ffea                                                                                                               
003478   0012     RETURN    0x0                                                                                             
003aba   dcd9     RCALL     0x346e                                                                                          
003abc   50ee     MOVF      0xee,0x0,0x0                                                                                    
003abe   10ed     IORWF     0xed,0x0,0x0                                                                                    
003ac0   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8a   8008     BSF       0x8,0x0,0x0          bitsetzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8c   d001     BRA       0x1c90             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8e   9008     BCF       0x8,0x0,0x0          bitclrzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c90   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c92   f019                                                                                                               
001c94   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c96   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001c98   e202     BC        0x1c9e                                                                                          
001c9a   6ae1     CLRF      0xe1,0x0                                                                                        
001c9c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001c9e   efc7     GOTO      0x338e                                                                                          
001ca0   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Move command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LM,<Rate1>,<Steps1>,<Accel1>,<Rate2>,<Steps2>,<Accel2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for v2.8.0 and below                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions you can use the sign of the steps values to control the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca2   ec8d     CALL      0x3b1a,0x0     void parse_LM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca4   f01d                                                                                                               
003b1a   dfac     RCALL     0x3a74                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b1c   d8c5     RCALL     0x3ca8           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ca8   ec94     CALL      0x1928,0x0                                                                                      
003caa   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cac   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cae   ec93     CALL      0x3326,0x0                                                                                      
003cb0   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b1e   0ed1     MOVLW     0xd1             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b20   6ee6     MOVWF     0xe6,0x0                                                                                        
003b22   0e01     MOVLW     0x1                                                                                             
003b24   debe     RCALL     0x38a2                                                                                          
003cb2   6ae6     CLRF      0xe6,0x0                                                                                        
003cb4   0012     RETURN    0x0                                                                                             
003b26   0ed5     MOVLW     0xd5             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b28   6ee6     MOVWF     0xe6,0x0                                                                                        
003b2a   0e01     MOVLW     0x1                                                                                             
003b2c   d0cc     BRA       0x3cc6                                                                                          
003cc6   dded     RCALL     0x38a2                                                                                          
003cc8   0ed9     MOVLW     0xd9             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cca   6ee6     MOVWF     0xe6,0x0                                                                                        
003ccc   0e01     MOVLW     0x1                                                                                             
003cce   ef51     GOTO      0x38a2                                                                                          
003cd0   f01c                                                                                                               
001ca6   0ee1     MOVLW     0xe1             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca8   6ee6     MOVWF     0xe6,0x0                                                                                        
001caa   0e01     MOVLW     0x1                                                                                             
001cac   ec0c     CALL      0x3c18,0x0                                                                                      
001cae   f01e                                                                                                               
001cb0   ece3     CALL      0x3bc6,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb2   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb4   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb6   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb8   5184     MOVF      0x84,0x0,0x1                                                                                    
001cba   e127     BNZ       0x1d0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbc   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbe   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001cc0   e01d     BZ        0x1cfc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LM,1,0,2,0,0,0. Or LM,0,1,0,0,0,0,0 GH issue #78                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc2   51d1     MOVF      0xd1,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc4   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001cc6   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001cc8   11d4     IORWF     0xd4,0x0,0x1                                                                                    
001cca   e105     BNZ       0x1cd6                                                                                          
001ccc   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001cce   11da     IORWF     0xda,0x0,0x1                                                                                    
001cd0   11db     IORWF     0xdb,0x0,0x1                                                                                    
001cd2   11dc     IORWF     0xdc,0x0,0x1                                                                                    
001cd4   e003     BZ        0x1cdc                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd6   ec21     CALL      0x3642,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd8   f01b                                                                                                               
001cda   e110     BNZ       0x1cfc               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cdc   51e1     MOVF      0xe1,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cde   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001ce0   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001ce2   11e4     IORWF     0xe4,0x0,0x1                                                                                    
001ce4   e105     BNZ       0x1cf0                                                                                          
001ce6   51e9     MOVF      0xe9,0x0,0x1                                                                                    
001ce8   11ea     IORWF     0xea,0x0,0x1                                                                                    
001cea   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001cec   11ec     IORWF     0xec,0x0,0x1                                                                                    
001cee   e003     BZ        0x1cf6                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf0   ec26     CALL      0x364c,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf2   f01b                                                                                                               
001cf4   e103     BNZ       0x1cfc               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf6   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf8   8d84     BSF       0x84,0x6,0x1                                                                                    
001cfa   d007     BRA       0x1d0a               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't need Intervals or Jerks, so set them to zero before calling low_level D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cfc   ec1a     CALL      0x3834,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cfe   f01c                                                                                                               
001d00   ec37     CALL      0x366e,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d02   f01b                                                                                                               
00366e   6bdd     CLRF      0xdd,0x1                                                                                        
003670   6bde     CLRF      0xde,0x1                                                                                        
003672   6bdf     CLRF      0xdf,0x1                                                                                        
003674   6be0     CLRF      0xe0,0x1                                                                                        
003676   6bed     CLRF      0xed,0x1         gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003678   6bee     CLRF      0xee,0x1                                                                                        
00367a   6bef     CLRF      0xef,0x1                                                                                        
00367c   6bf0     CLRF      0xf0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d04   6ae6     CLRF      0xe6,0x0         process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d06   ecc8     CALL      0x3790,0x0                                                                                      
001d08   f01b                                                                                                               
00367e   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
003680   ffe6                                                                                                               
003682   0012     RETURN    0x0                                                                                             
001d0a   ef9a     GOTO      0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0c   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level third derivative Move command                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Rate1>,<Steps1>,<Accel1>,<Jerk1>,<Rate2>,<Steps2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration and jerk,             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are applied to <Rate1> and <Rate2> every ISR tick.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // See full EBB docs for more complete documentation.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for compatibility with v2.8.0 and below            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions. You can use the sign of the steps values to control the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis, but then <Rate> must not be negative.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0e   ec8d     CALL      0x3b1a,0x0     void parse_L3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d10   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d12   ec5b     CALL      0x3cb6,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d14   f01e                                                                                                               
003cb6   0edd     MOVLW     0xdd                                                                                            
003cb8   6ee6     MOVWF     0xe6,0x0                                                                                        
003cba   0e01     MOVLW     0x1                                                                                             
003cbc   ddf2     RCALL     0x38a2                                                                                          
001d16   ec0c     CALL      0x3c18,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d18   f01e                                                                                                               
003c18   de44     RCALL     0x38a2                                                                                          
003cbe   0ee1     MOVLW     0xe1                                                                                            
003cc0   6ee6     MOVWF     0xe6,0x0                                                                                        
003cc2   0e01     MOVLW     0x1                                                                                             
003cc4   0012     RETURN    0x0                                                                                             
001d1a   ec97     CALL      0x3b2e,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1c   f01d                                                                                                               
003b2e   deb9     RCALL     0x38a2                                                                                          
003c1a   0ee5     MOVLW     0xe5                                                                                            
003c1c   6ee6     MOVWF     0xe6,0x0                                                                                        
003c1e   0e01     MOVLW     0x1                                                                                             
003c20   0012     RETURN    0x0                                                                                             
003b30   0ee9     MOVLW     0xe9             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b32   6ee6     MOVWF     0xe6,0x0                                                                                        
003b34   0e01     MOVLW     0x1                                                                                             
003b36   deb5     RCALL     0x38a2                                                                                          
003b38   0eed     MOVLW     0xed             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b3a   6ee6     MOVWF     0xe6,0x0                                                                                        
003b3c   0e01     MOVLW     0x1                                                                                             
003b3e   deb6     RCALL     0x38ac                                                                                          
003b40   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1e   e131     BNZ       0x1d82           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b42   0104     MOVLB     0x4                                                                                             
003b44   5184     MOVF      0x84,0x0,0x1                                                                                    
003b46   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d20   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d22   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d24   e027     BZ        0x1d74                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like L3,1,0,2,3,0,0,0,0. Or L3,0,1,0,0,0,0,0,0,0 GH issue #78             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d26   51d1     MOVF      0xd1,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d28   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001d2a   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001d2c   11d4     IORWF     0xd4,0x0,0x1                                                                                    
001d2e   e10a     BNZ       0x1d44                                                                                          
001d30   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001d32   11da     IORWF     0xda,0x0,0x1                                                                                    
001d34   11db     IORWF     0xdb,0x0,0x1                                                                                    
001d36   11dc     IORWF     0xdc,0x0,0x1                                                                                    
001d38   e105     BNZ       0x1d44                                                                                          
001d3a   51dd     MOVF      0xdd,0x0,0x1                                                                                    
001d3c   11de     IORWF     0xde,0x0,0x1                                                                                    
001d3e   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d40   11e0     IORWF     0xe0,0x0,0x1                                                                                    
001d42   e003     BZ        0x1d4a                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d44   ec21     CALL      0x3642,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d46   f01b                                                                                                               
001d48   e115     BNZ       0x1d74               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4a   51e1     MOVF      0xe1,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4c   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001d4e   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001d50   11e4     IORWF     0xe4,0x0,0x1                                                                                    
001d52   e10a     BNZ       0x1d68                                                                                          
001d54   51e9     MOVF      0xe9,0x0,0x1                                                                                    
001d56   11ea     IORWF     0xea,0x0,0x1                                                                                    
001d58   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001d5a   11ec     IORWF     0xec,0x0,0x1                                                                                    
001d5c   e105     BNZ       0x1d68                                                                                          
001d5e   51dd     MOVF      0xdd,0x0,0x1                                                                                    
001d60   11de     IORWF     0xde,0x0,0x1                                                                                    
001d62   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d64   11e0     IORWF     0xe0,0x0,0x1                                                                                    
001d66   e003     BZ        0x1d6e                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d68   ec26     CALL      0x364c,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6a   f01b                                                                                                               
001d6c   e103     BNZ       0x1d74               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d70   8d84     BSF       0x84,0x6,0x1                                                                                    
001d72   d007     BRA       0x1d82               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Intervals, so set it to zero here                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d74   ec1a     CALL      0x3834,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d76   f01c                                                                                                               
003834   6bc9     CLRF      0xc9,0x1                                                                                        
003836   6bca     CLRF      0xca,0x1                                                                                        
003838   6bcb     CLRF      0xcb,0x1                                                                                        
00383a   6bcc     CLRF      0xcc,0x1                                                                                        
00383c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d78   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d7a   ffe6                                                                                                               
001d7c   6ae6     CLRF      0xe6,0x0                                                                                        
001d7e   ecc8     CALL      0x3790,0x0                                                                                      
001d80   f01b                                                                                                               
001d82   ef9a     GOTO      0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d84   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed third derivative Move command                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Intervals>,<Rate1>,<Accel1>,<Jerk1>,<Rate2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d86   eca4     CALL      0x3b48,0x0     void parse_T3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d88   f01d                                                                                                               
003b48   df95     RCALL     0x3a74                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b4a   dec9     RCALL     0x38de           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b4c   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b4e   0ed1     MOVLW     0xd1                                                                                            
003b50   6ee6     MOVWF     0xe6,0x0                                                                                        
003b52   0e01     MOVLW     0x1                                                                                             
003b54   d0b8     BRA       0x3cc6                                                                                          
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8a   ec5b     CALL      0x3cb6,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8c   f01e                                                                                                               
001d8e   ec97     CALL      0x3b2e,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d90   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d92   e111     BNZ       0x1db6           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d94   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d96   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d98   e006     BZ        0x1da6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9a   ec59     CALL      0x36b2,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9c   f01b                                                                                                               
001d9e   e103     BNZ       0x1da6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da0   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da2   8d84     BSF       0x84,0x6,0x1                                                                                    
001da4   d008     BRA       0x1db6               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps so clear them here before calling low_level              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da6   ec73     CALL      0x36e6,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da8   f01b                                                                                                               
0036e6   6bd5     CLRF      0xd5,0x1                                                                                        
0036e8   6bd6     CLRF      0xd6,0x1                                                                                        
0036ea   6bd7     CLRF      0xd7,0x1                                                                                        
0036ec   6bd8     CLRF      0xd8,0x1                                                                                        
0036ee   6be5     CLRF      0xe5,0x1         gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036f0   6be6     CLRF      0xe6,0x1                                                                                        
0036f2   6be7     CLRF      0xe7,0x1                                                                                        
0036f4   6be8     CLRF      0xe8,0x1                                                                                        
0036f6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001daa   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dac   ffe6                                                                                                               
001dae   0e01     MOVLW     0x1                                                                                             
001db0   6ee6     MOVWF     0xe6,0x0                                                                                        
001db2   ecc8     CALL      0x3790,0x0                                                                                      
001db4   f01b                                                                                                               
001db6   ef9a     GOTO      0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db8   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed Move command                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LT,<Intervals>,<Rate1>,<Accel1>,<Rate2>,<Accel2>,<ClearAccs><CR>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints, and <Rate1> and <Rate2> are 32 bit signed ints.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dba   eca4     CALL      0x3b48,0x0     void parse_LT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dbc   f01d                                                                                                               
003a74   dc8e     RCALL     0x3392                                                                                          
003a76   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003a78   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dbe   0ee1     MOVLW     0xe1             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dc0   6ee6     MOVWF     0xe6,0x0                                                                                        
001dc2   0e01     MOVLW     0x1                                                                                             
001dc4   ece3     CALL      0x3bc6,0x0                                                                                      
001dc6   f01d                                                                                                               
003bc6   de6d     RCALL     0x38a2                                                                                          
0038ac   d992     RCALL     0x3bd2           extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc8   0ee9     MOVLW     0xe9                                                                                            
003bca   6ee6     MOVWF     0xe6,0x0                                                                                        
003bcc   0e01     MOVLW     0x1                                                                                             
003bce   ef56     GOTO      0x38ac                                                                                          
003bd0   f01c                                                                                                               
003bd2   6ee6     MOVWF     0xe6,0x0                                                                                        
003bd4   0e06     MOVLW     0x6                                                                                             
003bd6   ecf5     CALL      0x31ea,0x0                                                                                      
003bd8   f018                                                                                                               
001dc8   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038ae   6ee6     MOVWF     0xe6,0x0                                                                                        
0038b0   0ecd     MOVLW     0xcd                                                                                            
0038b2   6ee6     MOVWF     0xe6,0x0                                                                                        
0038b4   0e01     MOVLW     0x1                                                                                             
0038b6   ef49     GOTO      0x3c92                                                                                          
0038b8   f01e                                                                                                               
003bda   0e01     MOVLW     0x1                                                                                             
003bdc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dca   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dcc   5184     MOVF      0x84,0x0,0x1                                                                                    
001dce   e111     BNZ       0x1df2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd0   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd2   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001dd4   e006     BZ        0x1de2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd6   ec59     CALL      0x36b2,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd8   f01b                                                                                                               
001dda   e103     BNZ       0x1de2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ddc   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dde   8d84     BSF       0x84,0x6,0x1                                                                                    
001de0   d008     BRA       0x1df2               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps or Jerk, so set them to zero here                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de2   ec73     CALL      0x36e6,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de4   f01b                                                                                                               
                                             gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de6   ec37     CALL      0x366e,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de8   f01b                                                                                                               
                                             gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dea   0e01     MOVLW     0x1              process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dec   6ee6     MOVWF     0xe6,0x0                                                                                        
001dee   ecc8     CALL      0x3790,0x0                                                                                      
001df0   f01b                                                                                                               
003790   ecfb     CALL      0x1df6,0x0                                                                                      
003792   f00e                                                                                                               
003794   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003796   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003798   0012     RETURN    0x0                                                                                             
001df2   ef9a     GOTO      0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df4   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because the code for LM, L3, LT and T3 is really the same we call a common    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // processing function from all of them once their parameters are parsed into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // variables.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The caller must understand that this function changes some/all of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // global values used to pass in parameters. If it needs to preserve any         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // of those values it should make copies.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function takes input parameters in:                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gIntervals                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gClearAccs                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df6   ecc9     CALL      0x3392,0x0     void process_low_level_move(BOOL TimedMove, ExtractReturnType ClearRet)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df8   f019                                                                                                               
001dfa   0e05     MOVLW     0x5                                                                                             
001dfc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dfe   6ade     CLRF      0xde,0x0         INT32 RateTemp = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e00   6ade     CLRF      0xde,0x0                                                                                        
001e02   6ade     CLRF      0xde,0x0                                                                                        
001e04   6add     CLRF      0xdd,0x0                                                                                        
001e06   52dd     MOVF      0xdd,0x1,0x0                                                                                    
001e08   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                             BOOL NeedNegativeAccumulator;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0a   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0c   d227     BRA       0x225c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0e   b409     BTFSC     0x9,0x2,0x0      if (!bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e10   d008     BRA       0x1e22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e12   ec42     CALL      0x3684,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e14   f01b                                                                                                               
001e16   e205     BC        0x1e22                                                                                          
003684   80d8     BSF       0xd8,0x0,0x0                                                                                    
003686   0e03     MOVLW     0x3                                                                                             
003688   0101     MOVLB     0x1                                                                                             
00368a   55cd     SUBFWB    0xcd,0x0,0x1                                                                                    
00368c   0e00     MOVLW     0x0                                                                                             
00368e   55ce     SUBFWB    0xce,0x0,0x1                                                                                    
003690   0e00     MOVLW     0x0                                                                                             
003692   55cf     SUBFWB    0xcf,0x0,0x1                                                                                    
003694   0e00     MOVLW     0x0                                                                                             
003696   55d0     SUBFWB    0xd0,0x0,0x1                                                                                    
003698   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e18   0e03     MOVLW     0x3                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1a   6fcd     MOVWF     0xcd,0x1                                                                                        
001e1c   6bce     CLRF      0xce,0x1                                                                                        
001e1e   6bcf     CLRF      0xcf,0x1                                                                                        
001e20   6bd0     CLRF      0xd0,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If not a timed move, check for legacy opposite direction support            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e22   0efe     MOVLW     0xfe             if (!TimedMove)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e24   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e26   e132     BNZ       0x1e8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Since we will only use the sign of Rate as the signal for initial         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // stepper direction, if the user has sent us negative step counts, we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // apply a 'legacy' mode rule here : if steps are negative, make sure        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // rate is positive, then make steps positive and rate negative and invert   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // acceleration too to compensate. After this step, the sign of rate completely D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // controls the direction.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e28   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e2a   0e80     MOVLW     0x80                                                                                            
001e2c   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
001e2e   e014     BZ        0x1e58                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e30   0e80     MOVLW     0x80                 if (gRate1 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e32   15d4     ANDWF     0xd4,0x0,0x1                                                                                    
001e34   e117     BNZ       0x1e64                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e36   0e00     MOVLW     0x0                    gSteps1 = -gSteps1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e38   ec23     CALL      0x3a46,0x0                                                                                      
001e3a   f01d                                                                                                               
003a46   6dd5     NEGF      0xd5,0x1                                                                                        
003a48   1fd6     COMF      0xd6,0x1,0x1                                                                                    
003a4a   23d6     ADDWFC    0xd6,0x1,0x1                                                                                    
003a4c   1fd7     COMF      0xd7,0x1,0x1                                                                                    
003a4e   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
003a50   1fd8     COMF      0xd8,0x1,0x1                                                                                    
003a52   23d8     ADDWFC    0xd8,0x1,0x1                                                                                    
003a54   0012     RETURN    0x0                                                                                             
001e3c   6dd1     NEGF      0xd1,0x1               gRate1 = -gRate1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e3e   1fd2     COMF      0xd2,0x1,0x1                                                                                    
001e40   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
001e42   1fd3     COMF      0xd3,0x1,0x1                                                                                    
001e44   23d3     ADDWFC    0xd3,0x1,0x1                                                                                    
001e46   1fd4     COMF      0xd4,0x1,0x1                                                                                    
001e48   23d4     ADDWFC    0xd4,0x1,0x1                                                                                    
001e4a   6dd9     NEGF      0xd9,0x1               gAccel1 = -gAccel1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4c   1fda     COMF      0xda,0x1,0x1                                                                                    
001e4e   23da     ADDWFC    0xda,0x1,0x1                                                                                    
001e50   1fdb     COMF      0xdb,0x1,0x1                                                                                    
001e52   23db     ADDWFC    0xdb,0x1,0x1                                                                                    
001e54   1fdc     COMF      0xdc,0x1,0x1                                                                                    
001e56   23dc     ADDWFC    0xdc,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e58   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5a   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
001e5c   e017     BZ        0x1e8c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5e   0e80     MOVLW     0x80                 if (gRate2 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e60   15e4     ANDWF     0xe4,0x0,0x1                                                                                    
001e62   e003     BZ        0x1e6a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e64   0104     MOVLB     0x4                    bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e66   8d84     BSF       0x84,0x6,0x1                                                                                    
001e68   d1f9     BRA       0x225c                 return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e6a   0e00     MOVLW     0x0                    gSteps2 = -gSteps2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e6c   ec2b     CALL      0x3a56,0x0                                                                                      
001e6e   f01d                                                                                                               
003a56   6de5     NEGF      0xe5,0x1                                                                                        
003a58   1fe6     COMF      0xe6,0x1,0x1                                                                                    
003a5a   23e6     ADDWFC    0xe6,0x1,0x1                                                                                    
003a5c   1fe7     COMF      0xe7,0x1,0x1                                                                                    
003a5e   23e7     ADDWFC    0xe7,0x1,0x1                                                                                    
003a60   1fe8     COMF      0xe8,0x1,0x1                                                                                    
003a62   23e8     ADDWFC    0xe8,0x1,0x1                                                                                    
003a64   0012     RETURN    0x0                                                                                             
001e70   6de1     NEGF      0xe1,0x1               gRate2 = -gRate2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e72   1fe2     COMF      0xe2,0x1,0x1                                                                                    
001e74   23e2     ADDWFC    0xe2,0x1,0x1                                                                                    
001e76   1fe3     COMF      0xe3,0x1,0x1                                                                                    
001e78   23e3     ADDWFC    0xe3,0x1,0x1                                                                                    
001e7a   1fe4     COMF      0xe4,0x1,0x1                                                                                    
001e7c   23e4     ADDWFC    0xe4,0x1,0x1                                                                                    
001e7e   6de9     NEGF      0xe9,0x1               gAccel2 = -gAccel2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e80   1fea     COMF      0xea,0x1,0x1                                                                                    
001e82   23ea     ADDWFC    0xea,0x1,0x1                                                                                    
001e84   1feb     COMF      0xeb,0x1,0x1                                                                                    
001e86   23eb     ADDWFC    0xeb,0x1,0x1                                                                                    
001e88   1fec     COMF      0xec,0x1,0x1                                                                                    
001e8a   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8c   0101     MOVLB     0x1              gMoveTemp.m.sm.DirBits = 0;       // Start by assuming motors start CW         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8e   6b2a     CLRF      0x2a,0x1                                                                                        
001e90   6b2b     CLRF      0x2b,0x1         gMoveTemp.m.sm.DelayCounter = 0;  // No delay for motor moves                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e92   6b2c     CLRF      0x2c,0x1                                                                                        
001e94   6b2d     CLRF      0x2d,0x1                                                                                        
001e96   6b2e     CLRF      0x2e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Subtract off half of the Accel term and add 1/6th of the Jerk before we add the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // move to the queue. Why? Because it makes the math cleaner (see LM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // documentation)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e98   c1d9     MOVFF     0x1d9,0x40       gRate1 = gRate1 - (gAccel1/2) + (gJerk1/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e9a   f040                                                                                                               
001e9c   c1da     MOVFF     0x1da,0x41                                                                                      
001e9e   f041                                                                                                               
001ea0   c1db     MOVFF     0x1db,0x42                                                                                      
001ea2   f042                                                                                                               
001ea4   c1dc     MOVFF     0x1dc,0x43                                                                                      
001ea6   f043                                                                                                               
001ea8   0e02     MOVLW     0x2                                                                                             
001eaa   ecfc     CALL      0x35f8,0x0                                                                                      
001eac   f01a                                                                                                               
001eae   5040     MOVF      0x40,0x0,0x0                                                                                    
001eb0   0101     MOVLB     0x1                                                                                             
001eb2   5dd1     SUBWF     0xd1,0x0,0x1                                                                                    
001eb4   6e4e     MOVWF     0x4e,0x0                                                                                        
001eb6   5041     MOVF      0x41,0x0,0x0                                                                                    
001eb8   59d2     SUBWFB    0xd2,0x0,0x1                                                                                    
001eba   6e4f     MOVWF     0x4f,0x0                                                                                        
001ebc   5042     MOVF      0x42,0x0,0x0                                                                                    
001ebe   59d3     SUBWFB    0xd3,0x0,0x1                                                                                    
001ec0   6e50     MOVWF     0x50,0x0                                                                                        
001ec2   5043     MOVF      0x43,0x0,0x0                                                                                    
001ec4   59d4     SUBWFB    0xd4,0x0,0x1                                                                                    
001ec6   6e51     MOVWF     0x51,0x0                                                                                        
001ec8   c1dd     MOVFF     0x1dd,0x40                                                                                      
001eca   f040                                                                                                               
001ecc   c1de     MOVFF     0x1de,0x41                                                                                      
001ece   f041                                                                                                               
001ed0   c1df     MOVFF     0x1df,0x42                                                                                      
001ed2   f042                                                                                                               
001ed4   c1e0     MOVFF     0x1e0,0x43                                                                                      
001ed6   f043                                                                                                               
001ed8   0e06     MOVLW     0x6                                                                                             
001eda   ecfc     CALL      0x35f8,0x0                                                                                      
001edc   f01a                                                                                                               
001ede   504e     MOVF      0x4e,0x0,0x0                                                                                    
001ee0   2440     ADDWF     0x40,0x0,0x0                                                                                    
001ee2   0101     MOVLB     0x1                                                                                             
001ee4   6fd1     MOVWF     0xd1,0x1                                                                                        
001ee6   504f     MOVF      0x4f,0x0,0x0                                                                                    
001ee8   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001eea   6fd2     MOVWF     0xd2,0x1                                                                                        
001eec   5050     MOVF      0x50,0x0,0x0                                                                                    
001eee   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001ef0   6fd3     MOVWF     0xd3,0x1                                                                                        
001ef2   5051     MOVF      0x51,0x0,0x0                                                                                    
001ef4   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001ef6   6fd4     MOVWF     0xd4,0x1                                                                                        
001ef8   c1e9     MOVFF     0x1e9,0x40       gRate2 = gRate2 - (gAccel2/2) + (gJerk2/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001efa   f040                                                                                                               
001efc   c1ea     MOVFF     0x1ea,0x41                                                                                      
001efe   f041                                                                                                               
001f00   c1eb     MOVFF     0x1eb,0x42                                                                                      
001f02   f042                                                                                                               
001f04   c1ec     MOVFF     0x1ec,0x43                                                                                      
001f06   f043                                                                                                               
001f08   0e02     MOVLW     0x2                                                                                             
001f0a   ecfc     CALL      0x35f8,0x0                                                                                      
001f0c   f01a                                                                                                               
001f0e   5040     MOVF      0x40,0x0,0x0                                                                                    
001f10   0101     MOVLB     0x1                                                                                             
001f12   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
001f14   6e4e     MOVWF     0x4e,0x0                                                                                        
001f16   5041     MOVF      0x41,0x0,0x0                                                                                    
001f18   59e2     SUBWFB    0xe2,0x0,0x1                                                                                    
001f1a   6e4f     MOVWF     0x4f,0x0                                                                                        
001f1c   5042     MOVF      0x42,0x0,0x0                                                                                    
001f1e   59e3     SUBWFB    0xe3,0x0,0x1                                                                                    
001f20   6e50     MOVWF     0x50,0x0                                                                                        
001f22   5043     MOVF      0x43,0x0,0x0                                                                                    
001f24   59e4     SUBWFB    0xe4,0x0,0x1                                                                                    
001f26   6e51     MOVWF     0x51,0x0                                                                                        
001f28   c1ed     MOVFF     0x1ed,0x40                                                                                      
001f2a   f040                                                                                                               
001f2c   c1ee     MOVFF     0x1ee,0x41                                                                                      
001f2e   f041                                                                                                               
001f30   c1ef     MOVFF     0x1ef,0x42                                                                                      
001f32   f042                                                                                                               
001f34   c1f0     MOVFF     0x1f0,0x43                                                                                      
001f36   f043                                                                                                               
001f38   0e06     MOVLW     0x6                                                                                             
001f3a   ecfc     CALL      0x35f8,0x0                                                                                      
001f3c   f01a                                                                                                               
001f3e   504e     MOVF      0x4e,0x0,0x0                                                                                    
001f40   2440     ADDWF     0x40,0x0,0x0                                                                                    
001f42   0101     MOVLB     0x1                                                                                             
001f44   6fe1     MOVWF     0xe1,0x1                                                                                        
001f46   504f     MOVF      0x4f,0x0,0x0                                                                                    
001f48   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001f4a   6fe2     MOVWF     0xe2,0x1                                                                                        
001f4c   5050     MOVF      0x50,0x0,0x0                                                                                    
001f4e   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001f50   6fe3     MOVWF     0xe3,0x1                                                                                        
001f52   5051     MOVF      0x51,0x0,0x0                                                                                    
001f54   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001f56   6fe4     MOVWF     0xe4,0x1                                                                                        
0035f8   6e45     MOVWF     0x45,0x0                                                                                        
0035fa   6a46     CLRF      0x46,0x0                                                                                        
0035fc   6a47     CLRF      0x47,0x0                                                                                        
0035fe   6a48     CLRF      0x48,0x0                                                                                        
003600   efaf     GOTO      0x7b5e                                                                                          
003602   f03d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We will use the SEState move parameter to hold a bitfield. This bitfield    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // will tell the ISR if the accumulators need any special treatment when       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the command is loaded. We can zero it, or set it to 2^31-1, leave           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it alone, or set it to an arbitrary value (when testing).                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If clearing the accumulator, there are certain conditions which require     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // us to start the accumulator at 2^31-1, so we check for those                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // conditions and we use two bits in SEState to indicate this.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f58   0101     MOVLB     0x1              gMoveTemp.m.sm.SEState = 0;           // Start with all bits clear             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5a   6b2f     CLRF      0x2f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Determine what to do with the accumulators in UART_ISR_NUM test mode.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // In this test mode, we are outputting all of the relevant variables after    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // each move, over the debug UART pin, for collection by the HIL test          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // system for comparison to the correct values (which are pre-computed on      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the PC).                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This test mode gives the user the ability to 'preload' the accumulators     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // before the move begins, thus allowing a test where you can simulate         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the move beginning with any arbitrary value of the accumulator. This is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // critical as certain tests require this ability to correctly check the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // math in those situations.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This ability is implemented by overloading the last parameter sent in       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for this command, gClearAccs. This is an optional parameter. If the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // parameter is not present, then in this test mode that fact is interpreted   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // as a command to clear both accumulators to zero before the move begins.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // However, if any value is present for this parameter, then ClearRet will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // be set to kEXTRACT_OK, and gClearAccs will hold the desired starting value  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // of the accumulators. When this is true, both accumulators are set to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the value of gClearAccs before the move begins.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because this extra logic is only triggered when the test mode is active,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it does not impact normal operation at all.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5c   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5e   d016     BRA       0x1f8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the ISR_BIT_NUM test mode is on, then interpret the Clear parameter    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // as the initial value for Axis1 accumulator. There is no way currently     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to perform this same trick for Axis2.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We got a Clear parameter                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f60   0efd     MOVLW     0xfd               if (ClearRet == kEXTRACT_OK)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f62   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f64   e10d     BNZ       0x1f80                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f66   892f     BSF       0x2f,0x4,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC1_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f68   8b2f     BSF       0x2f,0x5,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC2_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f6a   c1cd     MOVFF     0x1cd,0x12b          gMoveTemp.m.sm.DelayCounter = gClearAccs;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f6c   f12b                                                                                                               
001f6e   c1ce     MOVFF     0x1ce,0x12c                                                                                     
001f70   f12c                                                                                                               
001f72   c1cf     MOVFF     0x1cf,0x12d                                                                                     
001f74   f12d                                                                                                               
001f76   c1d0     MOVFF     0x1d0,0x12e                                                                                     
001f78   f12e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We want to fall through to the 'normal' code that deals with            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // accumulator clearing (looking ahead and negating, etc.). Since we know  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // that we are setting the accumulators to a pre-calculated value and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // have told the ISR this with the two SEState bits above, we can set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // gClearAccs to zero, which will mean the 'normal' code below ignores     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the accumulators and doesn't zero or negate them.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7a   0101     MOVLB     0x1                  gClearAccs = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7c   6bcd     CLRF      0xcd,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7e   d003     BRA       0x1f86             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // But if we didn't get a Clear parameter AND we are in UART_ISR test      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // mode, then treat it as if the user wants  both accumulators cleared.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We're going to fall through to the 'normal' code below that handles     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // this situation, by setting gClearAccs to 0x03, which tells the code     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to clear (or negate) both accumulators.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f80   0101     MOVLB     0x1                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f82   0e03     MOVLW     0x3                                                                                             
001f84   6fcd     MOVWF     0xcd,0x1                                                                                        
001f86   6bce     CLRF      0xce,0x1                                                                                        
001f88   6bcf     CLRF      0xcf,0x1                                                                                        
001f8a   6bd0     CLRF      0xd0,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'Normal' accumulator clear/negate logic:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Test mode not active, so just check Clear parameter bits 0 and 1            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // to see if user wants to start move with cleared accumulator. If so,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // check for need to invert accumulator when move loaded into FIFO.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8c   c1cd     MOVFF     0x1cd,0x4e       if (gClearAccs & 0x01)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8e   f04e                                                                                                               
001f90   0e01     MOVLW     0x1                                                                                             
001f92   ec7c     CALL      0x36f8,0x0                                                                                      
001f94   f01b                                                                                                               
001f96   e03e     BZ        0x2014                                                                                          
0036f8   164e     ANDWF     0x4e,0x1,0x0                                                                                    
0036fa   6a4f     CLRF      0x4f,0x0                                                                                        
0036fc   6a50     CLRF      0x50,0x0                                                                                        
0036fe   6a51     CLRF      0x51,0x0                                                                                        
003700   504e     MOVF      0x4e,0x0,0x0                                                                                    
003702   104f     IORWF     0x4f,0x0,0x0                                                                                    
003704   1050     IORWF     0x50,0x0,0x0                                                                                    
003706   1051     IORWF     0x51,0x0,0x0                                                                                    
003708   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f98   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9a   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9c   0ed9     MOVLW     0xd9               RateTemp = gRate1 + gAccel1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9e   6ee9     MOVWF     0xe9,0x0                                                                                        
001fa0   0e01     MOVLW     0x1                                                                                             
001fa2   6eea     MOVWF     0xea,0x0                                                                                        
001fa4   0101     MOVLB     0x1                                                                                             
001fa6   51d1     MOVF      0xd1,0x0,0x1                                                                                    
001fa8   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001faa   6e4e     MOVWF     0x4e,0x0                                                                                        
001fac   51d2     MOVF      0xd2,0x0,0x1                                                                                    
001fae   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fb0   6e4f     MOVWF     0x4f,0x0                                                                                        
001fb2   51d3     MOVF      0xd3,0x0,0x1                                                                                    
001fb4   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fb6   6e50     MOVWF     0x50,0x0                                                                                        
001fb8   51d4     MOVF      0xd4,0x0,0x1                                                                                    
001fba   ecb4     CALL      0x3368,0x0                                                                                      
001fbc   f019                                                                                                               
001fbe   e602     BN        0x1fc4             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc0   ec6b     CALL      0x34d6,0x0                                                                                      
001fc2   f01a                                                                                                               
001fc4   e31d     BNC       0x2000                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc6   ecd0     CALL      0x33a0,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc8   f019                                                                                                               
001fca   e11c     BNZ       0x2004                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fcc   0edd     MOVLW     0xdd                   RateTemp = gAccel1 + gJerk1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fce   6ee9     MOVWF     0xe9,0x0                                                                                        
001fd0   0e01     MOVLW     0x1                                                                                             
001fd2   6eea     MOVWF     0xea,0x0                                                                                        
001fd4   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001fd6   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001fd8   6e4e     MOVWF     0x4e,0x0                                                                                        
001fda   51da     MOVF      0xda,0x0,0x1                                                                                    
001fdc   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fde   6e4f     MOVWF     0x4f,0x0                                                                                        
001fe0   51db     MOVF      0xdb,0x0,0x1                                                                                    
001fe2   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fe4   6e50     MOVWF     0x50,0x0                                                                                        
001fe6   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001fe8   ecb4     CALL      0x3368,0x0                                                                                      
001fea   f019                                                                                                               
001fec   e602     BN        0x1ff2                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fee   ec6b     CALL      0x34d6,0x0                                                                                      
001ff0   f01a                                                                                                               
001ff2   e306     BNC       0x2000                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff4   ecd0     CALL      0x33a0,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff6   f019                                                                                                               
001ff8   e105     BNZ       0x2004                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffa   0e80     MOVLW     0x80                       if (gJerk1 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffc   15e0     ANDWF     0xe0,0x0,0x1                                                                                    
001ffe   e002     BZ        0x2004                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002000   ecb8     CALL      0x3770,0x0                   NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002002   f01b                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002004   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002006   50db     MOVF      0xdb,0x0,0x0                                                                                    
002008   e003     BZ        0x2010                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00200a   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00200c   852f     BSF       0x2f,0x2,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00200e   d002     BRA       0x2014             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002010   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002012   812f     BSF       0x2f,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002014   c1cd     MOVFF     0x1cd,0x4e       if (gClearAccs & 0x02)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002016   f04e                                                                                                               
002018   0e02     MOVLW     0x2                                                                                             
00201a   ec7c     CALL      0x36f8,0x0                                                                                      
00201c   f01b                                                                                                               
00201e   e03c     BZ        0x2098                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002020   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002022   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002024   ec1f     CALL      0x383e,0x0         RateTemp = gRate2 + gAccel2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002026   f01c                                                                                                               
002028   0101     MOVLB     0x1                                                                                             
00202a   51e1     MOVF      0xe1,0x0,0x1                                                                                    
00202c   24ee     ADDWF     0xee,0x0,0x0                                                                                    
00202e   6e4e     MOVWF     0x4e,0x0                                                                                        
002030   51e2     MOVF      0xe2,0x0,0x1                                                                                    
002032   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002034   6e4f     MOVWF     0x4f,0x0                                                                                        
002036   51e3     MOVF      0xe3,0x0,0x1                                                                                    
002038   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00203a   6e50     MOVWF     0x50,0x0                                                                                        
00203c   51e4     MOVF      0xe4,0x0,0x1                                                                                    
00203e   ecb4     CALL      0x3368,0x0                                                                                      
002040   f019                                                                                                               
002042   e602     BN        0x2048             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002044   ec6b     CALL      0x34d6,0x0                                                                                      
002046   f01a                                                                                                               
002048   e31d     BNC       0x2084                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00204a   ecd0     CALL      0x33a0,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00204c   f019                                                                                                               
00204e   e11c     BNZ       0x2088                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002050   0eed     MOVLW     0xed                   RateTemp = gAccel2 + gJerk2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002052   6ee9     MOVWF     0xe9,0x0                                                                                        
002054   0e01     MOVLW     0x1                                                                                             
002056   6eea     MOVWF     0xea,0x0                                                                                        
002058   51e9     MOVF      0xe9,0x0,0x1                                                                                    
00205a   24ee     ADDWF     0xee,0x0,0x0                                                                                    
00205c   6e4e     MOVWF     0x4e,0x0                                                                                        
00205e   51ea     MOVF      0xea,0x0,0x1                                                                                    
002060   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002062   6e4f     MOVWF     0x4f,0x0                                                                                        
002064   51eb     MOVF      0xeb,0x0,0x1                                                                                    
002066   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002068   6e50     MOVWF     0x50,0x0                                                                                        
00206a   51ec     MOVF      0xec,0x0,0x1                                                                                    
00206c   ecb4     CALL      0x3368,0x0                                                                                      
00206e   f019                                                                                                               
003368   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00336a   6e51     MOVWF     0x51,0x0                                                                                        
00336c   c04e     MOVFF     0x4e,0xfdf                                                                                      
00336e   ffdf                                                                                                               
003370   0e01     MOVLW     0x1                                                                                             
003372   c04f     MOVFF     0x4f,0xfdb                                                                                      
003374   ffdb                                                                                                               
003376   0e02     MOVLW     0x2                                                                                             
003378   c050     MOVFF     0x50,0xfdb                                                                                      
00337a   ffdb                                                                                                               
00337c   0e03     MOVLW     0x3                                                                                             
00337e   c051     MOVFF     0x51,0xfdb                                                                                      
003380   ffdb                                                                                                               
002070   e602     BN        0x2076                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002072   ec6b     CALL      0x34d6,0x0                                                                                      
002074   f01a                                                                                                               
002076   e306     BNC       0x2084                                                                                          
003382   ec16     CALL      0x3c2c,0x0                                                                                      
003384   f01e                                                                                                               
003386   90d8     BCF       0xd8,0x0,0x0                                                                                    
003388   50eb     MOVF      0xeb,0x0,0x0                                                                                    
00338a   0a00     XORLW     0x0                                                                                             
00338c   0012     RETURN    0x0                                                                                             
0034d6   0e00     MOVLW     0x0                                                                                             
0034d8   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0034da   0e00     MOVLW     0x0                                                                                             
0034dc   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034de   0e00     MOVLW     0x0                                                                                             
0034e0   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034e2   0e00     MOVLW     0x0                                                                                             
0034e4   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034e6   0012     RETURN    0x0                                                                                             
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002078   ecd0     CALL      0x33a0,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00207a   f019                                                                                                               
00207c   e105     BNZ       0x2088                                                                                          
0033a0   dac0     RCALL     0x3922                                                                                          
0033a2   504e     MOVF      0x4e,0x0,0x0                                                                                    
0033a4   104f     IORWF     0x4f,0x0,0x0                                                                                    
0033a6   1050     IORWF     0x50,0x0,0x0                                                                                    
0033a8   1051     IORWF     0x51,0x0,0x0                                                                                    
0033aa   0012     RETURN    0x0                                                                                             
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00207e   0e80     MOVLW     0x80                       if (gJerk2 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002080   15f0     ANDWF     0xf0,0x0,0x1                                                                                    
002082   e002     BZ        0x2088                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002084   ecb8     CALL      0x3770,0x0                   NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002086   f01b                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002088   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00208c   e003     BZ        0x2094                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208e   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC2_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002090   872f     BSF       0x2f,0x3,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002092   d002     BRA       0x2098             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002094   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC2_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002096   832f     BSF       0x2f,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002098   0edd     MOVLW     0xdd             gAccel1 = gAccel1 - gJerk1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00209a   6ee9     MOVWF     0xe9,0x0                                                                                        
00209c   0e01     MOVLW     0x1                                                                                             
00209e   6eea     MOVWF     0xea,0x0                                                                                        
0020a0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020a2   0101     MOVLB     0x1                                                                                             
0020a4   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
0020a6   6fd9     MOVWF     0xd9,0x1                                                                                        
0020a8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020aa   59da     SUBWFB    0xda,0x0,0x1                                                                                    
0020ac   6fda     MOVWF     0xda,0x1                                                                                        
0020ae   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020b0   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
0020b2   6fdb     MOVWF     0xdb,0x1                                                                                        
0020b4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020b6   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
0020b8   6fdc     MOVWF     0xdc,0x1                                                                                        
0020ba   0eed     MOVLW     0xed             gAccel2 = gAccel2 - gJerk2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020bc   6ee9     MOVWF     0xe9,0x0                                                                                        
0020be   0e01     MOVLW     0x1                                                                                             
0020c0   6eea     MOVWF     0xea,0x0                                                                                        
0020c2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020c4   5de9     SUBWF     0xe9,0x0,0x1                                                                                    
0020c6   6fe9     MOVWF     0xe9,0x1                                                                                        
0020c8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020ca   59ea     SUBWFB    0xea,0x0,0x1                                                                                    
0020cc   6fea     MOVWF     0xea,0x1                                                                                        
0020ce   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020d0   59eb     SUBWFB    0xeb,0x0,0x1                                                                                    
0020d2   6feb     MOVWF     0xeb,0x1                                                                                        
0020d4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020d6   59ec     SUBWFB    0xec,0x0,0x1                                                                                    
0020d8   6fec     MOVWF     0xec,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020da   0104     MOVLB     0x4              if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020dc   05c6     DECF      0xc6,0x0,0x1                                                                                    
0020de   e102     BNZ       0x20e4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // (To be more logical this should happen in the ISR when this move          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // is loaded rather than here.)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e0   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e2   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load up the move structure with all needed values                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e4   c1d1     MOVFF     0x1d1,0x130      gMoveTemp.m.sm.Rate[0].value = gRate1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e6   f130                                                                                                               
0020e8   c1d2     MOVFF     0x1d2,0x131                                                                                     
0020ea   f131                                                                                                               
0020ec   c1d3     MOVFF     0x1d3,0x132                                                                                     
0020ee   f132                                                                                                               
0020f0   c1d4     MOVFF     0x1d4,0x133                                                                                     
0020f2   f133                                                                                                               
0020f4   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020f8   e009     BZ        0x210c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020fa   c1c9     MOVFF     0x1c9,0x138        gMoveTemp.m.sm.Steps[0] = gIntervals;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020fc   f138                                                                                                               
0020fe   c1ca     MOVFF     0x1ca,0x139                                                                                     
002100   f139                                                                                                               
002102   c1cb     MOVFF     0x1cb,0x13a                                                                                     
002104   f13a                                                                                                               
002106   c1cc     MOVFF     0x1cc,0x13b                                                                                     
002108   f13b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00210a   d002     BRA       0x2110           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00210c   ecd8     CALL      0x35b0,0x0         gMoveTemp.m.sm.Steps[0] = gSteps1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00210e   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002110   c1d9     MOVFF     0x1d9,0x148      gMoveTemp.m.sm.Accel[0] = gAccel1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002112   f148                                                                                                               
002114   c1da     MOVFF     0x1da,0x149                                                                                     
002116   f149                                                                                                               
002118   c1db     MOVFF     0x1db,0x14a                                                                                     
00211a   f14a                                                                                                               
00211c   c1dc     MOVFF     0x1dc,0x14b                                                                                     
00211e   f14b                                                                                                               
002120   c1dd     MOVFF     0x1dd,0x140      gMoveTemp.m.sm.Jerk[0] = gJerk1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002122   f140                                                                                                               
002124   c1de     MOVFF     0x1de,0x141                                                                                     
002126   f141                                                                                                               
002128   c1df     MOVFF     0x1df,0x142                                                                                     
00212a   f142                                                                                                               
00212c   c1e0     MOVFF     0x1e0,0x143                                                                                     
00212e   f143                                                                                                               
002130   c1e1     MOVFF     0x1e1,0x134      gMoveTemp.m.sm.Rate[1].value = gRate2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002132   f134                                                                                                               
002134   c1e2     MOVFF     0x1e2,0x135                                                                                     
002136   f135                                                                                                               
002138   c1e3     MOVFF     0x1e3,0x136                                                                                     
00213a   f136                                                                                                               
00213c   c1e4     MOVFF     0x1e4,0x137                                                                                     
00213e   f137                                                                                                               
002140   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002142   50db     MOVF      0xdb,0x0,0x0                                                                                    
002144   e006     BZ        0x2152                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002146   0101     MOVLB     0x1                gMoveTemp.m.sm.Steps[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002148   6b3c     CLRF      0x3c,0x1                                                                                        
00214a   6b3d     CLRF      0x3d,0x1                                                                                        
00214c   6b3e     CLRF      0x3e,0x1                                                                                        
00214e   6b3f     CLRF      0x3f,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002150   d002     BRA       0x2156           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002152   ece1     CALL      0x35c2,0x0         gMoveTemp.m.sm.Steps[1] = gSteps2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002154   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002156   c1e9     MOVFF     0x1e9,0x14c      gMoveTemp.m.sm.Accel[1] = gAccel2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002158   f14c                                                                                                               
00215a   c1ea     MOVFF     0x1ea,0x14d                                                                                     
00215c   f14d                                                                                                               
00215e   c1eb     MOVFF     0x1eb,0x14e                                                                                     
002160   f14e                                                                                                               
002162   c1ec     MOVFF     0x1ec,0x14f                                                                                     
002164   f14f                                                                                                               
002166   c1ed     MOVFF     0x1ed,0x144      gMoveTemp.m.sm.Jerk[1] = gJerk2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002168   f144                                                                                                               
00216a   c1ee     MOVFF     0x1ee,0x145                                                                                     
00216c   f145                                                                                                               
00216e   c1ef     MOVFF     0x1ef,0x146                                                                                     
002170   f146                                                                                                               
002172   c1f0     MOVFF     0x1f0,0x147                                                                                     
002174   f147                                                                                                               
002176   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002178   50db     MOVF      0xdb,0x0,0x0                                                                                    
00217a   e003     BZ        0x2182                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00217c   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LT_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00217e   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002180   d002     BRA       0x2186           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002182   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LM_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002184   0e06     MOVLW     0x6                                                                                             
002186   6f29     MOVWF     0x29,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002188   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218a   d05a     BRA       0x2240                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Print the final values used by the ISR for this move                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218c   ec1f     CALL      0x3c3e,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218e   f01e                                                                                                               
003c3e   0e24     MOVLW     0x24                                                                                            
003c40   6e4e     MOVWF     0x4e,0x0                                                                                        
003c42   0e83     MOVLW     0x83                                                                                            
003c44   ecfb     CALL      0x31f6,0x0                                                                                      
003c46   f018                                                                                                               
002190   ec65     CALL      0x38ca,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[0].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002192   f01c                                                                                                               
003c48   efea     GOTO      0x35d4                                                                                          
003c4a   f01a                                                                                                               
002194   ecab     CALL      0x3b56,0x0         ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002196   f01d                                                                                                               
003b56   0e1f     MOVLW     0x1f                                                                                            
003b58   6e4e     MOVWF     0x4e,0x0                                                                                        
003b5a   0e83     MOVLW     0x83                                                                                            
003b5c   ecfb     CALL      0x31f6,0x0                                                                                      
003b5e   f018                                                                                                               
003b60   c138     MOVFF     0x138,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b62   ffe6                                                                                                               
003b64   c139     MOVFF     0x139,0xfe6                                                                                     
003b66   ffe6                                                                                                               
003b68   c13a     MOVFF     0x13a,0xfe6                                                                                     
003b6a   ffe6                                                                                                               
003b6c   c13b     MOVFF     0x13b,0xfe6                                                                                     
003b6e   ffe6                                                                                                               
003b70   ef99     GOTO      0x3332                                                                                          
003b72   f019                                                                                                               
002198   0e1a     MOVLW     0x1a               ebb_print((far rom char *)" A1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00219a   6e4e     MOVWF     0x4e,0x0                                                                                        
00219c   0e83     MOVLW     0x83                                                                                            
00219e   ecfb     CALL      0x31f6,0x0                                                                                      
0021a0   f018                                                                                                               
0021a2   c148     MOVFF     0x148,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[0]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a4   ffe6                                                                                                               
0021a6   c149     MOVFF     0x149,0xfe6                                                                                     
0021a8   ffe6                                                                                                               
0021aa   c14a     MOVFF     0x14a,0xfe6                                                                                     
0021ac   ffe6                                                                                                               
0021ae   c14b     MOVFF     0x14b,0xfe6                                                                                     
0021b0   ffe6                                                                                                               
0021b2   ec65     CALL      0x38ca,0x0                                                                                      
0021b4   f01c                                                                                                               
0021b6   0e15     MOVLW     0x15               ebb_print((far rom char *)" J1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021b8   6e4e     MOVWF     0x4e,0x0                                                                                        
0021ba   0e83     MOVLW     0x83                                                                                            
0021bc   ecfb     CALL      0x31f6,0x0                                                                                      
0021be   f018                                                                                                               
0021c0   c140     MOVFF     0x140,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[0]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c2   ffe6                                                                                                               
0021c4   c141     MOVFF     0x141,0xfe6                                                                                     
0021c6   ffe6                                                                                                               
0021c8   c142     MOVFF     0x142,0xfe6                                                                                     
0021ca   ffe6                                                                                                               
0021cc   c143     MOVFF     0x143,0xfe6                                                                                     
0021ce   ffe6                                                                                                               
0021d0   ec65     CALL      0x38ca,0x0                                                                                      
0021d2   f01c                                                                                                               
0021d4   ec26     CALL      0x3c4c,0x0         ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021d6   f01e                                                                                                               
003c4c   0e10     MOVLW     0x10                                                                                            
003c4e   6e4e     MOVWF     0x4e,0x0                                                                                        
003c50   0e83     MOVLW     0x83                                                                                            
003c52   ecfb     CALL      0x31f6,0x0                                                                                      
003c54   f018                                                                                                               
0021d8   ec65     CALL      0x38ca,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[1].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021da   f01c                                                                                                               
003c56   eff3     GOTO      0x35e6                                                                                          
003c58   f01a                                                                                                               
0021dc   ecba     CALL      0x3b74,0x0         ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021de   f01d                                                                                                               
003b74   0e0b     MOVLW     0xb                                                                                             
003b76   6e4e     MOVWF     0x4e,0x0                                                                                        
003b78   0e83     MOVLW     0x83                                                                                            
003b7a   ecfb     CALL      0x31f6,0x0                                                                                      
003b7c   f018                                                                                                               
003b7e   c13c     MOVFF     0x13c,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b80   ffe6                                                                                                               
003b82   c13d     MOVFF     0x13d,0xfe6                                                                                     
003b84   ffe6                                                                                                               
003b86   c13e     MOVFF     0x13e,0xfe6                                                                                     
003b88   ffe6                                                                                                               
003b8a   c13f     MOVFF     0x13f,0xfe6                                                                                     
003b8c   ffe6                                                                                                               
003b8e   ef99     GOTO      0x3332                                                                                          
003b90   f019                                                                                                               
0021e0   0e06     MOVLW     0x6                ebb_print((far rom char *)" A2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e2   6e4e     MOVWF     0x4e,0x0                                                                                        
0021e4   0e83     MOVLW     0x83                                                                                            
0021e6   ecfb     CALL      0x31f6,0x0                                                                                      
0021e8   f018                                                                                                               
0021ea   c14c     MOVFF     0x14c,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[1]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ec   ffe6                                                                                                               
0021ee   c14d     MOVFF     0x14d,0xfe6                                                                                     
0021f0   ffe6                                                                                                               
0021f2   c14e     MOVFF     0x14e,0xfe6                                                                                     
0021f4   ffe6                                                                                                               
0021f6   c14f     MOVFF     0x14f,0xfe6                                                                                     
0021f8   ffe6                                                                                                               
0021fa   ec65     CALL      0x38ca,0x0                                                                                      
0021fc   f01c                                                                                                               
0021fe   0e01     MOVLW     0x1                ebb_print((far rom char *)" J2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002200   6e4e     MOVWF     0x4e,0x0                                                                                        
002202   0e83     MOVLW     0x83                                                                                            
002204   ecfb     CALL      0x31f6,0x0                                                                                      
002206   f018                                                                                                               
002208   c144     MOVFF     0x144,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[1]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00220a   ffe6                                                                                                               
00220c   c145     MOVFF     0x145,0xfe6                                                                                     
00220e   ffe6                                                                                                               
002210   c146     MOVFF     0x146,0xfe6                                                                                     
002212   ffe6                                                                                                               
002214   c147     MOVFF     0x147,0xfe6                                                                                     
002216   ffe6                                                                                                               
002218   ec65     CALL      0x38ca,0x0                                                                                      
00221a   f01c                                                                                                               
00221c   0efc     MOVLW     0xfc               ebb_print((far rom char *)" SE=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00221e   6e4e     MOVWF     0x4e,0x0                                                                                        
002220   0e82     MOVLW     0x82                                                                                            
002222   ecfb     CALL      0x31f6,0x0                                                                                      
002224   f018                                                                                                               
002226   c12f     MOVFF     0x12f,0x4e         ebb_print_int(gMoveTemp.m.sm.SEState);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002228   f04e                                                                                                               
00222a   6a4f     CLRF      0x4f,0x0                                                                                        
00222c   6a50     CLRF      0x50,0x0                                                                                        
00222e   6a51     CLRF      0x51,0x0                                                                                        
002230   c12f     MOVFF     0x12f,0xfe6                                                                                     
002232   ffe6                                                                                                               
002234   ecd6     CALL      0x3bac,0x0                                                                                      
002236   f01d                                                                                                               
002238   ec65     CALL      0x38ca,0x0                                                                                      
00223a   f01c                                                                                                               
00223c   ecd6     CALL      0x33ac,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00223e   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002240   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002242   d00a     BRA       0x2258                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002244   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002246   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002248   e2fd     BC        0x2244                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224a   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224c   d005     BRA       0x2258                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224e   ec0a     CALL      0x3214,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002250   f019                                                                                                               
                                                 gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002252   e301     BNC       0x2256               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002254   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002256   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002258   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00225a   f019                                                                                                               
00225c   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00225e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002260   e202     BC        0x2266                                                                                          
002262   6ae1     CLRF      0xe1,0x0                                                                                        
002264   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002266   efc7     GOTO      0x338e                                                                                          
002268   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Stepper Motor command                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SM,<move_duration>,<axis1_steps>,<axis2_steps>,<CleaAccs><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is 32 bit unsigned, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisX_steps> is a signed 32 bit number indicating how many steps (and what direction) the axis should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE1: <axis2_steps> is optional and can be left off                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional value of 0, 1, 2 or 3.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 will leave accumulators alone at the beginning of the move               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 will clear Motor1 accumulator and leave Motor2 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 will clear Motor2 accumulator and leave Motor1 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 will clear both Motor1 and Motor2 accumulators                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If the EBB can not make the move in the specified time, it will take as long as it needs to at max speed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // i.e. SM,1,1000 will not produce 1000 steps in 1ms. Instead, it will take 40ms (25KHz max step rate) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE2: If you specify zero steps for the axis, then you effectively create a delay. Use for small D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // pauses before raising or lowering the pen, for example.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_SM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00226a   ecab     CALL      0x3956,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00226c   f01c                                                                                                               
003956   d9a8     RCALL     0x3ca8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003958   0ec5     MOVLW     0xc5             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00395a   6ee6     MOVWF     0xe6,0x0                                                                                        
00395c   0e01     MOVLW     0x1                                                                                             
00395e   d999     RCALL     0x3c92                                                                                          
00226e   0ed5     MOVLW     0xd5             extract_number(kLONG,  &gSteps1,  kREQUIRED);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002270   6ee6     MOVWF     0xe6,0x0                                                                                        
002272   0e01     MOVLW     0x1                                                                                             
002274   ece9     CALL      0x3bd2,0x0                                                                                      
002276   f01d                                                                                                               
003960   6ae6     CLRF      0xe6,0x0                                                                                        
003962   0012     RETURN    0x0                                                                                             
002278   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gSteps2,  kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00227a   0ee5     MOVLW     0xe5                                                                                            
00227c   6ee6     MOVWF     0xe6,0x0                                                                                        
00227e   0e01     MOVLW     0x1                                                                                             
002280   ec56     CALL      0x38ac,0x0                                                                                      
002282   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002284   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002286   5184     MOVF      0x84,0x0,0x1                                                                                    
002288   e001     BZ        0x228c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228a   0012     RETURN    0x0                return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228c   da8a     RCALL     0x27a2           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228e   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002290   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Circle Move command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: CM,<frequency>,<dest_x>,<dest_y>,<center_x>,<center_y>,<direction><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y>,<center_x>,<center_y> are required signed 16 bit numbers    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <frequency> is a required unsigned integer from 2 to 25000                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> is a required 0 for CW or 1 for CCW                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional 0, 1, 2 or 3                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y> are the relative coordinates where the arc should end up    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <center_x>,<center_y> are the relative coordinates where the center of the arc is D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <rate> is the step frequency in steps/second                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> specifies which direction the arc should take                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is the same as for SM                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002292   ecc9     CALL      0x3392,0x0     void parse_CM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002294   f019                                                                                                               
002296   0e25     MOVLW     0x25                                                                                            
002298   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// TODO: This burden on the stack is huge - use globals for some of this      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229a   6ade     CLRF      0xde,0x0         UINT16 frequency = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229c   6add     CLRF      0xdd,0x0                                                                                        
00229e   0e02     MOVLW     0x2              INT32 dest_x = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022a0   6adb     CLRF      0xdb,0x0                                                                                        
0022a2   0e03     MOVLW     0x3                                                                                             
0022a4   6adb     CLRF      0xdb,0x0                                                                                        
0022a6   0e04     MOVLW     0x4                                                                                             
0022a8   6adb     CLRF      0xdb,0x0                                                                                        
0022aa   0e05     MOVLW     0x5                                                                                             
0022ac   6adb     CLRF      0xdb,0x0                                                                                        
0022ae   0e06     MOVLW     0x6              INT32 dest_y = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022b0   6adb     CLRF      0xdb,0x0                                                                                        
0022b2   0e07     MOVLW     0x7                                                                                             
0022b4   6adb     CLRF      0xdb,0x0                                                                                        
0022b6   0e08     MOVLW     0x8                                                                                             
0022b8   6adb     CLRF      0xdb,0x0                                                                                        
0022ba   0e09     MOVLW     0x9                                                                                             
0022bc   6adb     CLRF      0xdb,0x0                                                                                        
0022be   0e0a     MOVLW     0xa              INT32 center_x = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c0   6adb     CLRF      0xdb,0x0                                                                                        
0022c2   0e0b     MOVLW     0xb                                                                                             
0022c4   6adb     CLRF      0xdb,0x0                                                                                        
0022c6   0e0c     MOVLW     0xc                                                                                             
0022c8   6adb     CLRF      0xdb,0x0                                                                                        
0022ca   0e0d     MOVLW     0xd                                                                                             
0022cc   6adb     CLRF      0xdb,0x0                                                                                        
0022ce   0e0e     MOVLW     0xe              INT32 center_y = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022d0   6adb     CLRF      0xdb,0x0                                                                                        
0022d2   0e0f     MOVLW     0xf                                                                                             
0022d4   6adb     CLRF      0xdb,0x0                                                                                        
0022d6   0e10     MOVLW     0x10                                                                                            
0022d8   6adb     CLRF      0xdb,0x0                                                                                        
0022da   0e11     MOVLW     0x11                                                                                            
0022dc   6adb     CLRF      0xdb,0x0                                                                                        
0022de   0e12     MOVLW     0x12             UINT8 direction = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022e0   6adb     CLRF      0xdb,0x0                                                                                        
0022e2   0e13     MOVLW     0x13             UINT32 rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022e4   6adb     CLRF      0xdb,0x0                                                                                        
0022e6   0e14     MOVLW     0x14                                                                                            
0022e8   6adb     CLRF      0xdb,0x0                                                                                        
0022ea   0e15     MOVLW     0x15                                                                                            
0022ec   6adb     CLRF      0xdb,0x0                                                                                        
0022ee   0e16     MOVLW     0x16                                                                                            
0022f0   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT32 temp;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_1;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_2;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT32 radius;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 typ_seg_long;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f2   ec94     CALL      0x1928,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f4   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f6   ec11     CALL      0x3c22,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f8   f01e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022fa   ec71     CALL      0x3ae2,0x0       extract_number(kUINT,  &frequency,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022fc   f01d                                                                                                               
0022fe   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &dest_x, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002300   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002302   0f02     ADDLW     0x2                                                                                             
002304   ecdd     CALL      0x3bba,0x0                                                                                      
002306   f01d                                                                                                               
002308   0f06     ADDLW     0x6              extract_number(kLONG,  &dest_y,  kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00230a   ecdd     CALL      0x3bba,0x0                                                                                      
00230c   f01d                                                                                                               
00230e   0f0a     ADDLW     0xa              extract_number(kLONG,  &center_x,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002310   ecdd     CALL      0x3bba,0x0                                                                                      
002312   f01d                                                                                                               
002314   0f0e     ADDLW     0xe              extract_number(kLONG,  &center_y,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002316   ecdd     CALL      0x3bba,0x0                                                                                      
002318   f01d                                                                                                               
003bba   6ee6     MOVWF     0xe6,0x0                                                                                        
003bbc   0e00     MOVLW     0x0                                                                                             
003bbe   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003bc0   de70     RCALL     0x38a2                                                                                          
00231a   0f12     ADDLW     0x12             extract_number(kUCHAR, &direction,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00231c   ecd3     CALL      0x39a6,0x0                                                                                      
00231e   f01c                                                                                                               
003bc2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003bc4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002320   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002322   51c2     MOVF      0xc2,0x0,0x1                                                                                    
002324   e101     BNZ       0x2328                                                                                          
002326   d084     BRA       0x2430                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // direction can only be 0 or 1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002328   0e12     MOVLW     0x12               if (direction > 1u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00232a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00232c   0801     SUBLW     0x1                                                                                             
00232e   e202     BC        0x2334                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002330   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002332   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Rate has to be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002334   cfde     MOVFF     0xfde,0x4e         if ((frequency < 1u) || (frequency > 25000u))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002336   f04e                                                                                                               
002338   cfdd     MOVFF     0xfdd,0x4f                                                                                      
00233a   f04f                                                                                                               
00233c   0e01     MOVLW     0x1                                                                                             
00233e   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
002340   0e00     MOVLW     0x0                                                                                             
002342   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
002344   e308     BNC       0x2356                                                                                          
002346   ec16     CALL      0x3c2c,0x0                                                                                      
002348   f01e                                                                                                               
00234a   0ea8     MOVLW     0xa8                                                                                            
00234c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00234e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
002350   0e61     MOVLW     0x61                                                                                            
002352   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
002354   e202     BC        0x235a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002356   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002358   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check four positions for out of bounds                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00235a   0e02     MOVLW     0x2                if ((dest_x > 32768) || (dest_x < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00235c   cfdb     MOVFF     0xfdb,0x41                                                                                      
00235e   f041                                                                                                               
002360   0e03     MOVLW     0x3                                                                                             
002362   cfdb     MOVFF     0xfdb,0x42                                                                                      
002364   f042                                                                                                               
002366   0e04     MOVLW     0x4                                                                                             
002368   cfdb     MOVFF     0xfdb,0x43                                                                                      
00236a   f043                                                                                                               
00236c   0e05     MOVLW     0x5                                                                                             
00236e   ec2b     CALL      0x3656,0x0                                                                                      
002370   f01b                                                                                                               
002372   e602     BN        0x2378                                                                                          
002374   ec61     CALL      0x34c2,0x0                                                                                      
002376   f01a                                                                                                               
002378   e308     BNC       0x238a                                                                                          
00237a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00237c   0f02     ADDLW     0x2                                                                                             
00237e   ec92     CALL      0x3524,0x0                                                                                      
002380   f01a                                                                                                               
002382   e602     BN        0x2388                                                                                          
002384   ec74     CALL      0x34e8,0x0                                                                                      
002386   f01a                                                                                                               
002388   e202     BC        0x238e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00238a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00238c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00238e   0e06     MOVLW     0x6                if ((dest_y > 32768) || (dest_y < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002390   cfdb     MOVFF     0xfdb,0x41                                                                                      
002392   f041                                                                                                               
002394   0e07     MOVLW     0x7                                                                                             
002396   cfdb     MOVFF     0xfdb,0x42                                                                                      
002398   f042                                                                                                               
00239a   0e08     MOVLW     0x8                                                                                             
00239c   cfdb     MOVFF     0xfdb,0x43                                                                                      
00239e   f043                                                                                                               
0023a0   0e09     MOVLW     0x9                                                                                             
0023a2   ec2b     CALL      0x3656,0x0                                                                                      
0023a4   f01b                                                                                                               
0023a6   e602     BN        0x23ac                                                                                          
0023a8   ec61     CALL      0x34c2,0x0                                                                                      
0023aa   f01a                                                                                                               
0023ac   e308     BNC       0x23be                                                                                          
0023ae   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0023b0   0f06     ADDLW     0x6                                                                                             
0023b2   ec92     CALL      0x3524,0x0                                                                                      
0023b4   f01a                                                                                                               
0023b6   e602     BN        0x23bc                                                                                          
0023b8   ec74     CALL      0x34e8,0x0                                                                                      
0023ba   f01a                                                                                                               
0023bc   e202     BC        0x23c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023be   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c0   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c2   0e0a     MOVLW     0xa                if ((center_x > 32768) || (center_x < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c4   cfdb     MOVFF     0xfdb,0x41                                                                                      
0023c6   f041                                                                                                               
0023c8   0e0b     MOVLW     0xb                                                                                             
0023ca   cfdb     MOVFF     0xfdb,0x42                                                                                      
0023cc   f042                                                                                                               
0023ce   0e0c     MOVLW     0xc                                                                                             
0023d0   cfdb     MOVFF     0xfdb,0x43                                                                                      
0023d2   f043                                                                                                               
0023d4   0e0d     MOVLW     0xd                                                                                             
0023d6   ec2b     CALL      0x3656,0x0                                                                                      
0023d8   f01b                                                                                                               
0023da   e602     BN        0x23e0                                                                                          
0023dc   ec61     CALL      0x34c2,0x0                                                                                      
0023de   f01a                                                                                                               
0023e0   e308     BNC       0x23f2                                                                                          
0023e2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0023e4   0f0a     ADDLW     0xa                                                                                             
0023e6   ec92     CALL      0x3524,0x0                                                                                      
0023e8   f01a                                                                                                               
0023ea   e602     BN        0x23f0                                                                                          
0023ec   ec74     CALL      0x34e8,0x0                                                                                      
0023ee   f01a                                                                                                               
0023f0   e202     BC        0x23f6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023f2   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023f4   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023f6   0e0e     MOVLW     0xe                if ((center_y > 32768) || (center_y < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023f8   cfdb     MOVFF     0xfdb,0x41                                                                                      
0023fa   f041                                                                                                               
0023fc   0e0f     MOVLW     0xf                                                                                             
0023fe   cfdb     MOVFF     0xfdb,0x42                                                                                      
002400   f042                                                                                                               
002402   0e10     MOVLW     0x10                                                                                            
002404   cfdb     MOVFF     0xfdb,0x43                                                                                      
002406   f043                                                                                                               
002408   0e11     MOVLW     0x11                                                                                            
00240a   ec2b     CALL      0x3656,0x0                                                                                      
00240c   f01b                                                                                                               
00240e   e602     BN        0x2414                                                                                          
002410   ec61     CALL      0x34c2,0x0                                                                                      
002412   f01a                                                                                                               
002414   e308     BNC       0x2426                                                                                          
002416   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002418   0f0e     ADDLW     0xe                                                                                             
00241a   ec92     CALL      0x3524,0x0                                                                                      
00241c   f01a                                                                                                               
00241e   e602     BN        0x2424                                                                                          
002420   ec74     CALL      0x34e8,0x0                                                                                      
002422   f01a                                                                                                               
002424   e202     BC        0x242a                                                                                          
0034c2   80d8     BSF       0xd8,0x0,0x0                                                                                    
0034c4   0e00     MOVLW     0x0                                                                                             
0034c6   5441     SUBFWB    0x41,0x0,0x0                                                                                    
0034c8   0e80     MOVLW     0x80                                                                                            
0034ca   5442     SUBFWB    0x42,0x0,0x0                                                                                    
0034cc   0e00     MOVLW     0x0                                                                                             
0034ce   5443     SUBFWB    0x43,0x0,0x0                                                                                    
0034d0   0e00     MOVLW     0x0                                                                                             
0034d2   5444     SUBFWB    0x44,0x0,0x0                                                                                    
0034d4   0012     RETURN    0x0                                                                                             
0034e8   0e00     MOVLW     0x0                                                                                             
0034ea   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0034ec   0e80     MOVLW     0x80                                                                                            
0034ee   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034f0   0eff     MOVLW     0xff                                                                                            
0034f2   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034f4   0eff     MOVLW     0xff                                                                                            
0034f6   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034f8   0012     RETURN    0x0                                                                                             
003524   6ee9     MOVWF     0xe9,0x0                                                                                        
003526   cfda     MOVFF     0xfda,0xfea                                                                                     
003528   ffea                                                                                                               
00352a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00352c   0e03     MOVLW     0x3                                                                                             
00352e   50eb     MOVF      0xeb,0x0,0x0                                                                                    
003530   0aff     XORLW     0xff                                                                                            
003532   0012     RETURN    0x0                                                                                             
003656   cfdb     MOVFF     0xfdb,0x44                                                                                      
003658   f044                                                                                                               
00365a   3444     RLCF      0x44,0x0,0x0                                                                                    
00365c   0e00     MOVLW     0x0                                                                                             
00365e   1844     XORWF     0x44,0x0,0x0                                                                                    
003660   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002426   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002428   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Bail if a there is a parameter limit error                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00242a   0104     MOVLB     0x4                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00242c   5184     MOVF      0x84,0x0,0x1                                                                                    
00242e   e144     BNZ       0x24b8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002430   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002432   d042     BRA       0x24b8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out input parameters for debugging                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002434   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002436   d039     BRA       0x24aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002438   0ef6     MOVLW     0xf6               ebb_print((far rom char *)"Freq=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243a   6e4e     MOVWF     0x4e,0x0                                                                                        
00243c   0e82     MOVLW     0x82                                                                                            
00243e   ecfb     CALL      0x31f6,0x0                                                                                      
002440   f018                                                                                                               
002442   cfde     MOVFF     0xfde,0x4e         ebb_print_int(frequency);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002444   f04e                                                                                                               
002446   cfdd     MOVFF     0xfdd,0x4f                                                                                      
002448   f04f                                                                                                               
00244a   ec90     CALL      0x3320,0x0                                                                                      
00244c   f019                                                                                                               
00244e   0eed     MOVLW     0xed               ebb_print((far rom char *)" Dest_X=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002450   6e4e     MOVWF     0x4e,0x0                                                                                        
002452   0e82     MOVLW     0x82                                                                                            
002454   ecfb     CALL      0x31f6,0x0                                                                                      
002456   f018                                                                                                               
002458   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_x);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245a   0f02     ADDLW     0x2                                                                                             
00245c   ec74     CALL      0x3ae8,0x0                                                                                      
00245e   f01d                                                                                                               
002460   0ee4     MOVLW     0xe4               ebb_print((far rom char *)" Dest_Y=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002462   6e4e     MOVWF     0x4e,0x0                                                                                        
002464   0e82     MOVLW     0x82                                                                                            
002466   ecfb     CALL      0x31f6,0x0                                                                                      
002468   f018                                                                                                               
00246a   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_y);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00246c   0f06     ADDLW     0x6                                                                                             
00246e   ec74     CALL      0x3ae8,0x0                                                                                      
002470   f01d                                                                                                               
002472   0ed9     MOVLW     0xd9               ebb_print((far rom char *)" Center_X=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002474   6e4e     MOVWF     0x4e,0x0                                                                                        
002476   0e82     MOVLW     0x82                                                                                            
002478   ecfb     CALL      0x31f6,0x0                                                                                      
00247a   f018                                                                                                               
00247c   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_x);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00247e   0f0a     ADDLW     0xa                                                                                             
002480   ec74     CALL      0x3ae8,0x0                                                                                      
002482   f01d                                                                                                               
002484   0ece     MOVLW     0xce               ebb_print((far rom char *)" Center_Y=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002486   6e4e     MOVWF     0x4e,0x0                                                                                        
002488   0e82     MOVLW     0x82                                                                                            
00248a   ecfb     CALL      0x31f6,0x0                                                                                      
00248c   f018                                                                                                               
00248e   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_y);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002490   0f0e     ADDLW     0xe                                                                                             
002492   ec74     CALL      0x3ae8,0x0                                                                                      
002494   f01d                                                                                                               
002496   0ec2     MOVLW     0xc2               ebb_print((far rom char *)" Direction=");                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002498   6e4e     MOVWF     0x4e,0x0                                                                                        
00249a   0e82     MOVLW     0x82                                                                                            
00249c   ecfb     CALL      0x31f6,0x0                                                                                      
00249e   f018                                                                                                               
0024a0   0e12     MOVLW     0x12               ebb_print_int(direction);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a2   ece0     CALL      0x39c0,0x0                                                                                      
0024a4   f01c                                                                                                               
0024a6   ecd6     CALL      0x33ac,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a8   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024aa   0ea0     MOVLW     0xa0             ebb_print((far rom char *)"CM command disabled in this build");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ac   6e4e     MOVWF     0x4e,0x0                                                                                        
0024ae   0e82     MOVLW     0x82                                                                                            
0024b0   ec61     CALL      0x3ac2,0x0                                                                                      
0024b2   f01d                                                                                                               
                                             print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Current "turtle" position, relative to arc center: x_t, y_t:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_t = -center_x;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_t = -center_y;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Final ("target") position, relative to arc center: x_f, y_f                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_f = dest_x - center_x; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_f = dest_y - center_y; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here's that square root.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The argument, (center_x * center_x + center_y * center_y), is up to 31 bits. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = (center_x * center_x) + (center_y * center_y);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             radius = Sqrt(temp);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next calculate the "m_alpha" factor. This finds the smallest integer value m_alpha, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       such that 2^(2 * m_alpha + 3) >= radius                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   Possible values of m_alpha: 0 - 6                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       The radius can be as small as 5, such that 2^(2*0 + 3) = 8, already > radius 5. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 0 if radius = 5.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       Since the radius can be as large as 32767, (2^15), 2*alpha + 3 = 15   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 6 if radius = 32767.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Once m_alpha is computed, each straight subsegment around the circle spans an arc of D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   alpha = 1/(2^m_alpha) radians between its vertices.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since m_alpha is in the range 0-6, each arc angle is between 0.9 and 57.3 degrees: D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At smallest radius, (1/2^0) = 1; angle between vertices is 1 radian (57.3). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At largest radius, (1/2^6) = 1/64; angle between vertices is 1/64 =0.15625 radian, (0.9). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Rather than computing alpha (usually fractional), we keep track of m_alpha, and use it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   with bit shifts.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.m_alpha = 0; // uint8                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = 1 << ((2 * 0) + 3);  // left this way for clarity                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while (temp < radius)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gMoveTemp.m.cm.m_alpha += 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               temp = (1 << ((2 * gMoveTemp.m.cm.m_alpha) + 3)); // temp is uint16 (use bit shift instead of power) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next, compute what 1.5 * the typical subsegment length is.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the final vertex is within this distance of the start, just use a single D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   move between them, rather than an arc with multiple subsegments.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The typical length of a subsegment around the circumference is:             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (radius * angle_between_vertices_in_radians) = radius * alpha               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                   = radius * (1/2^m_alpha) = radius >> m_alpha D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 0.5 times the length is radius >> (m_alpha + 1)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Thus 1.5 times the length is (radius >> m_alpha) + (radius >> (m_alpha + 1)): D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.typ_seg = (radius >> gMoveTemp.m.cm.m_alpha);   // uint8        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             typ_seg_long = gMoveTemp.m.cm.typ_seg + (radius >> (gMoveTemp.m.cm.m_alpha + 1)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Get absolute value of move length in X and Y                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_1 = (gMoveTemp.m.cm.x_t - gMoveTemp.m.cm.x_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_1 = -sTemp16_1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_2 = (gMoveTemp.m.cm.y_t - gMoveTemp.m.cm.y_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_2 = -sTemp16_2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And if both x and y move length are too small, then just do a simple        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // straight move by calling process_simple_rate_move_fp()                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if ((sTemp16_1 < (INT16)typ_seg_long) && (sTemp16_2 < (INT16)typ_seg_long))    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is a very short move; cannot make an arc here.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Instead, process it like an SM or HM move with:                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_x = x_f - x_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_y = y_f - y_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      And step frequency given by StepFreq.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1 = gMoveTemp.m.cm.x_f - gMoveTemp.m.cm.x_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2 = gMoveTemp.m.cm.y_f - gMoveTemp.m.cm.y_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gHM_StepRate = frequency;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               process_simple_rate_move_fp();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // After making our short straight line, we're done.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_OK_NORM);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                              # Next: Precompute VScaleK (Velocity Scaling Factor K):                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This is a scaling factor that we will later use, in the ISR, to calculate the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   correct velocity in each axis from the number of steps in each axis.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # At a given vertex around the circle, the distance to the next vertex is (Dx, Dy). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   The velocity at that vertex is (K * Dx, K * Dy), where the velocity scale factor K D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   is K = (Forward_velocity/typical_length_of_subsegment)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^31/ 25000) / (radius * alpha)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28/ 3125) / (radius >> m_alpha)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28 << m_alpha ) / ( 3125 * radius)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   (Here, we have noted that 25000 = 8 * 3125 = 3125 * 2^3)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # To keep the multiplication within the ISR as 16 x 16 bit, we need a final VScaleK D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   that can be represented by uint16 (without losing too many digits of precision). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   Most of the special cases are to manage the great variation in K that is possible D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   because radius can range from 5-32767, and StepFreq can range from 1-25000. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left = 28                  # Counter for bits remaining to shift (int8) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left += m_alpha                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (StepFreq >= 256):   # StepFreq is in range 256 - 25000                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 17                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 17                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 3.35E7 - 3.27E9 (Almost 2^25 - Almost 2^32)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # StepFreq is in range 1 - 255                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 24                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 24                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               denom = 3125 * radius # uint32                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # denom is in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (radius >= 256):     # Radius is in range 256 - 32767                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 11                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 11                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 3906 - 50000 (Almost 2^12 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # Radius is in range 1 - 255                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 1                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 1                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 1562 - 39843 (Almost 2^11 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Now the "big" division operation -- just one, thankfully.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               VScaleK = int(StepFreq / denom) # (uint24?)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Largest possible VScaleK: 4.27E9 / 1562 = 2.733E6 (almost 2^22)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Smallest possible VScaleK: 1.67E7 / 50000 = 334 (almost 2^9)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if VScaleK > 65536:             # possibly check that high bytes are nonzero. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   VScaleK = VScaleK >> 4                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left += 4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # VScaleK value range is now 334 - 42,703, all < 2^16.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # ->  VScaleK can now be re-cast as a uint16.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Finally, set up variables to manage "local" position in ISR.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t # int16 Variables to store last (16-bit) position value     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t # int16                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Scale X, Y values up by 65536. The step positions are 16-bit signed, but   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   we need additional resolution to avoid adding rounding errors since we   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   do compute each new position from the last position.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t = x_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t = y_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               -----------------------------------------                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This concludes the "precomputation" stage. We now -- still in the "parsing" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   stage -- compute the velocities and step counts for the first subsegment only. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # The nominal step distances to move are:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_x = -1 * ( x_t >> (2 * m_alpha + 1)) - (y_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_y = -1 * ( y_t >> (2 * m_alpha + 1)) + (x_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # HOWEVER, right-shift division of negative integers isn't "clean" (e.g., -1 >> 1 == -1), D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   so we instead use several cases with positive integers and right shifts. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               alpha_shift = (m_alpha << 1) + 1                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = ( - x_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = -( - x_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = -( x_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = ( x_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = ( - y_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = -( - y_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = -( y_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = ( y_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if direction:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 + y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 - x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 - y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 + x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Update 32-bit position values:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t += d_x                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t += d_y                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find new 16-bit position value.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # In firmware, take two high bytes of position; do not actually shift/divide. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t_16 = x_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t_16 = y_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find Step count and directions.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_steps = x_t_16 - x_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_steps = y_t_16 - y_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = -x_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = x_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = -y_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = y_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Rate factors: Rate_x, Rate_y : 32-bit unsigned                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if bits_left >= 0:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Now, begin an SM/XM/HM type linear move with:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * stepdir_x, stepdir_y                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * x_stepcount, y_stepcount                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * Rate_x, Rate_y                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               In addition to the step/direction/rate values (normally in the FIFO),        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   I think we'll need the following values attached to this command:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - VScaleK       # uint16                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - m_alpha       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - bits_left     # int8                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - direction     # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - typ_seg       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// For CM, how do we know which direction we need to move first?              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps1 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps1 = -gTmpSteps1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps2 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps2 = -gTmpSteps2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[0].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[0] = gTmpSteps1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[0] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[1].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[1] = gTmpSteps2;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[1] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.Command = COMMAND_CM_OUTER_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_BIT_NUM))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b4   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b6   f019                                                                                                               
0024b8   0e25     MOVLW     0x25           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ba   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0024bc   e202     BC        0x24c2                                                                                          
0024be   6ae1     CLRF      0xe1,0x0                                                                                        
0024c0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0024c2   efc7     GOTO      0x338e                                                                                          
0024c4   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Home the motors                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // "HM,<StepFrequency>,<Pos1>,<Pos2><CR>"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <StepFrequency> is the desired rate of the primary (larger) axis in steps/s.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   It is allowed to be from 1 to 25000.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both optional. If <Pos1> is present, <Pos2> must        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // also be present. If not present they are both assumed to be 0 (i.e.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a true 'home' move). If present, they will instruct the EBB to perform        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a move to the absolute position <Pos1>,<Pos2>.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both signed 32 bit integers. Values from                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // -2147483648 to 2147483647 are allowed for each.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command uses the current global step counts compute the number of        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to reach the target position. (either 0,0 or Pos1,Pos2)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // There is a limitation to <Pos1> and <Pos2>. When they are each added          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to the negative of the current global position to compute the number of       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to complete this HM move, the sum must not overflow a         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // signed 32 bit number. An overflow like this will generate an error.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that this situation is very unlikely to occur, as 0x7FFFFFFF steps       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (the maximum number of steps a signed 32 bit int can represent) will take     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 23 hours to execute at the highest step rate (25Ks/s).                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The primary axis will be whichever one has to move more steps.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The secondary axis will be the non-primary axis.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For this function, if <StepFrequency> is too high or too low, we don't error  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // out, we just use a legal value instead (25,000 or 1 s/s).                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When parsing this command, we always wait until both the FIFO is empty and    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the motion commands are finished. By waiting until both the FIFO (queue) and  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // motion commands are empty, we get an accurate picture of where the global     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // step position is.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once the move has been figured out, we call process_simple_rate_move_fp().    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Some global variables are used in this function instead of local ones:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate is used for StepRate                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos1 is used for Pos1                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos2 is used for Pos2                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c6   ec3a     CALL      0x3a74,0x0     void parse_HM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c8   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ca   0e01     MOVLW     0x1              BOOL   CommandExecuting = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024cc   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ce   ec6f     CALL      0x38de,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d0   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d2   0e01     MOVLW     0x1              extract_number(kLONG,  &gHM_Pos1,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0024d6   0ed9     MOVLW     0xd9                                                                                            
0024d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0024da   0e01     MOVLW     0x1                                                                                             
0024dc   ece9     CALL      0x3bd2,0x0                                                                                      
0024de   f01d                                                                                                               
0024e0   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gHM_Pos2,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024e2   0ee9     MOVLW     0xe9                                                                                            
0024e4   6ee6     MOVWF     0xe6,0x0                                                                                        
0024e6   0e01     MOVLW     0x1                                                                                             
0024e8   ece9     CALL      0x3bd2,0x0                                                                                      
0024ea   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // StepRate must be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ec   0101     MOVLB     0x1              if (gHM_StepRate < 1u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ee   5dc9     SUBWF     0xc9,0x0,0x1                                                                                    
0024f0   0e00     MOVLW     0x0                                                                                             
0024f2   59ca     SUBWFB    0xca,0x0,0x1                                                                                    
0024f4   0e00     MOVLW     0x0                                                                                             
0024f6   59cb     SUBWFB    0xcb,0x0,0x1                                                                                    
0024f8   0e00     MOVLW     0x0                                                                                             
0024fa   59cc     SUBWFB    0xcc,0x0,0x1                                                                                    
0024fc   e204     BC        0x2506                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024fe   0e01     MOVLW     0x1                gHM_StepRate = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002500   6fc9     MOVWF     0xc9,0x1                                                                                        
002502   6bca     CLRF      0xca,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002504   d009     BRA       0x2518           else if (gHM_StepRate > 25000u)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002506   80d8     BSF       0xd8,0x0,0x0                                                                                    
002508   0ea8     MOVLW     0xa8                                                                                            
00250a   ecda     CALL      0x37b4,0x0                                                                                      
00250c   f01b                                                                                                               
00250e   e206     BC        0x251c                                                                                          
0037b4   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
0037b6   0e61     MOVLW     0x61                                                                                            
0037b8   55ca     SUBFWB    0xca,0x0,0x1                                                                                    
0037ba   0e00     MOVLW     0x0                                                                                             
0037bc   55cb     SUBFWB    0xcb,0x0,0x1                                                                                    
0037be   0e00     MOVLW     0x0                                                                                             
0037c0   55cc     SUBFWB    0xcc,0x0,0x1                                                                                    
0037c2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002510   0ea8     MOVLW     0xa8               gHM_StepRate = 25000;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002512   6fc9     MOVWF     0xc9,0x1                                                                                        
002514   0e61     MOVLW     0x61                                                                                            
002516   6fca     MOVWF     0xca,0x1                                                                                        
002518   6bcb     CLRF      0xcb,0x1                                                                                        
00251a   6bcc     CLRF      0xcc,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait until FIFO is empty                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251c   5013     MOVF      0x13,0x0,0x0     while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251e   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002520   e2fd     BC        0x251c                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then wait for motion command to finish (if one's running)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002522   04df     DECF      0xdf,0x0,0x0     while (CommandExecuting == TRUE)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002524   e10a     BNZ       0x253a                                                                                          
002538   d7f4     BRA       0x2522                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002526   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // See if there is either a delay or a command executing                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002528   0101     MOVLB     0x1                if ((CurrentCommand.m.sm.DelayCounter == 0u) && (CurrentCommand.Command == COMMAND_NONE)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252a   ecc3     CALL      0x3786,0x0                                                                                      
00252c   f01b                                                                                                               
00252e   e103     BNZ       0x2536                                                                                          
002530   5185     MOVF      0x85,0x0,0x1                                                                                    
002532   e101     BNZ       0x2536                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002534   6adf     CLRF      0xdf,0x0             CommandExecuting = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002536   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about. This is how far we need to move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253a   c016     MOVFF     0x16,0x40        gSteps1 = -globalStepCounter1 + gHM_Pos1;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253c   f040                                                                                                               
00253e   c017     MOVFF     0x17,0x41                                                                                       
002540   f041                                                                                                               
002542   c018     MOVFF     0x18,0x42                                                                                       
002544   f042                                                                                                               
002546   c019     MOVFF     0x19,0x43                                                                                       
002548   f043                                                                                                               
00254a   ece2     CALL      0x37c4,0x0                                                                                      
00254c   f01b                                                                                                               
00254e   0101     MOVLB     0x1                                                                                             
002550   25d9     ADDWF     0xd9,0x0,0x1                                                                                    
002552   6fd5     MOVWF     0xd5,0x1                                                                                        
002554   503d     MOVF      0x3d,0x0,0x0                                                                                    
002556   21da     ADDWFC    0xda,0x0,0x1                                                                                    
002558   6fd6     MOVWF     0xd6,0x1                                                                                        
00255a   503e     MOVF      0x3e,0x0,0x0                                                                                    
00255c   21db     ADDWFC    0xdb,0x0,0x1                                                                                    
00255e   6fd7     MOVWF     0xd7,0x1                                                                                        
002560   503f     MOVF      0x3f,0x0,0x0                                                                                    
002562   21dc     ADDWFC    0xdc,0x0,0x1                                                                                    
002564   6fd8     MOVWF     0xd8,0x1                                                                                        
0037c4   6845     SETF      0x45,0x0                                                                                        
0037c6   6846     SETF      0x46,0x0                                                                                        
0037c8   6847     SETF      0x47,0x0                                                                                        
0037ca   6848     SETF      0x48,0x0                                                                                        
0037cc   ec5a     CALL      0x8eb4,0x0                                                                                      
0037ce   f047                                                                                                               
0037d0   503c     MOVF      0x3c,0x0,0x0                                                                                    
0037d2   0012     RETURN    0x0                                                                                             
002566   c01a     MOVFF     0x1a,0x40        gSteps2 = -globalStepCounter2 + gHM_Pos2;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002568   f040                                                                                                               
00256a   c01b     MOVFF     0x1b,0x41                                                                                       
00256c   f041                                                                                                               
00256e   c01c     MOVFF     0x1c,0x42                                                                                       
002570   f042                                                                                                               
002572   c01d     MOVFF     0x1d,0x43                                                                                       
002574   f043                                                                                                               
002576   ece2     CALL      0x37c4,0x0                                                                                      
002578   f01b                                                                                                               
00257a   0101     MOVLB     0x1                                                                                             
00257c   25e9     ADDWF     0xe9,0x0,0x1                                                                                    
00257e   6fe5     MOVWF     0xe5,0x1                                                                                        
002580   503d     MOVF      0x3d,0x0,0x0                                                                                    
002582   21ea     ADDWFC    0xea,0x0,0x1                                                                                    
002584   6fe6     MOVWF     0xe6,0x1                                                                                        
002586   503e     MOVF      0x3e,0x0,0x0                                                                                    
002588   21eb     ADDWFC    0xeb,0x0,0x1                                                                                    
00258a   6fe7     MOVWF     0xe7,0x1                                                                                        
00258c   503f     MOVF      0x3f,0x0,0x0                                                                                    
00258e   21ec     ADDWFC    0xec,0x0,0x1                                                                                    
002590   6fe8     MOVWF     0xe8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Always clear accumulators for this type of move                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002592   6bcd     CLRF      0xcd,0x1         gClearAccs = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002594   6bce     CLRF      0xce,0x1                                                                                        
002596   6bcf     CLRF      0xcf,0x1                                                                                        
002598   6bd0     CLRF      0xd0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSRM_Rate                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gSRM_Rate = gHM_StepRate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259a   d811     RCALL     0x25be           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259c   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259e   f019                                                                                                               
0025a0   ef9a     GOTO      0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a2   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Test Rate                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simple function to allow testing of the process_simple_rate_move_fp() command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simply take the parameters from the user and pass them on to the move.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_TR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a4   ec6f     CALL      0x38de,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a6   f01c                                                                                                               
0038de   d9e4     RCALL     0x3ca8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038e0   0ec9     MOVLW     0xc9             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038e2   6ee6     MOVWF     0xe6,0x0                                                                                        
0038e4   0e01     MOVLW     0x1                                                                                             
0038e6   ef49     GOTO      0x3c92                                                                                          
0038e8   f01e                                                                                                               
003c92   6ee6     MOVWF     0xe6,0x0                                                                                        
003c94   0e07     MOVLW     0x7                                                                                             
003c96   eff5     GOTO      0x31ea                                                                                          
003c98   f018                                                                                                               
0025a8   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gSteps1,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025aa   0ed5     MOVLW     0xd5                                                                                            
0025ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0025ae   0e01     MOVLW     0x1                                                                                             
0025b0   ec0c     CALL      0x3c18,0x0                                                                                      
0025b2   f01e                                                                                                               
0025b4   ec56     CALL      0x38ac,0x0       extract_number(kLONG,  &gSteps2,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b6   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs,   kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b8   d802     RCALL     0x25be           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ba   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025bc   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the generic function for processing simple moves which use a          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 'rate' input parameter rather than a duration. The 'rate' parameter           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // is applied to the axis that has more steps (primary axis). The other axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (secondary axis) gets a rate which is appropriate to making a straight line.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gHM_StepRate can be between 1 and 25000 inclusive                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gSteps1 and gSteps2 are signed 32 bit numbers                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSRM_Rate   UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gClearAccs  UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025be   ec65     CALL      0x3aca,0x0     void process_simple_rate_move_fp(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c0   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c2   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c4   d01b     BRA       0x25fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c6   0e9a     MOVLW     0x9a               ebb_print((far rom char *)"Rate=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c8   6e4e     MOVWF     0x4e,0x0                                                                                        
0025ca   0e82     MOVLW     0x82                                                                                            
0025cc   ecfb     CALL      0x31f6,0x0                                                                                      
0025ce   f018                                                                                                               
0025d0   c1c9     MOVFF     0x1c9,0xfe6        ebb_print_uint(gHM_StepRate);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d2   ffe6                                                                                                               
0025d4   c1ca     MOVFF     0x1ca,0xfe6                                                                                     
0025d6   ffe6                                                                                                               
0025d8   c1cb     MOVFF     0x1cb,0xfe6                                                                                     
0025da   ffe6                                                                                                               
0025dc   c1cc     MOVFF     0x1cc,0xfe6                                                                                     
0025de   ffe6                                                                                                               
0025e0   ec99     CALL      0x3332,0x0                                                                                      
0025e2   f019                                                                                                               
0025e4   0e1f     MOVLW     0x1f               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e6   6e4e     MOVWF     0x4e,0x0                                                                                        
0025e8   0e83     MOVLW     0x83                                                                                            
0025ea   ecfb     CALL      0x31f6,0x0                                                                                      
0025ec   f018                                                                                                               
0025ee   ecc5     CALL      0x358a,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f0   f01a                                                                                                               
00358a   c1d5     MOVFF     0x1d5,0xfe6                                                                                     
00358c   ffe6                                                                                                               
00358e   c1d6     MOVFF     0x1d6,0xfe6                                                                                     
003590   ffe6                                                                                                               
003592   c1d7     MOVFF     0x1d7,0xfe6                                                                                     
003594   ffe6                                                                                                               
003596   c1d8     MOVFF     0x1d8,0xfe6                                                                                     
003598   ffe6                                                                                                               
00359a   ef65     GOTO      0x38ca                                                                                          
00359c   f01c                                                                                                               
0038ca   ecdc     CALL      0x85b8,0x0                                                                                      
0038cc   f042                                                                                                               
0038ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038d0   d186     BRA       0x3bde                                                                                          
003bde   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003be0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003be2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003be4   0012     RETURN    0x0                                                                                             
0025f2   0e0b     MOVLW     0xb                ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f4   6e4e     MOVWF     0x4e,0x0                                                                                        
0025f6   0e83     MOVLW     0x83                                                                                            
0025f8   ecc9     CALL      0x3b92,0x0                                                                                      
0025fa   f01d                                                                                                               
003b92   ecfb     CALL      0x31f6,0x0                                                                                      
003b94   f018                                                                                                               
003b96   c1e5     MOVFF     0x1e5,0xfe6        ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b98   ffe6                                                                                                               
003b9a   c1e6     MOVFF     0x1e6,0xfe6                                                                                     
003b9c   ffe6                                                                                                               
003b9e   c1e7     MOVFF     0x1e7,0xfe6                                                                                     
003ba0   ffe6                                                                                                               
003ba2   c1e8     MOVFF     0x1e8,0xfe6                                                                                     
003ba4   ffe6                                                                                                               
003ba6   de91     RCALL     0x38ca                                                                                          
003ba8   efd6     GOTO      0x33ac             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003baa   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025fc   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025fe   d0a3     BRA       0x2746                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And check for a bad rate value                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002600   80d8     BSF       0xd8,0x0,0x0     if ((gHM_StepRate > 25000u) || (gHM_StepRate == 0u))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002602   0ea8     MOVLW     0xa8                                                                                            
002604   0101     MOVLB     0x1                                                                                             
002606   ecda     CALL      0x37b4,0x0                                                                                      
002608   f01b                                                                                                               
00260a   e303     BNC       0x2612                                                                                          
00260c   ec59     CALL      0x36b2,0x0                                                                                      
00260e   f01b                                                                                                               
002610   e106     BNZ       0x261e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002612   0e7a     MOVLW     0x7a               ebb_print((far rom char *)"!0 Err: StepRate invalid value.");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002614   6e4e     MOVWF     0x4e,0x0                                                                                        
002616   0e82     MOVLW     0x82                                                                                            
002618   ec61     CALL      0x3ac2,0x0                                                                                      
00261a   f01d                                                                                                               
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261c   d094     BRA       0x2746             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If, for some reason, we're called with zero steps for both axis, then bail  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261e   ec21     CALL      0x3642,0x0       if ((gSteps1 == 0) && (gSteps2 == 0))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002620   f01b                                                                                                               
002622   e104     BNZ       0x262c                                                                                          
002624   ec26     CALL      0x364c,0x0                                                                                      
002626   f01b                                                                                                               
002628   e101     BNZ       0x262c                                                                                          
00262a   d08d     BRA       0x2746                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00262c   c1cd     MOVFF     0x1cd,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00262e   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002630   ec85     CALL      0x370a,0x0       gMoveTemp.m.sm.DelayCounter = 0;    // A rate move is never a delay, so clear  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002632   f01b                                                                                                               
00370a   0101     MOVLB     0x1                                                                                             
00370c   6b2b     CLRF      0x2b,0x1                                                                                        
00370e   6b2c     CLRF      0x2c,0x1                                                                                        
003710   6b2d     CLRF      0x2d,0x1                                                                                        
003712   6b2e     CLRF      0x2e,0x1                                                                                        
003714   6b2a     CLRF      0x2a,0x1         gMoveTemp.m.sm.DirBits = 0;         // Start with positive direction for both  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002634   e102     BNZ       0x263a           if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003716   0104     MOVLB     0x4                                                                                             
003718   05c6     DECF      0xc6,0x0,0x1                                                                                    
00371a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002636   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002638   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263a   0101     MOVLB     0x1              if (gSteps1 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263c   0e80     MOVLW     0x80                                                                                            
00263e   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
002640   e002     BZ        0x2646                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002642   ec05     CALL      0x360a,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002644   f01b                                                                                                               
00360a   0e80     MOVLW     0x80                                                                                            
00360c   0101     MOVLB     0x1                                                                                             
00360e   112a     IORWF     0x2a,0x0,0x1                                                                                    
003610   6f2a     MOVWF     0x2a,0x1                                                                                        
003612   0e00     MOVLW     0x0                gSteps1 = -gSteps1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003614   0101     MOVLB     0x1                                                                                             
003616   ef23     GOTO      0x3a46                                                                                          
003618   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002646   0e80     MOVLW     0x80             if (gSteps2 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002648   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
00264a   e002     BZ        0x2650                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264c   ec0d     CALL      0x361a,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264e   f01b                                                                                                               
00361a   0e20     MOVLW     0x20                                                                                            
00361c   0101     MOVLB     0x1                                                                                             
00361e   112a     IORWF     0x2a,0x0,0x1                                                                                    
003620   6f2a     MOVWF     0x2a,0x1                                                                                        
003622   0e00     MOVLW     0x0                gSteps2 = -gSteps2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003624   0101     MOVLB     0x1                                                                                             
003626   ef2b     GOTO      0x3a56                                                                                          
003628   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Both Steps values are now positive because our directions are set. From     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // now on we're dealing only with step counts and rates, no directions.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Figure out which axis is major                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002650   0ed5     MOVLW     0xd5             if (gSteps1 >= gSteps2)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002652   6ee9     MOVWF     0xe9,0x0                                                                                        
002654   0e01     MOVLW     0x1                                                                                             
002656   6eea     MOVWF     0xea,0x0                                                                                        
002658   0e03     MOVLW     0x3                                                                                             
00265a   50eb     MOVF      0xeb,0x0,0x0                                                                                    
00265c   19e8     XORWF     0xe8,0x0,0x1                                                                                    
00265e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002660   d002     BRA       0x2666                                                                                          
002662   35e8     RLCF      0xe8,0x0,0x1                                                                                    
002664   d008     BRA       0x2676                                                                                          
002666   51e5     MOVF      0xe5,0x0,0x1                                                                                    
002668   5cee     SUBWF     0xee,0x0,0x0                                                                                    
00266a   51e6     MOVF      0xe6,0x0,0x1                                                                                    
00266c   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00266e   51e7     MOVF      0xe7,0x0,0x1                                                                                    
002670   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002672   51e8     MOVF      0xe8,0x0,0x1                                                                                    
002674   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002676   e32a     BNC       0x26cc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis1 is major, Axis2 is minor                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Computing the gMoveTemp.m.sm.Rate value for the primary axis is simple.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // gMoveTemp.m.sm.Rate is simply gHM_StepRate * 85899.34592.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002678   ec02     CALL      0x3404,0x0         gMoveTemp.m.sm.Rate[0].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00267a   f01a                                                                                                               
00267c   ec8e     CALL      0x371c,0x0                                                                                      
00267e   f01b                                                                                                               
003404   ec03     CALL      0x3c06,0x0                                                                                      
003406   f01e                                                                                                               
003408   ecd4     CALL      0x79a8,0x0                                                                                      
00340a   f03c                                                                                                               
00340c   dac3     RCALL     0x3994                                                                                          
00340e   0eac     MOVLW     0xac                                                                                            
003410   6e46     MOVWF     0x46,0x0                                                                                        
003412   0ec5     MOVLW     0xc5                                                                                            
003414   6e47     MOVWF     0x47,0x0                                                                                        
003416   0ea7     MOVLW     0xa7                                                                                            
003418   6e48     MOVWF     0x48,0x0                                                                                        
00341a   0e47     MOVLW     0x47                                                                                            
00341c   6e49     MOVWF     0x49,0x0                                                                                        
00341e   ec42     CALL      0x7a84,0x0                                                                                      
003420   f03d                                                                                                               
003422   efe3     GOTO      0x7bc6                                                                                          
003424   f03d                                                                                                               
00371c   c040     MOVFF     0x40,0x130                                                                                      
00371e   f130                                                                                                               
003720   c041     MOVFF     0x41,0x131                                                                                      
003722   f131                                                                                                               
003724   c042     MOVFF     0x42,0x132                                                                                      
003726   f132                                                                                                               
003728   c043     MOVFF     0x43,0x133                                                                                      
00372a   f133                                                                                                               
00372c   0012     RETURN    0x0                                                                                             
003994   c041     MOVFF     0x41,0x4e                                                                                       
003996   f04e                                                                                                               
003998   c042     MOVFF     0x42,0x4f                                                                                       
00399a   f04f                                                                                                               
00399c   c043     MOVFF     0x43,0x50                                                                                       
00399e   f050                                                                                                               
0039a0   c044     MOVFF     0x44,0x51                                                                                       
0039a2   f051                                                                                                               
0039a4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002680   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002682   ec26     CALL      0x364c,0x0                                                                                      
002684   f01b                                                                                                               
002686   e01c     BZ        0x26c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know secondary axis is non-zero move length, so compute it's rate    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // such that the ratio of primary steps/rate is the same as secondary      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // steps/rate.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The ratio of steps/rate will need to be the same for both axis          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to make a straight line. So if S1 is axis1 steps, S2 is axis2 steps,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R1 is axis1 rate and R2 is axis2 rate, then                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // S1/R1 = S2/R2.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know all but R2, so solving for R2 we get                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R2 = (S2*R1)/S1                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We break one of the EBB firmware rules here and use floating point      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // operations, as it is the perfect solution to maintaining as much        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // resolution as possible when computing the secondary rate. And it's not  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // even that slow - both the above primary rate multiply and the following D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // two multiplies and a divide, this whole function take less than 350 uS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002688   ecb8     CALL      0x3970,0x0           tempF = (float)gSteps2 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268a   f01c                                                                                                               
00268c   ecaa     CALL      0x3354,0x0                                                                                      
00268e   f019                                                                                                               
003354   ecd6     CALL      0x79ac,0x0                                                                                      
003356   f03c                                                                                                               
003358   db1d     RCALL     0x3994                                                                                          
00335a   ec03     CALL      0x3c06,0x0                                                                                      
00335c   f01e                                                                                                               
00335e   dac5     RCALL     0x38ea                                                                                          
003360   ec42     CALL      0x7a84,0x0                                                                                      
003362   f03d                                                                                                               
003364   efe5     GOTO      0x39ca                                                                                          
003366   f01c                                                                                                               
003c06   c1c9     MOVFF     0x1c9,0x40                                                                                      
003c08   f040                                                                                                               
003c0a   c1ca     MOVFF     0x1ca,0x41                                                                                      
003c0c   f041                                                                                                               
003c0e   c1cb     MOVFF     0x1cb,0x42                                                                                      
003c10   f042                                                                                                               
003c12   c1cc     MOVFF     0x1cc,0x43                                                                                      
003c14   f043                                                                                                               
003c16   0012     RETURN    0x0                                                                                             
002690   ecc1     CALL      0x3982,0x0           tempF /= (float)gSteps1;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002692   f01c                                                                                                               
002694   ec6f     CALL      0x32de,0x0                                                                                      
002696   f019                                                                                                               
0032de   ecd6     CALL      0x79ac,0x0                                                                                      
0032e0   f03c                                                                                                               
0032e2   db58     RCALL     0x3994                                                                                          
0032e4   db28     RCALL     0x3936                                                                                          
0032e6   c051     MOVFF     0x51,0x49                                                                                       
0032e8   f049                                                                                                               
0032ea   ecef     CALL      0x79de,0x0                                                                                      
0032ec   f03c                                                                                                               
0032ee   db9c     RCALL     0x3a28                                                                                          
003936   d97a     RCALL     0x3c2c                                                                                          
003938   cfee     MOVFF     0xfee,0x41                                                                                      
00393a   f041                                                                                                               
00393c   cfee     MOVFF     0xfee,0x42                                                                                      
00393e   f042                                                                                                               
003940   cfee     MOVFF     0xfee,0x43                                                                                      
003942   f043                                                                                                               
003944   cfef     MOVFF     0xfef,0x44                                                                                      
003946   f044                                                                                                               
003948   c04e     MOVFF     0x4e,0x46                                                                                       
00394a   f046                                                                                                               
00394c   c04f     MOVFF     0x4f,0x47                                                                                       
00394e   f047                                                                                                               
003950   c050     MOVFF     0x50,0x48                                                                                       
003952   f048                                                                                                               
003954   0012     RETURN    0x0                                                                                             
003a28   c044     MOVFF     0x44,0xfed                                                                                      
003a2a   ffed                                                                                                               
003a2c   c043     MOVFF     0x43,0xfed                                                                                      
003a2e   ffed                                                                                                               
003a30   c042     MOVFF     0x42,0xfed                                                                                      
003a32   ffed                                                                                                               
003a34   c041     MOVFF     0x41,0xfef                                                                                      
003a36   ffef                                                                                                               
003a38   0012     RETURN    0x0                                                                                             
003c2c   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003c2e   ffe9                                                                                                               
003c30   cfda     MOVFF     0xfda,0xfea                                                                                     
003c32   ffea                                                                                                               
003c34   0012     RETURN    0x0                                                                                             
0032f0   0eac     MOVLW     0xac                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032f2   6e4e     MOVWF     0x4e,0x0                                                                                        
0032f4   0ec5     MOVLW     0xc5                                                                                            
0032f6   6e4f     MOVWF     0x4f,0x0                                                                                        
0032f8   0ea7     MOVLW     0xa7                                                                                            
0032fa   6e50     MOVWF     0x50,0x0                                                                                        
0032fc   0e47     MOVLW     0x47                                                                                            
0032fe   6e51     MOVWF     0x51,0x0                                                                                        
003300   db1a     RCALL     0x3936                                                                                          
003302   6e49     MOVWF     0x49,0x0                                                                                        
003304   ec42     CALL      0x7a84,0x0                                                                                      
003306   f03d                                                                                                               
003308   db8f     RCALL     0x3a28                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Limit check out results                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002698   e104     BNZ       0x26a2               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00330a   db0b     RCALL     0x3922                                                                                          
00330c   6a46     CLRF      0x46,0x0                                                                                        
00330e   6a47     CLRF      0x47,0x0                                                                                        
003310   0e80     MOVLW     0x80                                                                                            
003312   6e48     MOVWF     0x48,0x0                                                                                        
003314   0e3f     MOVLW     0x3f                                                                                            
003316   db68     RCALL     0x39e8                                                                                          
003318   ec23     CALL      0x7c46,0x0                                                                                      
00331a   f03e                                                                                                               
00331c   0a01     XORLW     0x1                                                                                             
00331e   0012     RETURN    0x0                                                                                             
0039e8   6e49     MOVWF     0x49,0x0                                                                                        
0039ea   d0fd     BRA       0x3be6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269a   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269c   0e01     MOVLW     0x1                                                                                             
00269e   6f34     MOVWF     0x34,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a0   d011     BRA       0x26c4               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a2   ec13     CALL      0x3426,0x0                                                                                      
0026a4   f01a                                                                                                               
0026a6   e107     BNZ       0x26b6                                                                                          
003426   da7d     RCALL     0x3922                                                                                          
003428   6a46     CLRF      0x46,0x0                                                                                        
00342a   6a47     CLRF      0x47,0x0                                                                                        
00342c   6a48     CLRF      0x48,0x0                                                                                        
00342e   0e4f     MOVLW     0x4f                                                                                            
003430   dadb     RCALL     0x39e8                                                                                          
003432   ec1a     CALL      0x7c34,0x0                                                                                      
003434   f03e                                                                                                               
003436   0a01     XORLW     0x1                                                                                             
003438   0012     RETURN    0x0                                                                                             
003922   d984     RCALL     0x3c2c                                                                                          
003924   cfee     MOVFF     0xfee,0x4e                                                                                      
003926   f04e                                                                                                               
003928   cfee     MOVFF     0xfee,0x4f                                                                                      
00392a   f04f                                                                                                               
00392c   cfee     MOVFF     0xfee,0x50                                                                                      
00392e   f050                                                                                                               
003930   cfef     MOVFF     0xfef,0x51                                                                                      
003932   f051                                                                                                               
003934   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a8   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026aa   6934     SETF      0x34,0x1                                                                                        
0026ac   6935     SETF      0x35,0x1                                                                                        
0026ae   6936     SETF      0x36,0x1                                                                                        
0026b0   0e7f     MOVLW     0x7f                                                                                            
0026b2   6f37     MOVWF     0x37,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b4   d034     BRA       0x271e               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b6   ec15     CALL      0x362a,0x0             gMoveTemp.m.sm.Rate[1].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b8   f01b                                                                                                               
0026ba   ec97     CALL      0x372e,0x0                                                                                      
0026bc   f01b                                                                                                               
00362a   cfde     MOVFF     0xfde,0x41                                                                                      
00362c   f041                                                                                                               
00362e   cfde     MOVFF     0xfde,0x42                                                                                      
003630   f042                                                                                                               
003632   cfde     MOVFF     0xfde,0x43                                                                                      
003634   f043                                                                                                               
003636   cfdd     MOVFF     0xfdd,0x44                                                                                      
003638   f044                                                                                                               
00363a   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00363c   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00363e   efe3     GOTO      0x7bc6                                                                                          
003640   f03d                                                                                                               
00372e   c040     MOVFF     0x40,0x134                                                                                      
003730   f134                                                                                                               
003732   c041     MOVFF     0x41,0x135                                                                                      
003734   f135                                                                                                               
003736   c042     MOVFF     0x42,0x136                                                                                      
003738   f136                                                                                                               
00373a   c043     MOVFF     0x43,0x137                                                                                      
00373c   f137                                                                                                               
00373e   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026be   d02f     BRA       0x271e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Because we know Axis2 doesn't need to move, zero everything out         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c0   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c2   6b34     CLRF      0x34,0x1                                                                                        
0026c4   6b35     CLRF      0x35,0x1                                                                                        
0026c6   6b36     CLRF      0x36,0x1                                                                                        
0026c8   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ca   d029     BRA       0x271e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis2 is major, Axis1 is minor, other than that same as above             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026cc   ec02     CALL      0x3404,0x0         gMoveTemp.m.sm.Rate[1].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ce   f01a                                                                                                               
0026d0   ec97     CALL      0x372e,0x0                                                                                      
0026d2   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d4   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d6   ec21     CALL      0x3642,0x0                                                                                      
0026d8   f01b                                                                                                               
0026da   e01c     BZ        0x2714                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026dc   ecc1     CALL      0x3982,0x0           tempF = (float)gSteps1 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026de   f01c                                                                                                               
0026e0   ecaa     CALL      0x3354,0x0                                                                                      
0026e2   f019                                                                                                               
0026e4   ecb8     CALL      0x3970,0x0           tempF /= (float)gSteps2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026e6   f01c                                                                                                               
0026e8   ec6f     CALL      0x32de,0x0                                                                                      
0026ea   f019                                                                                                               
                                                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ec   e104     BNZ       0x26f6               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ee   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f0   0e01     MOVLW     0x1                                                                                             
0026f2   6f30     MOVWF     0x30,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f4   d011     BRA       0x2718               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f6   ec13     CALL      0x3426,0x0                                                                                      
0026f8   f01a                                                                                                               
0026fa   e107     BNZ       0x270a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fc   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fe   6930     SETF      0x30,0x1                                                                                        
002700   6931     SETF      0x31,0x1                                                                                        
002702   6932     SETF      0x32,0x1                                                                                        
002704   0e7f     MOVLW     0x7f                                                                                            
002706   6f33     MOVWF     0x33,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002708   d00a     BRA       0x271e               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00270a   ec15     CALL      0x362a,0x0             gMoveTemp.m.sm.Rate[0].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00270c   f01b                                                                                                               
00270e   ec8e     CALL      0x371c,0x0                                                                                      
002710   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002712   d005     BRA       0x271e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002714   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002716   6b30     CLRF      0x30,0x1                                                                                        
002718   6b31     CLRF      0x31,0x1                                                                                        
00271a   6b32     CLRF      0x32,0x1                                                                                        
00271c   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00271e   ec33     CALL      0x3a66,0x0       gMoveTemp.m.sm.Steps[0] = gSteps1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002720   f01d                                                                                                               
003a66   dda4     RCALL     0x35b0                                                                                          
003a68   0101     MOVLB     0x1              gMoveTemp.m.sm.Accel[0] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a6a   6b48     CLRF      0x48,0x1                                                                                        
003a6c   6b49     CLRF      0x49,0x1                                                                                        
003a6e   6b4a     CLRF      0x4a,0x1                                                                                        
003a70   6b4b     CLRF      0x4b,0x1                                                                                        
003a72   0012     RETURN    0x0                                                                                             
002722   ece1     CALL      0x35c2,0x0       gMoveTemp.m.sm.Steps[1] = gSteps2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002724   f01a                                                                                                               
002726   ec07     CALL      0x380e,0x0       gMoveTemp.m.sm.Accel[1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002728   f01c                                                                                                               
00380e   6b4c     CLRF      0x4c,0x1                                                                                        
003810   6b4d     CLRF      0x4d,0x1                                                                                        
003812   6b4e     CLRF      0x4e,0x1                                                                                        
003814   6b4f     CLRF      0x4f,0x1                                                                                        
003816   0e05     MOVLW     0x5              gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003818   6f29     MOVWF     0x29,0x1                                                                                        
00381a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272a   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272c   d002     BRA       0x2732                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272e   ec5d     CALL      0x38ba,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002730   f01c                                                                                                               
0038ba   d9c1     RCALL     0x3c3e                                                                                          
0038bc   dd3a     RCALL     0x3332             ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038be   d94b     RCALL     0x3b56             ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038c0   d9c5     RCALL     0x3c4c             ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038c2   dd37     RCALL     0x3332             ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038c4   d957     RCALL     0x3b74             ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038c6   efd6     GOTO      0x33ac             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038c8   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002732   5013     MOVF      0x13,0x0,0x0     while (gFIFOLength >= gCurrentFIFOLength)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002734   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002736   e2fd     BC        0x2732                                                                                          
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002738   b00e     BTFSC     0xe,0x0,0x0      if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273a   d005     BRA       0x2746                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273c   ec0a     CALL      0x3214,0x0         FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273e   f019                                                                                                               
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002740   e301     BNC       0x2744             if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002742   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002744   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002746   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002748   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00274a   e202     BC        0x2750                                                                                          
00274c   6ae1     CLRF      0xe1,0x0                                                                                        
00274e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002750   efc7     GOTO      0x338e                                                                                          
002752   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The X Stepper Motor command                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: XM,<move_duration>,<axisA_steps>,<axisB_steps><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> an unsigned 32 bit value indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisA_steps> and <axisB_stetsp> are signed 32 bit numbers                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command differs from the normal "SM" command in that it is designed to drive 'mixed-axis' geometry D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // machines like H-Bot and CoreXY. Using XM will effectively call SM with Axis1 = <axisA_steps> + <axisB_steps> and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Axis2 = <axisA_steps> - <axisB_steps>.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because of this, the caller must make sure that <axisA_steps> + <axisB_steps> and <axisA_steps> - <axisB_steps> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // do not overflow or underflow a 32 bit signed value.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary globals used in this function                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_ASteps will be used for ASteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_BSteps will be used for BSteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_XM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002754   ecab     CALL      0x3956,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002756   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002758   0ed9     MOVLW     0xd9             extract_number(kLONG, &gXM_ASteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00275a   6ee6     MOVWF     0xe6,0x0                                                                                        
00275c   0e01     MOVLW     0x1                                                                                             
00275e   ece3     CALL      0x3bc6,0x0                                                                                      
002760   f01d                                                                                                               
0038a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0038a4   0e06     MOVLW     0x6                                                                                             
0038a6   dca1     RCALL     0x31ea                                                                                          
0038a8   6ae6     CLRF      0xe6,0x0         extract_number(kLONG, &gXM_BSteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038aa   0012     RETURN    0x0                                                                                             
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Do the math to convert to Axis1 and Axis2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002762   ec1f     CALL      0x383e,0x0       gSteps1 = gXM_ASteps + gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002764   f01c                                                                                                               
002766   0101     MOVLB     0x1                                                                                             
002768   51d9     MOVF      0xd9,0x0,0x1                                                                                    
00276a   24ee     ADDWF     0xee,0x0,0x0                                                                                    
00276c   6fd5     MOVWF     0xd5,0x1                                                                                        
00276e   51da     MOVF      0xda,0x0,0x1                                                                                    
002770   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002772   6fd6     MOVWF     0xd6,0x1                                                                                        
002774   51db     MOVF      0xdb,0x0,0x1                                                                                    
002776   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002778   6fd7     MOVWF     0xd7,0x1                                                                                        
00277a   51dc     MOVF      0xdc,0x0,0x1                                                                                    
00277c   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00277e   6fd8     MOVWF     0xd8,0x1                                                                                        
002780   ec1f     CALL      0x383e,0x0       gSteps2 = gXM_ASteps - gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002782   f01c                                                                                                               
002784   50ee     MOVF      0xee,0x0,0x0                                                                                    
002786   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
002788   6fe5     MOVWF     0xe5,0x1                                                                                        
00278a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00278c   59da     SUBWFB    0xda,0x0,0x1                                                                                    
00278e   6fe6     MOVWF     0xe6,0x1                                                                                        
002790   50ee     MOVF      0xee,0x0,0x0                                                                                    
002792   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
002794   6fe7     MOVWF     0xe7,0x1                                                                                        
002796   50ee     MOVF      0xee,0x0,0x0                                                                                    
002798   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
00279a   6fe8     MOVWF     0xe8,0x1                                                                                        
00383e   0ee9     MOVLW     0xe9                                                                                            
003840   6ee9     MOVWF     0xe9,0x0                                                                                        
003842   0e01     MOVLW     0x1                                                                                             
003844   6eea     MOVWF     0xea,0x0                                                                                        
003846   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00279c   d802     RCALL     0x27a2           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00279e   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a0   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Main stepper move function. This is the reason EBB exists.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is a 32 bit unsigned int, the number of mS that the move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <A1Stp> and <A2Stp> are the Axis 1 and Axis 2 number of steps to take in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  <Duration> mS, as 32 bit signed values, where the sign determines the motor  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  direction.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> clears the accumulators (both if 3, none if 0)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function waits until there is room in the FIFO before placing            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the data in the FIFO.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration>, <A1Stp> and <A2Stp> can accept any values. However, if a step     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // rate of more than 25kHz is asked for, it will be capped at 25kHz. And if      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a step rate of less than 0.00001164 Hz it will be set to 0.00001164 Hz.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that if used as a delay, the duration value is capped at 100000ms.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because we are now using global values to pass in parameters to this          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // function, and because this function will modify the values 'passed in' to it  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the caller should make copies of any parameter values that it requires        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // after the call.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpDurationMS    UINT32 not modified                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps1        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps2        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpClearAccs     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Working values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpIntervals     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a2   ec65     CALL      0x3aca,0x0     static void process_simple_motor_move_fp(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a4   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a6   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a8   d100     BRA       0x29aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027aa   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ac   d01b     BRA       0x27e4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ae   0e70     MOVLW     0x70               ebb_print((far rom char *)"Duration=");                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b0   6e4e     MOVWF     0x4e,0x0                                                                                        
0027b2   0e82     MOVLW     0x82                                                                                            
0027b4   ecfb     CALL      0x31f6,0x0                                                                                      
0027b6   f018                                                                                                               
0027b8   c1c5     MOVFF     0x1c5,0xfe6        ebb_print_uint(gDurationMS);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ba   ffe6                                                                                                               
0027bc   c1c6     MOVFF     0x1c6,0xfe6                                                                                     
0027be   ffe6                                                                                                               
0027c0   c1c7     MOVFF     0x1c7,0xfe6                                                                                     
0027c2   ffe6                                                                                                               
0027c4   c1c8     MOVFF     0x1c8,0xfe6                                                                                     
0027c6   ffe6                                                                                                               
0027c8   ec99     CALL      0x3332,0x0                                                                                      
0027ca   f019                                                                                                               
0027cc   0e6a     MOVLW     0x6a               ebb_print((far rom char *)" SA1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ce   6e4e     MOVWF     0x4e,0x0                                                                                        
0027d0   0e82     MOVLW     0x82                                                                                            
0027d2   ecfb     CALL      0x31f6,0x0                                                                                      
0027d4   f018                                                                                                               
0027d6   ecc5     CALL      0x358a,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027d8   f01a                                                                                                               
0027da   0e64     MOVLW     0x64               ebb_print((far rom char *)" SA2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027dc   6e4e     MOVWF     0x4e,0x0                                                                                        
0027de   0e82     MOVLW     0x82                                                                                            
0027e0   ecc9     CALL      0x3b92,0x0                                                                                      
0027e2   f01d                                                                                                               
                                               ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e4   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e6   51c2     MOVF      0xc2,0x0,0x1                                                                                    
0027e8   e010     BZ        0x280a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ea   51c5     MOVF      0xc5,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ec   11c6     IORWF     0xc6,0x0,0x1                                                                                    
0027ee   11c7     IORWF     0xc7,0x0,0x1                                                                                    
0027f0   11c8     IORWF     0xc8,0x0,0x1                                                                                    
0027f2   e102     BNZ       0x27f8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f4   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f6   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f8   ec42     CALL      0x3684,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fa   f01b                                                                                                               
0027fc   e202     BC        0x2802                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fe   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002800   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002802   0104     MOVLB     0x4                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002804   5184     MOVF      0x84,0x0,0x1                                                                                    
002806   e001     BZ        0x280a                                                                                          
002808   d0d0     BRA       0x29aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280a   c1cd     MOVFF     0x1cd,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280c   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for delay                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280e   0101     MOVLB     0x1              if (gSteps1 == 0 && gSteps2 == 0)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002810   ec21     CALL      0x3642,0x0                                                                                      
002812   f01b                                                                                                               
002814   e131     BNZ       0x2878                                                                                          
002816   ec26     CALL      0x364c,0x0                                                                                      
002818   f01b                                                                                                               
00281a   e12e     BNZ       0x2878                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00281c   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_DELAY;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00281e   0e01     MOVLW     0x1                                                                                             
002820   6f29     MOVWF     0x29,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Delays over 100000ms long are capped at 100000ms.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002822   0ea0     MOVLW     0xa0               if (gDurationMS >= 100000u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002824   0101     MOVLB     0x1                                                                                             
002826   5dc5     SUBWF     0xc5,0x0,0x1                                                                                    
002828   0e86     MOVLW     0x86                                                                                            
00282a   59c6     SUBWFB    0xc6,0x0,0x1                                                                                    
00282c   0e01     MOVLW     0x1                                                                                             
00282e   59c7     SUBWFB    0xc7,0x0,0x1                                                                                    
002830   0e00     MOVLW     0x0                                                                                             
002832   59c8     SUBWFB    0xc8,0x0,0x1                                                                                    
002834   e307     BNC       0x2844                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002836   0ea0     MOVLW     0xa0                 gDurationMS = 100000u;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002838   6fc5     MOVWF     0xc5,0x1                                                                                        
00283a   0e86     MOVLW     0x86                                                                                            
00283c   6fc6     MOVWF     0xc6,0x1                                                                                        
00283e   0e01     MOVLW     0x1                                                                                             
002840   6fc7     MOVWF     0xc7,0x1                                                                                        
002842   6bc8     CLRF      0xc8,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002844   c1c5     MOVFF     0x1c5,0x12b        gMoveTemp.m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * gDurationMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002846   f12b                                                                                                               
002848   c1c6     MOVFF     0x1c6,0x12c                                                                                     
00284a   f12c                                                                                                               
00284c   c1c7     MOVFF     0x1c7,0x12d                                                                                     
00284e   f12d                                                                                                               
002850   c1c8     MOVFF     0x1c8,0x12e                                                                                     
002852   f12e                                                                                                               
002854   0e19     MOVLW     0x19                                                                                            
002856   6e45     MOVWF     0x45,0x0                                                                                        
002858   6a46     CLRF      0x46,0x0                                                                                        
00285a   6a47     CLRF      0x47,0x0                                                                                        
00285c   6a48     CLRF      0x48,0x0                                                                                        
00285e   eca0     CALL      0x3740,0x0                                                                                      
002860   f01b                                                                                                               
002862   ec5a     CALL      0x8eb4,0x0                                                                                      
002864   f047                                                                                                               
002866   c03c     MOVFF     0x3c,0x12b                                                                                      
002868   f12b                                                                                                               
00286a   c03d     MOVFF     0x3d,0x12c                                                                                      
00286c   f12c                                                                                                               
00286e   c03e     MOVFF     0x3e,0x12d                                                                                      
002870   f12d                                                                                                               
002872   c03f     MOVFF     0x3f,0x12e                                                                                      
002874   f12e                                                                                                               
003740   c1c5     MOVFF     0x1c5,0x40                                                                                      
003742   f040                                                                                                               
003744   c1c6     MOVFF     0x1c6,0x41                                                                                      
003746   f041                                                                                                               
003748   c1c7     MOVFF     0x1c7,0x42                                                                                      
00374a   f042                                                                                                               
00374c   c1c8     MOVFF     0x1c8,0x43                                                                                      
00374e   f043                                                                                                               
003750   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002876   d08d     BRA       0x2992           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002878   ec85     CALL      0x370a,0x0         gMoveTemp.m.sm.DelayCounter = 0; // No delay for motor moves                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287a   f01b                                                                                                               
                                               gMoveTemp.m.sm.DirBits = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287c   e102     BNZ       0x2882             if (gAutomaticMotorEnable == TRUE)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Enable both motors when we want to move them                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287e   908d     BCF       0x8d,0x0,0x0         Enable1IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002880   928b     BCF       0x8b,0x1,0x0         Enable2IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // First, set the direction bits                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002882   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002884   0e80     MOVLW     0x80                                                                                            
002886   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
002888   e002     BZ        0x288e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288a   ec05     CALL      0x360a,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288c   f01b                                                                                                               
                                                 gSteps1 = -gSteps1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288e   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002890   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
002892   e002     BZ        0x2898                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002894   ec0d     CALL      0x361a,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002896   f01b                                                                                                               
                                                 gSteps2 = -gSteps2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As an optimization, pre-compute the common term used for both axes        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002898   0e0a     MOVLW     0xa                tempF = 85899345.92f / (float)gDurationMS;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289a   6e4e     MOVWF     0x4e,0x0                                                                                        
00289c   0ed7     MOVLW     0xd7                                                                                            
00289e   6e4f     MOVWF     0x4f,0x0                                                                                        
0028a0   0ea3     MOVLW     0xa3                                                                                            
0028a2   6e50     MOVWF     0x50,0x0                                                                                        
0028a4   0e4c     MOVLW     0x4c                                                                                            
0028a6   6e51     MOVWF     0x51,0x0                                                                                        
0028a8   eca0     CALL      0x3740,0x0                                                                                      
0028aa   f01b                                                                                                               
0028ac   ec75     CALL      0x38ea,0x0                                                                                      
0028ae   f01c                                                                                                               
0028b0   ecef     CALL      0x79de,0x0                                                                                      
0028b2   f03c                                                                                                               
0028b4   ece5     CALL      0x39ca,0x0                                                                                      
0028b6   f01c                                                                                                               
0038ea   ecd4     CALL      0x79a8,0x0                                                                                      
0038ec   f03c                                                                                                               
0038ee   c041     MOVFF     0x41,0x52                                                                                       
0038f0   f052                                                                                                               
0038f2   c042     MOVFF     0x42,0x53                                                                                       
0038f4   f053                                                                                                               
0038f6   c043     MOVFF     0x43,0x54                                                                                       
0038f8   f054                                                                                                               
0038fa   c044     MOVFF     0x44,0x55                                                                                       
0038fc   f055                                                                                                               
0038fe   c041     MOVFF     0x41,0x46                                                                                       
003900   f046                                                                                                               
003902   c042     MOVFF     0x42,0x47                                                                                       
003904   f047                                                                                                               
003906   c043     MOVFF     0x43,0x48                                                                                       
003908   f048                                                                                                               
00390a   c044     MOVFF     0x44,0x49                                                                                       
00390c   f049                                                                                                               
00390e   d16b     BRA       0x3be6                                                                                          
0039ca   c041     MOVFF     0x41,0xfde                                                                                      
0039cc   ffde                                                                                                               
0039ce   c042     MOVFF     0x42,0xfde                                                                                      
0039d0   ffde                                                                                                               
0039d2   c043     MOVFF     0x43,0xfde                                                                                      
0039d4   ffde                                                                                                               
0039d6   c044     MOVFF     0x44,0xfdd                                                                                      
0039d8   ffdd                                                                                                               
0039da   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0039dc   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0039de   0012     RETURN    0x0                                                                                             
003be6   c04e     MOVFF     0x4e,0x41                                                                                       
003be8   f041                                                                                                               
003bea   c04f     MOVFF     0x4f,0x42                                                                                       
003bec   f042                                                                                                               
003bee   c050     MOVFF     0x50,0x43                                                                                       
003bf0   f043                                                                                                               
003bf2   c051     MOVFF     0x51,0x44                                                                                       
003bf4   f044                                                                                                               
003bf6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028b8   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ba   ec21     CALL      0x3642,0x0                                                                                      
0028bc   f01b                                                                                                               
0028be   e027     BZ        0x290e                                                                                          
003642   51d5     MOVF      0xd5,0x0,0x1                                                                                    
003644   11d6     IORWF     0xd6,0x0,0x1                                                                                    
003646   11d7     IORWF     0xd7,0x0,0x1                                                                                    
003648   11d8     IORWF     0xd8,0x0,0x1                                                                                    
00364a   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We need the Rate values for the ISR. We have the duration and the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // number of steps. Use the formula:                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = (steps/duration)*85899.34592                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Rearranging a bit, we can also use:                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = steps * ((85899.34592 * 1000)/duration)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c0   ecc1     CALL      0x3982,0x0           gIntervals = (UINT32)((float)(gSteps1) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c2   f01c                                                                                                               
0028c4   ecdd     CALL      0x33ba,0x0                                                                                      
0028c6   f019                                                                                                               
0033ba   ecd6     CALL      0x79ac,0x0                                                                                      
0033bc   f03c                                                                                                               
0033be   0e00     MOVLW     0x0                                                                                             
0033c0   cfdf     MOVFF     0xfdf,0x46                                                                                      
0033c2   f046                                                                                                               
0033c4   0e01     MOVLW     0x1                                                                                             
0033c6   cfdb     MOVFF     0xfdb,0x47                                                                                      
0033c8   f047                                                                                                               
0033ca   0e02     MOVLW     0x2                                                                                             
0033cc   cfdb     MOVFF     0xfdb,0x48                                                                                      
0033ce   f048                                                                                                               
0033d0   0e03     MOVLW     0x3                                                                                             
0033d2   cfdb     MOVFF     0xfdb,0x49                                                                                      
0033d4   f049                                                                                                               
0033d6   ec42     CALL      0x7a84,0x0                                                                                      
0033d8   f03d                                                                                                               
0033da   ece3     CALL      0x7bc6,0x0                                                                                      
0033dc   f03d                                                                                                               
0033de   c040     MOVFF     0x40,0x1c9                                                                                      
0033e0   f1c9                                                                                                               
0033e2   c041     MOVFF     0x41,0x1ca                                                                                      
0033e4   f1ca                                                                                                               
0033e6   c042     MOVFF     0x42,0x1cb                                                                                      
0033e8   f1cb                                                                                                               
0033ea   c043     MOVFF     0x43,0x1cc                                                                                      
0033ec   f1cc                                                                                                               
003982   c1d5     MOVFF     0x1d5,0x40                                                                                      
003984   f040                                                                                                               
003986   c1d6     MOVFF     0x1d6,0x41                                                                                      
003988   f041                                                                                                               
00398a   c1d7     MOVFF     0x1d7,0x42                                                                                      
00398c   f042                                                                                                               
00398e   c1d8     MOVFF     0x1d8,0x43                                                                                      
003990   f043                                                                                                               
003992   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c8   e20b     BC        0x28e0               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033ee   80d8     BSF       0xd8,0x0,0x0                                                                                    
0033f0   0e00     MOVLW     0x0                                                                                             
0033f2   0101     MOVLB     0x1                                                                                             
0033f4   5440     SUBFWB    0x40,0x0,0x0                                                                                    
0033f6   0e00     MOVLW     0x0                                                                                             
0033f8   5441     SUBFWB    0x41,0x0,0x0                                                                                    
0033fa   0e00     MOVLW     0x0                                                                                             
0033fc   5442     SUBFWB    0x42,0x0,0x0                                                                                    
0033fe   0e80     MOVLW     0x80                                                                                            
003400   5443     SUBFWB    0x43,0x0,0x0                                                                                    
003402   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ca   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028cc   e004     BZ        0x28d6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ce   0e40     MOVLW     0x40                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d0   6e4e     MOVWF     0x4e,0x0                                                                                        
0028d2   0e82     MOVLW     0x82                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d4   d03f     BRA       0x2954                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d6   6bc9     CLRF      0xc9,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d8   6bca     CLRF      0xca,0x1                                                                                        
0028da   6bcb     CLRF      0xcb,0x1                                                                                        
0028dc   0e80     MOVLW     0x80                                                                                            
0028de   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e0   ec59     CALL      0x36b2,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e2   f01b                                                                                                               
0028e4   e10b     BNZ       0x28fc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e6   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e8   e004     BZ        0x28f2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ea   0e1c     MOVLW     0x1c                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ec   6e4e     MOVWF     0x4e,0x0                                                                                        
0028ee   0e82     MOVLW     0x82                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f0   d031     BRA       0x2954                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f2   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f4   6fc9     MOVWF     0xc9,0x1                                                                                        
0028f6   6bca     CLRF      0xca,0x1                                                                                        
0028f8   6bcb     CLRF      0xcb,0x1                                                                                        
0028fa   6bcc     CLRF      0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fc   c1c9     MOVFF     0x1c9,0x130          gMoveTemp.m.sm.Rate[0].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fe   f130                                                                                                               
002900   c1ca     MOVFF     0x1ca,0x131                                                                                     
002902   f131                                                                                                               
002904   c1cb     MOVFF     0x1cb,0x132                                                                                     
002906   f132                                                                                                               
002908   c1cc     MOVFF     0x1cc,0x133                                                                                     
00290a   f133                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00290c   d005     BRA       0x2918             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00290e   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002910   6b30     CLRF      0x30,0x1                                                                                        
002912   6b31     CLRF      0x31,0x1                                                                                        
002914   6b32     CLRF      0x32,0x1                                                                                        
002916   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002918   ec33     CALL      0x3a66,0x0         gMoveTemp.m.sm.Steps[0] = (UINT32)gSteps1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291a   f01d                                                                                                               
0035b0   c1d5     MOVFF     0x1d5,0x138                                                                                     
0035b2   f138                                                                                                               
0035b4   c1d6     MOVFF     0x1d6,0x139                                                                                     
0035b6   f139                                                                                                               
0035b8   c1d7     MOVFF     0x1d7,0x13a                                                                                     
0035ba   f13a                                                                                                               
0035bc   c1d8     MOVFF     0x1d8,0x13b                                                                                     
0035be   f13b                                                                                                               
0035c0   0012     RETURN    0x0                                                                                             
                                               gMoveTemp.m.sm.Accel[0] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291c   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291e   ec26     CALL      0x364c,0x0                                                                                      
002920   f01b                                                                                                               
002922   e029     BZ        0x2976                                                                                          
00364c   51e5     MOVF      0xe5,0x0,0x1                                                                                    
00364e   11e6     IORWF     0xe6,0x0,0x1                                                                                    
003650   11e7     IORWF     0xe7,0x0,0x1                                                                                    
003652   11e8     IORWF     0xe8,0x0,0x1                                                                                    
003654   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002924   ecb8     CALL      0x3970,0x0           gIntervals = (UINT32)((float)(gSteps2) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002926   f01c                                                                                                               
002928   ecdd     CALL      0x33ba,0x0                                                                                      
00292a   f019                                                                                                               
003970   c1e5     MOVFF     0x1e5,0x40                                                                                      
003972   f040                                                                                                               
003974   c1e6     MOVFF     0x1e6,0x41                                                                                      
003976   f041                                                                                                               
003978   c1e7     MOVFF     0x1e7,0x42                                                                                      
00397a   f042                                                                                                               
00397c   c1e8     MOVFF     0x1e8,0x43                                                                                      
00397e   f043                                                                                                               
003980   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292c   e20b     BC        0x2944               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292e   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002930   e004     BZ        0x293a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002932   0ef8     MOVLW     0xf8                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002934   6e4e     MOVWF     0x4e,0x0                                                                                        
002936   0e81     MOVLW     0x81                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002938   d00d     BRA       0x2954                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293a   6bc9     CLRF      0xc9,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293c   6bca     CLRF      0xca,0x1                                                                                        
00293e   6bcb     CLRF      0xcb,0x1                                                                                        
002940   0e80     MOVLW     0x80                                                                                            
002942   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002944   ec59     CALL      0x36b2,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002946   f01b                                                                                                               
002948   e10d     BNZ       0x2964                                                                                          
0036b2   51c9     MOVF      0xc9,0x0,0x1                                                                                    
0036b4   11ca     IORWF     0xca,0x0,0x1                                                                                    
0036b6   11cb     IORWF     0xcb,0x0,0x1                                                                                    
0036b8   11cc     IORWF     0xcc,0x0,0x1                                                                                    
0036ba   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294a   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294c   e006     BZ        0x295a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294e   0ed4     MOVLW     0xd4                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002950   6e4e     MOVWF     0x4e,0x0                                                                                        
002952   0e81     MOVLW     0x81                                                                                            
002954   ec61     CALL      0x3ac2,0x0                                                                                      
002956   f01d                                                                                                               
003ac2   ecfb     CALL      0x31f6,0x0                                                                                      
003ac4   f018                                                                                                               
003ac6   efd6     GOTO      0x33ac                   print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ac8   f019                                                                                                               
002958   d028     BRA       0x29aa                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295a   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295c   6fc9     MOVWF     0xc9,0x1                                                                                        
00295e   6bca     CLRF      0xca,0x1                                                                                        
002960   6bcb     CLRF      0xcb,0x1                                                                                        
002962   6bcc     CLRF      0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002964   c1c9     MOVFF     0x1c9,0x134          gMoveTemp.m.sm.Rate[1].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002966   f134                                                                                                               
002968   c1ca     MOVFF     0x1ca,0x135                                                                                     
00296a   f135                                                                                                               
00296c   c1cb     MOVFF     0x1cb,0x136                                                                                     
00296e   f136                                                                                                               
002970   c1cc     MOVFF     0x1cc,0x137                                                                                     
002972   f137                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002974   d005     BRA       0x2980             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002976   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002978   6b34     CLRF      0x34,0x1                                                                                        
00297a   6b35     CLRF      0x35,0x1                                                                                        
00297c   6b36     CLRF      0x36,0x1                                                                                        
00297e   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002980   ece1     CALL      0x35c2,0x0         gMoveTemp.m.sm.Steps[1] = (UINT32)gSteps2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002982   f01a                                                                                                               
0035c2   c1e5     MOVFF     0x1e5,0x13c                                                                                     
0035c4   f13c                                                                                                               
0035c6   c1e6     MOVFF     0x1e6,0x13d                                                                                     
0035c8   f13d                                                                                                               
0035ca   c1e7     MOVFF     0x1e7,0x13e                                                                                     
0035cc   f13e                                                                                                               
0035ce   c1e8     MOVFF     0x1e8,0x13f                                                                                     
0035d0   f13f                                                                                                               
0035d2   0012     RETURN    0x0                                                                                             
002984   0101     MOVLB     0x1                gMoveTemp.m.sm.Accel[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002986   ec07     CALL      0x380e,0x0                                                                                      
002988   f01c                                                                                                               
                                               gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298a   aa09     BTFSS     0x9,0x5,0x0        if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298c   d002     BRA       0x2992                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298e   ec5d     CALL      0x38ba,0x0           ebb_print((far rom char *)"R1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002990   f01c                                                                                                               
0031f6   6e4f     MOVWF     0x4f,0x0                                                                                        
0031f8   6a50     CLRF      0x50,0x0                                                                                        
0031fa   c04e     MOVFF     0x4e,0xfe6                                                                                      
0031fc   ffe6                                                                                                               
0031fe   6ee6     MOVWF     0xe6,0x0                                                                                        
003200   c050     MOVFF     0x50,0xfe6                                                                                      
003202   ffe6                                                                                                               
003204   ec69     CALL      0x84d2,0x0                                                                                      
003206   f042                                                                                                               
003208   efef     GOTO      0x3bde                                                                                          
00320a   f01d                                                                                                               
0035d4   c130     MOVFF     0x130,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035d6   ffe6                                                                                                               
0035d8   c131     MOVFF     0x131,0xfe6                                                                                     
0035da   ffe6                                                                                                               
0035dc   c132     MOVFF     0x132,0xfe6                                                                                     
0035de   ffe6                                                                                                               
0035e0   c133     MOVFF     0x133,0xfe6                                                                                     
0035e2   ffe6                                                                                                               
0035e4   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S1=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print((far rom char *)" R2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035e6   c134     MOVFF     0x134,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035e8   ffe6                                                                                                               
0035ea   c135     MOVFF     0x135,0xfe6                                                                                     
0035ec   ffe6                                                                                                               
0035ee   c136     MOVFF     0x136,0xfe6                                                                                     
0035f0   ffe6                                                                                                               
0035f2   c137     MOVFF     0x137,0xfe6                                                                                     
0035f4   ffe6                                                                                                               
0035f6   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002992   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002994   d00a     BRA       0x29aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002996   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002998   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00299a   e2fd     BC        0x2996                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299c   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299e   d005     BRA       0x29aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a0   ec0a     CALL      0x3214,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a2   f019                                                                                                               
003214   5010     MOVF      0x10,0x0,0x0                                                                                    
003216   ec1b     CALL      0x3c36,0x0                                                                                      
003218   f01e                                                                                                               
00321a   c129     MOVFF     0x129,0xfee                                                                                     
00321c   ffee                                                                                                               
00321e   c12a     MOVFF     0x12a,0xfee                                                                                     
003220   ffee                                                                                                               
003222   c12b     MOVFF     0x12b,0xfee                                                                                     
003224   ffee                                                                                                               
003226   c12c     MOVFF     0x12c,0xfee                                                                                     
003228   ffee                                                                                                               
00322a   c12d     MOVFF     0x12d,0xfee                                                                                     
00322c   ffee                                                                                                               
00322e   c12e     MOVFF     0x12e,0xfee                                                                                     
003230   ffee                                                                                                               
003232   c12f     MOVFF     0x12f,0xfee                                                                                     
003234   ffee                                                                                                               
003236   c130     MOVFF     0x130,0xfee                                                                                     
003238   ffee                                                                                                               
00323a   c131     MOVFF     0x131,0xfee                                                                                     
00323c   ffee                                                                                                               
00323e   c132     MOVFF     0x132,0xfee                                                                                     
003240   ffee                                                                                                               
003242   c133     MOVFF     0x133,0xfee                                                                                     
003244   ffee                                                                                                               
003246   c134     MOVFF     0x134,0xfee                                                                                     
003248   ffee                                                                                                               
00324a   c135     MOVFF     0x135,0xfee                                                                                     
00324c   ffee                                                                                                               
00324e   c136     MOVFF     0x136,0xfee                                                                                     
003250   ffee                                                                                                               
003252   c137     MOVFF     0x137,0xfee                                                                                     
003254   ffee                                                                                                               
003256   c138     MOVFF     0x138,0xfee                                                                                     
003258   ffee                                                                                                               
00325a   c139     MOVFF     0x139,0xfee                                                                                     
00325c   ffee                                                                                                               
00325e   c13a     MOVFF     0x13a,0xfee                                                                                     
003260   ffee                                                                                                               
003262   c13b     MOVFF     0x13b,0xfee                                                                                     
003264   ffee                                                                                                               
003266   c13c     MOVFF     0x13c,0xfee                                                                                     
003268   ffee                                                                                                               
00326a   c13d     MOVFF     0x13d,0xfee                                                                                     
00326c   ffee                                                                                                               
00326e   c13e     MOVFF     0x13e,0xfee                                                                                     
003270   ffee                                                                                                               
003272   c13f     MOVFF     0x13f,0xfee                                                                                     
003274   ffee                                                                                                               
003276   c140     MOVFF     0x140,0xfee                                                                                     
003278   ffee                                                                                                               
00327a   c141     MOVFF     0x141,0xfee                                                                                     
00327c   ffee                                                                                                               
00327e   c142     MOVFF     0x142,0xfee                                                                                     
003280   ffee                                                                                                               
003282   c143     MOVFF     0x143,0xfee                                                                                     
003284   ffee                                                                                                               
003286   c144     MOVFF     0x144,0xfee                                                                                     
003288   ffee                                                                                                               
00328a   c145     MOVFF     0x145,0xfee                                                                                     
00328c   ffee                                                                                                               
00328e   c146     MOVFF     0x146,0xfee                                                                                     
003290   ffee                                                                                                               
003292   c147     MOVFF     0x147,0xfee                                                                                     
003294   ffee                                                                                                               
003296   c148     MOVFF     0x148,0xfee                                                                                     
003298   ffee                                                                                                               
00329a   c149     MOVFF     0x149,0xfee                                                                                     
00329c   ffee                                                                                                               
00329e   c14a     MOVFF     0x14a,0xfee                                                                                     
0032a0   ffee                                                                                                               
0032a2   c14b     MOVFF     0x14b,0xfee                                                                                     
0032a4   ffee                                                                                                               
0032a6   c14c     MOVFF     0x14c,0xfee                                                                                     
0032a8   ffee                                                                                                               
0032aa   c14d     MOVFF     0x14d,0xfee                                                                                     
0032ac   ffee                                                                                                               
0032ae   c14e     MOVFF     0x14e,0xfee                                                                                     
0032b0   ffee                                                                                                               
0032b2   c14f     MOVFF     0x14f,0xfee                                                                                     
0032b4   ffee                                                                                                               
0032b6   c150     MOVFF     0x150,0xfee                                                                                     
0032b8   ffee                                                                                                               
0032ba   c151     MOVFF     0x151,0xfee                                                                                     
0032bc   ffee                                                                                                               
0032be   c152     MOVFF     0x152,0xfee                                                                                     
0032c0   ffee                                                                                                               
0032c2   c153     MOVFF     0x153,0xfee                                                                                     
0032c4   ffee                                                                                                               
0032c6   c154     MOVFF     0x154,0xfee                                                                                     
0032c8   ffee                                                                                                               
0032ca   c155     MOVFF     0x155,0xfee                                                                                     
0032cc   ffee                                                                                                               
0032ce   c156     MOVFF     0x156,0xfee                                                                                     
0032d0   ffee                                                                                                               
0032d2   c157     MOVFF     0x157,0xfee                                                                                     
0032d4   ffee                                                                                                               
0032d6   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a4   e301     BNC       0x29a8               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0032d8   5013     MOVF      0x13,0x0,0x0                                                                                    
0032da   5c10     SUBWF     0x10,0x0,0x0                                                                                    
0032dc   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a6   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a8   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029aa   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ac   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029ae   e202     BC        0x29b4                                                                                          
0029b0   6ae1     CLRF      0xe1,0x0                                                                                        
0029b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029b4   efc7     GOTO      0x338e                                                                                          
0029b6   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // E-Stop                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ES,<disable_motors><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <command_interrupted><CR>OK<CR>                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command will abort any in-progress motor move command.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // It will also clear out any pending command(s) in the FIFO.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <disable_motors> This parameter is optional. If present, and if it is a 1,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  then both stepper drivers will be disabled as part of the command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  If this parameter is not present or is not equal to 1, then  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  the motors will not be disabled. (added in v2.8.0)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <command_interrupted> = 0 if no FIFO or in-progress move commands were interrupted, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                         1 if a motor move command was in progress or in the FIFO D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b8   ecc9     CALL      0x3392,0x0     void parse_ES_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ba   f019                                                                                                               
0029bc   0e03     MOVLW     0x3                                                                                             
0029be   ecd8     CALL      0x39b0,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c0   f01c                                UINT8 disable_motors = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 command_interrupted = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the value.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c2   ec0e     CALL      0x381c,0x0       extract_number(kUCHAR, &disable_motors, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c4   f01c                                                                                                               
0029c6   ecf5     CALL      0x31ea,0x0                                                                                      
0029c8   f018                                                                                                               
00381c   0e01     MOVLW     0x1                                                                                             
00381e   6ee6     MOVWF     0xe6,0x0                                                                                        
003820   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003822   ffe6                                                                                                               
003824   cfda     MOVFF     0xfda,0xfe6                                                                                     
003826   ffe6                                                                                                               
003828   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ca   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029cc   5184     MOVF      0x84,0x0,0x1                                                                                    
0029ce   e13c     BNZ       0x2a48                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to mess with ISR command parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d0   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             (                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d2   0e05     MOVLW     0x5                CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d4   0101     MOVLB     0x1                ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d6   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029da   0e06     MOVLW     0x6                CurrentCommand.Command == COMMAND_LM_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d8   e006     BZ        0x29e6             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029dc   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029de   e003     BZ        0x29e6                                                                                          
0029e0   0e07     MOVLW     0x7                CurrentCommand.Command == COMMAND_LT_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e2   5d85     SUBWF     0x85,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e4   e103     BNZ       0x29ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e6   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e8   0e01     MOVLW     0x1                                                                                             
0029ea   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ec   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ee   e003     BZ        0x29f6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f0   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f2   0e01     MOVLW     0x1                                                                                             
0029f4   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the currently executing motion command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f6   6b85     CLRF      0x85,0x1         CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the entire FIFO                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f8   0e02     MOVLW     0x2              for (i = 0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029fa   6adb     CLRF      0xdb,0x0                                                                                        
0029fc   0e20     MOVLW     0x20                                                                                            
0029fe   6ef3     MOVWF     0xf3,0x0                                                                                        
002a00   0e02     MOVLW     0x2                                                                                             
002a02   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002a04   fff4                                                                                                               
002a06   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002a08   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002a0a   e207     BC        0x2a1a                                                                                          
002a14   0e02     MOVLW     0x2                                                                                             
002a16   2adb     INCF      0xdb,0x1,0x0                                                                                    
002a18   d7f1     BRA       0x29fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a0c   0e02     MOVLW     0x2                FIFOPtr[i].Command = COMMAND_NONE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a10   ecbf     CALL      0x357e,0x0                                                                                      
002a12   f01a                                                                                                               
00357e   db5b     RCALL     0x3c36                                                                                          
003580   6aef     CLRF      0xef,0x0                                                                                        
003582   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1a   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1c   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1e   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a20   04df     DECF      0xdf,0x0,0x0     if (disable_motors == 1u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a22   e109     BNZ       0x2a36                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a24   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a26   e103     BNZ       0x2a2e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a28   808d     BSF       0x8d,0x0,0x0         Enable1IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2a   828b     BSF       0x8b,0x1,0x0         Enable2IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2c   d004     BRA       0x2a36             else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2e   0404     DECF      0x4,0x0,0x0                                                                                     
002a30   e102     BNZ       0x2a36                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a32   828c     BSF       0x8c,0x1,0x0         Enable1AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a34   8289     BSF       0x89,0x1,0x0         Enable2AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a36   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;    // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a38   ecfc     CALL      0x3bf8,0x0       ebb_print_uint(command_interrupted);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3a   f01d                                                                                                               
003bf8   0e01     MOVLW     0x1                                                                                             
003bfa   cfdb     MOVFF     0xfdb,0x4e                                                                                      
003bfc   f04e                                                                                                               
003bfe   6a4f     CLRF      0x4f,0x0                                                                                        
003c00   de68     RCALL     0x38d2                                                                                          
003c02   ef3d     GOTO      0x3a7a                                                                                          
003c04   f01d                                                                                                               
002a3c   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3e   d002     BRA       0x2a44                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a40   ecd6     CALL      0x33ac,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a42   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a44   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a46   f019                                                                                                               
002a48   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a4c   e202     BC        0x2a52                                                                                          
002a4e   6ae1     CLRF      0xe1,0x0                                                                                        
002a50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a52   efc7     GOTO      0x338e                                                                                          
002a54   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Pen                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QP<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: 0 for down, 1 for up, then OK<CR>                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a56   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a58   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5a   c1b9     MOVFF     0x1b9,0x4e       ebb_print_uint(PenState);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5c   f04e                                                                                                               
002a5e   6a4f     CLRF      0x4f,0x0                                                                                        
002a60   6a50     CLRF      0x50,0x0                                                                                        
002a62   6a51     CLRF      0x51,0x0                                                                                        
002a64   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
002a66   d003     BRA       0x2a6e                                                                                          
002a68   684f     SETF      0x4f,0x0                                                                                        
002a6a   6850     SETF      0x50,0x0                                                                                        
002a6c   6851     SETF      0x51,0x0                                                                                        
002a6e   c04e     MOVFF     0x4e,0xfe6                                                                                      
002a70   ffe6                                                                                                               
002a72   ecd6     CALL      0x3bac,0x0                                                                                      
002a74   f01d                                                                                                               
002a76   ec3d     CALL      0x3a7a,0x0                                                                                      
002a78   f01d                                                                                                               
002a7a   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7c   d002     BRA       0x2a82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7e   ecd6     CALL      0x33ac,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a80   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a82   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a84   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query motor Enables and resolution                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QE<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <motor1_state>,<motor2_state><CR>OK<CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <motor1_state> and <motor2_state> are one of the following values:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 0 = Motor is disabled                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1 = Motor is enabled and step resolution is full steps                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2 = Motor is enabled and step resolution is 1/2 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 4 = Motor is enabled and step resolution is 1/4 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 8 = Motor is enabled and step resolution is 1/8 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 16 = Motor is enabled and step resolution is 1/16 steps                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a86   ecc9     CALL      0x3392,0x0     void parse_QE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a88   f019                                                                                                               
002a8a   0e03     MOVLW     0x3                                                                                             
002a8c   ecd8     CALL      0x39b0,0x0                                                                                      
003392   cfd9                                                                                                               
003394   ffe6     WORD2     0xfe6                                                                                           
003396   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003398   ffd9                                                                                                               
00339a   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8e   f01c     WORD2     0x1c             UINT8 motor1_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 motor2_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 temp;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a90   5084     MOVF      0x84,0x0,0x0     if (MS1_IO_PORT == 0u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a92   0b04     ANDLW     0x4                                                                                             
002a94   e108     BNZ       0x2aa6                                                                                          
002a96   5084     MOVF      0x84,0x0,0x0                                                                                    
002a98   0b02     ANDLW     0x2                                                                                             
002a9a   e105     BNZ       0x2aa6                                                                                          
002a9c   5080     MOVF      0x80,0x0,0x0                                                                                    
002a9e   0b40     ANDLW     0x40                                                                                            
002aa0   e102     BNZ       0x2aa6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa2   0e01     MOVLW     0x1                temp = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa4   d023     BRA       0x2aec           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa6   5084     MOVF      0x84,0x0,0x0                                                                                    
002aa8   0b04     ANDLW     0x4                                                                                             
002aaa   e009     BZ        0x2abe                                                                                          
002aac   5084     MOVF      0x84,0x0,0x0                                                                                    
002aae   0b02     ANDLW     0x2                                                                                             
002ab0   e106     BNZ       0x2abe                                                                                          
002ab2   5080     MOVF      0x80,0x0,0x0                                                                                    
002ab4   0b40     ANDLW     0x40                                                                                            
002ab6   e103     BNZ       0x2abe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ab8   0e02     MOVLW     0x2                temp = 2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aba   6ef3     MOVWF     0xf3,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002abc   d019     BRA       0x2af0           else if (MS1_IO_PORT == 0u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002abe   5084     MOVF      0x84,0x0,0x0                                                                                    
002ac0   0b04     ANDLW     0x4                                                                                             
002ac2   e108     BNZ       0x2ad4                                                                                          
002ac4   5084     MOVF      0x84,0x0,0x0                                                                                    
002ac6   0b02     ANDLW     0x2                                                                                             
002ac8   e005     BZ        0x2ad4                                                                                          
002aca   5080     MOVF      0x80,0x0,0x0                                                                                    
002acc   0b40     ANDLW     0x40                                                                                            
002ace   e102     BNZ       0x2ad4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad0   0e04     MOVLW     0x4                temp = 4;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad2   d00c     BRA       0x2aec           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad4   5084     MOVF      0x84,0x0,0x0                                                                                    
002ad6   0b04     ANDLW     0x4                                                                                             
002ad8   e008     BZ        0x2aea                                                                                          
002ada   5084     MOVF      0x84,0x0,0x0                                                                                    
002adc   0b02     ANDLW     0x2                                                                                             
002ade   e005     BZ        0x2aea                                                                                          
002ae0   5080     MOVF      0x80,0x0,0x0                                                                                    
002ae2   0b40     ANDLW     0x40                                                                                            
002ae4   e102     BNZ       0x2aea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae6   0e08     MOVLW     0x8                temp = 8;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae8   d001     BRA       0x2aec           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aea   0e10     MOVLW     0x10               temp = 16;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aec   6ef3     MOVWF     0xf3,0x0                                                                                        
002aee   0e02     MOVLW     0x2                                                                                             
002af0   cff3     MOVFF     0xff3,0xfdb                                                                                     
002af2   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af4   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af6   e108     BNZ       0x2b08                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af8   b084     BTFSC     0x84,0x0,0x0       if (Enable1IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afa   d003     BRA       0x2b02                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afc   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afe   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b00   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b02   b282     BTFSC     0x82,0x1,0x0       if (Enable2IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b04   d010     BRA       0x2b26                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b06   d009     BRA       0x2b1a           else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b08   0404     DECF      0x4,0x0,0x0                                                                                     
002b0a   e10d     BNZ       0x2b26                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0c   b283     BTFSC     0x83,0x1,0x0       if (Enable1AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0e   d003     BRA       0x2b16                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b10   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b12   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b14   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b16   b280     BTFSC     0x80,0x1,0x0       if (Enable2AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b18   d006     BRA       0x2b26                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1a   0e02     MOVLW     0x2                  motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b1e   6ee7     MOVWF     0xe7,0x0                                                                                        
002b20   0e01     MOVLW     0x1                                                                                             
002b22   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002b24   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b26   cfdf     MOVFF     0xfdf,0x4e       ebb_print_uint(motor1_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b28   f04e                                                                                                               
002b2a   6a4f     CLRF      0x4f,0x0                                                                                        
002b2c   ec69     CALL      0x38d2,0x0                                                                                      
002b2e   f01c                                                                                                               
002b30   ec99     CALL      0x3332,0x0                                                                                      
002b32   f019                                                                                                               
002b34   ec9c     CALL      0x3538,0x0       ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b36   f01a                                                                                                               
002b38   ecfc     CALL      0x3bf8,0x0       ebb_print_uint(motor2_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3a   f01d                                                                                                               
002b3c   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3e   d002     BRA       0x2b44                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b40   ecd6     CALL      0x33ac,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b42   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b44   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b46   f019                                                                                                               
002b48   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b4a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b4c   e202     BC        0x2b52                                                                                          
002b4e   6ae1     CLRF      0xe1,0x0                                                                                        
002b50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b52   efc7     GOTO      0x338e                                                                                          
002b54   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Toggle Pen                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: TP,<duration><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: OK<CR>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <duration> is optional, and defaults to 0mS                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just toggles state of pen arm, then delays for the optional <duration>        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Duration is in units of 1ms                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b56   ecc9     CALL      0x3392,0x0     void parse_TP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b58   f019                                                                                                               
002b5a   0e02     MOVLW     0x2                                                                                             
002b5c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5e   6ade     CLRF      0xde,0x0         UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b60   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b62   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b64   dbe0     RCALL     0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b66   ec0e     CALL      0x381c,0x0       extract_number (kUINT, &CommandDuration, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b68   f01c                                                                                                               
002b6a   ec71     CALL      0x3ae2,0x0                                                                                      
002b6c   f01d                                                                                                               
003ae2   0e03     MOVLW     0x3                                                                                             
003ae4   eff5     GOTO      0x31ea                                                                                          
003ae6   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6e   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b70   5184     MOVF      0x84,0x0,0x1                                                                                    
002b72   e10f     BNZ       0x2b92                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b74   0101     MOVLB     0x1              if (PenState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b76   05b9     DECF      0xb9,0x0,0x1                                                                                    
002b78   e104     BNZ       0x2b82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7a   ec24     CALL      0x3848,0x0         process_SP(PEN_DOWN, CommandDuration);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7c   f01c                                                                                                               
002b7e   6ae6     CLRF      0xe6,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b80   d004     BRA       0x2b8a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b82   ec24     CALL      0x3848,0x0         process_SP(PEN_UP, CommandDuration);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b84   f01c                                                                                                               
002b86   0e01     MOVLW     0x1                                                                                             
002b88   6ee6     MOVWF     0xe6,0x0                                                                                        
002b8a   ecb5     CALL      0x376a,0x0                                                                                      
002b8c   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8e   ecce     CALL      0x339c,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b90   f019                                                                                                               
002b92   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b94   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b96   e202     BC        0x2b9c                                                                                          
002b98   6ae1     CLRF      0xe1,0x0                                                                                        
002b9a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b9c   efc7     GOTO      0x338e                                                                                          
002b9e   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Pen                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SP,<State>,<Duration>,<PortB_Pin><CR>                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <State> is                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   0 : goto servo_max using a command put into FIFO (servo pen down)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   1 : goto servo_min using a command put into FIFO (servo pen up)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   2 : goto servo_min but skip the FIFO and just force a move immediately      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   3 : goto servo_min, skip the FIFO, and also set servo_max to servo_min      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       (this prevents any remaining servo moves in the FIFO from having any effect) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is how long to wait before the next command in the motion control  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO should start. (defaults to 0mS)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      Note that the units of this parameter is in units of milliseconds        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <PortB_Pin> Is a value from 0 to 7 and allows you to re-assign the Pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      RC Servo output to different PortB pins.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is a command that the user can send from the PC to set the pen state.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that there is only one pen RC servo output - if you use the <PortB_Pin>  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parameter, then that new pin becomes the pen RC servo output. This command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // does not allow for multiple servo signals at the same time from port B pins.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Use the S2 command for that.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function will use the values for <serv_min>, <servo_max>,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <servo_rate_up> and <servo_rate_down> (SC,4 SC,5, SC,11, SC,10 commands)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // when it schedules the servo command.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internally, the parse_SP_packet() function makes a call to                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // process_SP() function to actually make the change in the servo output.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba0   ec1d     CALL      0x3a3a,0x0     void parse_SP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba2   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba4   ec31     CALL      0x3662,0x0       UINT8 Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba6   f01b                                                                                                               
                                             ExtractReturnType Ret;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba8   ec2d     CALL      0x3c5a,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002baa   f01e                                                                                                               
003c5a   de5a     RCALL     0x3910                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c5c   ec28     CALL      0x3450,0x0       extract_number(kUINT, &CommandDuration, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c5e   f01a                                                                                                               
003c60   ef71     GOTO      0x3ae2                                                                                          
003c62   f01d                                                                                                               
002bac   ec32     CALL      0x3c64,0x0       Ret = extract_number(kUCHAR, &Pin, kOPTIONAL);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bae   f01e                                                                                                               
002bb0   eccd     CALL      0x379a,0x0                                                                                      
002bb2   f01b                                                                                                               
003c64   0e01     MOVLW     0x1                                                                                             
003c66   6ee6     MOVWF     0xe6,0x0                                                                                        
003c68   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003c6a   0f03     ADDLW     0x3                                                                                             
003c6c   efd3     GOTO      0x39a6                                                                                          
003c6e   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb4   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb6   5184     MOVF      0x84,0x0,0x1                                                                                    
002bb8   e123     BNZ       0x2c00                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Error check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bba   0e03     MOVLW     0x3              if (Pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bbc   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bbe   0807     SUBLW     0x7                                                                                             
002bc0   e202     BC        0x2bc6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc2   ec31     CALL      0x3662,0x0         Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc4   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc6   50df     MOVF      0xdf,0x0,0x0     if (State > 3u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc8   0803     SUBLW     0x3                                                                                             
002bca   e202     BC        0x2bd0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bcc   0e03     MOVLW     0x3                State = 3;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bce   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set the PRn of the Pen Servo output                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Add 3 to get from PORTB pin number to RPn number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd0   0e03     MOVLW     0x3              if (g_servo2_RPn != (Pin + 3))                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd2   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bd4   0f03     ADDLW     0x3                                                                                             
002bd6   0100     MOVLB     0x0                                                                                             
002bd8   5da6     SUBWF     0xa6,0x0,0x1                                                                                    
002bda   e007     BZ        0x2bea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // if we are changing which pin the pen servo is on, we need to cancel       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the servo output on the old channel first                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bdc   ecb3     CALL      0x3566,0x0         RCServo2_Move(0, g_servo2_RPn, 0, 0, FALSE);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bde   f01a                                                                                                               
                                               // Now record the new RPn                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be0   0e03     MOVLW     0x3                g_servo2_RPn = Pin + 3;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be2   50db     MOVF      0xdb,0x0,0x0                                                                                    
002be4   0f03     ADDLW     0x3                                                                                             
002be6   0100     MOVLB     0x0                                                                                             
002be8   6fa6     MOVWF     0xa6,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Execute the servo state change                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bea   0e01     MOVLW     0x1              process_SP(State, CommandDuration);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bec   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bee   ffe6                                                                                                               
002bf0   0e02     MOVLW     0x2                                                                                             
002bf2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bf4   ffe6                                                                                                               
002bf6   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002bf8   ffe6                                                                                                               
002bfa   ecb5     CALL      0x376a,0x0                                                                                      
002bfc   f01b                                                                                                               
00376a   ec06     CALL      0x2c0c,0x0                                                                                      
00376c   f016                                                                                                               
00376e   d237     BRA       0x3bde                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bfe   dbce     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c00   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c02   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002c04   e202     BC        0x2c0a                                                                                          
002c06   6ae1     CLRF      0xe1,0x0                                                                                        
002c08   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c0a   d3c1     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internal use function -                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform a state change on the pen RC servo output. Move it up or move it down D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <NewState> is                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   PEN_DOWN : Add move to FIFO to start servo towards servo_max                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   PEN_UP : Add move to FIFO to start servo towards servo_min                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   PEN_UP_IMMEDIATE : Start servo moving towards servo_min, not on FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   PEN_UP_IMMEDIATE_CLEAR : Start servo moving towards servo_min, not on FIFO, and set servo_max = servo_min D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <CommandDuration> is the number of milliseconds to wait before executing the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      next command in the motion control FIFO. Only applies if <NewState> is 0 or 1. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses the g_servo2_min (servo_min), g_servo2_max (servo_max), rate_up, rate_down variables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to schedule an RC Servo change with the RCServo2_Move() function.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0c   dbc2     RCALL     0x3392         void process_SP(PenStateType NewState, UINT16 CommandDuration)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0e   0e06     MOVLW     0x6                                                                                             
002c10   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Position;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Rate;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             BOOL UseFIFO;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c12   0efe     MOVLW     0xfe             if (NewState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c14   04db     DECF      0xdb,0x0,0x0                                                                                    
002c16   e103     BNZ       0x2c1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c18   ec83     CALL      0x3506,0x0         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c1a   f01a                                                                                                               
                                               Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               UseFIFO = TRUE;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c1c   d04a     BRA       0x2cb2           else if (NewState == PEN_UP_IMMEDIATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c1e   0efe     MOVLW     0xfe                                                                                            
002c20   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c22   0802     SUBLW     0x2                                                                                             
002c24   e105     BNZ       0x2c30                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c26   ec83     CALL      0x3506,0x0         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c28   f01a                                                                                                               
                                               Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2a   0e04     MOVLW     0x4                UseFIFO = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2c   6adb     CLRF      0xdb,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2e   d043     BRA       0x2cb6           else if (NewState == PEN_UP_IMMEDIATE_CLEAR)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c30   0efe     MOVLW     0xfe                                                                                            
002c32   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c34   0803     SUBLW     0x3                                                                                             
002c36   e133     BNZ       0x2c9e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c38   ec83     CALL      0x3506,0x0         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3a   f01a                                                                                                               
003506   c0a0     MOVFF     0xa0,0xfde                                                                                      
003508   ffde                                                                                                               
00350a   c0a1     MOVFF     0xa1,0xfdd                                                                                      
00350c   ffdd                                                                                                               
00350e   0e02     MOVLW     0x2                Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003510   c0a2     MOVFF     0xa2,0xfdb                                                                                      
003512   ffdb                                                                                                               
003514   0e03     MOVLW     0x3                                                                                             
003516   c0a3     MOVFF     0xa3,0xfdb                                                                                      
003518   ffdb                                                                                                               
00351a   0012     RETURN    0x0                                                                                             
002c3c   0e04     MOVLW     0x4                UseFIFO = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3e   6adb     CLRF      0xdb,0x0                                                                                        
002c40   c0a0     MOVFF     0xa0,0x9e          g_servo2_max = g_servo2_min;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c42   f09e                                                                                                               
002c44   c0a1     MOVFF     0xa1,0x9f                                                                                       
002c46   f09f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here. We need to stop   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // any changes to the FIFO, then walk through every command currently        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // in the FIFO. If that command is a servo move, we have to re-write it's    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // position target to be g_servo2_min (all the way up). This will then       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // prevent any remaining servo moves in the FIFO from moving the pen down.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c48   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;  // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4a   0e05     MOVLW     0x5                for (i=0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4c   6adb     CLRF      0xdb,0x0                                                                                        
002c4e   0e20     MOVLW     0x20                                                                                            
002c50   6ef3     MOVWF     0xf3,0x0                                                                                        
002c52   0e05     MOVLW     0x5                                                                                             
002c54   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002c56   fff4                                                                                                               
002c58   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002c5a   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002c5c   e21e     BC        0x2c9a                                                                                          
002c94   0e05     MOVLW     0x5                                                                                             
002c96   2adb     INCF      0xdb,0x1,0x0                                                                                    
002c98   d7da     BRA       0x2c4e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c5e   0e05     MOVLW     0x5                  if (FIFOPtr[i].Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c60   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c62   ec5e     CALL      0x36bc,0x0                                                                                      
002c64   f01b                                                                                                               
002c66   0802     SUBLW     0x2                                                                                             
002c68   e115     BNZ       0x2c94                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Check to make sure we only modify moves of the pen servo output       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c6a   0e05     MOVLW     0x5                    if (FIFOPtr[i].m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c6c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c6e   0d2f     MULLW     0x2f                                                                                            
002c70   ec8a     CALL      0x3914,0x0                                                                                      
002c72   f01c                                                                                                               
002c74   ec40     CALL      0x3c80,0x0                                                                                      
002c76   f01e                                                                                                               
002c78   50ef     MOVF      0xef,0x0,0x0                                                                                    
002c7a   0100     MOVLB     0x0                                                                                             
002c7c   5da6     SUBWF     0xa6,0x0,0x1                                                                                    
002c7e   e10a     BNZ       0x2c94                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c80   0e05     MOVLW     0x5                      FIFOPtr[i].m.sm.ServoPosition = g_servo2_min;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c82   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c84   ecc2     CALL      0x3584,0x0                                                                                      
002c86   f01a                                                                                                               
002c88   0e27     MOVLW     0x27                                                                                            
002c8a   db93     RCALL     0x33b2                                                                                          
002c8c   c0a0     MOVFF     0xa0,0xfee                                                                                      
002c8e   ffee                                                                                                               
002c90   c0a1     MOVFF     0xa1,0xfed                                                                                      
002c92   ffed                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9a   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;  // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9c   d00c     BRA       0x2cb6           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c9e   c09e     MOVFF     0x9e,0xfde         Position = g_servo2_max;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca0   ffde                                                                                                               
002ca2   c09f     MOVFF     0x9f,0xfdd                                                                                      
002ca4   ffdd                                                                                                               
002ca6   0e02     MOVLW     0x2                Rate = g_servo2_rate_down;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca8   c0a4     MOVFF     0xa4,0xfdb                                                                                      
002caa   ffdb                                                                                                               
002cac   0e03     MOVLW     0x3                                                                                             
002cae   c0a5     MOVFF     0xa5,0xfdb                                                                                      
002cb0   ffdb                                                                                                               
002cb2   ecb8     CALL      0x3770,0x0         UseFIFO = TRUE;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb4   f01b                                                                                                               
003770   0e01     MOVLW     0x1                                                                                             
003772   6ef3     MOVWF     0xf3,0x0                                                                                        
003774   0e04     MOVLW     0x4                                                                                             
003776   cff3     MOVFF     0xff3,0xfdb                                                                                     
003778   ffdb                                                                                                               
00377a   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb6   8689     BSF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb8   c4c2     MOVFF     0x4c2,0x4be      gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cba   f4be                                                                                                               
002cbc   c4c3     MOVFF     0x4c3,0x4bf                                                                                     
002cbe   f4bf                                                                                                               
002cc0   c4c4     MOVFF     0x4c4,0x4c0                                                                                     
002cc2   f4c0                                                                                                               
002cc4   c4c5     MOVFF     0x4c5,0x4c1                                                                                     
002cc6   f4c1                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now schedule the movement with the RCServo2 function                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc8   0e04     MOVLW     0x4              RCServo2_Move(Position, g_servo2_RPn, Rate, CommandDuration, UseFIFO);         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cca   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002ccc   ffe6                                                                                                               
002cce   0efc     MOVLW     0xfc                                                                                            
002cd0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002cd2   ffe6                                                                                                               
002cd4   0efd     MOVLW     0xfd                                                                                            
002cd6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002cd8   ffe6                                                                                                               
002cda   0e02     MOVLW     0x2                                                                                             
002cdc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002cde   ffe6                                                                                                               
002ce0   0e03     MOVLW     0x3                                                                                             
002ce2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002ce4   ffe6                                                                                                               
002ce6   c0a6     MOVFF     0xa6,0xfe6                                                                                      
002ce8   ffe6                                                                                                               
002cea   ec24     CALL      0x3848,0x0                                                                                      
002cec   f01c                                                                                                               
002cee   ec53     CALL      0x3aa6,0x0                                                                                      
002cf0   f01d                                                                                                               
003848   cfde     MOVFF     0xfde,0xfe6                                                                                     
00384a   ffe6                                                                                                               
00384c   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
00384e   ffe6                                                                                                               
003850   0012     RETURN    0x0                                                                                             
003aa6   ec6a     CALL      0x76d4,0x0                                                                                      
003aa8   f03b                                                                                                               
003aaa   6e4e     MOVWF     0x4e,0x0                                                                                        
003aac   0e08     MOVLW     0x8                                                                                             
003aae   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003ab0   504e     MOVF      0x4e,0x0,0x0                                                                                    
003ab2   0012     RETURN    0x0                                                                                             
002cf2   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002cf6   e202     BC        0x2cfc                                                                                          
002cf8   6ae1     CLRF      0xe1,0x0                                                                                        
002cfa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002cfc   d348     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Enable Motor                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: EM,<EnableAxis1>,<EnableAxis2><CR>                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Everything after EnableAxis1 is optional                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each parameter can have a value of                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 to disable that motor driver                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (only first parameter applies, and it applies to both drivers)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/16th step mode                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/8 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    5 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If you disable a motor, it goes 'limp' (we clear the ENABLE pin on that motor's D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // driver chip)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that when using 0 or 1 for a parameter, you can use both axis even       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on a 'new' driver chip board. (i.e. EM,0,1 will disable motor 1 and enable 2) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that the MSx lines do not come to any headers, so even when an external  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // source is controlling the drivers, the PIC still needs to control the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // MSx lines.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.7.0 : We always clear out the step accumulators when the EM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.8.0 : This command is now handled as part of the motion queue         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   is executed.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cfe   ec65     CALL      0x3aca,0x0     void parse_EM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d00   f01d                                                                                                               
003aca   dc63     RCALL     0x3392                                                                                          
003acc   0e04     MOVLW     0x4                                                                                             
003ace   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003ad0   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned char EA1, EA2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d02   ec88     CALL      0x3910,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d04   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d06   6ee7     MOVWF     0xe7,0x0         RetVal1 = extract_number (kUCHAR, &EA1, kREQUIRED);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d08   0e02     MOVLW     0x2                                                                                             
002d0a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002d0c   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d0e   0104     MOVLB     0x4              if (error_byte || kEXTRACT_OK != RetVal1)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d10   5184     MOVF      0x84,0x0,0x1                                                                                    
002d12   e129     BNZ       0x2d66                                                                                          
002d14   0e02     MOVLW     0x2                                                                                             
002d16   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d18   e126     BNZ       0x2d66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d1a   ec21     CALL      0x3a42,0x0       RetVal2 = extract_number (kUCHAR, &EA2, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d1c   f01d                                                                                                               
002d1e   6ee7     MOVWF     0xe7,0x0                                                                                        
002d20   0e03     MOVLW     0x3                                                                                             
002d22   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002d24   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d26   0104     MOVLB     0x4              if (error_byte || kEXTRACT_OK != RetVal2)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d28   5184     MOVF      0x84,0x0,0x1                                                                                    
002d2a   e11d     BNZ       0x2d66                                                                                          
002d2c   0e03     MOVLW     0x3                                                                                             
002d2e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d30   e11a     BNZ       0x2d66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d32   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d34   d017     BRA       0x2d64                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Trial: Spin here until there's space in the fifo                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d36   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d38   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002d3a   e2fd     BC        0x2d36                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up the motion queue command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3c   5010     MOVF      0x10,0x0,0x0       FIFOPtr[gFIFOIn].m.sm.DirBits = EA1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3e   ecc2     CALL      0x3584,0x0                                                                                      
002d40   f01a                                                                                                               
002d42   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002d44   ffef                                                                                                               
002d46   db88     RCALL     0x3458             FIFOPtr[gFIFOIn].m.sm.ServoRPn = EA2;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d48   ec40     CALL      0x3c80,0x0                                                                                      
002d4a   f01e                                                                                                               
002d4c   0e01     MOVLW     0x1                                                                                             
002d4e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
002d50   ffef                                                                                                               
002d52   db82     RCALL     0x3458             FIFOPtr[gFIFOIn].Command = COMMAND_EM;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d54   0e04     MOVLW     0x4                                                                                             
002d56   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d58   2a10     INCF      0x10,0x1,0x0       gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5a   5013     MOVF      0x13,0x0,0x0       if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5c   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002d5e   e301     BNC       0x2d62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d60   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d62   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d64   db1b     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d66   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d68   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002d6a   e202     BC        0x2d70                                                                                          
002d6c   6ae1     CLRF      0xe1,0x0                                                                                        
002d6e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002d70   d30e     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter increment                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: NI<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_NI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d72   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d74   dad8     RCALL     0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d76   0efe     MOVLW     0xfe             if (NodeCount < 0xFFFFFFFEUL)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d78   0101     MOVLB     0x1                                                                                             
002d7a   5dba     SUBWF     0xba,0x0,0x1                                                                                    
002d7c   0eff     MOVLW     0xff                                                                                            
002d7e   59bb     SUBWFB    0xbb,0x0,0x1                                                                                    
002d80   0eff     MOVLW     0xff                                                                                            
002d82   59bc     SUBWFB    0xbc,0x0,0x1                                                                                    
002d84   0eff     MOVLW     0xff                                                                                            
002d86   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
002d88   e205     BC        0x2d94                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8a   2bba     INCF      0xba,0x1,0x1       NodeCount++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8c   0e00     MOVLW     0x0                                                                                             
002d8e   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
002d90   23bc     ADDWFC    0xbc,0x1,0x1                                                                                    
002d92   23bd     ADDWFC    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d94   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d96   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter Decrement                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ND<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_ND_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d98   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9a   dac5     RCALL     0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9c   0101     MOVLB     0x1              if (NodeCount)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9e   51ba     MOVF      0xba,0x0,0x1                                                                                    
002da0   11bb     IORWF     0xbb,0x0,0x1                                                                                    
002da2   11bc     IORWF     0xbc,0x0,0x1                                                                                    
002da4   11bd     IORWF     0xbd,0x0,0x1                                                                                    
002da6   e005     BZ        0x2db2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da8   07ba     DECF      0xba,0x1,0x1       NodeCount--;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002daa   0e00     MOVLW     0x0                                                                                             
002dac   5bbb     SUBWFB    0xbb,0x1,0x1                                                                                    
002dae   5bbc     SUBWFB    0xbc,0x1,0x1                                                                                    
002db0   5bbd     SUBWFB    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db2   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db4   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Node counter                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SN,<value><CR>                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <value> is a 4 byte unsigned value                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db6   daed     RCALL     0x3392         void parse_SN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db8   0e05     MOVLW     0x5                                                                                             
002dba   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned long Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dbc   ec11     CALL      0x3c22,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dbe   f01e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc0   0e07     MOVLW     0x7              RetVal = extract_number(kULONG, &Temp, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc2   da13     RCALL     0x31ea                                                                                          
002dc4   eccd     CALL      0x379a,0x0                                                                                      
002dc6   f01b                                                                                                               
002dc8   50db     MOVF      0xdb,0x0,0x0     if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dca   e10b     BNZ       0x2de2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dcc   cfdf     MOVFF     0xfdf,0x1ba        NodeCount = Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dce   f1ba                                                                                                               
002dd0   0e01     MOVLW     0x1                                                                                             
002dd2   cfdb     MOVFF     0xfdb,0x1bb                                                                                     
002dd4   f1bb                                                                                                               
002dd6   0e02     MOVLW     0x2                                                                                             
002dd8   cfdb     MOVFF     0xfdb,0x1bc                                                                                     
002dda   f1bc                                                                                                               
002ddc   0e03     MOVLW     0x3                                                                                             
002dde   cfdb     MOVFF     0xfdb,0x1bd                                                                                     
002de0   f1bd                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de2   dadc     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de4   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002de8   e202     BC        0x2dee                                                                                          
002dea   6ae1     CLRF      0xe1,0x0                                                                                        
002dec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002dee   d2cf     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Node counter                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QN<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <NodeCount><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df0   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df2   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df4   c1ba     MOVFF     0x1ba,0xfe6      ebb_print_uint(NodeCount);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df6   ffe6                                                                                                               
002df8   c1bb     MOVFF     0x1bb,0xfe6                                                                                     
002dfa   ffe6                                                                                                               
002dfc   c1bc     MOVFF     0x1bc,0xfe6                                                                                     
002dfe   ffe6                                                                                                               
002e00   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
002e02   ffe6                                                                                                               
002e04   ec3d     CALL      0x3a7a,0x0                                                                                      
002e06   f01d                                                                                                               
002e08   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0a   d002     BRA       0x2e10                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0c   ec02     CALL      0x3604,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0e   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e10   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e12   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Layer                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SL,<Value>[,<Index>]<CR>                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Value> is an unsigned 8-bit decimal number and                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Index> is an optional parameter from 0 to 31. If not present then            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <index> is assumed to be 0.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Store <Value> in <Index> (variable space) in RAM                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Retrieve the values using the QL command                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e14   dabe     RCALL     0x3392         void parse_SL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e16   0e02     MOVLW     0x2                                                                                             
002e18   ec44     CALL      0x3c88,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e1a   f01e                                UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e1c   ec88     CALL      0x3910,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e1e   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e20   ec21     CALL      0x3a42,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e22   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e24   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e26   5184     MOVF      0x84,0x0,0x1                                                                                    
002e28   e10c     BNZ       0x2e42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2a   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e2e   081f     SUBLW     0x1f                                                                                            
002e30   e203     BC        0x2e38                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e32   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e34   0e1f     MOVLW     0x1f                                                                                            
002e36   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e38   ecea     CALL      0x37d4,0x0       gSL_Storage[Index] = Value;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3a   f01b                                                                                                               
002e3c   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002e3e   ffef                                                                                                               
0037d4   0e01     MOVLW     0x1                                                                                             
0037d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0037d8   6aea     CLRF      0xea,0x0                                                                                        
0037da   0f58     ADDLW     0x58                                                                                            
0037dc   6ee9     MOVWF     0xe9,0x0                                                                                        
0037de   0e01     MOVLW     0x1                                                                                             
0037e0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0037e2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e40   daad     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e42   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e44   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002e46   e202     BC        0x2e4c                                                                                          
002e48   6ae1     CLRF      0xe1,0x0                                                                                        
002e4a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002e4c   d2a0     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Layer                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QL[,<Index>]<CR>                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: QL,<ValueAtIndex><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Index> is an optional parameter from 0 to 31                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If not present, <Index> is set to 0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The <ValueAtIndex> is an unsigned byte which was previously stored at <Index> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4e   daa1     RCALL     0x3392         void parse_QL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e50   0e02     MOVLW     0x2                                                                                             
002e52   ecd8     CALL      0x39b0,0x0                                                                                      
0039b0   d96b                                                                                                               
003c88   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e54   f01c     WORD2     0x1c             UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c8a   6adf     CLRF      0xdf,0x0                                                                                        
003c8c   0e01     MOVLW     0x1              UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c8e   6adb     CLRF      0xdb,0x0                                                                                        
003c90   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039b2   6ee6     MOVWF     0xe6,0x0         print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039b4   ef93     GOTO      0x3326                                                                                          
0039b6   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e56   ec21     CALL      0x3a42,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e58   f01d                                                                                                               
003a42   dd06     RCALL     0x3450                                                                                          
003a44   d12a     BRA       0x3c9a                                                                                          
003c9a   0e01     MOVLW     0x1                                                                                             
003c9c   eff5     GOTO      0x31ea                                                                                          
003c9e   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5a   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5c   5184     MOVF      0x84,0x0,0x1                                                                                    
002e5e   e113     BNZ       0x2e86                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e60   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e62   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e64   081f     SUBLW     0x1f                                                                                            
002e66   e203     BC        0x2e6e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e68   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6a   0e1f     MOVLW     0x1f                                                                                            
002e6c   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6e   ecea     CALL      0x37d4,0x0       ebb_print_uint(gSL_Storage[Index]);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e70   f01b                                                                                                               
002e72   cfef     MOVFF     0xfef,0x4e                                                                                      
002e74   f04e                                                                                                               
002e76   6a4f     CLRF      0x4f,0x0                                                                                        
002e78   ec69     CALL      0x38d2,0x0                                                                                      
002e7a   f01c                                                                                                               
002e7c   ec3d     CALL      0x3a7a,0x0                                                                                      
002e7e   f01d                                                                                                               
0038d2   6a50     CLRF      0x50,0x0                                                                                        
0038d4   6a51     CLRF      0x51,0x0                                                                                        
0038d6   c04e     MOVFF     0x4e,0xfe6                                                                                      
0038d8   ffe6                                                                                                               
0038da   efd6     GOTO      0x3bac                                                                                          
0038dc   f01d                                                                                                               
003bac   c04f     MOVFF     0x4f,0xfe6                                                                                      
003bae   ffe6                                                                                                               
003bb0   c050     MOVFF     0x50,0xfe6                                                                                      
003bb2   ffe6                                                                                                               
003bb4   c051     MOVFF     0x51,0xfe6                                                                                      
003bb6   ffe6                                                                                                               
003bb8   0012     RETURN    0x0                                                                                             
002e80   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e82   dbc0     RCALL     0x3604             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e84   da8b     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e86   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e88   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002e8a   e202     BC        0x2e90                                                                                          
002e8c   6ae1     CLRF      0xe1,0x0                                                                                        
002e8e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002e90   d27e     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Button                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QB<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <HasButtonBeenPushedSinceLastQB><CR> (0 or 1)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void  parse_QB_packet(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e92   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e94   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e96   5007     MOVF      0x7,0x0,0x0      ebb_print_uint(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e98   6e4e     MOVWF     0x4e,0x0                                                                                        
002e9a   6a4f     CLRF      0x4f,0x0                                                                                        
002e9c   6a50     CLRF      0x50,0x0                                                                                        
002e9e   6a51     CLRF      0x51,0x0                                                                                        
002ea0   6ee6     MOVWF     0xe6,0x0                                                                                        
002ea2   ecd6     CALL      0x3bac,0x0                                                                                      
002ea4   f01d                                                                                                               
002ea6   ec3d     CALL      0x3a7a,0x0                                                                                      
002ea8   f01d                                                                                                               
003332   ecc0     CALL      0x8580,0x0                                                                                      
003334   f042                                                                                                               
003336   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003338   efef     GOTO      0x3bde                                                                                          
00333a   f01d                                                                                                               
003a7a   dc5b     RCALL     0x3332                                                                                          
002eaa   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a7c   0101     MOVLB     0x1                                                                                             
003a7e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eac   dbab     RCALL     0x3604             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eae   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb0   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb2   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb4   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Current                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QC<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <voltage_on_REF_RA0_net>,<voltage_on_v+_net><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Both values have a range of 0 to 1023 (10-bit ADC)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The ADC is set up with 0V = 0 and 3.3V = 1023                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the REF_RA0 (current adjustment pot) a value of 0V-ADC (0 counts) = 46mA  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.58V-ADC (800 counts) = 1.35A                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the V+ net a value of 0V-ADC (0 counts) = 0V on V+                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.79V-ADC (870 counts) = 31.4V on V+                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // REF_RA0 comes in on AN0 (RA0)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // V+ comes in on AN11 (RC2)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since access to ISR_A_FIFO[] is not protected in any way from ISR and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // mainline code accessing at the same time, we will just wait for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the cycle of ADC readings to finish before we spit out our value.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb6   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb8   d7fe     BRA       0x2eb6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out our results                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eba   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ebc   f01c                                                                                                               
002ebe   c100     MOVFF     0x100,0x4e       ebb_print_int(ISR_A_FIFO[0]);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec0   f04e                                                                                                               
002ec2   c101     MOVFF     0x101,0x4f                                                                                      
002ec4   f04f                                                                                                               
002ec6   da2c     RCALL     0x3320                                                                                          
002ec8   db37     RCALL     0x3538           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eca   c116     MOVFF     0x116,0x4e       ebb_print_int(ISR_A_FIFO[11]);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ecc   f04e                                                                                                               
002ece   c117     MOVFF     0x117,0x4f                                                                                      
002ed0   f04f                                                                                                               
002ed2   da26     RCALL     0x3320                                                                                          
002ed4   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed6   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed8   db95     RCALL     0x3604             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eda   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002edc   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query General                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QG<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <status><NL><CR>                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <status> is a 16 bit value, printed as a hexadecimal number "00" to "FF".     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each bit in the byte represents the status of a single bit of information in the EBB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 0 : Motion FIFO status (0 = FIFO empty, 1 = FIFO not empty)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 1 : Motor2 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 2 : Motor1 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 3 : CommandExecuting (0 = no command currently executing, 1 = a command is currently executing) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 4 : Pen status (0 = up, 1 = down)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 5 : PRG button status (0 = not pressed since last query, 1 = pressed since last query) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 6 : Power Lost (1 = V+ went below g_PowerMonitorThresholdADC, 0 = it did not) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 7 : gLimitSwitchTriggered                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just like the QB command, the PRG button status is cleared (after being printed) if pressed since last QB/QG command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ede   ec3a     CALL      0x3a74,0x0     void parse_QG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee0   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee2   d8d1     RCALL     0x3086           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee4   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee6   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee8   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // process_QM() gives us the low 4 bits of our output result.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eea   0e0f     MOVLW     0xf              result = result & 0x0F;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eec   14df     ANDWF     0xdf,0x0,0x0                                                                                    
002eee   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef0   0101     MOVLB     0x1              if (PenState)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef2   51b9     MOVF      0xb9,0x0,0x1                                                                                    
002ef4   e003     BZ        0x2efc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef6   0e10     MOVLW     0x10               result = result | (1 << 4);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef8   10df     IORWF     0xdf,0x0,0x0                                                                                    
002efa   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efc   a007     BTFSS     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efe   d003     BRA       0x2f06                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f00   0e20     MOVLW     0x20               result = result | (1 << 5);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f02   10df     IORWF     0xdf,0x0,0x0                                                                                    
002f04   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f06   0104     MOVLB     0x4              if (g_PowerDropDetected)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f08   5194     MOVF      0x94,0x0,0x1                                                                                    
002f0a   e004     BZ        0x2f14                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0c   0e40     MOVLW     0x40               result = result | (1 << 6);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0e   10df     IORWF     0xdf,0x0,0x0                                                                                    
002f10   6edf     MOVWF     0xdf,0x0                                                                                        
002f12   6b94     CLRF      0x94,0x1           g_PowerDropDetected = FALSE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f14   a00e     BTFSS     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f16   d003     BRA       0x2f1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f18   0e80     MOVLW     0x80               result = result | (1 << 7);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f1a   10df     IORWF     0xdf,0x0,0x0                                                                                    
002f1c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f1e   0e02     MOVLW     0x2              ebb_print_hex(result, 2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f20   6ee6     MOVWF     0xe6,0x0                                                                                        
002f22   cfdf     MOVFF     0xfdf,0x4e                                                                                      
002f24   f04e                                                                                                               
002f26   6a4f     CLRF      0x4f,0x0                                                                                        
002f28   ec69     CALL      0x38d2,0x0                                                                                      
002f2a   f01c                                                                                                               
002f2c   ec86     CALL      0x850c,0x0                                                                                      
002f2e   f042                                                                                                               
002f30   6e52     MOVWF     0x52,0x0                                                                                        
002f32   0e05     MOVLW     0x5                                                                                             
002f34   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002f36   5052     MOVF      0x52,0x0,0x0                                                                                    
002f38   db65     RCALL     0x3604           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003604   0e01     MOVLW     0x1                                                                                             
003606   6ee6     MOVWF     0xe6,0x0                                                                                        
003608   d268     BRA       0x3ada                                                                                          
003ada   ecf5     CALL      0x4bea,0x0                                                                                      
003adc   f025                                                                                                               
003ade   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ae0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Reset the button pushed flag                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3a   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3c   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3e   d2fa     BRA       0x3534         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003534   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003536   d2cd     BRA       0x3ad2                                                                                          
003ad2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ad4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003ad6   ffd9                                                                                                               
003ad8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Engraver                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SE,<state>,<power>,<use_motion_queue><CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <state> is 0 for off and 1 for on (required)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <power> is 10 bit PWM power level (optional). 0 = 0%, 1023 = 100%             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <use_motion_queue> if 1 then put this command in motion queue (optional))     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // We boot up with <power> at 0                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The engraver motor is always assumed to be on RB3                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // So our init routine will map ECCP1                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer0 is stepper                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer1 is unused                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer2 and ECCP1 is engraver PWM                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer3 and ECCP2 is RC servo2 output                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer4 is 1ms ISR                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f40   ec1d     CALL      0x3a3a,0x0     void parse_SE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f42   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Power = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f44   0e03     MOVLW     0x3              UINT8 SEUseMotionQueue = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f46   6adb     CLRF      0xdb,0x0                                                                                        
                                             ExtractReturnType PowerExtract;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f48   ec2d     CALL      0x3c5a,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f4a   f01e                                                                                                               
003326   6ae6     CLRF      0xe6,0x0                                                                                        
003328   ecd7     CALL      0x4bae,0x0                                                                                      
00332a   f025                                                                                                               
00332c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00332e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003330   0012     RETURN    0x0                                                                                             
003910   d988     RCALL     0x3c22                                                                                          
003c22   6ae6     CLRF      0xe6,0x0                                                                                        
003c24   ec93     CALL      0x3326,0x0                                                                                      
003c26   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034fa   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034fc   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0034fe   ffe6                                                                                                               
003500   cfda     MOVFF     0xfda,0xfe6                                                                                     
003502   ffe6                                                                                                               
003504   0012     RETURN    0x0                                                                                             
003912   d1c3     BRA       0x3c9a                                                                                          
003c28   ef7d     GOTO      0x34fa                                                                                          
003c2a   f01a                                                                                                               
002f4c   eccd     CALL      0x379a,0x0       PowerExtract = extract_number(kUINT, &Power, kOPTIONAL);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f4e   f01b                                                                                                               
003450   0e01     MOVLW     0x1                                                                                             
003452   6ee6     MOVWF     0xe6,0x0                                                                                        
003454   ef4c     GOTO      0x3a98                                                                                          
003456   f01d                                                                                                               
002f50   ec32     CALL      0x3c64,0x0       extract_number(kUCHAR, &SEUseMotionQueue, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f52   f01e                                                                                                               
0031ea   6ee6     MOVWF     0xe6,0x0                                                                                        
0031ec   ec07     CALL      0x5e0e,0x0                                                                                      
0031ee   f02f                                                                                                               
0031f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031f2   efef     GOTO      0x3bde                                                                                          
0031f4   f01d                                                                                                               
0039a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0039a8   0e00     MOVLW     0x0                                                                                             
0039aa   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0039ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0039ae   d175     BRA       0x3c9a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f54   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f56   5184     MOVF      0x84,0x0,0x1                                                                                    
002f58   e001     BZ        0x2f5c                                                                                          
002f5a   d08f     BRA       0x307a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Limit check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5c   da88     RCALL     0x346e           if (Power > 1023u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5e   0eff     MOVLW     0xff                                                                                            
002f60   80d8     BSF       0xd8,0x0,0x0                                                                                    
002f62   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
002f64   0e03     MOVLW     0x3                                                                                             
002f66   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
002f68   e205     BC        0x2f74                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f6a   0e01     MOVLW     0x1                Power = 1023;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f6c   68db     SETF      0xdb,0x0                                                                                        
002f6e   0e03     MOVLW     0x3                                                                                             
002f70   ec29     CALL      0x3852,0x0                                                                                      
002f72   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f74   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f76   0801     SUBLW     0x1                                                                                             
002f78   e202     BC        0x2f7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f7a   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f7c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f7e   0e03     MOVLW     0x3              if (SEUseMotionQueue > 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f80   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f82   0801     SUBLW     0x1                                                                                             
002f84   e201     BC        0x2f88                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f86   db6d     RCALL     0x3662             SEUseMotionQueue = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set to %50 if no Power parameter specified, otherwise use parameter         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f88   04df     DECF      0xdf,0x0,0x0     if (State == 1u && PowerExtract == kEXTRACT_MISSING_PARAMETER)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f8a   e109     BNZ       0x2f9e                                                                                          
002f8c   0e04     MOVLW     0x4                                                                                             
002f8e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f90   0803     SUBLW     0x3                                                                                             
002f92   e105     BNZ       0x2f9e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f94   0101     MOVLB     0x1                StoredEngraverPower = 512;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f96   6bbf     CLRF      0xbf,0x1                                                                                        
002f98   0e02     MOVLW     0x2                                                                                             
002f9a   6fc0     MOVWF     0xc0,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9c   d006     BRA       0x2faa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9e   0e01     MOVLW     0x1                StoredEngraverPower = Power;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa0   cfdb     MOVFF     0xfdb,0x1bf                                                                                     
002fa2   f1bf                                                                                                               
002fa4   0e02     MOVLW     0x2                                                                                             
002fa6   cfdb     MOVFF     0xfdb,0x1c0                                                                                     
002fa8   f1c0                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're not on, then turn us on                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002faa   b4ca     BTFSC     0xca,0x2,0x0     if (T2CONbits.TMR2ON != 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fac   d015     BRA       0x2fd8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up PWM for Engraver control                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We will use ECCP1 and Timer2 for the engraver PWM output on RB3           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Our PWM will operate at about 40Khz.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set our reload value                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fae   68cb     SETF      0xcb,0x0           PR2 = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Initialize Timer2                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // The prescaler will be at 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb0   0efc     MOVLW     0xfc               T2CONbits.T2CKPS = 0b00;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb2   14ca     ANDWF     0xca,0x0,0x0                                                                                    
002fb4   0900     IORLW     0x0                                                                                             
002fb6   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Do not generate an interrupt                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb8   929d     BCF       0x9d,0x1,0x0       PIE1bits.TMR2IE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fba   010f     MOVLB     0xf                TCLKCONbits.T3CCP1 = 1;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fbc   8152     BSF       0x52,0x0,0x1                                                                                    
002fbe   9352     BCF       0x52,0x1,0x1       TCLKCONbits.T3CCP2 = 0;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc0   0ef0     MOVLW     0xf0               CCP1CONbits.CCP1M = 0b1100;   // Set EECP1 as PWM mode                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002fc4   090c     IORLW     0xc                                                                                             
002fc6   6eba     MOVWF     0xba,0x0                                                                                        
002fc8   0e3f     MOVLW     0x3f               CCP1CONbits.P1M = 0b00;       // Enhanced PWM mode: single output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fca   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002fcc   0900     IORLW     0x0                                                                                             
002fce   6eba     MOVWF     0xba,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up output routing to go to RB3 (RP6)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd0   010e     MOVLB     0xe                RPOR6 = 14;                   // 14 is CCP1/P1A - ECCP1 PWM Output Channel A D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd2   0e0e     MOVLW     0xe                                                                                             
002fd4   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd6   84ca     BSF       0xca,0x2,0x0       T2CONbits.TMR2ON = 1;         // Turn it on                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Acting on the state is only done if the SE command is not put on the motion queue D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd8   0e03     MOVLW     0x3              if (!SEUseMotionQueue)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fda   50db     MOVF      0xdb,0x0,0x0                                                                                    
002fdc   e12a     BNZ       0x3032                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fde   50df     MOVF      0xdf,0x0,0x0       if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe0   e023     BZ        0x3028                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe2   c1bf     MOVFF     0x1bf,0x4e           CCPR1L = StoredEngraverPower >> 2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe4   f04e                                                                                                               
002fe6   c1c0     MOVFF     0x1c0,0x4f                                                                                      
002fe8   f04f                                                                                                               
002fea   90d8     BCF       0xd8,0x0,0x0                                                                                    
002fec   324f     RRCF      0x4f,0x1,0x0                                                                                    
002fee   324e     RRCF      0x4e,0x1,0x0                                                                                    
002ff0   90d8     BCF       0xd8,0x0,0x0                                                                                    
002ff2   324f     RRCF      0x4f,0x1,0x0                                                                                    
002ff4   324e     RRCF      0x4e,0x1,0x0                                                                                    
002ff6   504e     MOVF      0x4e,0x0,0x0                                                                                    
002ff8   6ebb     MOVWF     0xbb,0x0                                                                                        
002ffa   c1bf     MOVFF     0x1bf,0x50           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffc   f050                                                                                                               
002ffe   c1c0     MOVFF     0x1c0,0x51                                                                                      
003000   f051                                                                                                               
003002   0e04     MOVLW     0x4                                                                                             
003004   90d8     BCF       0xd8,0x0,0x0                                                                                    
003006   3650     RLCF      0x50,0x1,0x0                                                                                    
003008   3651     RLCF      0x51,0x1,0x0                                                                                    
00300a   04e8     DECF      0xe8,0x0,0x0                                                                                    
00300c   e1fb     BNZ       0x3004                                                                                          
00300e   0e30     MOVLW     0x30                                                                                            
003010   1650     ANDWF     0x50,0x1,0x0                                                                                    
003012   0e00     MOVLW     0x0                                                                                             
003014   1651     ANDWF     0x51,0x1,0x0                                                                                    
003016   0ecf     MOVLW     0xcf                                                                                            
003018   14ba     ANDWF     0xba,0x0,0x0                                                                                    
00301a   0100     MOVLB     0x0                                                                                             
00301c   1050     IORWF     0x50,0x0,0x0                                                                                    
00301e   6e4e     MOVWF     0x4e,0x0                                                                                        
003020   c051     MOVFF     0x51,0x4f                                                                                       
003022   f04f                                                                                                               
003024   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003026   d003     BRA       0x302e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003028   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302a   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302c   14ba     ANDWF     0xba,0x0,0x0                                                                                    
00302e   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003030   d023     BRA       0x3078           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003032   bc09     BTFSC     0x9,0x6,0x0        if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003034   d021     BRA       0x3078                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Trial: Spin here until there's space in the FIFO                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003036   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003038   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00303a   e2fd     BC        0x3036                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set up the motion queue command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303c   5010     MOVF      0x10,0x0,0x0         FIFOPtr[gFIFOIn].m.sm.SEPower = StoredEngraverPower;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303e   daa2     RCALL     0x3584                                                                                          
003040   0e2c     MOVLW     0x2c                                                                                            
003042   d9b7     RCALL     0x33b2                                                                                          
003044   c1bf     MOVFF     0x1bf,0xfee                                                                                     
003046   ffee                                                                                                               
003048   c1c0     MOVFF     0x1c0,0xfed                                                                                     
00304a   ffed                                                                                                               
003584   db58     RCALL     0x3c36                                                                                          
003586   52ee     MOVF      0xee,0x1,0x0                                                                                    
003588   0012     RETURN    0x0                                                                                             
003914   51fa     MOVF      0xfa,0x0,0x1                                                                                    
003916   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
003918   6ee9     MOVWF     0xe9,0x0                                                                                        
00391a   51fb     MOVF      0xfb,0x0,0x1                                                                                    
00391c   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
00391e   6eea     MOVWF     0xea,0x0                                                                                        
003920   0012     RETURN    0x0                                                                                             
00304c   da05     RCALL     0x3458               FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00304e   52ee     MOVF      0xee,0x1,0x0                                                                                    
003050   52ee     MOVF      0xee,0x1,0x0                                                                                    
003052   6aee     CLRF      0xee,0x0                                                                                        
003054   6aee     CLRF      0xee,0x0                                                                                        
003056   6aee     CLRF      0xee,0x0                                                                                        
003058   6aee     CLRF      0xee,0x0                                                                                        
00305a   d9fe     RCALL     0x3458               FIFOPtr[gFIFOIn].m.sm.SEState = State;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00305c   52ee     MOVF      0xee,0x1,0x0                                                                                    
00305e   0e05     MOVLW     0x5                                                                                             
003060   d9a8     RCALL     0x33b2                                                                                          
003062   cfdf     MOVFF     0xfdf,0xfef                                                                                     
003064   ffef                                                                                                               
0033b2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0033b4   0e00     MOVLW     0x0                                                                                             
0033b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0033b8   0012     RETURN    0x0                                                                                             
003458   5010     MOVF      0x10,0x0,0x0                                                                                    
00345a   0d2f     MULLW     0x2f                                                                                            
00345c   ef8a     GOTO      0x3914                                                                                          
00345e   f01c                                                                                                               
003066   d9f8     RCALL     0x3458               FIFOPtr[gFIFOIn].Command = COMMAND_SE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003068   0e03     MOVLW     0x3                                                                                             
00306a   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00306c   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00306e   5013     MOVF      0x13,0x0,0x0         if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003070   5c10     SUBWF     0x10,0x0,0x0                                                                                    
003072   e301     BNC       0x3076                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003074   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003076   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003078   d991     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307a   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00307e   e202     BC        0x3084                                                                                          
003080   6ae1     CLRF      0xe1,0x0                                                                                        
003082   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003084   d184     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Do the work of the QM command so we can use this same code for QM and         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for QG commands.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003086   d985     RCALL     0x3392         UINT8 process_QM(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003088   0e04     MOVLW     0x4                                                                                             
00308a   da48     RCALL     0x351c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00308c   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00308e   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003090   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Create our output values to print back to the PC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003092   0101     MOVLB     0x1              if (CurrentCommand.m.sm.DelayCounter != 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003094   db78     RCALL     0x3786                                                                                          
003096   e002     BZ        0x309c                                                                                          
003786   5187     MOVF      0x87,0x0,0x1                                                                                    
003788   1188     IORWF     0x88,0x0,0x1                                                                                    
00378a   1189     IORWF     0x89,0x0,0x1                                                                                    
00378c   118a     IORWF     0x8a,0x0,0x1                                                                                    
00378e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003098   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309a   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309c   5185     MOVF      0x85,0x0,0x1     if (CurrentCommand.Command != COMMAND_NONE)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309e   e002     BZ        0x30a4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a0   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a2   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a4   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a6   e006     BZ        0x30b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a8   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030aa   6edf     MOVWF     0xdf,0x0                                                                                        
0030ac   6ef3     MOVWF     0xf3,0x0           FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ae   0e03     MOVLW     0x3                                                                                             
0030b0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0030b2   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b4   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[0] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b6   e005     BZ        0x30c2                                                                                          
0030b8   daf7     RCALL     0x36a8                                                                                          
0030ba   e003     BZ        0x30c2                                                                                          
0036a8   5194     MOVF      0x94,0x0,0x1                                                                                    
0036aa   1195     IORWF     0x95,0x0,0x1                                                                                    
0036ac   1196     IORWF     0x96,0x0,0x1                                                                                    
0036ae   1197     IORWF     0x97,0x0,0x1                                                                                    
0036b0   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030bc   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030be   0e01     MOVLW     0x1                                                                                             
0030c0   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c2   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[1] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c4   e004     BZ        0x30ce                                                                                          
0030c6   db5a     RCALL     0x377c                                                                                          
0030c8   e002     BZ        0x30ce                                                                                          
00377c   5198     MOVF      0x98,0x0,0x1                                                                                    
00377e   1199     IORWF     0x99,0x0,0x1                                                                                    
003780   119a     IORWF     0x9a,0x0,0x1                                                                                    
003782   119b     IORWF     0x9b,0x0,0x1                                                                                    
003784   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ca   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030cc   dbc2     RCALL     0x3852                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ce   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d0   0e03     MOVLW     0x3              return ((CommandExecuting << 3) | (Motor1Running << 2) | (Motor2Running << 1) | FIFOStatus); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0030d4   ffe6                                                                                                               
0030d6   0e02     MOVLW     0x2                                                                                             
0030d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0030da   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0030dc   6e4f     MOVWF     0x4f,0x0                                                                                        
0030de   0e01     MOVLW     0x1                                                                                             
0030e0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0030e2   0d04     MULLW     0x4                                                                                             
0030e4   cff3     MOVFF     0xff3,0x4e                                                                                      
0030e6   f04e                                                                                                               
0030e8   50df     MOVF      0xdf,0x0,0x0                                                                                    
0030ea   0d08     MULLW     0x8                                                                                             
0030ec   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0030ee   104e     IORWF     0x4e,0x0,0x0                                                                                    
0030f0   104f     IORWF     0x4f,0x0,0x0                                                                                    
0030f2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030f4   10e7     IORWF     0xe7,0x0,0x0                                                                                    
0030f6   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f8   0e04     MOVLW     0x4                                                                                             
0030fa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0030fc   e202     BC        0x3102                                                                                          
0030fe   6ae1     CLRF      0xe1,0x0                                                                                        
003100   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003102   6ee1     MOVWF     0xe1,0x0                                                                                        
003104   504e     MOVF      0x4e,0x0,0x0                                                                                    
003106   ef69     GOTO      0x3ad2                                                                                          
003108   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Motor - returns the current status of each motor                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM takes no parameters, so usage is just QM<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status><CR>                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <CommandExecutingStatus>: 0 if no 'motion command' is executing, > 0 if some 'motion command' is executing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor1Status>: 0 if motor 1 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor2Status>: 0 if motor 2 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of version 2.4.4, there is now a fourth parameter at the end of the reply packet. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status>,<FIFOStatus><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <FIFOStatus> is either 1 (if there are any commands in the FIFO) or 0 (if the FIFO is empty) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00310a   ec1d     CALL      0x3a3a,0x0     void parse_QM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00310c   f01d                                                                                                               
00351c   dbb5     RCALL     0x3c88                                                                                          
003a3a   dcab     RCALL     0x3392                                                                                          
003a3c   0e05     MOVLW     0x5                                                                                             
003a3e   ef8e     GOTO      0x351c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a40   f01a                                UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00351e   0e02     MOVLW     0x2              UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003520   6adb     CLRF      0xdb,0x0                                                                                        
003522   0012     RETURN    0x0                                                                                             
00310e   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003110   6adb     CLRF      0xdb,0x0                                                                                        
003112   dfb9     RCALL     0x3086           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003114   db42     RCALL     0x379a                                                                                          
00379a   6ee7     MOVWF     0xe7,0x0                                                                                        
00379c   0e04     MOVLW     0x4                                                                                             
00379e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0037a0   ffdb                                                                                                               
0037a2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003116   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003118   6ee6     MOVWF     0xe6,0x0                                                                                        
00311a   6ee6     MOVWF     0xe6,0x0                                                                                        
00311c   ecd7     CALL      0x4bae,0x0                                                                                      
00311e   f025                                                                                                               
003120   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003122   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003124   0e04     MOVLW     0x4              if (result & 0x01)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003126   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003128   da9c     RCALL     0x3662             FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003662   0e01     MOVLW     0x1                                                                                             
003664   6ef3     MOVWF     0xf3,0x0                                                                                        
003666   0e03     MOVLW     0x3                                                                                             
003668   cff3     MOVFF     0xff3,0xfdb                                                                                     
00366a   ffdb                                                                                                               
00366c   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00312a   0e04     MOVLW     0x4              if (result & 0x02)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00312c   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00312e   d002     BRA       0x3134                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003130   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003132   db8f     RCALL     0x3852                                                                                          
003852   6ef3     MOVWF     0xf3,0x0                                                                                        
003854   0e02     MOVLW     0x2                                                                                             
003856   cff3     MOVFF     0xff3,0xfdb                                                                                     
003858   ffdb                                                                                                               
00385a   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003134   0e04     MOVLW     0x4              if (result & 0x04)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003136   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
003138   d003     BRA       0x3140                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313a   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313c   0e01     MOVLW     0x1                                                                                             
00313e   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003140   0e04     MOVLW     0x4              if (result & 0x08)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003142   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
003144   d002     BRA       0x314a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003146   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003148   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314a   cfdf     MOVFF     0xfdf,0x4e       ebb_print_int(CommandExecuting);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314c   f04e                                                                                                               
00314e   6a4f     CLRF      0x4f,0x0                                                                                        
003150   d8e7     RCALL     0x3320                                                                                          
003152   d9f2     RCALL     0x3538           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003538   0e2c     MOVLW     0x2c                                                                                            
00353a   6ee6     MOVWF     0xe6,0x0                                                                                        
00353c   ec71     CALL      0x44e2,0x0                                                                                      
00353e   f022                                                                                                               
003540   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003542   0012     RETURN    0x0                                                                                             
003154   0e01     MOVLW     0x1              ebb_print_int(Motor1Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003156   ece0     CALL      0x39c0,0x0                                                                                      
003158   f01c                                                                                                               
00315a   d9ee     RCALL     0x3538           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00315c   0e02     MOVLW     0x2              ebb_print_int(Motor2Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00315e   ece0     CALL      0x39c0,0x0                                                                                      
003160   f01c                                                                                                               
003162   d9ea     RCALL     0x3538           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003164   0e03     MOVLW     0x3              ebb_print_int(FIFOStatus);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003166   ece0     CALL      0x39c0,0x0                                                                                      
003168   f01c                                                                                                               
003320   dad8     RCALL     0x38d2                                                                                          
003322   ef65     GOTO      0x38ca                                                                                          
003324   f01c                                                                                                               
0039c0   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0039c2   f04e                                                                                                               
0039c4   6a4f     CLRF      0x4f,0x0                                                                                        
0039c6   ef90     GOTO      0x3320                                                                                          
0039c8   f019                                                                                                               
00316a   d920     RCALL     0x33ac           print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00316c   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00316e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003170   e202     BC        0x3176                                                                                          
003172   6ae1     CLRF      0xe1,0x0                                                                                        
003174   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003176   d10b     BRA       0x338e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Step position - returns the current x and y global step positions   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS,<global_step1_position>,<global_step2_position><CR>                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step1_position>: signed 32 bit value, current global motor 1 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step2_position>: signed 32 bit value, current global motor 2 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003178   d90c     RCALL     0x3392         void parse_QS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00317a   0e08     MOVLW     0x8                                                                                             
00317c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT32 step1, step2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00317e   ecdc     CALL      0x39b8,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003180   f01c                                                                                                               
0039b8   0e01     MOVLW     0x1                                                                                             
0039ba   6ee6     MOVWF     0xe6,0x0                                                                                        
0039bc   ef93     GOTO      0x3326                                                                                          
0039be   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003182   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003184   c016     MOVFF     0x16,0xfdf       step1 = globalStepCounter1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003186   ffdf                                                                                                               
003188   0e01     MOVLW     0x1                                                                                             
00318a   c017     MOVFF     0x17,0xfdb                                                                                      
00318c   ffdb                                                                                                               
00318e   0e02     MOVLW     0x2                                                                                             
003190   c018     MOVFF     0x18,0xfdb                                                                                      
003192   ffdb                                                                                                               
003194   0e03     MOVLW     0x3                                                                                             
003196   c019     MOVFF     0x19,0xfdb                                                                                      
003198   ffdb                                                                                                               
00319a   0e04     MOVLW     0x4              step2 = globalStepCounter2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00319c   c01a     MOVFF     0x1a,0xfdb                                                                                      
00319e   ffdb                                                                                                               
0031a0   0e05     MOVLW     0x5                                                                                             
0031a2   c01b     MOVFF     0x1b,0xfdb                                                                                      
0031a4   ffdb                                                                                                               
0031a6   0e06     MOVLW     0x6                                                                                             
0031a8   c01c     MOVFF     0x1c,0xfdb                                                                                      
0031aa   ffdb                                                                                                               
0031ac   0e07     MOVLW     0x7                                                                                             
0031ae   c01d     MOVFF     0x1d,0xfdb                                                                                      
0031b0   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031b2   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031b4   cfd9     MOVFF     0xfd9,0xfe9      ebb_print_int(step1);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031b6   ffe9                                                                                                               
0031b8   d8c1     RCALL     0x333c                                                                                          
0031ba   d9be     RCALL     0x3538           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031bc   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(step2);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031be   0f04     ADDLW     0x4                                                                                             
0031c0   ec74     CALL      0x3ae8,0x0                                                                                      
0031c2   f01d                                                                                                               
00333c   cfda     MOVFF     0xfda,0xfea                                                                                     
00333e   ffea                                                                                                               
003340   cfee     MOVFF     0xfee,0xfe6                                                                                     
003342   ffe6                                                                                                               
003344   cfee     MOVFF     0xfee,0xfe6                                                                                     
003346   ffe6                                                                                                               
003348   cfee     MOVFF     0xfee,0xfe6                                                                                     
00334a   ffe6                                                                                                               
00334c   cfef     MOVFF     0xfef,0xfe6                                                                                     
00334e   ffe6                                                                                                               
003350   ef65     GOTO      0x38ca                                                                                          
003352   f01c                                                                                                               
003ae8   6ee9     MOVWF     0xe9,0x0                                                                                        
003aea   ef9e     GOTO      0x333c                                                                                          
003aec   f019                                                                                                               
0031c4   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031c6   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031c8   d8f1     RCALL     0x33ac             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033ac   0e02     MOVLW     0x2                                                                                             
0033ae   6ee6     MOVWF     0xe6,0x0                                                                                        
0033b0   d394     BRA       0x3ada                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031ca   d8e8     RCALL     0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031cc   0e08     MOVLW     0x8            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031ce   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0031d0   e202     BC        0x31d6                                                                                          
0031d2   6ae1     CLRF      0xe1,0x0                                                                                        
0031d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031d6   d0db     BRA       0x338e                                                                                          
00338e   6ee1     MOVWF     0xe1,0x0                                                                                        
003390   d3a0     BRA       0x3ad2                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform the actual clearing of the step counters (used from several places)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void clear_StepCounters(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031d8   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the global step counters                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031da   d9b4     RCALL     0x3544           globalStepCounter1 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             globalStepCounter2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear both step accumulators as well                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[0].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[1].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031dc   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031de   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Clear Stepper position - zeros out both step1 and step2 global positions  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note, as of 2.7.0 this also clears out the step accumulators as well          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_CS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031e0   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031e2   d8a1     RCALL     0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031e4   dff9     RCALL     0x31d8           clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031e6   efce     GOTO      0x339c           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0031e8   f019                                                                                                               
00339c   6ae6     CLRF      0xe6,0x0                                                                                        
00339e   d39d     BRA       0x3ada                                                                                          
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * FileName:        main.c                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if !defined (PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTEN = OFF          // WDT disabled (enabled by SWDTEN bit)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config PLLDIV = 2           // Divide by 2 (8 MHz internal oscillator) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config STVREN = ON          // stack overflow/underflow reset enabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config XINST = OFF          // Extended instruction set disabled       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CPUDIV = OSC1        // No CPU system clock divide              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CP0 = OFF            // Program memory is not code-protected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config OSC = INTOSCPLL      // Internal oscillator, PLL enabled, PLL used by USB, RA6 and RA7 for I/O use D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config T1DIG = ON           // Sec Osc clock source may be selected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config LPT1OSC = ON         // high power Timer1 mode                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config FCMEN = OFF          // Fail-Safe Clock Monitor disabled        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IESO = OFF           // Two-Speed Start-up disabled             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTPS = 32768        // 1:32768                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTOSC = INTOSCREF // DSWDT uses INTOSC/INTRC as clock        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config RTCOSC = T1OSCREF    // RTCC uses T1OSC/T1CKI as clock          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSBOREN = OFF        // Zero-Power BOR disabled in Deep Sleep   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTEN = OFF        // Disabled                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTPS = 8192       // 1:8,192 (8.5 seconds)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IOL1WAY = OFF        // IOLOCK bit can be set and cleared       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config MSSP7B_EN = MSK7     // 7 Bit address masking                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPFP = PAGE_1        // Write Protect Program Flash Page 0      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPEND = PAGE_0       // Start protection at page 0              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPCFG = OFF          // Write/Erase last page protect Disabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPDIS = OFF          // WPFP[5:0], WPEND, and WPCFG bits ignored  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           static void InitializeSystem(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBDeviceTasks(void);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** VECTOR REMAPPING ***********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the reset, high priority interrupt, and low priority interrupt                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // vectors.  However, the current Microchip USB bootloader                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // examples are intended to occupy addresses 0x00-0x7FF or                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // 0x00-0xFFF depending on which bootloader is used.  Therefore,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the bootloader code remaps these vectors to new locations                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // as indicated below.  This remapping is only necessary if you                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // wish to program the hex file generated from this project with                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the USB bootloader.  If no bootloader is used, edit the                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // usb_config.h file and comment out the following defines:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x1000                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x1008                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x1018                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x800                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x808                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x818                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x00                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x08                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS 0x18                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER) || defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void _reset (void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001000   ef38     GOTO      0x9070           _asm goto _startup _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001002   f048                                                                                                               
001004   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_High_ISR (void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001008   ef28     GOTO      0x1050            _asm goto high_ISR _endasm                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00100a   f008                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_Low_ISR (void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001018   ef69     GOTO      0x3cd2            _asm goto low_ISR _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00101a   f01e                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void main(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Main program entry point.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void main(void)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e0   ec28     CALL      0x4050,0x0       fill_stack();                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e2   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e4   d805     RCALL     0x88f0           InitializeSystem();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ee   d7fb     BRA       0x88e6           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               if(USB_BUS_SENSE && (USBGetDeviceState() == DETACHED_STATE))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBDeviceAttach();                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Check bus status and service USB interrupts.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e6   ec65     CALL      0x68ca,0x0         USBDeviceTasks(); // Interrupt or polling method.  If using polling, must call D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e8   f034                                                                                                               
                                                                 // this function periodically.  This function will take care D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // of processing and responding to SETUP transactions      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // (such as during the enumeration process when you first  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // plug in).  USB hosts require that USB devices should accept D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // and process SETUP packets in a timely fashion.  Therefore, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // when using polling, this function should be called      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // frequently (such as once about every 100 microseconds) at any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // time that a SETUP packet might reasonably be expected to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // be sent by the host to your device.  In most cases, the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // USBDeviceTasks() function does not take very long to    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // execute (~50 instruction cycles) before it returns.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application-specific tasks.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application related code may be added here, or in the ProcessIO() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ea   ec55     CALL      0x42aa,0x0         ProcessIO();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ec   f021                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        static void InitializeSystem(void)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  All required USB initialization routines are called from     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  here.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  User application initialization routine should also be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called from here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f0   cfd9     MOVFF     0xfd9,0xfe6    static void InitializeSystem(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f2   ffe6                                                                                                               
0088f4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0088f6   ffd9                                                                                                               
0088f8   0e02     MOVLW     0x2                                                                                             
0088fa   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             unsigned int pll_startup_counter; //Used for software delay while PLL is starting up D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ANCONx registers to control this, which is different from other devices which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ADCON1 register for this purpose.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088fc   010f     MOVLB     0xf              ANCON0 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088fe   6948     SETF      0x48,0x1                                                                                        
008900   6949     SETF      0x49,0x1         ANCON1 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008902   0e60     MOVLW     0x60             OSCCON = 0x60;                  // Clock switch to primary clock source.  May not have been running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008904   6ed3     MOVWF     0xd3,0x0                                                                                        
                                                                             // from this if the bootloader is called from the application firmware. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // On the PIC18F46J50 Family of USB microcontrollers, the PLL will not power up and be enabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // This allows the device to power up at a lower initial operating frequency, which can be D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // advantageous when powered from a source which is not guaranteed to be adequate for 48MHz D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // power up the PLL.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008906   8c9b     BSF       0x9b,0x6,0x0     OSCTUNEbits.PLLEN = 1;  // Enable the PLL and wait 2+ms until the PLL locks before enabling USB module D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008908   0e58     MOVLW     0x58             pll_startup_counter = 600;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00890a   6ede     MOVWF     0xde,0x0                                                                                        
00890c   0e02     MOVLW     0x2                                                                                             
00890e   6edd     MOVWF     0xdd,0x0                                                                                        
008910   cfdf     MOVFF     0xfdf,0x4e       while(pll_startup_counter--)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008912   f04e                                                                                                               
008914   06df     DECF      0xdf,0x1,0x0                                                                                    
008916   0e01     MOVLW     0x1                                                                                             
008918   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00891a   f04f                                                                                                               
00891c   e201     BC        0x8920                                                                                          
00891e   06db     DECF      0xdb,0x1,0x0                                                                                    
008920   504e     MOVF      0x4e,0x0,0x0                                                                                    
008922   104f     IORWF     0x4f,0x0,0x0                                                                                    
008924   e1f5     BNZ       0x8910                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Device switches over automatically to PLL output after PLL is locked and ready. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  The USB specifications require that USB peripheral devices must never source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current onto the Vbus pin.  Additionally, USB peripherals should not source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current on D+ or D- when the host/hub is not actively powering the Vbus line. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  When designing a self powered (as opposed to bus powered) USB peripheral   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  device, the firmware should make sure not to turn on the USB module and D+ D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or D- pull up resistor unless Vbus is actively powered.  Therefore, the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  firmware needs some means to detect when Vbus is being powered by the host. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can be used to detect when Vbus is high (host actively powering), or low   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  (host is shut down or otherwise not supplying power).  The USB firmware    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can then periodically poll this I/O pin to know when it is okay to turn on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  the USB module/D+/D- pull up resistor.  When designing a purely bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  peripheral device, it is not possible to source current on D+ or D- when the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  host is not actively providing power on Vbus. Therefore, implementing this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  bus sense feature is optional.  This firmware can be made to use this bus  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  HardwareProfile.h file.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008926   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  If the host PC sends a GetStatus (device) request, the firmware must respond D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  and let the host know if the USB peripheral device is currently bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or self powered.  See chapter 9 in the official USB specifications for details D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  regarding this request.  If the peripheral device is capable of being both D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  self and bus powered, it should not return a hard coded value for this request. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  Instead, firmware should check if it is currently self or bus powered, and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  respond accordingly.  If the hardware has been configured like demonstrated D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  is used for this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  to it in HardwareProfile.h.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_SELF_POWER_SENSE_IO)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             tris_self_power = INPUT_PIN;  // See HardwareProfile.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008928   ec9a     CALL      0x4134,0x0       UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00892a   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00892c   ecff     CALL      0x67fe,0x0       USBDeviceInit();  // usb_device.c.  Initializes USB module SFRs and firmware   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00892e   f033                                                                                                               
                                                               // variables to known states.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008930   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008932   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008934   e202     BC        0x893a                                                                                          
008936   6ae1     CLRF      0xe1,0x0                                                                                        
008938   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00893a   6ee1     MOVWF     0xe1,0x0                                                                                        
00893c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00893e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008940   ffd9                                                                                                               
008942   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ************** USB Callback Functions **************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // additional comments near the function.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSuspend(void)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSuspend(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Example power saving code.  Insert appropriate code here for the desired    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // application behavior.  If the microcontroller will be put to sleep, a       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // process similar to that shown below may be used:                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // ConfigureIOPinsForLowPower();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // SaveStateOfAllInterruptEnableBits();                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // DisableAllInterruptEnableBits();                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro(); // should enable at least USBActivityIF as a wake source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Sleep();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreStateOfAllPreviouslySavedInterruptEnableBits();  // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreIOPinsToNormal();                                // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // things to not work as intended.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(__C30__)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             USBSleepOnSuspend();                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008944   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The host may put USB peripheral devices in low power         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  suspend mode (by "sending" 3+ms of idle).  Once in suspend   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  mode, the host may wake the device back up by sending non-   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  idle state signaling.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This call back is invoked when a wakeup from USB suspend     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is detected.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBWakeFromSuspend(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // If clock switching or other power savings measures were taken when          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // executing the USBCBSuspend() function, now would be a good time to          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // switch back to normal full power run mode conditions.  The host allows      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // a few milliseconds of wakeup time, after which the device must be           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // fully back to normal, and capable of receiving and processing USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packets.  In order to do this, the USB module must receive proper           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // clocking (IE: 48MHz clock must be available to SIE for full speed USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008946   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  devices every 1 ms. This interrupt may be useful             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for isochronous pipes. End designers should                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  implement callback routine as necessary.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCB_SOF_Handler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UIRbits.SOFIF to 0 here.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008948   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBErrorHandler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The purpose of this callback is mainly for                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  debugging during development. Check UEIR to see              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  which error causes the interrupt.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBErrorHandler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UEIR to 0 here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Typically, user firmware does not need to do anything special               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // if a USB error occurs.  For example, if the host sends an OUT               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packet to your device, but the packet gets corrupted (ex:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // because of a bad connection, or the user unplugs the                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // USB cable during the transmission) this will typically set                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // one or more USB error interrupt flags.  Nothing specific                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // needs to be done however, since the SIE will automatically                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send a "NAK" packet to the host.  In response to this, the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // host will normally retry to send the packet again, and no                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // data loss occurs.  The system will typically recover                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // automatically, without the need for application firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // intervention.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Nevertheless, this callback function is provided, such as                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // for debugging purposes.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00894a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBCheckOtherReq(void)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        When SETUP packets arrive from the host, some                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware must process the request and respond                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  appropriately to fulfill the request.  Some of               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the SETUP packets will be for standard                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB "chapter 9" (as in, fulfilling chapter 9 of              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the official USB specifications) requests, while             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  others may be specific to the USB device class               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  that is being implemented.  For example, a HID               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  class device needs to be able to respond to                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "GET REPORT" type of requests.  This                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is not a standard USB chapter 9 request, and                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  therefore not handled by usb_device.c.  Instead              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  this request should be handled by class specific             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware, such as that contained in usb_function_hid.c.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBCheckOtherReq(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00894c   ef07     GOTO      0x7e0e           USBCheckCDCRequest();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00894e   f03f                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called when a SETUP, bRequest: SET_DESCRIPTOR request        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  arrives.  Typically SET_DESCRIPTOR requests are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  not used in most applications, and it is                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  optional to support this type of request.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBStdSetDscHandler(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Must claim session ownership if supporting this request                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008950   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBInitEP(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called when the device becomes              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  initialized, which occurs after the host sends a             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  SET_CONFIGURATION (wValue not = 0) request.  This            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  callback function should initialize the endpoints            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for the device's usage according to the current              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  configuration.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBInitEP(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008952   ef55     GOTO      0x7eaa           CDCInitEP();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008954   f03f                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSendResume(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB specifications allow some types of USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  peripheral devices to wake up a host PC (such                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as if it is in a low power suspend to RAM state).            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This can be a very useful feature in some                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB applications, such as an Infrared remote                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  control receiver.  If a user presses the "power"             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  button on a remote control, it is nice that the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  IR receiver can detect this signaling, and then              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  send a USB "command" to the PC to wake up.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The USBCBSendResume() "callback" function is used            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to send this special USB signaling which wakes               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  up the PC.  This function may be called by                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  application firmware to wake up the PC.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  function will only be able to wake up the host if            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  all of the below are true:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  1.  The USB driver used on the host PC supports              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the remote wakeup capability.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  2.  The USB configuration descriptor indicates               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the device is remote wakeup capable in the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      bmAttributes field.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  3.  The USB host PC is currently sleeping,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      and has previously sent your device a SET                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      FEATURE setup packet which "armed" the                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      remote wakeup capability.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  If the host has not armed the device to perform remote wakeup, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  then this function will return without actually performing a D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  remote wakeup sequence.  This is the required behavior,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as a USB device that has not been armed to perform remote    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  wakeup must not drive remote wakeup signaling onto the bus;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  doing so will cause USB compliance testing failure.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This callback should send a RESUME signal that               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  has the period of 1-15ms.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            This function does nothing and returns quickly, if the USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus and host are not in a suspended condition, or are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is safe to optionally call this function regularly, ex:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  anytime application stimulus occurs, as the function will    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  have no effect, until the bus really is in a state ready     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to accept remote wakeup.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  When this function executes, it may perform clock switching, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  depending upon the application specific code in              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus will no longer be suspended by the time this function    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  returns.  Therefore, the USB module will need to be ready    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to receive traffic from the host.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The modifiable section in this routine may be changed        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to meet the application needs. Current implementation        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  temporary blocks other functions from executing for a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  period of ~3-15 ms depending on the core frequency.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "The remote wakeup device must hold the resume signaling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for at least 1 ms but for no more than 15 ms."               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The idea here is to use a delay counter loop, using a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  common value that would work over a wide range of core       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  frequencies.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  That value selected is 1800. See table below:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      48              12          1.05                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                       4              1           12.6                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  * These timing could be incorrect when using code            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    optimization or extended instruction mode,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    or when having other interrupts enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    and verify the actual signal on an oscilloscope.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSendResume(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             static WORD delay_count;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // First verify that the host has armed us to perform remote wakeup.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // It does this by sending a SET_FEATURE request to enable remote wakeup,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // usually just before the host goes to standby mode (note: it will only       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send this SET_FEATURE request if the configuration descriptor declares      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // the device as remote wakeup capable, AND, if the feature is enabled         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // on the host (ex: on Windows based hosts, in the device manager              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // properties page for the USB device, power management tab, the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // "Allow this device to bring the computer out of standby." check box         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // should be checked).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008956   0105     MOVLB     0x5              if (USBGetRemoteWakeupStatus() == TRUE)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008958   05df     DECF      0xdf,0x0,0x1                                                                                    
00895a   e11e     BNZ       0x8998                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Verify that the USB bus is in fact suspended, before we send              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // remote wakeup signaling.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00895c   0105     MOVLB     0x5                if (USBIsBusSuspended() == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00895e   05e0     DECF      0xe0,0x0,0x1                                                                                    
008960   e11b     BNZ       0x8998                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBMaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Clock switch to settings consistent with normal USB operation.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008962   dff1     RCALL     0x8946               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008964   9265     BCF       0x65,0x1,0x0         USBSuspendControl = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008966   0105     MOVLB     0x5                  USBBusIsSuspended = FALSE;  // So we don't execute this code again,        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008968   6be0     CLRF      0xe0,0x1                                                                                        
                                                                             // until a new suspend condition is detected.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Section 7.1.7.7 of the USB 2.0 specifications indicates a USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // device must continuously see 5ms+ of idle on the bus, before it sends   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // remote wakeup signaling.  One way to be certain that this parameter     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // gets met, is to add a 2ms+ blocking delay here (2ms plus at             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // least 3ms from bus idle to USBIsBusSuspended() == TRUE, yields          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 5ms+ total delay since start of idle).                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00896a   0102     MOVLB     0x2                  delay_count = 3600U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00896c   0e10     MOVLW     0x10                                                                                            
00896e   6ffe     MOVWF     0xfe,0x1                                                                                        
008970   0e0e     MOVLW     0xe                                                                                             
008972   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008974   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008976   0e00     MOVLW     0x0                                                                                             
008978   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
00897a   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00897c   11ff     IORWF     0xff,0x0,0x1                                                                                    
00897e   e1fa     BNZ       0x8974                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Now drive the resume K-state signaling onto the USB bus.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008980   8465     BSF       0x65,0x2,0x0         USBResumeControl = 1;       // Start RESUME signaling                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008982   0e08     MOVLW     0x8                  delay_count = 1800U;        // Set RESUME line for 1-13 ms                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008984   6ffe     MOVWF     0xfe,0x1                                                                                        
008986   0e07     MOVLW     0x7                                                                                             
008988   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00898a   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00898c   0e00     MOVLW     0x0                                                                                             
00898e   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008990   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008992   11ff     IORWF     0xff,0x0,0x1                                                                                    
008994   e1fa     BNZ       0x898a                                                                                          
008996   9465     BCF       0x65,0x2,0x0         USBResumeControl = 0;       // Finished driving resume signaling           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBUnmaskInterrupts();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008998   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBEP0DataReceived(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    ENABLE_EP0_DATA_RECEIVED_CALLBACK must be                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  defined already (in usb_config.h)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called whenever a EP0 data                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  packet is received.  This gives the user (and                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  thus the various class examples a way to get                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  data that is received via the control endpoint.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This function needs to be used in conjunction                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  with the USBCBCheckOtherReq() function since                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the USBCBCheckOtherReq() function is the application's       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  method for getting the initial control transfer              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  before the data arrives.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(ENABLE_EP0_DATA_RECEIVED_CALLBACK)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBEP0DataReceived(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           USB_EVENT event - the type of event                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  void *pdata - pointer to the event data                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  WORD size - size of the event data                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called from the USB stack to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  notify a user application that a USB event                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  occurred.  This callback is in interrupt context             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  when the USB_INTERRUPT option is selected.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00899a   cfd9     MOVFF     0xfd9,0xfe6    BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00899c   ffe6                                                                                                               
00899e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0089a0   ffd9                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0089a2   0efd     MOVLW     0xfd             switch(event)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0089a4   cfdb     MOVFF     0xfdb,0x42                                                                                      
0089a6   f042                                                                                                               
0089a8   0efe     MOVLW     0xfe                                                                                            
0089aa   cfdb     MOVFF     0xfdb,0x43                                                                                      
0089ac   f043                                                                                                               
0089ae   0e05     MOVLW     0x5                                                                                             
0089b0   1842     XORWF     0x42,0x0,0x0                                                                                    
0089b2   e101     BNZ       0x89b6                                                                                          
0089b4   5043     MOVF      0x43,0x0,0x0                                                                                    
0089b6   e036     BZ        0x8a24                                                                                          
0089b8   68e8     SETF      0xe8,0x0                                                                                        
0089ba   1842     XORWF     0x42,0x0,0x0                                                                                    
0089bc   e102     BNZ       0x89c2                                                                                          
0089be   0e7f     MOVLW     0x7f                                                                                            
0089c0   1843     XORWF     0x43,0x0,0x0                                                                                    
0089c2   e02f     BZ        0x8a22                                                                                          
0089c4   0e03     MOVLW     0x3                                                                                             
0089c6   1842     XORWF     0x42,0x0,0x0                                                                                    
0089c8   e101     BNZ       0x89cc                                                                                          
0089ca   5043     MOVF      0x43,0x0,0x0                                                                                    
0089cc   e028     BZ        0x8a1e                                                                                          
0089ce   0e02     MOVLW     0x2                                                                                             
0089d0   1842     XORWF     0x42,0x0,0x0                                                                                    
0089d2   e101     BNZ       0x89d6                                                                                          
0089d4   5043     MOVF      0x43,0x0,0x0                                                                                    
0089d6   e021     BZ        0x8a1a                                                                                          
0089d8   0e01     MOVLW     0x1                                                                                             
0089da   1842     XORWF     0x42,0x0,0x0                                                                                    
0089dc   e101     BNZ       0x89e0                                                                                          
0089de   5043     MOVF      0x43,0x0,0x0                                                                                    
0089e0   e01a     BZ        0x8a16                                                                                          
0089e2   0e74     MOVLW     0x74                                                                                            
0089e4   1842     XORWF     0x42,0x0,0x0                                                                                    
0089e6   e101     BNZ       0x89ea                                                                                          
0089e8   5043     MOVF      0x43,0x0,0x0                                                                                    
0089ea   e013     BZ        0x8a12                                                                                          
0089ec   0e75     MOVLW     0x75                                                                                            
0089ee   1842     XORWF     0x42,0x0,0x0                                                                                    
0089f0   e101     BNZ       0x89f4                                                                                          
0089f2   5043     MOVF      0x43,0x0,0x0                                                                                    
0089f4   e00c     BZ        0x8a0e                                                                                          
0089f6   0e73     MOVLW     0x73                                                                                            
0089f8   1842     XORWF     0x42,0x0,0x0                                                                                    
0089fa   e101     BNZ       0x89fe                                                                                          
0089fc   5043     MOVF      0x43,0x0,0x0                                                                                    
0089fe   e005     BZ        0x8a0a                                                                                          
008a00   0e72     MOVLW     0x72                                                                                            
008a02   1842     XORWF     0x42,0x0,0x0                                                                                    
008a04   e10f     BNZ       0x8a24                                                                                          
008a06   5043     MOVF      0x43,0x0,0x0                                                                                    
008a08   d00d     BRA       0x8a24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER:                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SOF:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a0a   df9e     RCALL     0x8948               USBCB_SOF_Handler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a0c   d00b     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SUSPEND:                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a0e   df9a     RCALL     0x8944               USBCBSuspend();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a10   d009     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_RESUME:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a12   df99     RCALL     0x8946               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a14   d007     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_CONFIGURED:                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a16   df9d     RCALL     0x8952               USBCBInitEP();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a18   d005     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SET_DESCRIPTOR:                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a1a   df9a     RCALL     0x8950               USBCBStdSetDscHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a1c   d003     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_EP0_REQUEST:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a1e   df96     RCALL     0x894c               USBCBCheckOtherReq();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a20   d001     BRA       0x8a24               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_BUS_ERROR:                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a22   df93     RCALL     0x894a               USBCBErrorHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER_TERMINATED:                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // FEATURE (endpoint halt) request on an application endpoint which was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // previously armed (UOWN was = 1).  Here would be a good place to:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 1.  Determine which endpoint the transaction that just got terminated was  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     on, by checking the handle value in the *pdata.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 2.  Re-arm the endpoint if desired (typically would be the case for OUT  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     endpoints).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a24   0e01     MOVLW     0x1              return TRUE;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a26   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a28   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008a2a   ffd9                                                                                                               
008a2c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** EOF main.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * FileName:        RCServo2.c                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * This module implements the RC Servo outputs, method 2                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Started by Brian Schmalz (www.schmalzhaus.com) on 8/22/09                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * For the Egg Bot Firmware                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * There are several parts of this file. It is written in a modular              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * way to ease incorporation into different UBW (www.schmalzhaus.com/UBW)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * hardware builds. Because we don't want to have any function calls in the ISR, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * the part of the ISR that this module contributes is implemented as a big      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * macro. There is a section for the API calls (for other modules) to turn       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on/off RC method 2 and to set values and configure outputs. Then there is the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * user command section that handles parsing user input. This module (the .c and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * .h files) should be able to be dropped into any UBW firmware that is 'module  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * aware' with minimal changes. There is also an init section that gets called   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on bootup.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MODULE THEORY                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The idea is that we want to generate between zero and eight RC servo outputs.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * We want a maximum of resolution in their timing, and a minimum of CPU and ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * overhead. We want maximum flexibility with respect to which pins receive the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * output pulses. This 'method 2' only works with PICs that have the PPS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (Peripheral Pin Select) hardware. Using this method, we will be able to       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * generate servo output pulses (positive going) on up to eight output pins      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (selectable using PPS), with times from 0ms to 3ms, at a repetition rate of   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 24ms. The resolution of the pulse will be 83ns (Fosc/4). So a value of 0 will D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * represent 0ms pulse, and 36000 will represent 3ms.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * On UBW firmware, TIMER1 generates an interrupt every 1ms. This interrupt is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * used to schedule the four RC servo outputs. Every 3 fires of this ISR, we     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * check to see if we need to set the next RC output pin. If so, we select the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper pin using the PPS, set it high, record what state we are now in, and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * then set up TMR3 and ECCP2 to fire after X 83ns ticks of TMR3. ECCP2 will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * wait until TMR3 fires, then will set the output pin low. This method allows   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * us to choose any of the PPS pins as outputs, and only requires CPU time every D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3 ms to start off the pulses.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * As of version 2.2.0, we have changed the way that the S2 command works.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Under the hood, ALL servo commands are now handled by the motion engine       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * ISR. This means that the S2 command now simply fills in a data structure      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * and puts it in the motion queue. The motion engine ISR pulls it off the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * queue and then 'executes' the command. (All it does there is transfer the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper values to the data structures that the actual RC servo ISR uses to     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * update the various output pins for each servo pulse.) But the key here is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * that the S2 command no longer takes effect immediately - RC servo commands    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * are now handled in the same way that SM commands are handled. Which means     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * they can be queued up and delays added, etc.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The other effect of this change is that the normal SP pen up/pen down         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * commands are now just normal S2 commands in disguise.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "GenericTypeDefs.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "Compiler.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #pragma udata RC2Servo_globals = 0x060                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Counts from 0 to gRC2SlotMS                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2msCounter;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Current RC servo position in 83uS units for each channel                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Value[MAX_RC2_SERVOS];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn pin associated with this channel                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2RPn[MAX_RC2_SERVOS];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Target position for this channel in 83uS units                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Target[MAX_RC2_SERVOS];                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Amount of change from Value to Target each 24ms                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Rate[MAX_RC2_SERVOS];                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Ptr;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many RC servos can we currently simultaneously service (default 8)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Slots;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many 1ms ISR ticks before switching to the next channel (default 3)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2SlotMS;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Pointer into PPS output registers                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           far ram UINT8 * gRC2RPORPtr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // These are the min, max, up rate, down rate, and RPn for the Pen Servo         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // They can be changed by using SC,x commands.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_max;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_min;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_up;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_down;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  g_servo2_RPn;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The idea with RCServo2 is to use the ECCP2 module and timer 3.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We divide time into 24ms periods. Inside each 24ms period, we                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           can fire up to 8 RC servo's pulses (slots). Each pulse can be between            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           0ms and 3ms long, controlled entirely by the ECCP2 hardware,                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           so there is no jitter in the high time of the pulse.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We want to go from 0ms to 3ms so we can accommodate RC servos                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           who need really short or really long pulses to reach the                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           physical extremes of its motion.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           This RCServo2 method will only be available on the 18F45J50 based                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           EggBotBoards, because it requires the PPS (peripheral pin select)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           facility to be possible.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Timer3 will be configured to clock at Fosc/4 = 12MHz.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           At this rate, a 1ms high pulse would need a CCPR2 value of 12,000.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Variables:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2msCounter - counts from 0 to 2, in ms, to know when to fire each servo       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Ptr - index into gRC2Value and gRC2Pin arrays = next RC servo to fire        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Value - uint array of values (times) to load into Timer3                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Pin - what PPS pin is affected by this RC servo slot.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2RPORPtr - a RAM pointer into the RPORxx register                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           If a slot's gRC2Value[] = 0, then that slot is disabled and its pin will be low. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The value in gRC2Pin is the PPS RPx pin number that this slot controls           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Module Init Function                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Put a call to this function inside the UserInit() call in UBW.c               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00753c   d9f6     RCALL     0x792a         void RCServo2_Init(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00753e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007540   0100     MOVLB     0x0              gRC2msCounter = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007542   6b60     CLRF      0x60,0x1                                                                                        
007544   6b99     CLRF      0x99,0x1         gRC2Ptr = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007546   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007548   0e08     MOVLW     0x8                                                                                             
00754a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00754c   e213     BC        0x7574                                                                                          
007570   2adf     INCF      0xdf,0x1,0x0                                                                                    
007572   d7ea     BRA       0x7548                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00754e   d9e7     RCALL     0x791e             gRC2Value[i] = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007550   0e61     MOVLW     0x61                                                                                            
007552   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007554   0e00     MOVLW     0x0                                                                                             
007556   da12     RCALL     0x797c                                                                                          
007558   d9c8     RCALL     0x78ea             gRC2RPn[i] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00755a   6aef     CLRF      0xef,0x0                                                                                        
00755c   d9e0     RCALL     0x791e             gRC2Target[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00755e   0e79     MOVLW     0x79                                                                                            
007560   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007562   0e00     MOVLW     0x0                                                                                             
007564   da0b     RCALL     0x797c                                                                                          
007566   d9db     RCALL     0x791e             gRC2Rate[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007568   0e89     MOVLW     0x89                                                                                            
00756a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00756c   0e00     MOVLW     0x0                                                                                             
00756e   da06     RCALL     0x797c                                                                                          
00791e   6aea     CLRF      0xea,0x0                                                                                        
007920   34df     RLCF      0xdf,0x0,0x0                                                                                    
007922   0bfe     ANDLW     0xfe                                                                                            
007924   36ea     RLCF      0xea,0x1,0x0                                                                                    
007926   6ee9     MOVWF     0xe9,0x0                                                                                        
007928   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Initialize the RPOR pointer                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007574   0100     MOVLB     0x0              gRC2RPORPtr = &RPOR0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007576   0ec6     MOVLW     0xc6                                                                                            
007578   6f9c     MOVWF     0x9c,0x1                                                                                        
00757a   0e0e     MOVLW     0xe                                                                                             
00757c   6f9d     MOVWF     0x9d,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Set up TIMER3                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00757e   0e3f     MOVLW     0x3f             T3CONbits.TMR3CS = 0b00;        // Use Fosc/4 as input                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007580   1479     ANDWF     0x79,0x0,0x0                                                                                    
007582   0900     IORLW     0x0                                                                                             
007584   6e79     MOVWF     0x79,0x0                                                                                        
007586   0ecf     MOVLW     0xcf             T3CONbits.T3CKPS = 0b00;        // Prescale is 1:1                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007588   1479     ANDWF     0x79,0x0,0x0                                                                                    
00758a   0900     IORLW     0x0                                                                                             
00758c   6e79     MOVWF     0x79,0x0                                                                                        
00758e   8279     BSF       0x79,0x1,0x0     T3CONbits.RD16 = 1;             // Enable 16 bit mode                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007590   6a7b     CLRF      0x7b,0x0         TMR3H = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007592   6a7a     CLRF      0x7a,0x0         TMR3L = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007594   9079     BCF       0x79,0x0,0x0     T3CONbits.TMR3ON = 0;           // Keep timer off for now                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007596   010f     MOVLB     0xf              TCLKCONbits.T3CCP1 = 1;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007598   8152     BSF       0x52,0x0,0x1                                                                                    
00759a   9352     BCF       0x52,0x1,0x1     TCLKCONbits.T3CCP2 = 0;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00759c   0ef0     MOVLW     0xf0             CCP2CONbits.CCP2M = 0b1001;     // Set EECP2 as compare, clear output on match D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00759e   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
0075a0   0909     IORLW     0x9                                                                                             
0075a2   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 8 slots because that is good for RC servos (3ms * 8 = 24ms) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075a4   0100     MOVLB     0x0              gRC2Slots = INITAL_RC2_SLOTS;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075a6   0e08     MOVLW     0x8                                                                                             
0075a8   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 3ms slot duration because it's good for RC servos         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075aa   0e03     MOVLW     0x3              gRC2SlotMS = 3;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075ac   6f9b     MOVWF     0x9b,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Start with some reasonable default values for min and max                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075ae   0ec6     MOVLW     0xc6             g_servo2_max = 15302;           // max = down (SC,5,15302)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075b0   6f9e     MOVWF     0x9e,0x1                                                                                        
0075b2   0e3b     MOVLW     0x3b                                                                                            
0075b4   6f9f     MOVWF     0x9f,0x1                                                                                        
0075b6   0e25     MOVLW     0x25             g_servo2_min = 22565;           // min = up (SC,4,22565)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075b8   6fa0     MOVWF     0xa0,0x1                                                                                        
0075ba   0e58     MOVLW     0x58                                                                                            
0075bc   6fa1     MOVWF     0xa1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075be   0e04     MOVLW     0x4              g_servo2_RPn = DEFAULT_EBB_SERVO_RPN;   // Always start out with RP4 as the output (just for this test version of code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075c0   6fa6     MOVWF     0xa6,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075c2   0e90     MOVLW     0x90             g_servo2_rate_up = 400;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075c4   6fa2     MOVWF     0xa2,0x1                                                                                        
0075c6   0e01     MOVLW     0x1                                                                                             
0075c8   6fa3     MOVWF     0xa3,0x1                                                                                        
0075ca   0e90     MOVLW     0x90             g_servo2_rate_down = 400;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075cc   6fa4     MOVWF     0xa4,0x1                                                                                        
0075ce   0e01     MOVLW     0x1                                                                                             
0075d0   6fa5     MOVWF     0xa5,0x1                                                                                        
0075d2   0e00     MOVLW     0x0              process_SP(PEN_UP, 0);          // Start servo up                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0075d6   6ae6     CLRF      0xe6,0x0                                                                                        
0075d8   0e01     MOVLW     0x1                                                                                             
0075da   6ee6     MOVWF     0xe6,0x0                                                                                        
0075dc   ec06     CALL      0x2c0c,0x0                                                                                      
0075de   f016                                                                                                               
0075e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0075e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0075e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0075e6   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075e8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075ea   d1a4     BRA       0x7934                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Return the current channel that is associated with the PPS output pin         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn. If there is no channel yet assigned for this RPn, then pick the          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // next available one. If there are none available, then return channel 0        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // (which is considered an error.)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Remember, channels are from 1 through 8 (Normally - can be increased with     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // SC,8 command). Channel 0 is the 'error' channel.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075ec   d99e     RCALL     0x792a         UINT8 RCServo2_get_channel_from_RPn(UINT8 RPn)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075ee   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00792a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00792c   ffe6                                                                                                               
00792e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007930   ffd9                                                                                                               
007932   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Search through the existing channels, and see if our RPn is there           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075f0   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075f2   0e08     MOVLW     0x8                                                                                             
0075f4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0075f6   e209     BC        0x760a                                                                                          
007606   2adf     INCF      0xdf,0x1,0x0                                                                                    
007608   d7f4     BRA       0x75f2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075f8   d978     RCALL     0x78ea             if (gRC2RPn[i] == RPn)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0075fa   cfef     MOVFF     0xfef,0x4e                                                                                      
0075fc   f04e                                                                                                               
0075fe   0efe     MOVLW     0xfe                                                                                            
007600   50db     MOVF      0xdb,0x0,0x0                                                                                    
007602   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007604   e009     BZ        0x7618                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found it! Return the channel number                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 return (i + 1);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We have not found it, so we need to allocate a new channel for this RPn     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00760a   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00760c   0e08     MOVLW     0x8                                                                                             
00760e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007610   e207     BC        0x7620                                                                                          
00761c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00761e   d7f6     BRA       0x760c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007612   d96b     RCALL     0x78ea             if (gRC2RPn[i] == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007614   50ef     MOVF      0xef,0x0,0x0                                                                                    
007616   e102     BNZ       0x761c                                                                                          
0078ea   50df     MOVF      0xdf,0x0,0x0                                                                                    
0078ec   d057     BRA       0x799c                                                                                          
00799c   6aea     CLRF      0xea,0x0                                                                                        
00799e   0f71     ADDLW     0x71                                                                                            
0079a0   6ee9     MOVWF     0xe9,0x0                                                                                        
0079a2   0e00     MOVLW     0x0                                                                                             
0079a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0079a6   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found one that's free! Return the channel number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007618   28df     INCF      0xdf,0x0,0x0         return (i + 1u);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00761a   d003     BRA       0x7622                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We do not have room for another channel, so return an error                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007620   0e00     MOVLW     0x0              return 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007622   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007624   d187     BRA       0x7934                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Servo method 2 enable command                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // S2,<duration>,<output_pin>,<rate>,<delay><CR>                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  will set RC output <channel> for <duration> on output pin <output_pin>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <duration> can be 0 (output off) to 32,000 (3ms on time)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (a 0 for <duration> de-allocates the channel for this output_pin)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <output_pin> is an RPn pin number (0 through 24)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <rate> is the rate to change (optional, defaults to 0 = instant)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <delay> is the number of milliseconds to delay the start of the next command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (optional, defaults to 0 = instant)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007626   d981     RCALL     0x792a         void RCServo2_S2_command (void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007628   0e07     MOVLW     0x7                                                                                             
00762a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00762c   6ade     CLRF      0xde,0x0         UINT16 Duration = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00762e   6add     CLRF      0xdd,0x0                                                                                        
007630   0e02     MOVLW     0x2              UINT8 Pin = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007632   6adb     CLRF      0xdb,0x0                                                                                        
007634   0e03     MOVLW     0x3              UINT16 Rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007636   6adb     CLRF      0xdb,0x0                                                                                        
007638   0e04     MOVLW     0x4                                                                                             
00763a   6adb     CLRF      0xdb,0x0                                                                                        
00763c   0e05     MOVLW     0x5              UINT16 Delay = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00763e   6adb     CLRF      0xdb,0x0                                                                                        
007640   0e06     MOVLW     0x6                                                                                             
007642   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007644   0e01     MOVLW     0x1              extract_number (kUINT, &Duration, kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007646   6ee6     MOVWF     0xe6,0x0                                                                                        
007648   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00764a   ffe6                                                                                                               
00764c   cfda     MOVFF     0xfda,0xfe6                                                                                     
00764e   ffe6                                                                                                               
007650   0e03     MOVLW     0x3                                                                                             
007652   d939     RCALL     0x78c6                                                                                          
007654   0f02     ADDLW     0x2              extract_number (kUCHAR, &Pin, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007656   d97a     RCALL     0x794c                                                                                          
007658   0e01     MOVLW     0x1                                                                                             
00765a   d935     RCALL     0x78c6                                                                                          
00765c   0f03     ADDLW     0x3              extract_number (kUINT, &Rate, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00765e   d976     RCALL     0x794c                                                                                          
007660   0e03     MOVLW     0x3                                                                                             
007662   d931     RCALL     0x78c6                                                                                          
0078c6   d852     RCALL     0x796c                                                                                          
007664   0f05     ADDLW     0x5              extract_number (kUINT, &Delay, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007666   d972     RCALL     0x794c                                                                                          
007668   0e03     MOVLW     0x3                                                                                             
00766a   d980     RCALL     0x796c                                                                                          
0078c8   0e01     MOVLW     0x1                                                                                             
0078ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0078cc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0078ce   0012     RETURN    0x0                                                                                             
00794c   6ee6     MOVWF     0xe6,0x0                                                                                        
00794e   0e00     MOVLW     0x0                                                                                             
007950   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007952   6ee6     MOVWF     0xe6,0x0                                                                                        
007954   0012     RETURN    0x0                                                                                             
00796c   6ee6     MOVWF     0xe6,0x0                                                                                        
00796e   ec07     CALL      0x5e0e,0x0                                                                                      
007970   f02f                                                                                                               
007972   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007974   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007976   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007978   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00797a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00766c   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00766e   6ae6     CLRF      0xe6,0x0                                                                                        
007670   ecd7     CALL      0x4bae,0x0                                                                                      
007672   f025                                                                                                               
007674   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007676   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007678   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00767a   5184     MOVF      0x84,0x0,0x1                                                                                    
00767c   e124     BNZ       0x76c6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00767e   0e02     MOVLW     0x2              if (Pin > 24u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007680   50db     MOVF      0xdb,0x0,0x0                                                                                    
007682   0818     SUBLW     0x18                                                                                            
007684   e202     BC        0x768a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007686   8d84     BSF       0x84,0x6,0x1       bitset (error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007688   d01e     BRA       0x76c6             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00768a   0e01     MOVLW     0x1              RCServo2_Move(Duration, Pin, Rate, Delay, TRUE);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00768c   6ee6     MOVWF     0xe6,0x0                                                                                        
00768e   0e05     MOVLW     0x5                                                                                             
007690   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007692   ffe6                                                                                                               
007694   0e06     MOVLW     0x6                                                                                             
007696   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007698   ffe6                                                                                                               
00769a   0e03     MOVLW     0x3                                                                                             
00769c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00769e   ffe6                                                                                                               
0076a0   0e04     MOVLW     0x4                                                                                             
0076a2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0076a4   ffe6                                                                                                               
0076a6   0e02     MOVLW     0x2                                                                                             
0076a8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0076aa   ffe6                                                                                                               
0076ac   cfde     MOVFF     0xfde,0xfe6                                                                                     
0076ae   ffe6                                                                                                               
0076b0   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0076b2   ffe6                                                                                                               
0076b4   d80f     RCALL     0x76d4                                                                                          
0076b6   6e4e     MOVWF     0x4e,0x0                                                                                        
0076b8   0e08     MOVLW     0x8                                                                                             
0076ba   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0076bc   504e     MOVF      0x4e,0x0,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076be   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076c0   ecf5     CALL      0x4bea,0x0                                                                                      
0076c2   f025                                                                                                               
0076c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0076c6   0e07     MOVLW     0x7            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076c8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0076ca   e202     BC        0x76d0                                                                                          
0076cc   6ae1     CLRF      0xe1,0x0                                                                                        
0076ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0076d0   6ee1     MOVWF     0xe1,0x0                                                                                        
0076d2   d130     BRA       0x7934                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Function to set up an RC Servo move. Takes Duration, RPn, and Rate            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // and adds them to the motion control FIFO.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Position> is the new target position for the servo, in 83uS units. So        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      32,000 is 3 ms. To turn off a servo output, use 0 for Duration.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <RPn> is the PPS RP# number for the pin that you want to use as the output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (See schematic for a list of each RPn number for each GPIO pin.)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Rate> is how quickly to move to the new position. Use 0 for instant change.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      Unit is 83uS of pulse width change every 24 ms of time.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Delay> is how many milliseconds after this command is executed before the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      next command in the motion control FIFO is executed. 0 will run the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      command immediately.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <AddToFIFO> Set to TRUE to add move to FIFO or FALSE to have move take effect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      immediately. If FALSE, <Delay> is ignored.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // This function will allocate a new channel for RPn if the pin is not already   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // assigned to a channel. It will return the channel number used when it         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // returns. If you send in 0 for Duration, the channel for RPn will be de-       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // allocated.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Another thing we do here is to make sure that the proper pin is an output,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // And, if this is the first time we're starting up the channel, make sure that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // it starts out low.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076d4   d92a     RCALL     0x792a         UINT8 RCServo2_Move(                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076d6   0e02     MOVLW     0x2                                                                                             
0076d8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             UINT16 Position,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8  RPn,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Rate,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Delay,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             BOOL AddToFIFO)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 Channel;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Get the channel that's already assigned to the RPn, or assign a new one     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // if possible. If this returns zero, then do nothing as we're out of          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // channels.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076da   0efc     MOVLW     0xfc             Channel = RCServo2_get_channel_from_RPn(RPn);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076dc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0076de   ffe6                                                                                                               
0076e0   df85     RCALL     0x75ec                                                                                          
0076e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0076e4   6ee7     MOVWF     0xe7,0x0                                                                                        
0076e6   0e01     MOVLW     0x1                                                                                             
0076e8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0076ea   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Error out if there were no available channels left                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076ec   50db     MOVF      0xdb,0x0,0x0     if (Channel == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076ee   e102     BNZ       0x76f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076f0   0e00     MOVLW     0x0                return 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076f2   d0c3     BRA       0x787a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // If Duration is zero, then caller wants to shut down this channel            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076f4   d90b     RCALL     0x790c           if (0u == Position)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076f6   e102     BNZ       0x76fc                                                                                          
00790c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00790e   0ffd     ADDLW     0xfd                                                                                            
007910   6ee9     MOVWF     0xe9,0x0                                                                                        
007912   0eff     MOVLW     0xff                                                                                            
007914   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007916   6eea     MOVWF     0xea,0x0                                                                                        
007918   50ee     MOVF      0xee,0x0,0x0                                                                                    
00791a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00791c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // Turn off the PPS routing to the pin                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076f8   d8c9     RCALL     0x788c             *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00788c   d86c     RCALL     0x7966                                                                                          
00788e   50ef     MOVF      0xef,0x0,0x0                                                                                    
007890   0100     MOVLB     0x0                                                                                             
007892   6aea     CLRF      0xea,0x0                                                                                        
007894   259c     ADDWF     0x9c,0x0,0x1                                                                                    
007896   6ee9     MOVWF     0xe9,0x0                                                                                        
007898   519d     MOVF      0x9d,0x0,0x1                                                                                    
00789a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00789c   6aef     CLRF      0xef,0x0                                                                                        
00789e   d85b     RCALL     0x7956             gRC2Rate[Channel - 1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a0   0e89     MOVLW     0x89                                                                                            
0078a2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078a4   0e00     MOVLW     0x0                                                                                             
0078a6   d86a     RCALL     0x797c                                                                                          
0078a8   d856     RCALL     0x7956             gRC2Target[Channel - 1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078aa   0e79     MOVLW     0x79                                                                                            
0078ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078ae   0e00     MOVLW     0x0                                                                                             
0078b0   d865     RCALL     0x797c                                                                                          
0078b2   d859     RCALL     0x7966             gRC2RPn[Channel - 1] = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b4   6aef     CLRF      0xef,0x0                                                                                        
007966   0e01     MOVLW     0x1                                                                                             
007968   04db     DECF      0xdb,0x0,0x0                                                                                    
00796a   d018     BRA       0x799c                                                                                          
0078b6   d86d     RCALL     0x7992             gRC2Value[Channel - 1] = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b8   efbe     GOTO      0x797c                                                                                          
0078ba   f03c                                                                                                               
00797c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00797e   6aee     CLRF      0xee,0x0                                                                                        
007980   6aed     CLRF      0xed,0x0                                                                                        
007982   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076fa   d0bd     BRA       0x7876           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // If we have a valid channel, and RPn, then make the move                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076fc   0e01     MOVLW     0x1                if ((Channel - 1) < gRC2Slots && RPn <= 24u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0076fe   04db     DECF      0xdb,0x0,0x0                                                                                    
007700   6e4e     MOVWF     0x4e,0x0                                                                                        
007702   0100     MOVLB     0x0                                                                                             
007704   519a     MOVF      0x9a,0x0,0x1                                                                                    
007706   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007708   e301     BNC       0x770c                                                                                          
00770a   d0b5     BRA       0x7876                                                                                          
00770c   0efc     MOVLW     0xfc                                                                                            
00770e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007710   0818     SUBLW     0x18                                                                                            
007712   e201     BC        0x7716                                                                                          
007714   d0b0     BRA       0x7876                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // As a special case, if the pin is the same as the pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // used for the solenoid, then turn off the solenoid function              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // so that we can output PWM on that pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007716   0efc     MOVLW     0xfc                 if (RPn == PEN_UP_DOWN_RPN)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007718   50db     MOVF      0xdb,0x0,0x0                                                                                    
00771a   0807     SUBLW     0x7                                                                                             
00771c   e102     BNZ       0x7722                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00771e   0101     MOVLB     0x1                    gUseSolenoid = FALSE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007720   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Is this the first time we've used this channel?                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007722   d8d6     RCALL     0x78d0               if (gRC2Value[Channel - 1] == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007724   e110     BNZ       0x7746                                                                                          
0078d0   d860     RCALL     0x7992                                                                                          
0078d2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0078d4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0078d6   10ed     IORWF     0xed,0x0,0x0                                                                                    
0078d8   0012     RETURN    0x0                                                                                             
007956   0e01     MOVLW     0x1                                                                                             
007958   04db     DECF      0xdb,0x0,0x0                                                                                    
00795a   6ee9     MOVWF     0xe9,0x0                                                                                        
00795c   6aea     CLRF      0xea,0x0                                                                                        
00795e   90d8     BCF       0xd8,0x0,0x0                                                                                    
007960   36e9     RLCF      0xe9,0x1,0x0                                                                                    
007962   36ea     RLCF      0xea,0x1,0x0                                                                                    
007964   0012     RETURN    0x0                                                                                             
007992   dfe1     RCALL     0x7956                                                                                          
007994   0e61     MOVLW     0x61                                                                                            
007996   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007998   0e00     MOVLW     0x0                                                                                             
00799a   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Make sure the pin is set as an output, or this won't do much good     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007726   6ae6     CLRF      0xe6,0x0               SetPinTRISFromRPn(RPn, OUTPUT_PIN);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007728   0efc     MOVLW     0xfc                                                                                            
00772a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00772c   ffe6                                                                                                               
00772e   ec4c     CALL      0x6298,0x0                                                                                      
007730   f031                                                                                                               
007732   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007734   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // For v2.1.5, found bug where if a pin is HIGH when we start doing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // RC output, the output is totally messed up. So make sure to set       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // the pin low first.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007736   6ae6     CLRF      0xe6,0x0               SetPinLATFromRPn(RPn, 0);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007738   0efc     MOVLW     0xfc                                                                                            
00773a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00773c   ffe6                                                                                                               
00773e   ec1e     CALL      0x623c,0x0                                                                                      
007740   f031                                                                                                               
007742   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007744   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007746   0ef7     MOVLW     0xf7                 if (AddToFIFO == TRUE)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007748   04db     DECF      0xdb,0x0,0x0                                                                                    
00774a   e16a     BNZ       0x7820                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Wait until we have a free spot in the FIFO, and add our new           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // command in                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00774c   5013     MOVF      0x13,0x0,0x0           while(gFIFOLength >= gCurrentFIFOLength)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00774e   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
007750   e2fd     BC        0x774c                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // If the pin we're controlling is B1 (the normal servo output) then     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // always make sure to turn power on and start the countdown timer       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // for that servo port. (issue #144)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007752   0efc     MOVLW     0xfc                   if (RPn == 4u)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007754   50db     MOVF      0xdb,0x0,0x0                                                                                    
007756   0804     SUBLW     0x4                                                                                             
007758   e101     BNZ       0x775c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00775a   d8c9     RCALL     0x78ee                   RCServoPowerIO = RCSERVO_POWER_ON;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ee   8689     BSF       0x89,0x3,0x0                                                                                    
0078f0   c4c2     MOVFF     0x4c2,0x4be              gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078f2   f4be                                                                                                               
0078f4   c4c3     MOVFF     0x4c3,0x4bf                                                                                     
0078f6   f4bf                                                                                                               
0078f8   c4c4     MOVFF     0x4c4,0x4c0                                                                                     
0078fa   f4c0                                                                                                               
0078fc   c4c5     MOVFF     0x4c5,0x4c1                                                                                     
0078fe   f4c1                                                                                                               
007900   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00775c   bc09     BTFSC     0x9,0x6,0x0            if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00775e   d08b     BRA       0x7876                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Now copy the values over into the FIFO element                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007760   d8d0     RCALL     0x7902                   FIFOPtr[gFIFOIn].Command = COMMAND_SERVO_MOVE;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007762   0e02     MOVLW     0x2                                                                                             
007764   6eef     MOVWF     0xef,0x0                                                                                        
007902   5010     MOVF      0x10,0x0,0x0                                                                                    
007904   0d2f     MULLW     0x2f                                                                                            
007906   0105     MOVLB     0x5                                                                                             
007908   efc2     GOTO      0x7984                                                                                          
00790a   f03c                                                                                                               
007766   0ef8     MOVLW     0xf8                     FIFOPtr[gFIFOIn].m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * (UINT32)Delay; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007768   cfdb     MOVFF     0xfdb,0x4e                                                                                      
00776a   f04e                                                                                                               
00776c   0ef9     MOVLW     0xf9                                                                                            
00776e   cfdb     MOVFF     0xfdb,0x4f                                                                                      
007770   f04f                                                                                                               
007772   6a50     CLRF      0x50,0x0                                                                                        
007774   6a51     CLRF      0x51,0x0                                                                                        
007776   0e19     MOVLW     0x19                                                                                            
007778   6e45     MOVWF     0x45,0x0                                                                                        
00777a   6a46     CLRF      0x46,0x0                                                                                        
00777c   6a47     CLRF      0x47,0x0                                                                                        
00777e   6a48     CLRF      0x48,0x0                                                                                        
007780   c04e     MOVFF     0x4e,0x40                                                                                       
007782   f040                                                                                                               
007784   c04f     MOVFF     0x4f,0x41                                                                                       
007786   f041                                                                                                               
007788   c050     MOVFF     0x50,0x42                                                                                       
00778a   f042                                                                                                               
00778c   c051     MOVFF     0x51,0x43                                                                                       
00778e   f043                                                                                                               
007790   ec5a     CALL      0x8eb4,0x0                                                                                      
007792   f047                                                                                                               
007794   c03c     MOVFF     0x3c,0x4e                                                                                       
007796   f04e                                                                                                               
007798   c03d     MOVFF     0x3d,0x4f                                                                                       
00779a   f04f                                                                                                               
00779c   c03e     MOVFF     0x3e,0x50                                                                                       
00779e   f050                                                                                                               
0077a0   c03f     MOVFF     0x3f,0x51                                                                                       
0077a2   f051                                                                                                               
0077a4   d8ae     RCALL     0x7902                                                                                          
0077a6   52ee     MOVF      0xee,0x1,0x0                                                                                    
0077a8   52ee     MOVF      0xee,0x1,0x0                                                                                    
0077aa   c03c     MOVFF     0x3c,0xfee                                                                                      
0077ac   ffee                                                                                                               
0077ae   c04f     MOVFF     0x4f,0xfee                                                                                      
0077b0   ffee                                                                                                               
0077b2   c050     MOVFF     0x50,0xfee                                                                                      
0077b4   ffee                                                                                                               
0077b6   c051     MOVFF     0x51,0xfee                                                                                      
0077b8   ffee                                                                                                               
0077ba   d880     RCALL     0x78bc                   FIFOPtr[gFIFOIn].m.sm.ServoChannel = Channel;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077bc   0e29     MOVLW     0x29                                                                                            
0077be   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0077c0   0e00     MOVLW     0x0                                                                                             
0077c2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0077c4   0e01     MOVLW     0x1                                                                                             
0077c6   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0077c8   ffef                                                                                                               
0077ca   d878     RCALL     0x78bc                   FIFOPtr[gFIFOIn].m.sm.ServoRPn = RPn;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077cc   0e26     MOVLW     0x26                                                                                            
0077ce   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0077d0   0e00     MOVLW     0x0                                                                                             
0077d2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0077d4   0efc     MOVLW     0xfc                                                                                            
0077d6   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0077d8   ffef                                                                                                               
0077da   d870     RCALL     0x78bc                   FIFOPtr[gFIFOIn].m.sm.ServoPosition = Position;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077dc   0e27     MOVLW     0x27                                                                                            
0077de   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0077e0   0e00     MOVLW     0x0                                                                                             
0077e2   d87b     RCALL     0x78da                                                                                          
0077e4   d86b     RCALL     0x78bc                   FIFOPtr[gFIFOIn].m.sm.ServoRate = Rate;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077e6   0e2a     MOVLW     0x2a                                                                                            
0077e8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0077ea   0e00     MOVLW     0x0                                                                                             
0077ec   d8a7     RCALL     0x793c                                                                                          
00793c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00793e   0efa     MOVLW     0xfa                                                                                            
007940   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007942   ffee                                                                                                               
007944   0efb     MOVLW     0xfb                                                                                            
007946   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007948   ffed                                                                                                               
00794a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Check that DelayCounter doesn't have a crazy high value (this was   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // being done in the ISR, now moved here for speed)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077ee   d866     RCALL     0x78bc                   if (FIFOPtr[gFIFOIn].m.sm.DelayCounter > HIGH_ISR_TICKS_PER_MS * (UINT32)0x10000) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f0   52ee     MOVF      0xee,0x1,0x0                                                                                    
0077f2   80d8     BSF       0xd8,0x0,0x0                                                                                    
0077f4   0e00     MOVLW     0x0                                                                                             
0077f6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0077f8   0e00     MOVLW     0x0                                                                                             
0077fa   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0077fc   0e19     MOVLW     0x19                                                                                            
0077fe   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007800   0e00     MOVLW     0x0                                                                                             
007802   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007804   e206     BC        0x7812                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // Ideally we would throw an error to the user here, but since we're in D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // the helper function that's not so easy. So we just set the delay time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // to zero and hope they notice that their delays aren't doing anything. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007806   d85a     RCALL     0x78bc                     FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007808   52ee     MOVF      0xee,0x1,0x0                                                                                    
00780a   6aee     CLRF      0xee,0x0                                                                                        
00780c   6aee     CLRF      0xee,0x0                                                                                        
00780e   6aee     CLRF      0xee,0x0                                                                                        
007810   6aee     CLRF      0xee,0x0                                                                                        
0078bc   5010     MOVF      0x10,0x0,0x0                                                                                    
0078be   0d2f     MULLW     0x2f                                                                                            
0078c0   d861     RCALL     0x7984                                                                                          
0078c2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0078c4   0012     RETURN    0x0                                                                                             
007984   51fa     MOVF      0xfa,0x0,0x1                                                                                    
007986   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
007988   6ee9     MOVWF     0xe9,0x0                                                                                        
00798a   51fb     MOVF      0xfb,0x0,0x1                                                                                    
00798c   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
00798e   6eea     MOVWF     0xea,0x0                                                                                        
007990   0012     RETURN    0x0                                                                                             
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007812   2a10     INCF      0x10,0x1,0x0             gFIFOIn++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007814   5013     MOVF      0x13,0x0,0x0             if (gFIFOIn >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007816   5c10     SUBWF     0x10,0x0,0x0                                                                                    
007818   e301     BNC       0x781c                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00781a   6a10     CLRF      0x10,0x0                   gFIFOIn = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00781c   2a0f     INCF      0xf,0x1,0x0              gFIFOLength++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00781e   d02b     BRA       0x7876               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // We need to 'do all the stuff' that the ISR does to cause the servo    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // move to begin, right here and now.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Check to see if we should change the state of the pen                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007820   a005     BTFSS     0x5,0x0,0x0            if (bittstzero(gUseRCPenServo))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007822   d029     BRA       0x7876                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // If the pin we're controlling is B1 (the normal servo output) then   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // always make sure to turn power on and start the countdown timer     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // for that servo port. (issue #144)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007824   0efc     MOVLW     0xfc                     if (RPn == 4u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007826   50db     MOVF      0xdb,0x0,0x0                                                                                    
007828   0804     SUBLW     0x4                                                                                             
00782a   e101     BNZ       0x782e                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00782c   d860     RCALL     0x78ee                     RCServoPowerIO = RCSERVO_POWER_ON;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // If the user is trying to turn off this channel's RC servo output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00782e   d86e     RCALL     0x790c                   if (0u == Position)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007830   e102     BNZ       0x7836                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // Turn off the PPS routing to the pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007832   d82c     RCALL     0x788c                     *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // Clear everything else out for this channel                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       gRC2Rate[Channel - 1] = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       gRC2Target[Channel - 1] = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       gRC2RPn[Channel - 1] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       gRC2Value[Channel - 1] = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007834   d012     BRA       0x785a                   else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // Otherwise, set all of the values that start this RC servo moving  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007836   d88f     RCALL     0x7956                     gRC2Rate[Channel - 1] = Rate;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007838   0e89     MOVLW     0x89                                                                                            
00783a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00783c   0e00     MOVLW     0x0                                                                                             
00783e   d87e     RCALL     0x793c                                                                                          
007840   d88a     RCALL     0x7956                     gRC2Target[Channel - 1] = Position;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007842   0e79     MOVLW     0x79                                                                                            
007844   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007846   0e00     MOVLW     0x0                                                                                             
007848   d848     RCALL     0x78da                                                                                          
00784a   d88d     RCALL     0x7966                     gRC2RPn[Channel - 1] = RPn;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00784c   0efc     MOVLW     0xfc                                                                                            
00784e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007850   ffef                                                                                                               
007852   d83e     RCALL     0x78d0                     if (gRC2Value[Channel - 1] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007854   e102     BNZ       0x785a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007856   d89d     RCALL     0x7992                       gRC2Value[Channel - 1] = Position;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007858   d840     RCALL     0x78da                                                                                          
0078da   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0078dc   0efd     MOVLW     0xfd                                                                                            
0078de   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0078e0   ffee                                                                                                               
0078e2   0efe     MOVLW     0xfe                                                                                            
0078e4   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0078e6   ffed                                                                                                               
0078e8   0012     RETURN    0x0                                                                                             
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // If this servo is the pen servo (on g_servo2_RPn)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00785a   0efc     MOVLW     0xfc                     if (RPn == g_servo2_RPn)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00785c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00785e   0100     MOVLB     0x0                                                                                             
007860   5da6     SUBWF     0xa6,0x0,0x1                                                                                    
007862   e109     BNZ       0x7876                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // For non-FIFO moves, we ONLY allow moving to g_servo2_min (i.e. up) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // and never down. In the ISR version of this code, we check to see  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // what our destination position is to decide to record going up     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       // or down. Here we just need to record going up.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007864   0101     MOVLB     0x1                        PenState = PEN_UP;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007866   0e01     MOVLW     0x1                                                                                             
007868   6fb9     MOVWF     0xb9,0x1                                                                                        
00786a   0101     MOVLB     0x1                        SolenoidState = SOLENOID_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00786c   6bb6     CLRF      0xb6,0x1                                                                                        
00786e   0101     MOVLB     0x1                        if (gUseSolenoid)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007870   51c1     MOVF      0xc1,0x0,0x1                                                                                    
007872   e001     BZ        0x7876                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007874   988a     BCF       0x8a,0x4,0x0                 PenUpDownIO = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007876   0e01     MOVLW     0x1              return Channel;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007878   50db     MOVF      0xdb,0x0,0x0                                                                                    
00787a   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00787c   0e02     MOVLW     0x2                                                                                             
00787e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007880   e202     BC        0x7886                                                                                          
007882   6ae1     CLRF      0xe1,0x0                                                                                        
007884   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007886   6ee1     MOVWF     0xe1,0x0                                                                                        
007888   504e     MOVF      0x4e,0x0,0x0                                                                                    
00788a   d054     BRA       0x7934                                                                                          
007934   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007936   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007938   ffd9                                                                                                               
00793a   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * FileName:        UBW.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author               Date        Comment                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        03/15/06    Added user code to implement                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      firmware version D v1.0 for UBW                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      project. See www.greta.dhs.org/UBW                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        05/04/06    Starting version 1.1, which will             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      include several fixes. See website.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  06/21/06  Starting v1.2 -                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed problem with I packets (from T command) filling up TX buffer          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *    and not letting any incoming commands be received. (strange)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding several commands - Analog inputs being the biggest set.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Also Byte read/Byte write (PEEK/POKE) anywhere in memory                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Individual pin I/O and direction                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/16/06  v1.3 - Fixed bug with USB startup              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  09/09/06  v1.4 - Starting 1.4                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed Microchip bug with early silicon - UCONbits.PKTDIS = 0;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding BO and BC commands for parallel output to graphics panels            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  12/06/06  v1.4 - More work on 1.4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote all I/O buffering code for increased speed and functionality       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote error handling code                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Added delays to BC/BO commands to help Corey                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  01/06/07  v1.4 - Added RC command for servos             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  03/07/07  v1.4.1 - Changed blink rate for SFE            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  05/24/07  v1.4.2 - Fixed RC command bug - it             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      wouldn't shut off.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/28/07  v1.4.3 - Allowed UBW to run without            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      USB connected.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <flash.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E F I N E S ********************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_TX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_RX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_A_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_D_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kPR4_RELOAD           250u              // For 1ms TMR4 tick             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kCR                   0x0Du                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kLF                   0x0Au                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define ANALOG_INITATE_MS_BETWEEN_STARTS 5u     // Number of ms between analog converts (all enabled channels) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_ADDRESS    0xF800            // Starting address in FLASH where we store our EBB's name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_LENGTH     16u               // Size of store for EBB's name in FLASH D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define RCSERVO_POWEROFF_DEFAULT_MS (60ul*1000ul)  // Number of milliseconds to default the RCServo power autotimeout (5min) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //#pragma udata access fast_vars                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Rate variable - how fast does interrupt fire to capture inputs?               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int time_between_updates;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_D_RepeatRate;       // How many 1ms ticks between Digital updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_RepeatRate;       // How many 1ms ticks between Analog updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This byte has each of its bits used as a separate error flag                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BYTE error_byte;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RC servo variables                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // First the main array of data for each servo                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_primed_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_next_ptr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_timing_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Used only in LowISR                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int D_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int A_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char A_cur_channel;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char AnalogInitiate;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int AnalogEnabledChannels;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ChannelBit;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_PowerMonitorThresholdADC;     // 0-1023 ADC counts, below which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile BOOL g_PowerDropDetected;              // True if power drops below PowerMonitorThreshold D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile tStepperDisableTimeout g_StepperDisableState;  // Stores state of stepper timeout disable feature D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableTimeoutS;       // Seconds of no motion before motors are disabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableSecondCounter;  // Counts milliseconds up to 1 s for stepper disable timeout D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableCountdownS;     // After motion is done, counts down in seconds from g_StepperDisableTimeoutS to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const rom char st_version[] = {"EBBv13_and_above EB Firmware Version 3.0.1_222"}; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata ISR_buf = 0x100                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_FIFO[16];                     // Stores the most recent analog conversions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO[3][kISR_FIFO_D_DEPTH];  // FIFO of actual data D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_tx_buf = 0x200                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Transmit buffer for packets (back to PC)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf[kTX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_command_buf[kRX_COMMAND_BUF_SIZE];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_rx_buf = 0x300                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Receiving buffer for commands as they come from PC                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf[kRX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These variables are in normal storage space                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Receiving buffer for data coming from the USART                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf[kUSART_RX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Transmit buffer for data going to the USART                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf[kUSART_TX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These are used for the Fast Parallel Output routines                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_init;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_mask;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_mask;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_delay;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_delay;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB transmit (back to PC) buffer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB receive (from PC) buffer                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART input buffer                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART output buffer                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Normally set to TRUE. Able to set FALSE to not send "OK" message after packet reception D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL g_ack_enable;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Set to TRUE to turn Pulse Mode on                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gPulsesOn;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how long should each pulse be on for in ms?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseLen[4];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how many ms between rising edges of pulses?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseRate[4];                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, counters keeping track of where we are                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseCounters[4];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Counts down milliseconds until zero. At zero shuts off power to RC servo (via RA3)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterMS;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterReloadMS;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // When true, any stepper motion command will automatically enable both motors   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL gAutomaticMotorEnable;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These store the first and second characters of the latest command from the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchPortB;     // Latched PortB value when trigger happens D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchReplies;   // Non-zero if we want a reply printed when limit switch trigger goes true D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gLimitSwitchReplyPrinted;       // True if we've already printed a reply for this limit switch trigger D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gCommandChecksumRequired;       // True if we are requiring checksums on all commands (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Stack high water value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static volatile UINT16 gStackHighWater;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Locals used in low ISR                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static INT16 RC2Difference;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerHigh;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerLow;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT16 tempStackPointer;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static unsigned char gDeviceStringName[FLASH_NAME_LENGTH+1];                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void);     // Handles blinking the USB status LED            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL SwitchIsPressed(void);    // Check to see if the user (PRG) switch is pressed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_packet(void);       // Take a full packet and dispatch it to the right function D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           signed char extract_digit(unsigned long * acc, unsigned char digits); // Pull a character out of the packet D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void);     // R for resetting UBW                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_C_packet(void);     // C for configuring I/O and analog pins          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_O_packet(void);     // O for output digital to pins                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void);     // I for input digital from pins                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void);     // V for printing version                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_A_packet(void);     // A for requesting analog inputs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PI_packet(void);    // PI for reading a single pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PO_packet(void);    // PO for setting a single pin state              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PD_packet(void);    // PD for setting a pin's direction               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR for Memory Read                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MW_packet(void);    // MW for Memory Write                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CU_packet(void);    // CU configures UBW (system wide parameters)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void);     // T for setting up timed I/O (digital or analog) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void);    // PG Pulse Go                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void);    // PC Pulse Configure                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void);    // BL Boot Load command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CK_packet(void);    // CK ChecK command                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR Motors Run command                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_AC_packet(void);    // AC Analog Configure                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_ST_packet(void);    // ST Set Tag command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QT_packet(void);    // QT Query Tag command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void);    // RB ReBoot command                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void);    // QR Query RC Servo power state                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_SR_packet(void);    // SR Set RC Servo power timeout                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QU_packet(void);    // QU General Query                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void check_and_send_TX_data(void); // See if there is any data to send to PC, and if so, do it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma interruptlow low_ISR                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd2   cfd8     MOVFF     0xfd8,0xfe4    void low_ISR(void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cd4   ffe4                                                                                                               
003cd6   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
003cd8   ffe4                                                                                                               
003cda   6ee4     MOVWF     0xe4,0x0                                                                                        
003cdc   cfda     MOVFF     0xfda,0xfe4                                                                                     
003cde   ffe4                                                                                                               
003ce0   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003ce2   ffe4                                                                                                               
003ce4   cfea     MOVFF     0xfea,0xfe4                                                                                     
003ce6   ffe4                                                                                                               
003ce8   cff3     MOVFF     0xff3,0xfe4                                                                                     
003cea   ffe4                                                                                                               
003cec   cff4     MOVFF     0xff4,0xfe4                                                                                     
003cee   ffe4                                                                                                               
003cf0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003cf2   ec34     CALL      0x6668,0x0                                                                                      
003cf4   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have a Timer4 interrupt? (1ms rate)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cf6   a6a4     BTFSS     0xa4,0x3,0x0     if (PIR3bits.TMR4IF)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cf8   d145     BRA       0x3f84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cfa   96a4     BCF       0xa4,0x3,0x0       PIR3bits.TMR4IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle RC servo pulse generation (for next pulse/channel)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always increment the gRCServo2msCounter                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cfc   0100     MOVLB     0x0                gRC2msCounter++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cfe   2b60     INCF      0x60,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d00   0100     MOVLB     0x0                if (gRC2msCounter >= gRC2SlotMS)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d02   519b     MOVF      0x9b,0x0,0x1                                                                                    
003d04   0100     MOVLB     0x0                                                                                             
003d06   5d60     SUBWF     0x60,0x0,0x1                                                                                    
003d08   e201     BC        0x3d0c                                                                                          
003d0a   d09f     BRA       0x3e4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the RC2 ms counter                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d0c   6b60     CLRF      0x60,0x1             gRC2msCounter = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off the PPS routing to the 'old' pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d0e   0100     MOVLB     0x0                  *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d10   ec4d     CALL      0x649a,0x0                                                                                      
003d12   f032                                                                                                               
003d14   6aef     CLRF      0xef,0x0                                                                                        
00649a   5199     MOVF      0x99,0x0,0x1                                                                                    
00649c   6aea     CLRF      0xea,0x0                                                                                        
00649e   0f71     ADDLW     0x71                                                                                            
0064a0   6ee9     MOVWF     0xe9,0x0                                                                                        
0064a2   0e00     MOVLW     0x0                                                                                             
0064a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064a6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0064a8   0100     MOVLB     0x0                                                                                             
0064aa   6aea     CLRF      0xea,0x0                                                                                        
0064ac   259c     ADDWF     0x9c,0x0,0x1                                                                                    
0064ae   6ee9     MOVWF     0xe9,0x0                                                                                        
0064b0   519d     MOVF      0x9d,0x0,0x1                                                                                    
0064b2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064b4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off TIMER3 for now                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d16   9079     BCF       0x79,0x0,0x0         T3CONbits.TMR3ON = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And clear TIMER3 to zero                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d18   6a7b     CLRF      0x7b,0x0             TMR3H = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d1a   6a7a     CLRF      0x7a,0x0             TMR3L = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And always advance the main pointer                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d1c   0100     MOVLB     0x0                  gRC2Ptr++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d1e   2b99     INCF      0x99,0x1,0x1                                                                                    
003d20   0100     MOVLB     0x0                  if (gRC2Ptr >= gRC2Slots)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d22   519a     MOVF      0x9a,0x0,0x1                                                                                    
003d24   0100     MOVLB     0x0                                                                                             
003d26   5d99     SUBWF     0x99,0x0,0x1                                                                                    
003d28   e301     BNC       0x3d2c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d2a   6b99     CLRF      0x99,0x1               gRC2Ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If the value is zero, we do nothing to this pin                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // otherwise, prime it for sending a pulse                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d2c   ecc6     CALL      0x678c,0x0           if (gRC2Value[gRC2Ptr] != 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d2e   f033                                                                                                               
003d30   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003d32   50ee     MOVF      0xee,0x0,0x0                                                                                    
003d34   10ed     IORWF     0xed,0x0,0x0                                                                                    
003d36   e101     BNZ       0x3d3a                                                                                          
003d38   d088     BRA       0x3e4a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, to move 'slowly', we update gRC2Value[] by                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // seeing if we are at gRC2Target[] yet. If not, then                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // we add (or subtract) gRC2Rate[] to try and get there.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d3a   ecb9     CALL      0x6772,0x0             if (gRC2Target[gRC2Ptr] != gRC2Value[gRC2Ptr])                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d3c   f033                                                                                                               
003d3e   cfee     MOVFF     0xfee,0x58                                                                                      
003d40   f058                                                                                                               
003d42   cfef     MOVFF     0xfef,0x59                                                                                      
003d44   f059                                                                                                               
003d46   5058     MOVF      0x58,0x0,0x0                                                                                    
003d48   1856     XORWF     0x56,0x0,0x0                                                                                    
003d4a   e102     BNZ       0x3d50                                                                                          
003d4c   5059     MOVF      0x59,0x0,0x0                                                                                    
003d4e   1857     XORWF     0x57,0x0,0x0                                                                                    
003d50   e05f     BZ        0x3e10                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d52   b209     BTFSC     0x9,0x1,0x0              if (bittst(TestMode, TEST_MODE_GPIO_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d54   8689     BSF       0x89,0x3,0x0               LATAbits.LATA3 = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If the rate is zero, then we always move instantly                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // to the target.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d56   ec09     CALL      0x6612,0x0               if (gRC2Rate[gRC2Ptr] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d58   f033                                                                                                               
003d5a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003d5c   50ee     MOVF      0xee,0x0,0x0                                                                                    
003d5e   10ed     IORWF     0xed,0x0,0x0                                                                                    
003d60   e051     BZ        0x3e04                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Otherwise, add gRC2Rate[] each time through until we              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // get to our desired pulse width.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d62   ecb9     CALL      0x6772,0x0                 RC2Difference = (gRC2Target[gRC2Ptr] - gRC2Value[gRC2Ptr]);          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d64   f033                                                                                                               
003d66   0104     MOVLB     0x4                                                                                             
003d68   50ee     MOVF      0xee,0x0,0x0                                                                                    
003d6a   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003d6c   6fcf     MOVWF     0xcf,0x1                                                                                        
003d6e   50ee     MOVF      0xee,0x0,0x0                                                                                    
003d70   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003d72   6fd0     MOVWF     0xd0,0x1                                                                                        
003d74   34e8     RLCF      0xe8,0x0,0x0               if (RC2Difference > 0)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d76   e222     BC        0x3dbc                                                                                          
003d78   51cf     MOVF      0xcf,0x0,0x1                                                                                    
003d7a   0800     SUBLW     0x0                                                                                             
003d7c   0e00     MOVLW     0x0                                                                                             
003d7e   55d0     SUBFWB    0xd0,0x0,0x1                                                                                    
003d80   e21d     BC        0x3dbc                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d82   0100     MOVLB     0x0                          if (RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d84   ec09     CALL      0x6612,0x0                                                                                      
003d86   f033                                                                                                               
003d88   ecc9     CALL      0x6392,0x0                                                                                      
003d8a   f031                                                                                                               
003d8c   0104     MOVLB     0x4                                                                                             
003d8e   5057     MOVF      0x57,0x0,0x0                                                                                    
003d90   19d0     XORWF     0xd0,0x0,0x1                                                                                    
003d92   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003d94   d002     BRA       0x3d9a                                                                                          
003d96   35d0     RLCF      0xd0,0x0,0x1                                                                                    
003d98   d004     BRA       0x3da2                                                                                          
003d9a   51cf     MOVF      0xcf,0x0,0x1                                                                                    
003d9c   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003d9e   51d0     MOVF      0xd0,0x0,0x1                                                                                    
003da0   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003da2   e20a     BC        0x3db8                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003da4   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] += gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003da6   ec09     CALL      0x6612,0x0                                                                                      
003da8   f033                                                                                                               
003daa   ecda     CALL      0x65b4,0x0                                                                                      
003dac   f032                                                                                                               
003dae   5056     MOVF      0x56,0x0,0x0                                                                                    
003db0   26ee     ADDWF     0xee,0x1,0x0                                                                                    
003db2   5057     MOVF      0x57,0x0,0x0                                                                                    
003db4   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db6   d02c     BRA       0x3e10                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db8   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dba   d024     BRA       0x3e04                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dbc   c4cf     MOVFF     0x4cf,0x56                   if (-RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dbe   f056                                                                                                               
003dc0   c4d0     MOVFF     0x4d0,0x57                                                                                      
003dc2   f057                                                                                                               
003dc4   6c56     NEGF      0x56,0x0                                                                                        
003dc6   1e57     COMF      0x57,0x1,0x0                                                                                    
003dc8   0e00     MOVLW     0x0                                                                                             
003dca   2257     ADDWFC    0x57,0x1,0x0                                                                                    
003dcc   0100     MOVLB     0x0                                                                                             
003dce   ec09     CALL      0x6612,0x0                                                                                      
003dd0   f033                                                                                                               
003dd2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003dd4   cfee     MOVFF     0xfee,0x58                                                                                      
003dd6   f058                                                                                                               
003dd8   cfef     MOVFF     0xfef,0x59                                                                                      
003dda   f059                                                                                                               
003ddc   5059     MOVF      0x59,0x0,0x0                                                                                    
003dde   1857     XORWF     0x57,0x0,0x0                                                                                    
003de0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003de2   d002     BRA       0x3de8                                                                                          
003de4   3457     RLCF      0x57,0x0,0x0                                                                                    
003de6   d004     BRA       0x3df0                                                                                          
003de8   5056     MOVF      0x56,0x0,0x0                                                                                    
003dea   5c58     SUBWF     0x58,0x0,0x0                                                                                    
003dec   5057     MOVF      0x57,0x0,0x0                                                                                    
003dee   5859     SUBWFB    0x59,0x0,0x0                                                                                    
003df0   e209     BC        0x3e04                                                                                          
006612   de85     RCALL     0x631e                                                                                          
006614   0e89     MOVLW     0x89                                                                                            
006616   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006618   0e00     MOVLW     0x0                                                                                             
00661a   0012     RETURN    0x0                                                                                             
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df2   ec09     CALL      0x6612,0x0                     gRC2Value[gRC2Ptr] -= gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df4   f033                                                                                                               
003df6   ecda     CALL      0x65b4,0x0                                                                                      
003df8   f032                                                                                                               
003dfa   5056     MOVF      0x56,0x0,0x0                                                                                    
003dfc   5eee     SUBWF     0xee,0x1,0x0                                                                                    
003dfe   5057     MOVF      0x57,0x0,0x0                                                                                    
003e00   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e02   d006     BRA       0x3e10                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e04   ecb9     CALL      0x6772,0x0                     gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e06   f033                                                                                                               
003e08   c056     MOVFF     0x56,0xfee                                                                                      
003e0a   ffee                                                                                                               
003e0c   c057     MOVFF     0x57,0xfed                                                                                      
003e0e   ffed                                                                                                               
006392   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006394   cfee     MOVFF     0xfee,0x56                                                                                      
006396   f056                                                                                                               
006398   cfef     MOVFF     0xfef,0x57                                                                                      
00639a   f057                                                                                                               
00639c   0012     RETURN    0x0                                                                                             
0065b4   deee     RCALL     0x6392                                                                                          
0065b6   d8ea     RCALL     0x678c                                                                                          
0065b8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0065ba   0012     RETURN    0x0                                                                                             
006772   ddd5     RCALL     0x631e                                                                                          
006774   0e79     MOVLW     0x79                                                                                            
006776   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006778   0e00     MOVLW     0x0                                                                                             
00677a   efda     GOTO      0x65b4                                                                                          
00677c   f032                                                                                                               
00678c   ddc8     RCALL     0x631e                                                                                          
00678e   0e61     MOVLW     0x61                                                                                            
006790   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006792   0e00     MOVLW     0x0                                                                                             
006794   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set up the PPS routing for the CCP2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e10   ec4d     CALL      0x649a,0x0             *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 18; // 18 = CCP2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e12   f032                                                                                                               
003e14   0e12     MOVLW     0x12                                                                                            
003e16   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Disable interrupts (high)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e18   9ef2     BCF       0xf2,0x7,0x0           INTCONbits.GIEH = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Load up the new compare time                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1a   0100     MOVLB     0x0                    CCPR2H = gRC2Value[gRC2Ptr] >> 8;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1c   ec55     CALL      0x66aa,0x0                                                                                      
003e1e   f033                                                                                                               
003e20   c057     MOVFF     0x57,0x56                                                                                       
003e22   f056                                                                                                               
003e24   6a57     CLRF      0x57,0x0                                                                                        
003e26   5056     MOVF      0x56,0x0,0x0                                                                                    
003e28   6eb6     MOVWF     0xb6,0x0                                                                                        
0066aa   d870     RCALL     0x678c                                                                                          
0066ac   efc9     GOTO      0x6392                                                                                          
0066ae   f031                                                                                                               
003e2a   ec55     CALL      0x66aa,0x0             CCPR2L = gRC2Value[gRC2Ptr] & 0xFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2c   f033                                                                                                               
003e2e   5056     MOVF      0x56,0x0,0x0                                                                                    
003e30   6eb5     MOVWF     0xb5,0x0                                                                                        
00631e   5199     MOVF      0x99,0x0,0x1                                                                                    
006320   6ee9     MOVWF     0xe9,0x0                                                                                        
006322   6aea     CLRF      0xea,0x0                                                                                        
006324   90d8     BCF       0xd8,0x0,0x0                                                                                    
006326   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006328   36ea     RLCF      0xea,0x1,0x0                                                                                    
00632a   0012     RETURN    0x0                                                                                             
003e32   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b0000;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e34   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003e36   0900     IORLW     0x0                                                                                             
003e38   6eb4     MOVWF     0xb4,0x0                                                                                        
003e3a   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b1001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3c   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003e3e   0909     IORLW     0x9                                                                                             
003e40   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Turn TIMER3 back on                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e42   8079     BSF       0x79,0x0,0x0           T3CONbits.TMR3ON = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Re-enable interrupts                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e44   8ef2     BSF       0xf2,0x7,0x0           INTCONbits.GIEH = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e46   b209     BTFSC     0x9,0x1,0x0            if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e48   9689     BCF       0x89,0x3,0x0             LATAbits.LATA3 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an I packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4a   0104     MOVLB     0x4                if (ISR_D_RepeatRate > 0u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4c   0e00     MOVLW     0x0                                                                                             
003e4e   80d8     BSF       0xd8,0x0,0x0                                                                                    
003e50   557a     SUBFWB    0x7a,0x0,0x1                                                                                    
003e52   0e00     MOVLW     0x0                                                                                             
003e54   557b     SUBFWB    0x7b,0x0,0x1                                                                                    
003e56   e22e     BC        0x3eb4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e58   2b88     INCF      0x88,0x1,0x1         D_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5a   0e00     MOVLW     0x0                                                                                             
003e5c   2389     ADDWFC    0x89,0x1,0x1                                                                                    
003e5e   517a     MOVF      0x7a,0x0,0x1         if (D_tick_counter >= ISR_D_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e60   5d88     SUBWF     0x88,0x0,0x1                                                                                    
003e62   517b     MOVF      0x7b,0x0,0x1                                                                                    
003e64   5989     SUBWFB    0x89,0x0,0x1                                                                                    
003e66   e326     BNC       0x3eb4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e68   6b88     CLRF      0x88,0x1               D_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6a   6b89     CLRF      0x89,0x1                                                                                        
                                                   // Tell the main code to send an I packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6c   0e03     MOVLW     0x3                    if (ISR_D_FIFO_length < kISR_FIFO_D_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6e   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
003e70   e21f     BC        0x3eb0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And copy over our port values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e72   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[0][ISR_D_FIFO_in] = PORTA;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e74   6aea     CLRF      0xea,0x0                                                                                        
003e76   0f20     ADDLW     0x20                                                                                            
003e78   6ee9     MOVWF     0xe9,0x0                                                                                        
003e7a   0e01     MOVLW     0x1                                                                                             
003e7c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e7e   cf80     MOVFF     0xf80,0xfef                                                                                     
003e80   ffef                                                                                                               
003e82   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[1][ISR_D_FIFO_in] = PORTB;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e84   6aea     CLRF      0xea,0x0                                                                                        
003e86   0f23     ADDLW     0x23                                                                                            
003e88   6ee9     MOVWF     0xe9,0x0                                                                                        
003e8a   0e01     MOVLW     0x1                                                                                             
003e8c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e8e   cf81     MOVFF     0xf81,0xfef                                                                                     
003e90   ffef                                                                                                               
003e92   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[2][ISR_D_FIFO_in] = PORTC;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e94   6aea     CLRF      0xea,0x0                                                                                        
003e96   0f26     ADDLW     0x26                                                                                            
003e98   6ee9     MOVWF     0xe9,0x0                                                                                        
003e9a   0e01     MOVLW     0x1                                                                                             
003e9c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e9e   cf82     MOVFF     0xf82,0xfef                                                                                     
003ea0   ffef                                                                                                               
003ea2   2b7c     INCF      0x7c,0x1,0x1             ISR_D_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea4   0e03     MOVLW     0x3                      if (ISR_D_FIFO_in >= kISR_FIFO_D_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea6   5d7c     SUBWF     0x7c,0x0,0x1                                                                                    
003ea8   e301     BNC       0x3eac                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eaa   6b7c     CLRF      0x7c,0x1                   ISR_D_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eac   2b7e     INCF      0x7e,0x1,0x1             ISR_D_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eae   d002     BRA       0x3eb4                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // timer.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb0   6b7a     CLRF      0x7a,0x1                 ISR_D_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb2   6b7b     CLRF      0x7b,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an A packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb4   0e00     MOVLW     0x0                if ((ISR_A_RepeatRate > 0u) && (AnalogEnabledChannels > 0u))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb6   80d8     BSF       0xd8,0x0,0x0                                                                                    
003eb8   557f     SUBFWB    0x7f,0x0,0x1                                                                                    
003eba   0e00     MOVLW     0x0                                                                                             
003ebc   5580     SUBFWB    0x80,0x0,0x1                                                                                    
003ebe   e21c     BC        0x3ef8                                                                                          
003ec0   0e00     MOVLW     0x0                                                                                             
003ec2   80d8     BSF       0xd8,0x0,0x0                                                                                    
003ec4   558e     SUBFWB    0x8e,0x0,0x1                                                                                    
003ec6   0e00     MOVLW     0x0                                                                                             
003ec8   558f     SUBFWB    0x8f,0x0,0x1                                                                                    
003eca   e216     BC        0x3ef8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ecc   2b8a     INCF      0x8a,0x1,0x1         A_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ece   0e00     MOVLW     0x0                                                                                             
003ed0   238b     ADDWFC    0x8b,0x1,0x1                                                                                    
003ed2   517f     MOVF      0x7f,0x0,0x1         if (A_tick_counter >= ISR_A_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed4   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003ed6   5180     MOVF      0x80,0x0,0x1                                                                                    
003ed8   598b     SUBWFB    0x8b,0x0,0x1                                                                                    
003eda   e30e     BNC       0x3ef8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003edc   6b8a     CLRF      0x8a,0x1               A_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ede   6b8b     CLRF      0x8b,0x1                                                                                        
                                                   // Tell the main code to send an A packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee0   0e03     MOVLW     0x3                    if (ISR_A_FIFO_length < kISR_FIFO_A_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee2   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003ee4   e207     BC        0x3ef4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee6   2b81     INCF      0x81,0x1,0x1             ISR_A_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee8   0e03     MOVLW     0x3                      if (ISR_A_FIFO_in >= kISR_FIFO_A_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eea   5d81     SUBWF     0x81,0x0,0x1                                                                                    
003eec   e301     BNC       0x3ef0                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eee   6b81     CLRF      0x81,0x1                   ISR_A_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef0   2b83     INCF      0x83,0x1,0x1             ISR_A_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef2   d002     BRA       0x3ef8                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the A                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // packets.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef4   6b7f     CLRF      0x7f,0x1                 ISR_A_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef6   6b80     CLRF      0x80,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only start analog conversions if there are channels enabled               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef8   518e     MOVF      0x8e,0x0,0x1       if (AnalogEnabledChannels)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efa   118f     IORWF     0x8f,0x0,0x1                                                                                    
003efc   e00b     BZ        0x3f14                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Only start every so many ms                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efe   0e05     MOVLW     0x5                  if (AnalogInitiate >= ANALOG_INITATE_MS_BETWEEN_STARTS)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f00   5d8d     SUBWF     0x8d,0x0,0x1                                                                                    
003f02   e307     BNC       0x3f12                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Always start off with calibration                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f04   8cc1     BSF       0xc1,0x6,0x0           ADCON1bits.ADCAL = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the interrupt                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f06   9c9e     BCF       0x9e,0x6,0x0           PIR1bits.ADIF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the interrupt enable                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f08   8c9d     BSF       0x9d,0x6,0x0           PIE1bits.ADIE = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Make sure it's on!                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0a   80c2     BSF       0xc2,0x0,0x0           ADCON0bits.ADON = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // And tell the A/D to GO!                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0c   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO_DONE = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset AnalogInitiate counter                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0e   6b8d     CLRF      0x8d,0x1               AnalogInitiate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Otherwise, increment each 1ms                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f10   d001     BRA       0x3f14               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f12   2b8d     INCF      0x8d,0x1,0x1           AnalogInitiate++;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Is Pulse Mode on?                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (gPulsesOn)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Loop across the four pins                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 for (i=0; i<4u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only pulse the pin if there is a length for the pin                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   if (gPulseLen[i])                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If this is the beginning of the pulse, turn the pin on              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If we've reached the end of the pulse, turn the pin off             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == gPulseLen[i])                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin off                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Now increment the counter                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     gPulseCounters[i]++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And check to see if we've reached the end of the rate               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] >= gPulseRate[i])                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // If so, start over from zero                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gPulseCounters[i] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Turn the pin off                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==0u) PORTBbits.RB0 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==1u) PORTBbits.RB1 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==2u) PORTBbits.RB2 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==3u) PORTBbits.RB3 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for QC command                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f14   0101     MOVLB     0x1                if (QC_ms_timer)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f16   51be     MOVF      0xbe,0x0,0x1                                                                                    
003f18   e001     BZ        0x3f1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1a   07be     DECF      0xbe,0x1,0x1         QC_ms_timer--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for RCServo power control                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1c   0104     MOVLB     0x4                if (gRCServoPoweroffCounterMS)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1e   51be     MOVF      0xbe,0x0,0x1                                                                                    
003f20   11bf     IORWF     0xbf,0x0,0x1                                                                                    
003f22   11c0     IORWF     0xc0,0x0,0x1                                                                                    
003f24   11c1     IORWF     0xc1,0x0,0x1                                                                                    
003f26   e00b     BZ        0x3f3e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f28   07be     DECF      0xbe,0x1,0x1         gRCServoPoweroffCounterMS--;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2a   0e00     MOVLW     0x0                                                                                             
003f2c   5bbf     SUBWFB    0xbf,0x1,0x1                                                                                    
003f2e   5bc0     SUBWFB    0xc0,0x1,0x1                                                                                    
003f30   5bc1     SUBWFB    0xc1,0x1,0x1                                                                                    
                                                 // If we just timed out, then shut off RC Servo power                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f32   51be     MOVF      0xbe,0x0,0x1         if (gRCServoPoweroffCounterMS == 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f34   11bf     IORWF     0xbf,0x0,0x1                                                                                    
003f36   11c0     IORWF     0xc0,0x0,0x1                                                                                    
003f38   11c1     IORWF     0xc1,0x0,0x1                                                                                    
003f3a   e101     BNZ       0x3f3e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3c   9689     BCF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_OFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check for stepper motor disable timeout if enabled                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3e   0e02     MOVLW     0x2                if (g_StepperDisableState == kSTEPPER_TIMEOUT_TIMING)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f40   5d95     SUBWF     0x95,0x0,0x1                                                                                    
003f42   e120     BNZ       0x3f84                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Count the milliseconds until we get to 1 second                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f44   5198     MOVF      0x98,0x0,0x1         if (g_StepperDisableSecondCounter)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f46   1199     IORWF     0x99,0x0,0x1                                                                                    
003f48   e01d     BZ        0x3f84                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f4a   0798     DECF      0x98,0x1,0x1           g_StepperDisableSecondCounter--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f4c   0e00     MOVLW     0x0                                                                                             
003f4e   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f50   5198     MOVF      0x98,0x0,0x1           if (g_StepperDisableSecondCounter == 0u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f52   1199     IORWF     0x99,0x0,0x1                                                                                    
003f54   e117     BNZ       0x3f84                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Then count down the seconds                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f56   519a     MOVF      0x9a,0x0,0x1             if (g_StepperDisableCountdownS)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f58   119b     IORWF     0x9b,0x0,0x1                                                                                    
003f5a   e014     BZ        0x3f84                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5c   079a     DECF      0x9a,0x1,0x1               g_StepperDisableCountdownS--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5e   0e00     MOVLW     0x0                                                                                             
003f60   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f62   519a     MOVF      0x9a,0x0,0x1               if (g_StepperDisableCountdownS == 0u)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f64   119b     IORWF     0x9b,0x0,0x1                                                                                    
003f66   e10a     BNZ       0x3f7c                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // If the countdown gets to zero, then it's time to disable        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // the steppers.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f68   5004     MOVF      0x4,0x0,0x0                  if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6a   e103     BNZ       0x3f72                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6c   808d     BSF       0x8d,0x0,0x0                   Enable1IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6e   828b     BSF       0x8b,0x1,0x0                   Enable2IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f70   d002     BRA       0x3f76                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f72   828c     BSF       0x8c,0x1,0x0                   Enable1AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f74   8289     BSF       0x89,0x1,0x0                   Enable2AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f76   0e03     MOVLW     0x3                          g_StepperDisableState = kSTEPPER_TIMEOUT_FIRED;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f78   6f95     MOVWF     0x95,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f7a   d004     BRA       0x3f84                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // Only count the next second if there are still seconds to count  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f7c   0ee8     MOVLW     0xe8                         g_StepperDisableSecondCounter = 1000u;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f7e   6f98     MOVWF     0x98,0x1                                                                                        
003f80   0e03     MOVLW     0x3                                                                                             
003f82   6f99     MOVWF     0x99,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Read out the current value of FSR1 (stack pointer)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If the new value is higher than gStackHighWater, then update gStackHighWater D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // This will record the highest value the stack pointer attains              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _asm                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1H, tempStackPointerHigh                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1L, tempStackPointerLow                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _endasm                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    if (tempStackPointer > gStackHighWater)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    {                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      gStackHighWater = tempStackPointer;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    }                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             } // end of 1ms interrupt                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have an analog interrupt?                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f84   ac9e     BTFSS     0x9e,0x6,0x0     if (PIR1bits.ADIF)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f86   d04f     BRA       0x4026                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f88   9c9e     BCF       0x9e,0x6,0x0       PIR1bits.ADIF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If we just had a calibration, means we just started, so clear things      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // out and begin our sequence.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f8a   acc1     BTFSS     0xc1,0x6,0x0       if (ADCON1bits.ADCAL)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f8c   d007     BRA       0x3f9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f8e   9cc1     BCF       0xc1,0x6,0x0         ADCON1bits.ADCAL = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f90   0e01     MOVLW     0x1                  ChannelBit = 0x0001;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f92   0104     MOVLB     0x4                                                                                             
003f94   6f90     MOVWF     0x90,0x1                                                                                        
003f96   6b91     CLRF      0x91,0x1                                                                                        
003f98   6b8c     CLRF      0x8c,0x1             A_cur_channel = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9a   d02a     BRA       0x3ff0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Read out the value that we just converted, and store it.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb0   0104     MOVLB     0x4                  ISR_A_FIFO[A_cur_channel] =                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb2   518c     MOVF      0x8c,0x0,0x1                                                                                    
003fb4   6ee9     MOVWF     0xe9,0x0                                                                                        
003fb6   6aea     CLRF      0xea,0x0                                                                                        
003fb8   ec24     CALL      0x6648,0x0                                                                                      
003fba   f033                                                                                                               
003fbc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003fa4   50c3     MOVF      0xc3,0x0,0x0             (unsigned int)ADRESL                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     |                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9c   50c4     MOVF      0xc4,0x0,0x0             ((unsigned int)ADRESH << 8);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9e   6e58     MOVWF     0x58,0x0                                                                                        
003fa0   6e59     MOVWF     0x59,0x0                                                                                        
003fa2   6a58     CLRF      0x58,0x0                                                                                        
003fa6   0100     MOVLB     0x0                                                                                             
003fa8   1058     IORWF     0x58,0x0,0x0                                                                                    
003faa   6e56     MOVWF     0x56,0x0                                                                                        
003fac   c059     MOVFF     0x59,0x57                                                                                       
003fae   f057                                                                                                               
003fbe   c056     MOVFF     0x56,0xfee                                                                                      
003fc0   ffee                                                                                                               
003fc2   c057     MOVFF     0x57,0xfed                                                                                      
003fc4   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If this is the V+_VOLTAGE ADC channel, then check to see if the value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // is below the threshold, and if so, set the bit to record this fact      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc6   0e0b     MOVLW     0xb                  if (A_cur_channel == RA11_VPLUS_POWER_ADC_CHANNEL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc8   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
003fca   e10e     BNZ       0x3fe8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fcc   518c     MOVF      0x8c,0x0,0x1           if (ISR_A_FIFO[A_cur_channel] < g_PowerMonitorThresholdADC)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fce   6ee9     MOVWF     0xe9,0x0                                                                                        
003fd0   6aea     CLRF      0xea,0x0                                                                                        
003fd2   ec24     CALL      0x6648,0x0                                                                                      
003fd4   f033                                                                                                               
003fd6   ecc9     CALL      0x6392,0x0                                                                                      
003fd8   f031                                                                                                               
003fda   5192     MOVF      0x92,0x0,0x1                                                                                    
003fdc   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003fde   5193     MOVF      0x93,0x0,0x1                                                                                    
003fe0   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003fe2   e202     BC        0x3fe8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe4   0e01     MOVLW     0x1                      g_PowerDropDetected = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe6   6f94     MOVWF     0x94,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Increment the channel and mask bit                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe8   90d8     BCF       0xd8,0x0,0x0         ChannelBit = ChannelBit << 1;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fea   3790     RLCF      0x90,0x1,0x1                                                                                    
003fec   3791     RLCF      0x91,0x1,0x1                                                                                    
003fee   2b8c     INCF      0x8c,0x1,0x1         A_cur_channel++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk through the enabled channels until we find the next one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff0   0e10     MOVLW     0x10               while (A_cur_channel < 16u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff2   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
003ff4   e20e     BC        0x4012                                                                                          
004010   d7ef     BRA       0x3ff0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff6   5190     MOVF      0x90,0x0,0x1         if (ChannelBit & AnalogEnabledChannels)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff8   158e     ANDWF     0x8e,0x0,0x1                                                                                    
003ffa   6e56     MOVWF     0x56,0x0                                                                                        
003ffc   5191     MOVF      0x91,0x0,0x1                                                                                    
003ffe   158f     ANDWF     0x8f,0x0,0x1                                                                                    
004000   6e57     MOVWF     0x57,0x0                                                                                        
004002   5056     MOVF      0x56,0x0,0x0                                                                                    
004004   1057     IORWF     0x57,0x0,0x0                                                                                    
004006   e105     BNZ       0x4012                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Increment the channel and write the new one in                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004008   2b8c     INCF      0x8c,0x1,0x1           A_cur_channel++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00400a   90d8     BCF       0xd8,0x0,0x0           ChannelBit = ChannelBit << 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00400c   3790     RLCF      0x90,0x1,0x1                                                                                    
00400e   3791     RLCF      0x91,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004012   0e10     MOVLW     0x10               if (A_cur_channel >= 16u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004014   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
004016   e302     BNC       0x401c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We're done, so just sit and wait                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off our interrupts though.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004018   9c9d     BCF       0x9d,0x6,0x0         PIE1bits.ADIE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401a   d005     BRA       0x4026             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Update the channel number                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401c   518c     MOVF      0x8c,0x0,0x1         ADCON0 = (A_cur_channel << 2) + 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401e   0d04     MULLW     0x4                                                                                             
004020   28f3     INCF      0xf3,0x0,0x0                                                                                    
004022   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                 // And start the next conversion                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004024   82c2     BSF       0xc2,0x1,0x0         ADCON0bits.GO_DONE = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004026   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004028   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00402a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00402c   ffd9                                                                                                               
00402e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004030   cfe5     MOVFF     0xfe5,0xff4                                                                                     
004032   fff4                                                                                                               
004034   cfe5     MOVFF     0xfe5,0xff3                                                                                     
004036   fff3                                                                                                               
004038   cfe5     MOVFF     0xfe5,0xfea                                                                                     
00403a   ffea                                                                                                               
00403c   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
00403e   ffe9                                                                                                               
004040   cfe5     MOVFF     0xfe5,0xfda                                                                                     
004042   ffda                                                                                                               
004044   50e5     MOVF      0xe5,0x0,0x0                                                                                    
004046   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
004048   ffe0                                                                                                               
00404a   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
00404c   ffd8                                                                                                               
00404e   0010     RETFIE    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //////// JUST FOR TESTING - DELETE                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004050   cfd9     MOVFF     0xfd9,0xfe6    void fill_stack(void)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004052   ffe6                                                                                                               
004054   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004056   ffd9                                                                                                               
004058   0e02     MOVLW     0x2                                                                                             
00405a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405c   6ade     CLRF      0xde,0x0         UINT8 * stackPtr = (UINT8 *)0x000;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405e   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             _asm                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004060   cfe2     MOVFF     0xfe2,0x4d1        MOVFF FSR1H, tempStackPointerHigh                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004062   f4d1                                                                                                               
004064   cfe1     MOVFF     0xfe1,0x4d2        MOVFF FSR1L, tempStackPointerLow                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004066   f4d2                                                                                                               
                                             _endasm                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004068   c4d1     MOVFF     0x4d1,0x4e       tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406a   f04e                                                                                                               
00406c   c04e     MOVFF     0x4e,0x4f                                                                                       
00406e   f04f                                                                                                               
004070   6a4e     CLRF      0x4e,0x0                                                                                        
004072   0104     MOVLB     0x4                                                                                             
004074   51d2     MOVF      0xd2,0x0,0x1                                                                                    
004076   0104     MOVLB     0x4                                                                                             
004078   104e     IORWF     0x4e,0x0,0x0                                                                                    
00407a   6fd3     MOVWF     0xd3,0x1                                                                                        
00407c   c04f     MOVFF     0x4f,0x4d4                                                                                      
00407e   f4d4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004080   c4d3     MOVFF     0x4d3,0xfde      stackPtr = (UINT8 *)tempStackPointer;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004082   ffde                                                                                                               
004084   c4d4     MOVFF     0x4d4,0xfdd                                                                                     
004086   ffdd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004088   0e08     MOVLW     0x8              stackPtr += 8;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408a   26de     ADDWF     0xde,0x1,0x0                                                                                    
00408c   0e00     MOVLW     0x0                                                                                             
00408e   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004090   cfd9     MOVFF     0xfd9,0xfe9      while ((UINT16)stackPtr <= 0xEBFu)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004092   ffe9                                                                                                               
004094   cfda     MOVFF     0xfda,0xfea                                                                                     
004096   ffea                                                                                                               
004098   0ebf     MOVLW     0xbf                                                                                            
00409a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00409c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00409e   0e0e     MOVLW     0xe                                                                                             
0040a0   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
0040a2   e30b     BNC       0x40ba                                                                                          
0040b8   d7eb     BRA       0x4090                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a4   cfde     MOVFF     0xfde,0xfe9        *stackPtr = 0xEE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a6   ffe9                                                                                                               
0040a8   cfdd     MOVFF     0xfdd,0xfea                                                                                     
0040aa   ffea                                                                                                               
0040ac   0eee     MOVLW     0xee                                                                                            
0040ae   6eef     MOVWF     0xef,0x0                                                                                        
0040b0   2adf     INCF      0xdf,0x1,0x0       stackPtr++;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040b2   0e01     MOVLW     0x1                                                                                             
0040b4   e301     BNC       0x40b8                                                                                          
0040b6   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ba   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040bc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0040be   e202     BC        0x40c4                                                                                          
0040c0   6ae1     CLRF      0xe1,0x0                                                                                        
0040c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040c4   6ee1     MOVWF     0xe1,0x0                                                                                        
0040c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040c8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0040ca   ffd9                                                                                                               
0040cc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Walk backwards in the stack RAM section looking of 0xEEs. When we stop        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // seeing them, then we know that's the highest value of the stack to this point. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Print that location out.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ce   eccf     CALL      0x679e,0x0     void check_high_water(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d0   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 nib2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d2   0ebf     MOVLW     0xbf             UINT8 * stackPtr = (UINT8 *)0xEBF;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d4   6ef3     MOVWF     0xf3,0x0                                                                                        
0040d6   0e01     MOVLW     0x1                                                                                             
0040d8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0040da   ffdb                                                                                                               
0040dc   0e0e     MOVLW     0xe                                                                                             
0040de   6ef3     MOVWF     0xf3,0x0                                                                                        
0040e0   0e02     MOVLW     0x2                                                                                             
0040e2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0040e4   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e6   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts off                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e8   0e01     MOVLW     0x1              while (*stackPtr == 0xEE)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0040ec   ffe9                                                                                                               
0040ee   0e02     MOVLW     0x2                                                                                             
0040f0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0040f2   ffea                                                                                                               
0040f4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0040f6   08ee     SUBLW     0xee                                                                                            
0040f8   e106     BNZ       0x4106                                                                                          
004104   d7f1     BRA       0x40e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040fa   0e01     MOVLW     0x1                stackPtr--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040fc   06db     DECF      0xdb,0x1,0x0                                                                                    
0040fe   0e02     MOVLW     0x2                                                                                             
004100   e2f3     BC        0x40e8                                                                                          
004102   06db     DECF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004106   ec9d     CALL      0x653a,0x0       if ((UINT16)stackPtr > gStackHighWater)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004108   f032                                                                                                               
00410a   0104     MOVLB     0x4                                                                                             
00410c   504e     MOVF      0x4e,0x0,0x0                                                                                    
00410e   5dcd     SUBWF     0xcd,0x0,0x1                                                                                    
004110   504f     MOVF      0x4f,0x0,0x0                                                                                    
004112   59ce     SUBWFB    0xce,0x0,0x1                                                                                    
004114   e206     BC        0x4122                                                                                          
00653a   0e01     MOVLW     0x1                                                                                             
00653c   cfdb     MOVFF     0xfdb,0x4e                                                                                      
00653e   f04e                                                                                                               
006540   0e02     MOVLW     0x2                                                                                             
006542   cfdb     MOVFF     0xfdb,0x4f                                                                                      
006544   f04f                                                                                                               
006546   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004116   0e01     MOVLW     0x1                gStackHighWater = (UINT16)stackPtr;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004118   cfdb     MOVFF     0xfdb,0x4cd                                                                                     
00411a   f4cd                                                                                                               
00411c   0e02     MOVLW     0x2                                                                                             
00411e   cfdb     MOVFF     0xfdb,0x4ce                                                                                     
004120   f4ce                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004122   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004124   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004126   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004128   e202     BC        0x412e                                                                                          
00412a   6ae1     CLRF      0xe1,0x0                                                                                        
00412c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00412e   6ee1     MOVWF     0xe1,0x0                                                                                        
004130   ef9b     GOTO      0x6336                                                                                          
004132   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///////                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004134   ecdb     CALL      0x67b6,0x0     void UserInit(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004136   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of 3 digital inputs                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004138   6a89     CLRF      0x89,0x0         LATA = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413a   6892     SETF      0x92,0x0         TRISA = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn all analog inputs into digital inputs                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON1 = 0x0F;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off the ADC                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON0bits.ADON = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off our own idea of how many analog channels to convert                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413c   0104     MOVLB     0x4              AnalogEnabledChannels = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413e   6b8e     CLRF      0x8e,0x1                                                                                        
004140   6b8f     CLRF      0x8f,0x1                                                                                        
                                             // Make all of PORTB inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004142   6a8a     CLRF      0x8a,0x0         LATB = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004144   6893     SETF      0x93,0x0         TRISB = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of PORTC inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004146   6a8b     CLRF      0x8b,0x0         LATC = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004148   6894     SETF      0x94,0x0         TRISC = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize LED I/Os to outputs                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414a   968c     BCF       0x8c,0x3,0x0     mInitAllLEDs();                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414c   948c     BCF       0x8c,0x2,0x0                                                                                    
00414e   9695     BCF       0x95,0x3,0x0                                                                                    
004150   9495     BCF       0x95,0x2,0x0                                                                                    
                                             // Initialize switch as an input                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004152   8e92     BSF       0x92,0x7,0x0     mInitSwitch();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Start off always using "OK" acknowledge.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004154   0e01     MOVLW     0x1              g_ack_enable = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004156   6fbd     MOVWF     0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This has been missing for a long time and created problems on boot if not   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // set to zero.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004158   6b84     CLRF      0x84,0x1         error_byte = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize all of the ISR FIFOs                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415a   6b82     CLRF      0x82,0x1         ISR_A_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415c   6b81     CLRF      0x81,0x1         ISR_A_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415e   6b83     CLRF      0x83,0x1         ISR_A_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004160   6b7d     CLRF      0x7d,0x1         ISR_D_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004162   6b7c     CLRF      0x7c,0x1         ISR_D_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004164   6b7e     CLRF      0x7e,0x1         ISR_D_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make sure that our timer stuff starts out disabled                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004166   6b7a     CLRF      0x7a,0x1         ISR_D_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004168   6b7b     CLRF      0x7b,0x1                                                                                        
00416a   6b7f     CLRF      0x7f,0x1         ISR_A_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00416c   6b80     CLRF      0x80,0x1                                                                                        
00416e   6b88     CLRF      0x88,0x1         D_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004170   6b89     CLRF      0x89,0x1                                                                                        
004172   6b8a     CLRF      0x8a,0x1         A_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004174   6b8b     CLRF      0x8b,0x1                                                                                        
004176   6b8c     CLRF      0x8c,0x1         A_cur_channel = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now init our registers                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize Timer4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The prescaler will be at 16                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004178   8276     BSF       0x76,0x1,0x0     T4CONbits.T4CKPS1 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417a   8076     BSF       0x76,0x0,0x0     T4CONbits.T4CKPS0 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We want the TMR4 post scaler to be a 3                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417c   9c76     BCF       0x76,0x6,0x0     T4CONbits.T4OUTPS3 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417e   9a76     BCF       0x76,0x5,0x0     T4CONbits.T4OUTPS2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004180   8876     BSF       0x76,0x4,0x0     T4CONbits.T4OUTPS1 = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004182   9676     BCF       0x76,0x3,0x0     T4CONbits.T4OUTPS0 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set our reload value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004184   0efa     MOVLW     0xfa             PR4 = kPR4_RELOAD;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004186   6e77     MOVWF     0x77,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up the Analog to Digital converter                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the FIFO data                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004188   6ade     CLRF      0xde,0x0         for (i = 0; i < 16u; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00418a   6add     CLRF      0xdd,0x0                                                                                        
00418c   ec60     CALL      0x64c0,0x0                                                                                      
00418e   f032                                                                                                               
004190   0e10     MOVLW     0x10                                                                                            
004192   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004194   0e00     MOVLW     0x0                                                                                             
004196   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
004198   e213     BC        0x41c0                                                                                          
0041b6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0041b8   0e01     MOVLW     0x1                                                                                             
0041ba   e3e8     BNC       0x418c                                                                                          
0041bc   2adb     INCF      0xdb,0x1,0x0                                                                                    
0041be   d7e6     BRA       0x418c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419a   ec65     CALL      0x64ca,0x0         ISR_A_FIFO[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419c   f032                                                                                                               
00419e   0e01     MOVLW     0x1                                                                                             
0041a0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0041a2   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0041a4   36ea     RLCF      0xea,0x1,0x0                                                                                    
0041a6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0041a8   e1fb     BNZ       0x41a0                                                                                          
0041aa   0e00     MOVLW     0x0                                                                                             
0041ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0041ae   0e01     MOVLW     0x1                                                                                             
0041b0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0041b2   6aee     CLRF      0xee,0x0                                                                                        
0041b4   6aed     CLRF      0xed,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize USB TX and RX buffer management                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c0   0104     MOVLB     0x4              g_RX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c2   6bb7     CLRF      0xb7,0x1                                                                                        
0041c4   6bb8     CLRF      0xb8,0x1         g_RX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c6   6bb5     CLRF      0xb5,0x1         g_TX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c8   6bb6     CLRF      0xb6,0x1         g_TX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ca   6ade     CLRF      0xde,0x0         for (i=0; i < kTX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041cc   6add     CLRF      0xdd,0x0                                                                                        
0041ce   ec6c     CALL      0x66d8,0x0                                                                                      
0041d0   f033                                                                                                               
0041d2   e20a     BC        0x41e8                                                                                          
0041e2   e3f5     BNC       0x41ce                                                                                          
0041e4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0041e6   d7f3     BRA       0x41ce                                                                                          
0066d8   def3     RCALL     0x64c0                                                                                          
0066da   0e40     MOVLW     0x40                                                                                            
0066dc   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0066de   0e00     MOVLW     0x0                                                                                             
0066e0   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0066e2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d4   ec65     CALL      0x64ca,0x0         g_TX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d6   f032                                                                                                               
0041d8   0e00     MOVLW     0x0                                                                                             
0041da   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0041dc   0e02     MOVLW     0x2                                                                                             
0041de   ecc7     CALL      0x658e,0x0                                                                                      
0041e0   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e8   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_COMMAND_BUF_SIZE; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ea   6add     CLRF      0xdd,0x0                                                                                        
0041ec   ec6c     CALL      0x66d8,0x0                                                                                      
0041ee   f033                                                                                                               
0041f0   e20a     BC        0x4206                                                                                          
004200   e3f5     BNC       0x41ec                                                                                          
004202   2adb     INCF      0xdb,0x1,0x0                                                                                    
004204   d7f3     BRA       0x41ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f2   ec65     CALL      0x64ca,0x0         g_RX_command_buf[i] = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f4   f032                                                                                                               
0041f6   0e40     MOVLW     0x40                                                                                            
0041f8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0041fa   0e02     MOVLW     0x2                                                                                             
0041fc   ecc7     CALL      0x658e,0x0                                                                                      
0041fe   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004206   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004208   6add     CLRF      0xdd,0x0                                                                                        
00420a   ec60     CALL      0x64c0,0x0                                                                                      
00420c   f032                                                                                                               
00420e   0e00     MOVLW     0x0                                                                                             
004210   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004212   0e01     MOVLW     0x1                                                                                             
004214   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
004216   e20a     BC        0x422c                                                                                          
004226   e3f1     BNC       0x420a                                                                                          
004228   2adb     INCF      0xdb,0x1,0x0                                                                                    
00422a   d7ef     BRA       0x420a                                                                                          
006592   2adf     INCF      0xdf,0x1,0x0                                                                                    
006594   0e01     MOVLW     0x1                                                                                             
006596   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004218   ec65     CALL      0x64ca,0x0         g_RX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421a   f032                                                                                                               
00421c   0e00     MOVLW     0x0                                                                                             
00421e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004220   0e03     MOVLW     0x3                                                                                             
004222   ecc7     CALL      0x658e,0x0                                                                                      
004224   f032                                                                                                               
00658e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006590   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And the USART TX and RX buffer management                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00422c   0104     MOVLB     0x4              g_USART_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00422e   6bb9     CLRF      0xb9,0x1                                                                                        
004230   6bba     CLRF      0xba,0x1         g_USART_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004232   6bbb     CLRF      0xbb,0x1         g_USART_TX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004234   6bbc     CLRF      0xbc,0x1         g_USART_TX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the RC servo output pointer values                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004236   6b85     CLRF      0x85,0x1         g_RC_primed_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004238   6b86     CLRF      0x86,0x1         g_RC_next_ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423a   6b87     CLRF      0x87,0x1         g_RC_timing_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on band-gap                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423c   010f     MOVLB     0xf              ANCON1bits.VBGEN = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423e   8f49     BSF       0x49,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up ADCON1 options                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A/D Result right justified                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Normal A/D (no calibration)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Acq time = 20 Tad (?)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Tad = Fosc/64                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004240   0ebe     MOVLW     0xbe             ADCON1 = 0b10111110;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004242   6ec1     MOVWF     0xc1,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Enable interrupt priorities                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004244   8ed0     BSF       0xd0,0x7,0x0     RCONbits.IPEN = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004246   9476     BCF       0x76,0x2,0x0     T4CONbits.TMR4ON = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004248   86a3     BSF       0xa3,0x3,0x0     PIE3bits.TMR4IE = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424a   96a5     BCF       0xa5,0x3,0x0     IPR3bits.TMR4IP = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Call the ebb init function to setup whatever it needs                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424c   ecc0     CALL      0x1980,0x0       EBB_Init();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424e   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004250   ec9e     CALL      0x753c,0x0       RCServo2_Init();                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004252   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on the Timer4                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004254   8476     BSF       0x76,0x2,0x0     T4CONbits.TMR4ON = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If there's a name in FLASH for us, copy it over to the USB Device           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor before we enumerate                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004256   ec33     CALL      0x5c66,0x0       populateDeviceStringWithName();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004258   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out limit switch variables                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00425a   0104     MOVLB     0x4              gLimitSwitchPortB = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00425c   6bc9     CLRF      0xc9,0x1                                                                                        
00425e   6bca     CLRF      0xca,0x1         gLimitSwitchReplies = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004260   6bcb     CLRF      0xcb,0x1         gLimitSwitchReplyPrinted = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004262   6bcc     CLRF      0xcc,0x1         gCommandChecksumRequired = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004264   6a0e     CLRF      0xe,0x0          gLimitSwitchTriggered = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out pulse variables                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulsesOn = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[1] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[2] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[3] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[1] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[2] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[3] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[2] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[3] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004266   6bbe     CLRF      0xbe,0x1         gRCServoPoweroffCounterMS = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004268   6bbf     CLRF      0xbf,0x1                                                                                        
00426a   6bc0     CLRF      0xc0,0x1                                                                                        
00426c   6bc1     CLRF      0xc1,0x1                                                                                        
00426e   0e60     MOVLW     0x60             gRCServoPoweroffCounterReloadMS = RCSERVO_POWEROFF_DEFAULT_MS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004270   6fc2     MOVWF     0xc2,0x1                                                                                        
004272   0eea     MOVLW     0xea                                                                                            
004274   6fc3     MOVWF     0xc3,0x1                                                                                        
004276   6bc4     CLRF      0xc4,0x1                                                                                        
004278   6bc5     CLRF      0xc5,0x1                                                                                        
00427a   0e01     MOVLW     0x1              gAutomaticMotorEnable = TRUE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427c   6fc6     MOVWF     0xc6,0x1                                                                                        
00427e   6bcd     CLRF      0xcd,0x1         gStackHighWater = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004280   6bce     CLRF      0xce,0x1                                                                                        
004282   6b92     CLRF      0x92,0x1         g_PowerMonitorThresholdADC = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004284   6b93     CLRF      0x93,0x1                                                                                        
004286   6b96     CLRF      0x96,0x1         g_StepperDisableTimeoutS = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004288   6b97     CLRF      0x97,0x1                                                                                        
00428a   6b98     CLRF      0x98,0x1         g_StepperDisableSecondCounter = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00428c   6b99     CLRF      0x99,0x1                                                                                        
00428e   6b9a     CLRF      0x9a,0x1         g_StepperDisableCountdownS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004290   6b9b     CLRF      0x9b,0x1                                                                                        
004292   6b95     CLRF      0x95,0x1         g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004294   6b94     CLRF      0x94,0x1         g_PowerDropDetected = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004296   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004298   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429a   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00429e   e202     BC        0x42a4                                                                                          
0042a0   6ae1     CLRF      0xe1,0x0                                                                                        
0042a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0042a4   6ee1     MOVWF     0xe1,0x0                                                                                        
0042a6   ef9b     GOTO      0x6336                                                                                          
0042a8   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void ProcessIO(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        In this function, we check for a new packet that just        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  arrived via USB. We do a few checks on the packet to see     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  if it is worthy of us trying to interpret it. If it is,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  we go and call the proper function based upon the first      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  character of the packet.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  NOTE: We need to see everything in one packet (i.e. we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  won't treat the USB data as a stream and try to find our     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  start and end of packets within the stream. We just look     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  at the first character of each packet for a command and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  check that there's a CR as the last character of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  packet.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042aa   ec96     CALL      0x632c,0x0     void ProcessIO(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ac   f031                                                                                                               
0042ae   0e05     MOVLW     0x5                                                                                             
0042b0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BOOL in_cr = FALSE;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BYTE last_fifo_size;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char button_state = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned int button_ctr = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             BYTE i;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b2   eca4     CALL      0x6548,0x0       BOOL done = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b4   f032                                                                                                               
006548   0e01     MOVLW     0x1                                                                                             
00654a   6adb     CLRF      0xdb,0x0                                                                                        
00654c   0e02     MOVLW     0x2              unsigned char rx_bytes = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00654e   6adb     CLRF      0xdb,0x0                                                                                        
006550   0e03     MOVLW     0x3              unsigned char byte_cnt = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006552   6adb     CLRF      0xdb,0x0                                                                                        
006554   0012     RETURN    0x0                                                                                             
                                             unsigned char tst_char;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b6   ecb0     CALL      0x6160,0x0       BlinkUSBStatus();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b8   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any new I packets (from T command) ready to go out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ba   0104     MOVLB     0x4              while (ISR_D_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042bc   517e     MOVF      0x7e,0x0,0x1                                                                                    
0042be   0800     SUBLW     0x0                                                                                             
0042c0   e20a     BC        0x42d6                                                                                          
0042d4   d7f2     BRA       0x42ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an I packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c2   ecc7     CALL      0x558e,0x0         parse_I_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c4   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our I packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c6   0104     MOVLB     0x4                ISR_D_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c8   2b7d     INCF      0x7d,0x1,0x1                                                                                    
0042ca   0e03     MOVLW     0x3                if (ISR_D_FIFO_out == kISR_FIFO_D_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042cc   5d7d     SUBWF     0x7d,0x0,0x1                                                                                    
0042ce   e101     BNZ       0x42d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d0   6b7d     CLRF      0x7d,0x1             ISR_D_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d2   077e     DECF      0x7e,0x1,0x1       ISR_D_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for a new A packet (from T command) ready to go out                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d6   5183     MOVF      0x83,0x0,0x1     while (ISR_A_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d8   0800     SUBLW     0x0                                                                                             
0042da   e20a     BC        0x42f0                                                                                          
0042ee   d7f3     BRA       0x42d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an A packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042dc   ece4     CALL      0x55c8,0x0         parse_A_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042de   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our A packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e0   0104     MOVLB     0x4                ISR_A_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e2   2b82     INCF      0x82,0x1,0x1                                                                                    
0042e4   0e03     MOVLW     0x3                if (ISR_A_FIFO_out == kISR_FIFO_A_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e6   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0042e8   e101     BNZ       0x42ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ea   6b82     CLRF      0x82,0x1             ISR_A_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ec   0783     DECF      0x83,0x1,0x1       ISR_A_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail from here if we're not 'plugged in' to a PC or we're suspended         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if(                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f0   0e20     MOVLW     0x20               (USBDeviceState < CONFIGURED_STATE)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f2   0105     MOVLB     0x5                                                                                             
0042f4   6ee7     MOVWF     0xe7,0x0                                                                                        
0042f6   19bc     XORWF     0xbc,0x0,0x1                                                                                    
0042f8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0042fa   d002     BRA       0x4300                                                                                          
0042fc   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0042fe   d002     BRA       0x4304                                                                                          
004300   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004302   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (USBSuspendControl == 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004304   e201     BC        0x4308           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004306   d0e5     BRA       0x44d2                                                                                          
004308   5065     MOVF      0x65,0x0,0x0                                                                                    
00430a   0b02     ANDLW     0x2                                                                                             
00430c   e001     BZ        0x4310                                                                                          
00430e   d0e1     BRA       0x44d2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Pull in some new data if there is new data to pull in                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And we aren't waiting for the current move to finish                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004310   0e40     MOVLW     0x40             rx_bytes = getsUSBUSART((char *)g_RX_command_buf, kRX_COMMAND_BUF_SIZE);       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004312   6ee6     MOVWF     0xe6,0x0                                                                                        
004314   0e40     MOVLW     0x40                                                                                            
004316   6ee6     MOVWF     0xe6,0x0                                                                                        
004318   0e02     MOVLW     0x2                                                                                             
00431a   6ee6     MOVWF     0xe6,0x0                                                                                        
00431c   ec94     CALL      0x7f28,0x0                                                                                      
00431e   f03f                                                                                                               
004320   ecd7     CALL      0x67ae,0x0                                                                                      
004322   f033                                                                                                               
004324   6ee7     MOVWF     0xe7,0x0                                                                                        
004326   0e02     MOVLW     0x2                                                                                             
004328   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00432a   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00432c   50db     MOVF      0xdb,0x0,0x0     if (rx_bytes > 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00432e   0800     SUBLW     0x0                                                                                             
004330   e274     BC        0x441a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004332   0e03     MOVLW     0x3                for (byte_cnt = 0; byte_cnt < rx_bytes; byte_cnt++)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004334   6adb     CLRF      0xdb,0x0                                                                                        
004336   0e02     MOVLW     0x2                                                                                             
004338   50db     MOVF      0xdb,0x0,0x0                                                                                    
00433a   6ef3     MOVWF     0xf3,0x0                                                                                        
00433c   0e03     MOVLW     0x3                                                                                             
00433e   ec6a     CALL      0x64d4,0x0                                                                                      
004340   f032                                                                                                               
004342   e26b     BC        0x441a                                                                                          
004414   0e03     MOVLW     0x3                                                                                             
004416   2adb     INCF      0xdb,0x1,0x0                                                                                    
004418   d78e     BRA       0x4336                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004344   0e03     MOVLW     0x3                  tst_char = g_RX_command_buf[byte_cnt];                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004346   50db     MOVF      0xdb,0x0,0x0                                                                                    
004348   6aea     CLRF      0xea,0x0                                                                                        
00434a   0f40     ADDLW     0x40                                                                                            
00434c   6ee9     MOVWF     0xe9,0x0                                                                                        
00434e   0e02     MOVLW     0x2                                                                                             
004350   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004352   0e04     MOVLW     0x4                                                                                             
004354   cfef     MOVFF     0xfef,0xfdb                                                                                     
004356   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004358   a809     BTFSS     0x9,0x4,0x0          if (bittst(TestMode, TEST_MODE_USART_COMMAND_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435a   d005     BRA       0x4366                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435c   cfdb     MOVFF     0xfdb,0xfe6            Write1USART(tst_char);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435e   ffe6                                                                                                               
004360   ecfc     CALL      0x8ff8,0x0                                                                                      
004362   f047                                                                                                               
004364   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check to see if we are in a CR/LF situation                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004366   0101     MOVLB     0x1                    !in_cr                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004368   5178     MOVF      0x78,0x0,0x1                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   (                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436c   0e0d     MOVLW     0xd                      kCR == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436e   6e4e     MOVWF     0x4e,0x0                                                                                        
004370   0e04     MOVLW     0x4                                                                                             
004372   50db     MOVF      0xdb,0x0,0x0                                                                                    
004374   5c4e     SUBWF     0x4e,0x0,0x0             ||                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004378   0e0a     MOVLW     0xa                      kLF == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437a   6e4f     MOVWF     0x4f,0x0                                                                                        
00437c   0e04     MOVLW     0x4                                                                                             
00437e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004376   e006     BZ        0x4384                 )                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004380   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
004382   e111     BNZ       0x43a6                                                                                          
00436a   e11d     BNZ       0x43a6               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004384   0e01     MOVLW     0x1                    in_cr = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004386   6f78     MOVWF     0x78,0x1                                                                                        
004388   0104     MOVLB     0x4                    g_RX_buf[g_RX_buf_in] = kCR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438a   ec84     CALL      0x6508,0x0                                                                                      
00438c   f032                                                                                                               
00438e   0e0d     MOVLW     0xd                                                                                             
004390   6eef     MOVWF     0xef,0x0                                                                                        
004392   2bb7     INCF      0xb7,0x1,0x1           g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // At this point, we know we have a full packet                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // of information from the PC to parse                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, if we've gotten a full command (user send <CR>) then             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // go call the code that deals with that command, and then               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // keep parsing. (This allows multiple small commands per packet)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004394   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004396   808b     BSF       0x8b,0x0,0x0             LATCbits.LATC0 = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004398   d8f9     RCALL     0x458c                 parse_packet();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439a   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439c   908b     BCF       0x8b,0x0,0x0             LATCbits.LATC0 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439e   0104     MOVLB     0x4                    g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a0   6bb7     CLRF      0xb7,0x1                                                                                        
0043a2   6bb8     CLRF      0xb8,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a4   d02a     BRA       0x43fa               else if (tst_char == 8u && g_RX_buf_in > 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a6   0e04     MOVLW     0x4                                                                                             
0043a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0043aa   0808     SUBLW     0x8                                                                                             
0043ac   e10e     BNZ       0x43ca                                                                                          
0043ae   0104     MOVLB     0x4                                                                                             
0043b0   51b7     MOVF      0xb7,0x0,0x1                                                                                    
0043b2   0800     SUBLW     0x0                                                                                             
0043b4   e20a     BC        0x43ca                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Handle the backspace thing                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b6   07b7     DECF      0xb7,0x1,0x1           g_RX_buf_in--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b8   ec84     CALL      0x6508,0x0             g_RX_buf[g_RX_buf_in] = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ba   f032                                                                                                               
0043bc   6aef     CLRF      0xef,0x0                                                                                        
0043be   0ecf     MOVLW     0xcf                   ebb_print((far rom char *)" \b");                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c0   6e4e     MOVWF     0x4e,0x0                                                                                        
0043c2   0e84     MOVLW     0x84                                                                                            
0043c4   ec7a     CALL      0x62f4,0x0                                                                                      
0043c6   f031                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c8   d018     BRA       0x43fa               else if (                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ca   0e04     MOVLW     0x4                    tst_char != kCR                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043cc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0043ce   080d     SUBLW     0xd                    &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d2   0e04     MOVLW     0x4                    tst_char != kLF                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0043d0   e014     BZ        0x43fa                 &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d6   080a     SUBLW     0xa                                                                                             
0043d8   e010     BZ        0x43fa                                                                                          
0043da   0e20     MOVLW     0x20                   tst_char >= 32u                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043dc   6ef3     MOVWF     0xf3,0x0             )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043de   0e04     MOVLW     0x4                                                                                             
0043e0   ec6a     CALL      0x64d4,0x0                                                                                      
0043e2   f032                                                                                                               
0043e4   e30a     BNC       0x43fa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only add a byte if it is not a CR or LF                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e6   0104     MOVLB     0x4                    g_RX_buf[g_RX_buf_in] = tst_char;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e8   ec84     CALL      0x6508,0x0                                                                                      
0043ea   f032                                                                                                               
0043ec   0e04     MOVLW     0x4                                                                                             
0043ee   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0043f0   ffef                                                                                                               
006508   51b7     MOVF      0xb7,0x0,0x1                                                                                    
00650a   ef0e     GOTO      0x661c                                                                                          
00650c   f033                                                                                                               
00661c   6aea     CLRF      0xea,0x0                                                                                        
00661e   0f00     ADDLW     0x0                                                                                             
006620   6ee9     MOVWF     0xe9,0x0                                                                                        
006622   0e03     MOVLW     0x3                                                                                             
006624   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006626   0012     RETURN    0x0                                                                                             
0043f2   0101     MOVLB     0x1                    in_cr = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f4   6b78     CLRF      0x78,0x1                                                                                        
0043f6   0104     MOVLB     0x4                    g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f8   2bb7     INCF      0xb7,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check for buffer wraparound                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fa   0104     MOVLB     0x4                  if (kRX_BUF_SIZE == g_RX_buf_in)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fc   51b7     MOVF      0xb7,0x0,0x1                                                                                    
0043fe   6e4e     MOVWF     0x4e,0x0                                                                                        
004400   6a4f     CLRF      0x4f,0x0                                                                                        
004402   0e00     MOVLW     0x0                                                                                             
004404   184e     XORWF     0x4e,0x0,0x0                                                                                    
004406   e106     BNZ       0x4414                                                                                          
004408   0e01     MOVLW     0x1                                                                                             
00440a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00440c   e103     BNZ       0x4414                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440e   8784     BSF       0x84,0x3,0x1           bitset(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004410   6bb7     CLRF      0xb7,0x1               g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004412   6bb8     CLRF      0xb8,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any errors logged in error_byte that need to be sent out          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00441a   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00441c   5184     MOVF      0x84,0x0,0x1                                                                                    
00441e   e039     BZ        0x4492                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004420   a184     BTFSS     0x84,0x0,0x1       if (bittstzero(error_byte))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004422   d005     BRA       0x442e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004424   0ecb     MOVLW     0xcb                 ebb_print((far rom char *)"!0 ");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004426   6e4e     MOVWF     0x4e,0x0                                                                                        
004428   0e84     MOVLW     0x84                                                                                            
00442a   ec06     CALL      0x660c,0x0                                                                                      
00442c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_STEPS_TO_FAST))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004430   a384     BTFSS     0x84,0x1,0x1                                                                                    
004432   d005     BRA       0x443e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Unused as of yet                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004434   0eae     MOVLW     0xae                 ebb_print((far rom char *)"!1 Err: Can't step that fast");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004436   6e4e     MOVWF     0x4e,0x0                                                                                        
004438   0e84     MOVLW     0x84                                                                                            
00443a   ec06     CALL      0x660c,0x0                                                                                      
00443c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_TX_BUF_OVERRUN))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004440   a584     BTFSS     0x84,0x2,0x1                                                                                    
004442   d005     BRA       0x444e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004444   0e94     MOVLW     0x94                 ebb_print((far rom char *)"!2 Err: TX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004446   6e4e     MOVWF     0x4e,0x0                                                                                        
004448   0e84     MOVLW     0x84                                                                                            
00444a   ec06     CALL      0x660c,0x0                                                                                      
00444c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00444e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004450   a784     BTFSS     0x84,0x3,0x1                                                                                    
004452   d005     BRA       0x445e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004454   0e7a     MOVLW     0x7a                 ebb_print((far rom char *)"!3 Err: RX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004456   6e4e     MOVWF     0x4e,0x0                                                                                        
004458   0e84     MOVLW     0x84                                                                                            
00445a   ec06     CALL      0x660c,0x0                                                                                      
00445c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_MISSING_PARAMETER))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004460   a984     BTFSS     0x84,0x4,0x1                                                                                    
004462   d005     BRA       0x446e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004464   0e5d     MOVLW     0x5d                 ebb_print((far rom char *)"!4 Err: Missing parameter(s)");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004466   6e4e     MOVWF     0x4e,0x0                                                                                        
004468   0e84     MOVLW     0x84                                                                                            
00446a   ec06     CALL      0x660c,0x0                                                                                      
00446c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_PRINTED_ERROR))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We don't need to do anything since something has already been printed out D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //printf ((rom char *)"!5");                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004470   ad84     BTFSS     0x84,0x6,0x1       if (bittst(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004472   d005     BRA       0x447e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004474   0e3d     MOVLW     0x3d                 ebb_print((far rom char *)"!6 Err: Invalid parameter value");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004476   6e4e     MOVWF     0x4e,0x0                                                                                        
004478   0e84     MOVLW     0x84                                                                                            
00447a   ec06     CALL      0x660c,0x0                                                                                      
00447c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00447e   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_EXTRA_CHARACTERS))                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004480   af84     BTFSS     0x84,0x7,0x1                                                                                    
004482   d005     BRA       0x448e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004484   0e25     MOVLW     0x25                 ebb_print((far rom char *)"!7 Err: Extra parameter");                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004486   6e4e     MOVWF     0x4e,0x0                                                                                        
004488   0e84     MOVLW     0x84                                                                                            
00448a   ec06     CALL      0x660c,0x0                                                                                      
00448c   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448e   0104     MOVLB     0x4                error_byte = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004490   6b84     CLRF      0x84,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we need to print out a "Limit switch triggered" packet to the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004492   51ca     MOVF      0xca,0x0,0x1     if (gLimitSwitchReplies)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004494   e01d     BZ        0x44d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004496   0e01     MOVLW     0x1                if (bittstzero(gLimitSwitchTriggered) && !gLimitSwitchReplyPrinted)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004498   140e     ANDWF     0xe,0x0,0x0                                                                                     
00449a   e014     BZ        0x44c4                                                                                          
00449c   51cb     MOVF      0xcb,0x0,0x1                                                                                    
00449e   e112     BNZ       0x44c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a0   0e06     MOVLW     0x6                  ebb_print((far rom char *)"Limit switch triggered. PortB=");               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a2   6e4e     MOVWF     0x4e,0x0                                                                                        
0044a4   0e84     MOVLW     0x84                                                                                            
0044a6   ec7a     CALL      0x62f4,0x0                                                                                      
0044a8   f031                                                                                                               
                                                 // We want 2 characters of hex                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044aa   0e02     MOVLW     0x2                  ebb_print_hex(gLimitSwitchPortB, 2);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0044ae   c4c9     MOVFF     0x4c9,0x4e                                                                                      
0044b0   f04e                                                                                                               
0044b2   6a4f     CLRF      0x4f,0x0                                                                                        
0044b4   eca4     CALL      0x6348,0x0                                                                                      
0044b6   f031                                                                                                               
0044b8   ec84     CALL      0x6308,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ba   f031                                                                                                               
0044bc   0104     MOVLB     0x4                  gLimitSwitchReplyPrinted = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044be   0e01     MOVLW     0x1                                                                                             
0044c0   6fcb     MOVWF     0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c2   d006     BRA       0x44d0             else if (!bittstzero(gLimitSwitchTriggered) && gLimitSwitchReplyPrinted)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c4   0e01     MOVLW     0x1                                                                                             
0044c6   140e     ANDWF     0xe,0x0,0x0                                                                                     
0044c8   e103     BNZ       0x44d0                                                                                          
0044ca   51cb     MOVF      0xcb,0x0,0x1                                                                                    
0044cc   e001     BZ        0x44d0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ce   6bcb     CLRF      0xcb,0x1             gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Go send any data that needs sending to PC                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d0   d837     RCALL     0x4540           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d2   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0044d6   e202     BC        0x44dc                                                                                          
0044d8   6ae1     CLRF      0xe1,0x0                                                                                        
0044da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0044dc   6ee1     MOVWF     0xe1,0x0                                                                                        
0044de   ef9b     GOTO      0x6336                                                                                          
0044e0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This is our replacement for the standard putc routine                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This enables ebb_print() and all related functions to print to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the USB output (i.e. to the PC) buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e2   ec34     CALL      0x6668,0x0     int ebb_putc(char c)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e4   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e6   c4b5     MOVFF     0x4b5,0xfdf      BYTE OldPtr = g_TX_buf_in;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e8   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if adding this byte will cause us to be full                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ea   2adf     INCF      0xdf,0x1,0x0     OldPtr++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ec   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == OldPtr)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ee   ecd8     CALL      0x63b0,0x0                                                                                      
0044f0   f031                                                                                                               
0044f2   e101     BNZ       0x44f6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f4   6adf     CLRF      0xdf,0x0           OldPtr = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If so, then wait until some bytes go away first and make room               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f6   0104     MOVLB     0x4              if (OldPtr == g_TX_buf_out)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f8   51b6     MOVF      0xb6,0x0,0x1                                                                                    
0044fa   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0044fc   e101     BNZ       0x4500                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044fe   d820     RCALL     0x4540             check_and_send_TX_data();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Copy the character into the output buffer                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004500   0104     MOVLB     0x4              g_TX_buf[g_TX_buf_in] = c;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004502   51b5     MOVF      0xb5,0x0,0x1                                                                                    
004504   6aea     CLRF      0xea,0x0                                                                                        
004506   0f00     ADDLW     0x0                                                                                             
004508   6ee9     MOVWF     0xe9,0x0                                                                                        
00450a   0e02     MOVLW     0x2                                                                                             
00450c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00450e   0efe     MOVLW     0xfe                                                                                            
004510   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004512   ffef                                                                                                               
004514   2bb5     INCF      0xb5,0x1,0x1     g_TX_buf_in++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for wrap around                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004516   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004518   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
00451a   e101     BNZ       0x451e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451c   6bb5     CLRF      0xb5,0x1           g_TX_buf_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Also check to see if we bumped up against our output pointer                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451e   51b6     MOVF      0xb6,0x0,0x1     if (g_TX_buf_in == g_TX_buf_out)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004520   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
004522   e101     BNZ       0x4526                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004524   8584     BSF       0x84,0x2,0x1       bitset(error_byte, kERROR_BYTE_TX_BUF_OVERRUN);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004526   0efe     MOVLW     0xfe             return(c);                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004528   cfdb     MOVFF     0xfdb,0x4e                                                                                      
00452a   f04e                                                                                                               
00452c   6a4f     CLRF      0x4f,0x0                                                                                        
00452e   be4e     BTFSC     0x4e,0x7,0x0                                                                                    
004530   684f     SETF      0x4f,0x0                                                                                        
004532   c04e     MOVFF     0x4e,0xff3                                                                                      
004534   fff3                                                                                                               
004536   c04f     MOVFF     0x4f,0xff4                                                                                      
004538   fff4                                                                                                               
00453a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00453c   ef9b     GOTO      0x6336                                                                                          
00453e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In this function, we check to see if we have anything to transmit.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so then we schedule the data for sending.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004540   ec34     CALL      0x6668,0x0     void check_and_send_TX_data(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004542   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             char temp;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only send if there's something there to send                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004544   0104     MOVLB     0x4              if (g_TX_buf_out != g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004546   51b5     MOVF      0xb5,0x0,0x1                                                                                    
004548   5db6     SUBWF     0xb6,0x0,0x1                                                                                    
00454a   e01d     BZ        0x4586                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yes, Microchip says not to do this. We'll be blocking                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // here until there's room in the USB stack to send                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // something new. But without making our buffers huge,                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // I don't know how else to do it.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454c   0105     MOVLB     0x5                while (!USBUSARTIsTxTrfReady())                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454e   51a4     MOVF      0xa4,0x0,0x1                                                                                    
004550   e005     BZ        0x455c                                                                                          
00455a   d7f8     BRA       0x454c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004552   ec20     CALL      0x8040,0x0           CDCTxService();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004554   f040                                                                                                               
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004556   ec65     CALL      0x68ca,0x0           USBDeviceTasks();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004558   f034                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now we know that the stack can transmit some new data                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now decide if we need to break it up into two parts or not                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455c   0104     MOVLB     0x4                if (g_TX_buf_in > g_TX_buf_out)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455e   51b6     MOVF      0xb6,0x0,0x1                                                                                    
004560   80d8     BSF       0xd8,0x0,0x0                                                                                    
004562   55b5     SUBFWB    0xb5,0x0,0x1                                                                                    
004564   e207     BC        0x4574                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is beyond OUT, only need one chunk                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004566   51b6     MOVF      0xb6,0x0,0x1         temp = g_TX_buf_in - g_TX_buf_out;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004568   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
00456a   ec0b     CALL      0x6416,0x0                                                                                      
006416   6edf                                                                                                               
00456c   f032     WORD2     0x32                 putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006418   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00641a   ffe6                                                                                                               
00641c   51b6     MOVF      0xb6,0x0,0x1                                                                                    
00641e   6a4f     CLRF      0x4f,0x0                                                                                        
006420   0f00     ADDLW     0x0                                                                                             
006422   6e4e     MOVWF     0x4e,0x0                                                                                        
006424   0e02     MOVLW     0x2                                                                                             
006426   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
006428   c04e     MOVFF     0x4e,0xfe6                                                                                      
00642a   ffe6                                                                                                               
00642c   c04f     MOVFF     0x4f,0xfe6                                                                                      
00642e   ffe6                                                                                                               
006430   ecd3     CALL      0x7fa6,0x0                                                                                      
006432   f03f                                                                                                               
006434   efd7     GOTO      0x67ae                                                                                          
006436   f033                                                                                                               
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00456e   c4b5     MOVFF     0x4b5,0x4b6          g_TX_buf_out = g_TX_buf_in;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004570   f4b6                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004572   d007     BRA       0x4582             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is before OUT, we need to send from OUT to the end             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // of the buffer, then the next time around we'll catch                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // from the beginning to IN.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004574   0e40     MOVLW     0x40                 temp = kTX_BUF_SIZE - g_TX_buf_out;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004576   80d8     BSF       0xd8,0x0,0x0                                                                                    
004578   55b6     SUBFWB    0xb6,0x0,0x1                                                                                    
00457a   ec0b     CALL      0x6416,0x0                                                                                      
00457c   f032                                    putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00457e   0104     MOVLB     0x4                  g_TX_buf_out = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004580   6bb6     CLRF      0xb6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004582   ec20     CALL      0x8040,0x0         CDCTxService();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004584   f040                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004586   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004588   ef9b     GOTO      0x6336                                                                                          
00458a   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the new packet, see what command it is, and                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // route it appropriately. We come in knowing that                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // our packet is in g_RX_buf[], and that the beginning                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the packet is at g_RX_buf_out, and the end (CR) is at                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in - 1. Note that because of buffer wrapping,                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in may be less than g_RX_buf_out.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // New for v3.0.0: if gCommandChecksumRequired is true, then look at the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the command packet for the checksum, and if it is not there or not         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // correct, error out.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458c   ec96     CALL      0x632c,0x0     void parse_packet(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458e   f031                                                                                                               
004590   0e09     MOVLW     0x9                                                                                             
004592   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004594   6ade     CLRF      0xde,0x0         UINT16 command = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004596   6add     CLRF      0xdd,0x0                                                                                        
004598   0e02     MOVLW     0x2              UINT8 checksum_cmd = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459a   6adb     CLRF      0xdb,0x0                                                                                        
00459c   0e03     MOVLW     0x3              UINT8 checksum_calc = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459e   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT8 checksum_ptr;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a0   0e05     MOVLW     0x5              UINT8 checksum_len = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a2   6adb     CLRF      0xdb,0x0                                                                                        
0045a4   0e01     MOVLW     0x1              BOOL checksumOK = TRUE;   // Starts out true for no checksum case              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a6   6ef3     MOVWF     0xf3,0x0                                                                                        
0045a8   0e06     MOVLW     0x6                                                                                             
0045aa   cff3     MOVFF     0xff3,0xfdb                                                                                     
0045ac   ffdb                                                                                                               
                                             UINT8 old_rx_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ae   0104     MOVLB     0x4              gCommand_Char1 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b0   6bc7     CLRF      0xc7,0x1                                                                                        
0045b2   6bc8     CLRF      0xc8,0x1         gCommand_Char2 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b4   51cc     MOVF      0xcc,0x0,0x1     if (gCommandChecksumRequired)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b6   e101     BNZ       0x45ba                                                                                          
0045b8   d08e     BRA       0x46d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ba   0e06     MOVLW     0x6                checksumOK = FALSE;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045bc   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk backwards from the end of the packet, looking for the first found    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // comma, then read out                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045be   0e04     MOVLW     0x4                checksum_ptr = g_RX_buf_in;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045c0   c4b7     MOVFF     0x4b7,0xfdb                                                                                     
0045c2   ffdb                                                                                                               
0045c4   50db     MOVF      0xdb,0x0,0x0       if (checksum_ptr != 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045c6   e003     BZ        0x45ce                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045c8   0e04     MOVLW     0x4                  checksum_ptr--;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ca   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045cc   d002     BRA       0x45d2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ce   0e04     MOVLW     0x4                  checksum_ptr = kRX_BUF_SIZE - 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d0   68db     SETF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d2   0e04     MOVLW     0x4                while ((g_RX_buf[checksum_ptr] != ',') && (checksum_len < 5u) && (checksum_ptr != g_RX_buf_out)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d4   ec40     CALL      0x6480,0x0                                                                                      
0045d6   f032                                                                                                               
0045d8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0045da   082c     SUBLW     0x2c                                                                                            
0045dc   e016     BZ        0x460a                                                                                          
0045de   0e05     MOVLW     0x5                                                                                             
0045e0   6ef3     MOVWF     0xf3,0x0                                                                                        
0045e2   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0045e4   fff4                                                                                                               
0045e6   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0045e8   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0045ea   e20f     BC        0x460a                                                                                          
0045ec   0e04     MOVLW     0x4                                                                                             
0045ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045f0   5db8     SUBWF     0xb8,0x0,0x1                                                                                    
0045f2   e00b     BZ        0x460a                                                                                          
004608   d7e4     BRA       0x45d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f4   0e04     MOVLW     0x4                  if (checksum_ptr != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045f8   e003     BZ        0x4600                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045fa   0e04     MOVLW     0x4                    checksum_ptr--;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045fc   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045fe   d002     BRA       0x4604               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004600   0e04     MOVLW     0x4                    checksum_ptr = kRX_BUF_SIZE - 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004602   68db     SETF      0xdb,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004604   0e05     MOVLW     0x5                  checksum_len++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004606   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If checksum_ptr isn't on a comma then there is no checksum for sure       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // so let checksumOK stay FALSE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460a   0e04     MOVLW     0x4                if (g_RX_buf[checksum_ptr] == ',')                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460c   ec40     CALL      0x6480,0x0                                                                                      
00460e   f032                                                                                                               
004610   50ef     MOVF      0xef,0x0,0x0                                                                                    
004612   082c     SUBLW     0x2c                                                                                            
004614   e157     BNZ       0x46c4                                                                                          
006480   50db     MOVF      0xdb,0x0,0x0                                                                                    
006482   ef0e     GOTO      0x661c                                                                                          
006484   f033                                                                                                               
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Last parameter found, hopefully it's a checksum. Read it in.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We have to play some games with the buffer index values here            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // since we're extracting a parameter at the very end of the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // before we extract any from the beginning (as part of normal command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // processing)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004616   0e07     MOVLW     0x7                  old_rx_buf_out = g_RX_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004618   c4b8     MOVFF     0x4b8,0xfdb                                                                                     
00461a   ffdb                                                                                                               
00461c   0e04     MOVLW     0x4                  g_RX_buf_out = checksum_ptr;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461e   cfdb     MOVFF     0xfdb,0x4b8                                                                                     
004620   f4b8                                                                                                               
                                                 // We're going to ignore the return value from extract_number() since      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // we'll get a failure anyway since the checksum value won't match.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004622   6ae6     CLRF      0xe6,0x0             extract_number(kUCHAR, &checksum_cmd, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004624   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004626   0f02     ADDLW     0x2                                                                                             
004628   ecd6     CALL      0x65ac,0x0                                                                                      
00462a   f032                                                                                                               
00462c   0e07     MOVLW     0x7                  g_RX_buf_out = old_rx_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00462e   cfdb     MOVFF     0xfdb,0x4b8                                                                                     
004630   f4b8                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Compute the checksum of the packet up to checksum_ptr                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004632   0e08     MOVLW     0x8                  i = g_RX_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004634   c4b8     MOVFF     0x4b8,0xfdb                                                                                     
004636   ffdb                                                                                                               
004638   0e04     MOVLW     0x4                  while(i != checksum_ptr)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00463a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00463c   6ef3     MOVWF     0xf3,0x0                                                                                        
00463e   0e08     MOVLW     0x8                                                                                             
004640   50db     MOVF      0xdb,0x0,0x0                                                                                    
004642   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
004644   e018     BZ        0x4676                                                                                          
004674   d7e1     BRA       0x4638                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004646   0e08     MOVLW     0x8                    checksum_calc += g_RX_buf[i];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004648   ec40     CALL      0x6480,0x0                                                                                      
00464a   f032                                                                                                               
00464c   0e03     MOVLW     0x3                                                                                             
00464e   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
004650   ffe7                                                                                                               
004652   50ef     MOVF      0xef,0x0,0x0                                                                                    
004654   26e7     ADDWF     0xe7,0x1,0x0                                                                                    
004656   0e03     MOVLW     0x3                                                                                             
004658   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00465a   ffdb                                                                                                               
00465c   0e08     MOVLW     0x8                    i++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00465e   2adb     INCF      0xdb,0x1,0x0                                                                                    
004660   50db     MOVF      0xdb,0x0,0x0           if (i == kRX_BUF_SIZE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004662   6e4e     MOVWF     0x4e,0x0                                                                                        
004664   6a4f     CLRF      0x4f,0x0                                                                                        
004666   50e8     MOVF      0xe8,0x0,0x0                                                                                    
004668   e1e7     BNZ       0x4638                                                                                          
00466a   0e01     MOVLW     0x1                                                                                             
00466c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00466e   e1e4     BNZ       0x4638                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004670   0e08     MOVLW     0x8                      i = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004672   6adb     CLRF      0xdb,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004676   0e03     MOVLW     0x3                  checksum_calc = (~checksum_calc)+1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004678   1cdb     COMF      0xdb,0x0,0x0                                                                                    
00467a   0f01     ADDLW     0x1                                                                                             
00467c   6ee7     MOVWF     0xe7,0x0                                                                                        
00467e   0e03     MOVLW     0x3                                                                                             
004680   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004682   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // See if it matches                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004684   0e02     MOVLW     0x2                  if (checksum_calc == checksum_cmd)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004686   50db     MOVF      0xdb,0x0,0x0                                                                                    
004688   6ef3     MOVWF     0xf3,0x0                                                                                        
00468a   0e03     MOVLW     0x3                                                                                             
00468c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00468e   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
004690   e10b     BNZ       0x46a8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // All is good, allow command to proceed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004692   0e01     MOVLW     0x1                    checksumOK = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004694   6ef3     MOVWF     0xf3,0x0                                                                                        
004696   0e06     MOVLW     0x6                                                                                             
004698   cff3     MOVFF     0xff3,0xfdb                                                                                     
00469a   ffdb                                                                                                               
                                                   // Need to fake out the command parsing, make it think the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ends where it expects it to end. It doesn't want to see the comma     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // before the checksum.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00469c   0e04     MOVLW     0x4                    g_RX_buf[checksum_ptr] = kCR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00469e   ec40     CALL      0x6480,0x0                                                                                      
0046a0   f032                                                                                                               
0046a2   0e0d     MOVLW     0xd                                                                                             
0046a4   6eef     MOVWF     0xef,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046a6   d017     BRA       0x46d6               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046a8   0ee0     MOVLW     0xe0                   ebb_print((far rom char *)"!8 Err: Checksum incorrect, expected ");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046aa   6e4e     MOVWF     0x4e,0x0                                                                                        
0046ac   0e83     MOVLW     0x83                                                                                            
0046ae   ec7a     CALL      0x62f4,0x0                                                                                      
0046b0   f031                                                                                                               
0046b2   0e03     MOVLW     0x3                    ebb_print_uint(checksum_calc);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b4   ec80     CALL      0x6500,0x0                                                                                      
0046b6   f032                                                                                                               
0046b8   ecfb     CALL      0x67f6,0x0                                                                                      
0046ba   f033                                                                                                               
0046bc   ecc0     CALL      0x8580,0x0                                                                                      
0046be   f042                                                                                                               
0046c0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046c2   d005     BRA       0x46ce             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046c4   0eb7     MOVLW     0xb7                 ebb_print((far rom char *)"!8 Err: Checksum not found but required.");     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046c6   6e4e     MOVWF     0x4e,0x0                                                                                        
0046c8   0e83     MOVLW     0x83                                                                                            
0046ca   ec2b     CALL      0x6656,0x0                                                                                      
0046cc   f033                                                                                                               
0046ce   ecd7     CALL      0x67ae,0x0                                                                                      
0046d0   f033                                                                                                               
006656   6e4f     MOVWF     0x4f,0x0                                                                                        
006658   6a50     CLRF      0x50,0x0                                                                                        
00665a   c04e     MOVFF     0x4e,0xfe6                                                                                      
00665c   ffe6                                                                                                               
00665e   6ee6     MOVWF     0xe6,0x0                                                                                        
006660   c050     MOVFF     0x50,0xfe6                                                                                      
006662   ffe6                                                                                                               
006664   ef69     GOTO      0x84d2                                                                                          
006666   f042                                                                                                               
0046d2   ec84     CALL      0x6308,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d4   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d6   0e06     MOVLW     0x6              if (checksumOK)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0046da   e101     BNZ       0x46de                                                                                          
0046dc   d25e     BRA       0x4b9a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always grab the first character (which is the first byte of the command)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046de   0104     MOVLB     0x4                gCommand_Char1 = toupper(g_RX_buf[g_RX_buf_out]);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046e0   ec87     CALL      0x630e,0x0                                                                                      
0046e2   f031                                                                                                               
0046e4   ecab     CALL      0x6556,0x0                                                                                      
0046e6   f032                                                                                                               
0046e8   cff3     MOVFF     0xff3,0x4c7                                                                                     
0046ea   f4c7                                                                                                               
006556   6ee6     MOVWF     0xe6,0x0                                                                                        
006558   6ae6     CLRF      0xe6,0x0                                                                                        
00655a   ec13     CALL      0x9026,0x0                                                                                      
00655c   f048                                                                                                               
00655e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006560   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006562   0012     RETURN    0x0                                                                                             
0046ec   0104     MOVLB     0x4                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046ee   ecb2     CALL      0x6364,0x0                                                                                      
0046f0   f031                                                                                                               
0046f2   e104     BNZ       0x46fc                                                                                          
0046f4   0e01     MOVLW     0x1                                                                                             
0046f6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0046f8   e101     BNZ       0x46fc                                                                                          
0046fa   6bb8     CLRF      0xb8,0x1                                                                                        
0046fc   51c7     MOVF      0xc7,0x0,0x1       command = gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046fe   6ede     MOVWF     0xde,0x0                                                                                        
004700   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only grab second one if it is not a comma                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004702   ec87     CALL      0x630e,0x0         if (g_RX_buf[g_RX_buf_out] != (BYTE)',' && g_RX_buf[g_RX_buf_out] != kCR && g_RX_buf[g_RX_buf_out] != kLF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004704   f031                                                                                                               
004706   082c     SUBLW     0x2c                                                                                            
004708   e023     BZ        0x4750                                                                                          
00470a   ec87     CALL      0x630e,0x0                                                                                      
00470c   f031                                                                                                               
00470e   080d     SUBLW     0xd                                                                                             
004710   e01f     BZ        0x4750                                                                                          
004712   ec87     CALL      0x630e,0x0                                                                                      
004714   f031                                                                                                               
004716   080a     SUBLW     0xa                                                                                             
004718   e01b     BZ        0x4750                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00471a   ec87     CALL      0x630e,0x0           gCommand_Char2 = toupper(g_RX_buf[g_RX_buf_out]);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00471c   f031                                                                                                               
00471e   ecab     CALL      0x6556,0x0                                                                                      
004720   f032                                                                                                               
004722   cff3     MOVFF     0xff3,0x4c8                                                                                     
004724   f4c8                                                                                                               
004726   0104     MOVLB     0x4                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004728   ecb2     CALL      0x6364,0x0                                                                                      
00472a   f031                                                                                                               
00472c   e104     BNZ       0x4736                                                                                          
00472e   0e01     MOVLW     0x1                                                                                             
004730   184f     XORWF     0x4f,0x0,0x0                                                                                    
004732   e101     BNZ       0x4736                                                                                          
004734   6bb8     CLRF      0xb8,0x1                                                                                        
004736   c4c7     MOVFF     0x4c7,0x51           command = ((unsigned int)(gCommand_Char1) << 8) + gCommand_Char2;          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004738   f051                                                                                                               
00473a   6a50     CLRF      0x50,0x0                                                                                        
00473c   51c8     MOVF      0xc8,0x0,0x1                                                                                    
00473e   0100     MOVLB     0x0                                                                                             
004740   2450     ADDWF     0x50,0x0,0x0                                                                                    
004742   6e4e     MOVWF     0x4e,0x0                                                                                        
004744   0e00     MOVLW     0x0                                                                                             
004746   2051     ADDWFC    0x51,0x0,0x0                                                                                    
004748   6e4f     MOVWF     0x4f,0x0                                                                                        
00474a   c04e     MOVFF     0x4e,0xfde                                                                                      
00474c   ffde                                                                                                               
00474e   6edd     MOVWF     0xdd,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now 'command' is equal to one or two bytes of our command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004750   0e00     MOVLW     0x0                switch (command)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004752   cfdf     MOVFF     0xfdf,0x42                                                                                      
004754   f042                                                                                                               
004756   0e01     MOVLW     0x1                                                                                             
004758   cfdb     MOVFF     0xfdb,0x43                                                                                      
00475a   f043                                                                                                               
00475c   0e52     MOVLW     0x52                                                                                            
00475e   1842     XORWF     0x42,0x0,0x0                                                                                    
004760   e102     BNZ       0x4766                                                                                          
004762   0e54     MOVLW     0x54                                                                                            
004764   1843     XORWF     0x43,0x0,0x0                                                                                    
004766   e101     BNZ       0x476a                                                                                          
004768   d1e7     BRA       0x4b38                                                                                          
00476a   0e55     MOVLW     0x55                                                                                            
00476c   1842     XORWF     0x42,0x0,0x0                                                                                    
00476e   e102     BNZ       0x4774                                                                                          
004770   0e51     MOVLW     0x51                                                                                            
004772   1843     XORWF     0x43,0x0,0x0                                                                                    
004774   e101     BNZ       0x4778                                                                                          
004776   d1de     BRA       0x4b34                                                                                          
004778   0e4d     MOVLW     0x4d                                                                                            
00477a   1842     XORWF     0x42,0x0,0x0                                                                                    
00477c   e102     BNZ       0x4782                                                                                          
00477e   0e48     MOVLW     0x48                                                                                            
004780   1843     XORWF     0x43,0x0,0x0                                                                                    
004782   e101     BNZ       0x4786                                                                                          
004784   d1d4     BRA       0x4b2e                                                                                          
004786   0e52     MOVLW     0x52                                                                                            
004788   1842     XORWF     0x42,0x0,0x0                                                                                    
00478a   e102     BNZ       0x4790                                                                                          
00478c   0e53     MOVLW     0x53                                                                                            
00478e   1843     XORWF     0x43,0x0,0x0                                                                                    
004790   e101     BNZ       0x4794                                                                                          
004792   d1ca     BRA       0x4b28                                                                                          
004794   0e52     MOVLW     0x52                                                                                            
004796   1842     XORWF     0x42,0x0,0x0                                                                                    
004798   e102     BNZ       0x479e                                                                                          
00479a   0e51     MOVLW     0x51                                                                                            
00479c   1843     XORWF     0x43,0x0,0x0                                                                                    
00479e   e101     BNZ       0x47a2                                                                                          
0047a0   d1c0     BRA       0x4b22                                                                                          
0047a2   0e42     MOVLW     0x42                                                                                            
0047a4   1842     XORWF     0x42,0x0,0x0                                                                                    
0047a6   e102     BNZ       0x47ac                                                                                          
0047a8   0e52     MOVLW     0x52                                                                                            
0047aa   1843     XORWF     0x43,0x0,0x0                                                                                    
0047ac   e101     BNZ       0x47b0                                                                                          
0047ae   d1b6     BRA       0x4b1c                                                                                          
0047b0   0e54     MOVLW     0x54                                                                                            
0047b2   1842     XORWF     0x42,0x0,0x0                                                                                    
0047b4   e102     BNZ       0x47ba                                                                                          
0047b6   0e51     MOVLW     0x51                                                                                            
0047b8   1843     XORWF     0x43,0x0,0x0                                                                                    
0047ba   e101     BNZ       0x47be                                                                                          
0047bc   d1ac     BRA       0x4b16                                                                                          
0047be   0e54     MOVLW     0x54                                                                                            
0047c0   1842     XORWF     0x42,0x0,0x0                                                                                    
0047c2   e102     BNZ       0x47c8                                                                                          
0047c4   0e53     MOVLW     0x53                                                                                            
0047c6   1843     XORWF     0x43,0x0,0x0                                                                                    
0047c8   e101     BNZ       0x47cc                                                                                          
0047ca   d1a2     BRA       0x4b10                                                                                          
0047cc   0e53     MOVLW     0x53                                                                                            
0047ce   1842     XORWF     0x42,0x0,0x0                                                                                    
0047d0   e102     BNZ       0x47d6                                                                                          
0047d2   0e43     MOVLW     0x43                                                                                            
0047d4   1843     XORWF     0x43,0x0,0x0                                                                                    
0047d6   e101     BNZ       0x47da                                                                                          
0047d8   d198     BRA       0x4b0a                                                                                          
0047da   0e53     MOVLW     0x53                                                                                            
0047dc   1842     XORWF     0x42,0x0,0x0                                                                                    
0047de   e102     BNZ       0x47e4                                                                                          
0047e0   0e51     MOVLW     0x51                                                                                            
0047e2   1843     XORWF     0x43,0x0,0x0                                                                                    
0047e4   e101     BNZ       0x47e8                                                                                          
0047e6   d18e     BRA       0x4b04                                                                                          
0047e8   0e4d     MOVLW     0x4d                                                                                            
0047ea   1842     XORWF     0x42,0x0,0x0                                                                                    
0047ec   e102     BNZ       0x47f2                                                                                          
0047ee   0e58     MOVLW     0x58                                                                                            
0047f0   1843     XORWF     0x43,0x0,0x0                                                                                    
0047f2   e101     BNZ       0x47f6                                                                                          
0047f4   d184     BRA       0x4afe                                                                                          
0047f6   0e53     MOVLW     0x53                                                                                            
0047f8   1842     XORWF     0x42,0x0,0x0                                                                                    
0047fa   e102     BNZ       0x4800                                                                                          
0047fc   0e45     MOVLW     0x45                                                                                            
0047fe   1843     XORWF     0x43,0x0,0x0                                                                                    
004800   e101     BNZ       0x4804                                                                                          
004802   d17a     BRA       0x4af8                                                                                          
004804   0e43     MOVLW     0x43                                                                                            
004806   1842     XORWF     0x42,0x0,0x0                                                                                    
004808   e102     BNZ       0x480e                                                                                          
00480a   0e41     MOVLW     0x41                                                                                            
00480c   1843     XORWF     0x43,0x0,0x0                                                                                    
00480e   e101     BNZ       0x4812                                                                                          
004810   d170     BRA       0x4af2                                                                                          
004812   0e4d     MOVLW     0x4d                                                                                            
004814   1842     XORWF     0x42,0x0,0x0                                                                                    
004816   e102     BNZ       0x481c                                                                                          
004818   0e51     MOVLW     0x51                                                                                            
00481a   1843     XORWF     0x43,0x0,0x0                                                                                    
00481c   e101     BNZ       0x4820                                                                                          
00481e   d166     BRA       0x4aec                                                                                          
004820   0e32     MOVLW     0x32                                                                                            
004822   1842     XORWF     0x42,0x0,0x0                                                                                    
004824   e102     BNZ       0x482a                                                                                          
004826   0e53     MOVLW     0x53                                                                                            
004828   1843     XORWF     0x43,0x0,0x0                                                                                    
00482a   e101     BNZ       0x482e                                                                                          
00482c   d15c     BRA       0x4ae6                                                                                          
00482e   0e45     MOVLW     0x45                                                                                            
004830   1842     XORWF     0x42,0x0,0x0                                                                                    
004832   e102     BNZ       0x4838                                                                                          
004834   0e53     MOVLW     0x53                                                                                            
004836   1843     XORWF     0x43,0x0,0x0                                                                                    
004838   e101     BNZ       0x483c                                                                                          
00483a   d152     BRA       0x4ae0                                                                                          
00483c   0e47     MOVLW     0x47                                                                                            
00483e   1842     XORWF     0x42,0x0,0x0                                                                                    
004840   e102     BNZ       0x4846                                                                                          
004842   0e51     MOVLW     0x51                                                                                            
004844   1843     XORWF     0x43,0x0,0x0                                                                                    
004846   e101     BNZ       0x484a                                                                                          
004848   d148     BRA       0x4ada                                                                                          
00484a   0e43     MOVLW     0x43                                                                                            
00484c   1842     XORWF     0x42,0x0,0x0                                                                                    
00484e   e102     BNZ       0x4854                                                                                          
004850   0e51     MOVLW     0x51                                                                                            
004852   1843     XORWF     0x43,0x0,0x0                                                                                    
004854   e101     BNZ       0x4858                                                                                          
004856   d13e     BRA       0x4ad4                                                                                          
004858   0e4b     MOVLW     0x4b                                                                                            
00485a   1842     XORWF     0x42,0x0,0x0                                                                                    
00485c   e102     BNZ       0x4862                                                                                          
00485e   0e43     MOVLW     0x43                                                                                            
004860   1843     XORWF     0x43,0x0,0x0                                                                                    
004862   e101     BNZ       0x4866                                                                                          
004864   d134     BRA       0x4ace                                                                                          
004866   0e4c     MOVLW     0x4c                                                                                            
004868   1842     XORWF     0x42,0x0,0x0                                                                                    
00486a   e102     BNZ       0x4870                                                                                          
00486c   0e42     MOVLW     0x42                                                                                            
00486e   1843     XORWF     0x43,0x0,0x0                                                                                    
004870   e101     BNZ       0x4874                                                                                          
004872   d12a     BRA       0x4ac8                                                                                          
004874   0e44     MOVLW     0x44                                                                                            
004876   1842     XORWF     0x42,0x0,0x0                                                                                    
004878   e102     BNZ       0x487e                                                                                          
00487a   0e4e     MOVLW     0x4e                                                                                            
00487c   1843     XORWF     0x43,0x0,0x0                                                                                    
00487e   e101     BNZ       0x4882                                                                                          
004880   d120     BRA       0x4ac2                                                                                          
004882   0e49     MOVLW     0x49                                                                                            
004884   1842     XORWF     0x42,0x0,0x0                                                                                    
004886   e102     BNZ       0x488c                                                                                          
004888   0e4e     MOVLW     0x4e                                                                                            
00488a   1843     XORWF     0x43,0x0,0x0                                                                                    
00488c   e101     BNZ       0x4890                                                                                          
00488e   d116     BRA       0x4abc                                                                                          
004890   0e42     MOVLW     0x42                                                                                            
004892   1842     XORWF     0x42,0x0,0x0                                                                                    
004894   e102     BNZ       0x489a                                                                                          
004896   0e51     MOVLW     0x51                                                                                            
004898   1843     XORWF     0x43,0x0,0x0                                                                                    
00489a   e101     BNZ       0x489e                                                                                          
00489c   d10c     BRA       0x4ab6                                                                                          
00489e   0e4c     MOVLW     0x4c                                                                                            
0048a0   1842     XORWF     0x42,0x0,0x0                                                                                    
0048a2   e102     BNZ       0x48a8                                                                                          
0048a4   0e51     MOVLW     0x51                                                                                            
0048a6   1843     XORWF     0x43,0x0,0x0                                                                                    
0048a8   e101     BNZ       0x48ac                                                                                          
0048aa   d102     BRA       0x4ab0                                                                                          
0048ac   0e4c     MOVLW     0x4c                                                                                            
0048ae   1842     XORWF     0x42,0x0,0x0                                                                                    
0048b0   e102     BNZ       0x48b6                                                                                          
0048b2   0e53     MOVLW     0x53                                                                                            
0048b4   1843     XORWF     0x43,0x0,0x0                                                                                    
0048b6   e101     BNZ       0x48ba                                                                                          
0048b8   d0f8     BRA       0x4aaa                                                                                          
0048ba   0e4e     MOVLW     0x4e                                                                                            
0048bc   1842     XORWF     0x42,0x0,0x0                                                                                    
0048be   e102     BNZ       0x48c4                                                                                          
0048c0   0e51     MOVLW     0x51                                                                                            
0048c2   1843     XORWF     0x43,0x0,0x0                                                                                    
0048c4   e101     BNZ       0x48c8                                                                                          
0048c6   d0ee     BRA       0x4aa4                                                                                          
0048c8   0e4e     MOVLW     0x4e                                                                                            
0048ca   1842     XORWF     0x42,0x0,0x0                                                                                    
0048cc   e102     BNZ       0x48d2                                                                                          
0048ce   0e53     MOVLW     0x53                                                                                            
0048d0   1843     XORWF     0x43,0x0,0x0                                                                                    
0048d2   e101     BNZ       0x48d6                                                                                          
0048d4   d0e4     BRA       0x4a9e                                                                                          
0048d6   0e43     MOVLW     0x43                                                                                            
0048d8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048da   e102     BNZ       0x48e0                                                                                          
0048dc   0e53     MOVLW     0x53                                                                                            
0048de   1843     XORWF     0x43,0x0,0x0                                                                                    
0048e0   e101     BNZ       0x48e4                                                                                          
0048e2   d0da     BRA       0x4a98                                                                                          
0048e4   0e4d     MOVLW     0x4d                                                                                            
0048e6   1842     XORWF     0x42,0x0,0x0                                                                                    
0048e8   e102     BNZ       0x48ee                                                                                          
0048ea   0e45     MOVLW     0x45                                                                                            
0048ec   1843     XORWF     0x43,0x0,0x0                                                                                    
0048ee   e101     BNZ       0x48f2                                                                                          
0048f0   d0d0     BRA       0x4a92                                                                                          
0048f2   0e45     MOVLW     0x45                                                                                            
0048f4   1842     XORWF     0x42,0x0,0x0                                                                                    
0048f6   e102     BNZ       0x48fc                                                                                          
0048f8   0e51     MOVLW     0x51                                                                                            
0048fa   1843     XORWF     0x43,0x0,0x0                                                                                    
0048fc   e101     BNZ       0x4900                                                                                          
0048fe   d0c6     BRA       0x4a8c                                                                                          
004900   0e50     MOVLW     0x50                                                                                            
004902   1842     XORWF     0x42,0x0,0x0                                                                                    
004904   e102     BNZ       0x490a                                                                                          
004906   0e51     MOVLW     0x51                                                                                            
004908   1843     XORWF     0x43,0x0,0x0                                                                                    
00490a   e101     BNZ       0x490e                                                                                          
00490c   d0bc     BRA       0x4a86                                                                                          
00490e   0e50     MOVLW     0x50                                                                                            
004910   1842     XORWF     0x42,0x0,0x0                                                                                    
004912   e102     BNZ       0x4918                                                                                          
004914   0e54     MOVLW     0x54                                                                                            
004916   1843     XORWF     0x43,0x0,0x0                                                                                    
004918   e101     BNZ       0x491c                                                                                          
00491a   d0b2     BRA       0x4a80                                                                                          
00491c   0e50     MOVLW     0x50                                                                                            
00491e   1842     XORWF     0x42,0x0,0x0                                                                                    
004920   e102     BNZ       0x4926                                                                                          
004922   0e53     MOVLW     0x53                                                                                            
004924   1843     XORWF     0x43,0x0,0x0                                                                                    
004926   e101     BNZ       0x492a                                                                                          
004928   d0a8     BRA       0x4a7a                                                                                          
00492a   0e4d     MOVLW     0x4d                                                                                            
00492c   1842     XORWF     0x42,0x0,0x0                                                                                    
00492e   e102     BNZ       0x4934                                                                                          
004930   0e53     MOVLW     0x53                                                                                            
004932   1843     XORWF     0x43,0x0,0x0                                                                                    
004934   e101     BNZ       0x4938                                                                                          
004936   d09e     BRA       0x4a74                                                                                          
004938   0e57     MOVLW     0x57                                                                                            
00493a   1842     XORWF     0x42,0x0,0x0                                                                                    
00493c   e102     BNZ       0x4942                                                                                          
00493e   0e4d     MOVLW     0x4d                                                                                            
004940   1843     XORWF     0x43,0x0,0x0                                                                                    
004942   e101     BNZ       0x4946                                                                                          
004944   d094     BRA       0x4a6e                                                                                          
004946   0e52     MOVLW     0x52                                                                                            
004948   1842     XORWF     0x42,0x0,0x0                                                                                    
00494a   e102     BNZ       0x4950                                                                                          
00494c   0e4d     MOVLW     0x4d                                                                                            
00494e   1843     XORWF     0x43,0x0,0x0                                                                                    
004950   e101     BNZ       0x4954                                                                                          
004952   d08a     BRA       0x4a68                                                                                          
004954   0e44     MOVLW     0x44                                                                                            
004956   1842     XORWF     0x42,0x0,0x0                                                                                    
004958   e102     BNZ       0x495e                                                                                          
00495a   0e50     MOVLW     0x50                                                                                            
00495c   1843     XORWF     0x43,0x0,0x0                                                                                    
00495e   e101     BNZ       0x4962                                                                                          
004960   d080     BRA       0x4a62                                                                                          
004962   0e4f     MOVLW     0x4f                                                                                            
004964   1842     XORWF     0x42,0x0,0x0                                                                                    
004966   e102     BNZ       0x496c                                                                                          
004968   0e50     MOVLW     0x50                                                                                            
00496a   1843     XORWF     0x43,0x0,0x0                                                                                    
00496c   e101     BNZ       0x4970                                                                                          
00496e   d076     BRA       0x4a5c                                                                                          
004970   0e49     MOVLW     0x49                                                                                            
004972   1842     XORWF     0x42,0x0,0x0                                                                                    
004974   e102     BNZ       0x497a                                                                                          
004976   0e50     MOVLW     0x50                                                                                            
004978   1843     XORWF     0x43,0x0,0x0                                                                                    
00497a   e06d     BZ        0x4a56                                                                                          
00497c   0e41     MOVLW     0x41                                                                                            
00497e   1842     XORWF     0x42,0x0,0x0                                                                                    
004980   e101     BNZ       0x4984                                                                                          
004982   5043     MOVF      0x43,0x0,0x0                                                                                    
004984   e065     BZ        0x4a50                                                                                          
004986   0e56     MOVLW     0x56                                                                                            
004988   1842     XORWF     0x42,0x0,0x0                                                                                    
00498a   e101     BNZ       0x498e                                                                                          
00498c   5043     MOVF      0x43,0x0,0x0                                                                                    
00498e   e05d     BZ        0x4a4a                                                                                          
004990   0e49     MOVLW     0x49                                                                                            
004992   1842     XORWF     0x42,0x0,0x0                                                                                    
004994   e101     BNZ       0x4998                                                                                          
004996   5043     MOVF      0x43,0x0,0x0                                                                                    
004998   e055     BZ        0x4a44                                                                                          
00499a   0e4f     MOVLW     0x4f                                                                                            
00499c   1842     XORWF     0x42,0x0,0x0                                                                                    
00499e   e101     BNZ       0x49a2                                                                                          
0049a0   5043     MOVF      0x43,0x0,0x0                                                                                    
0049a2   e04d     BZ        0x4a3e                                                                                          
0049a4   0e55     MOVLW     0x55                                                                                            
0049a6   1842     XORWF     0x42,0x0,0x0                                                                                    
0049a8   e102     BNZ       0x49ae                                                                                          
0049aa   0e43     MOVLW     0x43                                                                                            
0049ac   1843     XORWF     0x43,0x0,0x0                                                                                    
0049ae   e045     BZ        0x4a3a                                                                                          
0049b0   0e43     MOVLW     0x43                                                                                            
0049b2   1842     XORWF     0x42,0x0,0x0                                                                                    
0049b4   e101     BNZ       0x49b8                                                                                          
0049b6   5043     MOVF      0x43,0x0,0x0                                                                                    
0049b8   e03d     BZ        0x4a34                                                                                          
0049ba   0e52     MOVLW     0x52                                                                                            
0049bc   1842     XORWF     0x42,0x0,0x0                                                                                    
0049be   e101     BNZ       0x49c2                                                                                          
0049c0   5043     MOVF      0x43,0x0,0x0                                                                                    
0049c2   e036     BZ        0x4a30                                                                                          
0049c4   0e4d     MOVLW     0x4d                                                                                            
0049c6   1842     XORWF     0x42,0x0,0x0                                                                                    
0049c8   e102     BNZ       0x49ce                                                                                          
0049ca   0e4c     MOVLW     0x4c                                                                                            
0049cc   1843     XORWF     0x43,0x0,0x0                                                                                    
0049ce   e02d     BZ        0x4a2a                                                                                          
0049d0   0e33     MOVLW     0x33                                                                                            
0049d2   1842     XORWF     0x42,0x0,0x0                                                                                    
0049d4   e102     BNZ       0x49da                                                                                          
0049d6   0e54     MOVLW     0x54                                                                                            
0049d8   1843     XORWF     0x43,0x0,0x0                                                                                    
0049da   e024     BZ        0x4a24                                                                                          
0049dc   0e33     MOVLW     0x33                                                                                            
0049de   1842     XORWF     0x42,0x0,0x0                                                                                    
0049e0   e102     BNZ       0x49e6                                                                                          
0049e2   0e4c     MOVLW     0x4c                                                                                            
0049e4   1843     XORWF     0x43,0x0,0x0                                                                                    
0049e6   e01b     BZ        0x4a1e                                                                                          
0049e8   0e54     MOVLW     0x54                                                                                            
0049ea   1842     XORWF     0x42,0x0,0x0                                                                                    
0049ec   e102     BNZ       0x49f2                                                                                          
0049ee   0e4c     MOVLW     0x4c                                                                                            
0049f0   1843     XORWF     0x43,0x0,0x0                                                                                    
0049f2   e012     BZ        0x4a18                                                                                          
0049f4   0e4d     MOVLW     0x4d                                                                                            
0049f6   1842     XORWF     0x42,0x0,0x0                                                                                    
0049f8   e102     BNZ       0x49fe                                                                                          
0049fa   0e43     MOVLW     0x43                                                                                            
0049fc   1843     XORWF     0x43,0x0,0x0                                                                                    
0049fe   e009     BZ        0x4a12                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CM for circle move                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a12   ec49     CALL      0x2292,0x0             parse_CM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a14   f011                                                                                                               
004a16   d0af     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Timed Move                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a18   ecdd     CALL      0x1dba,0x0             parse_LT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1a   f00e                                                                                                               
004a1c   d0ac     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level 3rd derivative (jerk) move                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1e   ec87     CALL      0x1d0e,0x0             parse_L3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a20   f00e                                                                                                               
004a22   d0a9     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Timed 3rd derivative (jerk) move                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a24   ecc3     CALL      0x1d86,0x0             parse_T3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a26   f00e                                                                                                               
004a28   d0a6     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Move                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2a   ec51     CALL      0x1ca2,0x0             parse_LM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2c   f00e                                                                                                               
004a2e   d0a3     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'R':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset command (resets everything to power-on state)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a30   d8ff     RCALL     0x4c30                 parse_R_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a32   d0a1     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'C':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Configure command (configure ports for Input or Output)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a34   ece1     CALL      0x53c2,0x0             parse_C_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a36   f029                                                                                                               
004a38   d09e     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For configuring UBW                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3a   d901     RCALL     0x4c3e                 parse_CU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3c   d09c     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'O':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Output command (tell the ports to output something)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3e   ec91     CALL      0x5522,0x0             parse_O_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a40   f02a                                                                                                               
004a42   d099     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'I':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Input command (return the current status of the ports)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a44   ecc7     CALL      0x558e,0x0             parse_I_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a46   f02a                                                                                                               
004a48   d096     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'V':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Version command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4a   ecdd     CALL      0x55ba,0x0             parse_V_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4c   f02a                                                                                                               
004a4e   d093     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'A':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Analog command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a50   ece4     CALL      0x55c8,0x0             parse_A_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a52   f02a                                                                                                               
004a54   d090     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'T':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For timed I/O                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_T_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PI for reading a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a56   ec1c     CALL      0x5838,0x0             parse_PI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a58   f02c                                                                                                               
004a5a   d08d     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'O':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PO for setting a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a5c   ec91     CALL      0x5922,0x0             parse_PO_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a5e   f02c                                                                                                               
004a60   d08a     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PD for setting a pin's direction                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a62   ec80     CALL      0x5700,0x0             parse_PD_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a64   f02b                                                                                                               
004a66   d087     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MR for Memory Read                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a68   ec61     CALL      0x56c2,0x0             parse_MR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a6a   f02b                                                                                                               
004a6c   d084     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'W':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MW for Memory Write                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a6e   ec46     CALL      0x568c,0x0             parse_MW_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a70   f02b                                                                                                               
004a72   d081     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PC for pulse configure                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PG for pulse go command                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SM for stepper motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a74   ec35     CALL      0x226a,0x0             parse_SM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a76   f011                                                                                                               
004a78   d07e     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SP for set pen                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a7a   ecd0     CALL      0x2ba0,0x0             parse_SP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a7c   f015                                                                                                               
004a7e   d07b     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // TP for toggle pen                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a80   ecab     CALL      0x2b56,0x0             parse_TP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a82   f015                                                                                                               
004a84   d078     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for query pen                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a86   ec2b     CALL      0x2a56,0x0             parse_QP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a88   f015                                                                                                               
004a8a   d075     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QE for Query motor Enable and resolution                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8c   ec43     CALL      0x2a86,0x0             parse_QE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8e   f015                                                                                                               
004a90   d072     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // EM for enable motors                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a92   ec7f     CALL      0x2cfe,0x0             parse_EM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a94   f016                                                                                                               
004a96   d06f     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SC for stepper mode configure                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a98   ec8f     CALL      0x1b1e,0x0             parse_SC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a9a   f00d                                                                                                               
004a9c   d06c     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SN for Clear Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a9e   ecdb     CALL      0x2db6,0x0             parse_SN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aa0   f016                                                                                                               
004aa2   d069     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QN for Query Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aa4   ecf8     CALL      0x2df0,0x0             parse_QN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aa6   f016                                                                                                               
004aa8   d066     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SL for Set Layer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aaa   ec0a     CALL      0x2e14,0x0             parse_SL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aac   f017                                                                                                               
004aae   d063     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Layer count                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab0   ec27     CALL      0x2e4e,0x0             parse_QL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab2   f017                                                                                                               
004ab4   d060     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Button (program)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab6   ec49     CALL      0x2e92,0x0             parse_QB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab8   f017                                                                                                               
004aba   d05d     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // NI for Node count Increment                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abc   ecb9     CALL      0x2d72,0x0             parse_NI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abe   f016                                                                                                               
004ac0   d05a     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ND Node count Decrement                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac2   eccc     CALL      0x2d98,0x0             parse_ND_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac4   f016                                                                                                               
004ac6   d057     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('B' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // BL for Boot Load                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac8   ec45     CALL      0x5a8a,0x0             parse_BL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aca   f02d                                                                                                               
004acc   d054     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'K':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CL for Check                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ace   ec97     CALL      0x5b2e,0x0             parse_CK_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad0   f02d                                                                                                               
004ad2   d051     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QC for Query Current                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad4   ec5b     CALL      0x2eb6,0x0             parse_QC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad6   f017                                                                                                               
004ad8   d04e     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QG for Query General                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ada   ec6f     CALL      0x2ede,0x0             parse_QG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004adc   f017                                                                                                               
004ade   d04b     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SE for Set Engraver                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae0   eca0     CALL      0x2f40,0x0             parse_SE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae2   f017                                                                                                               
004ae4   d048     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + '2':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // S2 for RC Servo method 2                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae6   ec13     CALL      0x7626,0x0             RCServo2_S2_command();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae8   f03b                                                                                                               
004aea   d045     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QM for Query Motor                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aec   ec85     CALL      0x310a,0x0             parse_QM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aee   f018                                                                                                               
004af0   d042     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('A' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // AC for Analog Configure                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af2   ec77     CALL      0x54ee,0x0             parse_AC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af4   f02a                                                                                                               
004af6   d03f     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ES for E-Stop                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af8   ecdc     CALL      0x29b8,0x0             parse_ES_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afa   f014                                                                                                               
004afc   d03c     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('X' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // XM for X motor move                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afe   ecaa     CALL      0x2754,0x0             parse_XM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b00   f013                                                                                                               
004b02   d039     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for Query Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b04   ecbc     CALL      0x3178,0x0             parse_QS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b06   f018                                                                                                               
004b08   d036     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CS for Clear Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0a   ecf0     CALL      0x31e0,0x0             parse_CS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0c   f018                                                                                                               
004b0e   d033     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ST for Set Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b10   ec76     CALL      0x5cec,0x0             parse_ST_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b12   f02e                                                                                                               
004b14   d030     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QT for Query Tag                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b16   ecac     CALL      0x5d58,0x0             parse_QT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b18   f02e                                                                                                               
004b1a   d02d     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('R' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // RB for ReBoot                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1c   ec4d     CALL      0x5a9a,0x0             parse_RB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1e   f02d                                                                                                               
004b20   d02a     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QR is for Query RC Servo power state                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b22   ec54     CALL      0x5aa8,0x0             parse_QR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b24   f02d                                                                                                               
004b26   d027     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SR is for Set RC Servo power timeout                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b28   ec64     CALL      0x5ac8,0x0             parse_SR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2a   f02d                                                                                                               
004b2c   d024     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('H' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // HM is for Home Motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2e   ec63     CALL      0x24c6,0x0             parse_HM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b30   f012                                                                                                               
004b32   d021     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QU is for General Query                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b34   dbae     RCALL     0x5292                 parse_QU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b36   d01f     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b38   ecd2     CALL      0x25a4,0x0             parse_TR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3a   f012                                                                                                               
004b3c   d01c     BRA       0x4b76                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 default:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a00   0104     MOVLB     0x4                    if (0u == gCommand_Char2)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a02   51c8     MOVF      0xc8,0x0,0x1                                                                                    
004a04   e001     BZ        0x4a08                                                                                          
004a06   d09b     BRA       0x4b3e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a08   ec58     CALL      0x66b0,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0a   f033                                                                                                               
0066b0   0e9d     MOVLW     0x9d                                                                                            
0066b2   6e4e     MOVWF     0x4e,0x0                                                                                        
0066b4   0e83     MOVLW     0x83                                                                                            
0066b6   de1e     RCALL     0x62f4                                                                                          
0066b8   ef8c     GOTO      0x6518                   ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066ba   f032                                                                                                               
004a0c   ec5e     CALL      0x66bc,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0e   f033                                                                                                               
0066bc   0e3a     MOVLW     0x3a                                                                                            
0066be   de3f     RCALL     0x633e                                                                                          
0066c0   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0066c4   c4c7     MOVFF     0x4c7,0x4e                                                                                      
0066c6   f04e                                                                                                               
0066c8   0012     RETURN    0x0                                                                                             
                                                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a10   d0aa     BRA       0x4b66                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3e   ec58     CALL      0x66b0,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b40   f033                                                                                                               
                                                     ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b42   c4c8     MOVFF     0x4c8,0xfe6              ebb_print_char(gCommand_Char2);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b44   ffe6                                                                                                               
004b46   dccd     RCALL     0x44e2                                                                                          
004b48   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b4a   ec5e     CALL      0x66bc,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b4c   f033                                                                                                               
004b4e   ecaa     CALL      0x6754,0x0               ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b50   f033                                                                                                               
004b52   c4c7     MOVFF     0x4c7,0xfe6                                                                                     
004b54   ffe6                                                                                                               
004b56   ecde     CALL      0x65bc,0x0                                                                                      
004b58   f032                                                                                                               
004b5a   ec72     CALL      0x66e4,0x0                                                                                      
004b5c   f033                                                                                                               
0066e4   ec86     CALL      0x850c,0x0                                                                                      
0066e6   f042                                                                                                               
0066e8   6e52     MOVWF     0x52,0x0                                                                                        
0066ea   0e05     MOVLW     0x5                                                                                             
0066ec   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0066ee   5052     MOVF      0x52,0x0,0x0                                                                                    
0066f0   0012     RETURN    0x0                                                                                             
004b5e   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char2, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b60   6ee6     MOVWF     0xe6,0x0                                                                                        
004b62   c4c8     MOVFF     0x4c8,0x4e                                                                                      
004b64   f04e                                                                                                               
004b66   6a4f     CLRF      0x4f,0x0                                                                                        
004b68   eca4     CALL      0x6348,0x0                                                                                      
004b6a   f031                                                                                                               
004b6c   0e27     MOVLW     0x27                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6e   ec9f     CALL      0x633e,0x0                                                                                      
004b70   f031                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b72   ec84     CALL      0x6308,0x0             print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b74   f031                                                                                                               
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Double check that our output pointer is now at the ending <CR>            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If it is not, this indicates that there were extra characters that        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // the command parsing routine didn't eat. This would be an error and needs  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // to be reported. (Ignore for Reset command because FIFO pointers get cleared.) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b76   0104     MOVLB     0x4                  (g_RX_buf[g_RX_buf_out] != kCR && 0u == error_byte)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b78   ec87     CALL      0x630e,0x0                                                                                      
004b7a   f031                                                                                                               
004b7c   080d     SUBLW     0xd                                                                                             
004b7e   e00d     BZ        0x4b9a                                                                                          
004b80   5184     MOVF      0x84,0x0,0x1                                                                                    
004b82   e10b     BNZ       0x4b9a                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b84   0e52     MOVLW     0x52                 ('R' != command)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b86   6e4e     MOVWF     0x4e,0x0                                                                                        
004b88   6a4f     CLRF      0x4f,0x0                                                                                        
004b8a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004b8c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004b8e   e103     BNZ       0x4b96                                                                                          
004b90   52de     MOVF      0xde,0x1,0x0                                                                                    
004b92   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004b94   184f     XORWF     0x4f,0x0,0x0                                                                                    
004b96   e001     BZ        0x4b9a             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b98   8f84     BSF       0x84,0x7,0x1         bitset(error_byte, kERROR_BYTE_EXTRA_CHARACTERS);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clean up by skipping over any bytes we haven't eaten                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This is safe since we parse each packet as we get a <CR>                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // (i.e. g_RX_buf_in doesn't move while we are in this routine)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9a   c4b7     MOVFF     0x4b7,0x4b8      g_RX_buf_out = g_RX_buf_in;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9c   f4b8                                                                                                               
004b9e   0e09     MOVLW     0x9            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004ba2   e202     BC        0x4ba8                                                                                          
004ba4   6ae1     CLRF      0xe1,0x0                                                                                        
004ba6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ba8   6ee1     MOVWF     0xe1,0x0                                                                                        
004baa   ef9b     GOTO      0x6336                                                                                          
004bac   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function will print out the two character command that was just parsed   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // if the New line ending mode is set (CU,10,1). Every time a command is sent    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the EBB, it will respond with the two character command code (at least,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // some commands will return more than that).                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = true : always print command, even in Default Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = false : do not print command when in Unified Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = true : if command printed, also print comma after               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = false : if command printed, do not print comma after            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If Legacy line ending mode is turned on this function will not print anything D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bae   ec34     CALL      0x6668,0x0     void print_command(BOOL print_always, BOOL print_comma)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb0   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb2   0e2c     MOVLW     0x2c             char comma = ',';                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb4   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb6   0e01     MOVLW     0x1              if (bittstzero(gStandardizedCommandFormat) || print_always)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb8   0101     MOVLB     0x1                                                                                             
004bba   15c3     ANDWF     0xc3,0x0,0x1                                                                                    
004bbc   e103     BNZ       0x4bc4                                                                                          
004bbe   0efe     MOVLW     0xfe                                                                                            
004bc0   50db     MOVF      0xdb,0x0,0x0                                                                                    
004bc2   e010     BZ        0x4be4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc4   ec8c     CALL      0x6518,0x0         ebb_putc(gCommand_Char1);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc6   f032                                                                                                               
006518   c4c7     MOVFF     0x4c7,0xfe6                                                                                     
00651a   ffe6                                                                                                               
00651c   ec71     CALL      0x44e2,0x0                                                                                      
00651e   f022                                                                                                               
006520   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006522   0012     RETURN    0x0                                                                                             
004bc8   0104     MOVLB     0x4                if (gCommand_Char2 != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bca   51c8     MOVF      0xc8,0x0,0x1                                                                                    
004bcc   e004     BZ        0x4bd6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bce   c4c8     MOVFF     0x4c8,0xfe6          ebb_putc(gCommand_Char2);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd0   ffe6                                                                                                               
004bd2   dc87     RCALL     0x44e2                                                                                          
004bd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd6   0efd     MOVLW     0xfd               if (print_comma)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004bda   e004     BZ        0x4be4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bdc   cfdf     MOVFF     0xfdf,0xfe6          ebb_putc(comma);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bde   ffe6                                                                                                               
004be0   dc80     RCALL     0x44e2                                                                                          
004be2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be6   ef9b     GOTO      0x6336                                                                                          
004be8   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function prints out the common endings needed on text lines sent back    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the PC. It operates in two modes, Legacy and New. Legacy mode is used      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // when we need to emulate how the EBB's line endings have been done since       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the beginning (as some PC software counts on this). New mode can be turned    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // on with CU,10,1 and makes every line ending exactly the same : "\n".          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Because in Legacy mode we also need to print "OK", that is included           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // as an option here too.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   Legacy Mode:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_OK_NORM : Print "OK\r\n"                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_NORM    : Print "\r\n"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_REV     : Print "\n\r"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   New Mode:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     Regardless of the value of <type>, always print "\n"                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bea   ec96     CALL      0x632c,0x0     void print_line_ending(tLineEnding le_type)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bec   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bee   0101     MOVLB     0x1              if (bittstzero(gStandardizedCommandFormat))                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf0   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
004bf2   d004     BRA       0x4bfc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf4   0e9b     MOVLW     0x9b               ebb_print((far rom char *)"\n");                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf6   6e4e     MOVWF     0x4e,0x0                                                                                        
004bf8   0e83     MOVLW     0x83                                                                                            
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bfa   d016     BRA       0x4c28           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bfc   0104     MOVLB     0x4                if ((g_ack_enable) && (le_type == kLE_OK_NORM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bfe   51bd     MOVF      0xbd,0x0,0x1                                                                                    
004c00   e008     BZ        0x4c12                                                                                          
004c02   0efe     MOVLW     0xfe                                                                                            
004c04   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c06   e105     BNZ       0x4c12                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c08   0e98     MOVLW     0x98                 ebb_print((far rom char *)"OK");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c0a   6e4e     MOVWF     0x4e,0x0                                                                                        
004c0c   0e83     MOVLW     0x83                                                                                            
004c0e   ec7a     CALL      0x62f4,0x0                                                                                      
004c10   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c12   0efe     MOVLW     0xfe               if (le_type == kLE_REV)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c14   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c16   0802     SUBLW     0x2                                                                                             
004c18   e104     BNZ       0x4c22                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c1a   0e95     MOVLW     0x95                 ebb_print((far rom char *)"\n\r");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c1c   6e4e     MOVWF     0x4e,0x0                                                                                        
004c1e   0e83     MOVLW     0x83                                                                                            
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c20   d003     BRA       0x4c28             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // le_type == kLE_NORM                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c22   0e92     MOVLW     0x92                 ebb_print((far rom char *)"\r\n");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c24   6e4e     MOVWF     0x4e,0x0                                                                                        
004c26   0e83     MOVLW     0x83                                                                                            
004c28   ec7a     CALL      0x62f4,0x0                                                                                      
004c2a   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2c   ef9b     GOTO      0x6336         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return all I/Os to their default power-on values                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c30   ecdf     CALL      0x67be,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c32   f033                                                                                                               
004c34   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c36   f031                                                                                                               
004c38   dc83     RCALL     0x4540           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c3a   ef9a     GOTO      0x4134           UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c3c   f020                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // CU is "Configure UBW" and controls system-wide configuration values           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "CU,<parameter_number>,<parameter_value><CR>"                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <parameter_value>                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   {1|0} turns on or off the 'ack' ("OK" at end of packets)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   {1|0} turns on or off parameter limit checking (defaults to on))          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   {1|0} turns on or off the red LED acting as an empty FIFO indicator (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   <new_fifo_size> sets the FIFO size, in commands. Defaults to 1 at boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 10  {1|0} turns on or off the standardized command format replies (defaults to off)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 50  {1|0} turns on or off the automatic enabling of both motors on any move command (defaults to on) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 51  <limit_switch_mask> sets the limit_switch_mask value for limit switch checking in ISR. Set to 0 to disable. Any high bit looks for a corresponding bit in the limit_switch_target on PORTB D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 52  <limit_switch_target> set the limit_switch_value for limit switch checking in ISR.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 53  {1|0} turns on or off the sending of "Limit switch triggered" replies (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 54  {1|0} turns on/off command checksum (defaults to off)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  <NewThreshold> Set the power lost threshold. Set to 0 to disable.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  <NewStepperDisableTimeoutS> Sets the stepper timeout in seconds. 0 to disable. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 250 {1|0} turns on or off the GPIO DEBUG (i/o pins to time moves and the ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 251 {1|0} turns on or off the UART ISR DEBUG (prints internal numbers at end of each move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 252 {1|0} turns on or off the UART ISR DEBUG FULL (prints internal numbers at end of each ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 253 {1|0} turns on or off the UART COMMAND DEBUG (prints all received command bytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 254 {1} turns on lock up mode. Tight loop of I/O toggles shows true ISR timing. Reset to exit. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 255 {1|0} turns on or off command parsing debug printing on USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 256 {1|0} 1=don't add any moves to FIFO, 0=(default) add moves to FIFO (used for testing of parse functions) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 257 {1|0} turns on or off RC7 as indicator of parsing any command (when high) - defaults to off D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c3e   cfd9     MOVFF     0xfd9,0xfe6    void parse_CU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c40   ffe6                                                                                                               
004c42   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004c44   ffd9                                                                                                               
004c46   0e04     MOVLW     0x4                                                                                             
004c48   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 parameter_number;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             INT16 paramater_value;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c4a   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c4c   6ae6     CLRF      0xe6,0x0                                                                                        
004c4e   dfaf     RCALL     0x4bae                                                                                          
004c50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c54   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &parameter_number, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c56   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004c58   ffe6                                                                                                               
004c5a   cfda     MOVFF     0xfda,0xfe6                                                                                     
004c5c   ffe6                                                                                                               
004c5e   0e03     MOVLW     0x3                                                                                             
004c60   6ee6     MOVWF     0xe6,0x0                                                                                        
004c62   ec07     CALL      0x5e0e,0x0                                                                                      
004c64   f02f                                                                                                               
004c66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c6a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c6e   6ae6     CLRF      0xe6,0x0         extract_number(kINT, &paramater_value, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c70   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004c72   0f02     ADDLW     0x2                                                                                             
004c74   6ee6     MOVWF     0xe6,0x0                                                                                        
004c76   0e00     MOVLW     0x0                                                                                             
004c78   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004c7a   6ee6     MOVWF     0xe6,0x0                                                                                        
004c7c   0e02     MOVLW     0x2                                                                                             
004c7e   6ee6     MOVWF     0xe6,0x0                                                                                        
004c80   ec07     CALL      0x5e0e,0x0                                                                                      
004c82   f02f                                                                                                               
004c84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c86   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c8c   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c8e   5184     MOVF      0x84,0x0,0x1                                                                                    
004c90   e001     BZ        0x4c94                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c92   d2f5     BRA       0x527e             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,1,1 or CU,1,0 to turn on/off "OK" at end of command reply                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c94   0e01     MOVLW     0x1              if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c96   6e4e     MOVWF     0x4e,0x0                                                                                        
004c98   6a4f     CLRF      0x4f,0x0                                                                                        
004c9a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c9c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c9e   e103     BNZ       0x4ca6                                                                                          
004ca0   52de     MOVF      0xde,0x1,0x0                                                                                    
004ca2   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004ca4   184f     XORWF     0x4f,0x0,0x0                                                                                    
004ca6   e11a     BNZ       0x4cdc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ca8   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004caa   0f02     ADDLW     0x2                                                                                             
004cac   6ee9     MOVWF     0xe9,0x0                                                                                        
004cae   cfda     MOVFF     0xfda,0xfea                                                                                     
004cb0   ffea                                                                                                               
004cb2   50ee     MOVF      0xee,0x0,0x0                                                                                    
004cb4   10ed     IORWF     0xed,0x0,0x0                                                                                    
004cb6   e00b     BZ        0x4cce                                                                                          
004cb8   0e01     MOVLW     0x1                                                                                             
004cba   6e4e     MOVWF     0x4e,0x0                                                                                        
004cbc   6a4f     CLRF      0x4f,0x0                                                                                        
004cbe   0e02     MOVLW     0x2                                                                                             
004cc0   50db     MOVF      0xdb,0x0,0x0                                                                                    
004cc2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004cc4   e103     BNZ       0x4ccc                                                                                          
004cc6   0e03     MOVLW     0x3                                                                                             
004cc8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004cca   184f     XORWF     0x4f,0x0,0x0                                                                                    
004ccc   e104     BNZ       0x4cd6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cce   0e02     MOVLW     0x2                  g_ack_enable = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd0   cfdb     MOVFF     0xfdb,0x4bd                                                                                     
004cd2   f4bd                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd4   d002     BRA       0x4cda             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd6   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd8   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,2,1 or CU,2,0 to turn on/off parameter limit checks                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cda   d2ce     BRA       0x5278           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cdc   0e02     MOVLW     0x2                                                                                             
004cde   6e4e     MOVWF     0x4e,0x0                                                                                        
004ce0   6a4f     CLRF      0x4f,0x0                                                                                        
004ce2   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ce4   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ce6   e103     BNZ       0x4cee                                                                                          
004ce8   52de     MOVF      0xde,0x1,0x0                                                                                    
004cea   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004cec   184f     XORWF     0x4f,0x0,0x0                                                                                    
004cee   e11a     BNZ       0x4d24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf0   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf2   0f02     ADDLW     0x2                                                                                             
004cf4   6ee9     MOVWF     0xe9,0x0                                                                                        
004cf6   cfda     MOVFF     0xfda,0xfea                                                                                     
004cf8   ffea                                                                                                               
004cfa   50ee     MOVF      0xee,0x0,0x0                                                                                    
004cfc   10ed     IORWF     0xed,0x0,0x0                                                                                    
004cfe   e00b     BZ        0x4d16                                                                                          
004d00   0e01     MOVLW     0x1                                                                                             
004d02   6e4e     MOVWF     0x4e,0x0                                                                                        
004d04   6a4f     CLRF      0x4f,0x0                                                                                        
004d06   0e02     MOVLW     0x2                                                                                             
004d08   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d0a   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d0c   e103     BNZ       0x4d14                                                                                          
004d0e   0e03     MOVLW     0x3                                                                                             
004d10   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d12   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d14   e104     BNZ       0x4d1e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d16   0e02     MOVLW     0x2                  gLimitChecks = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d18   cfdb     MOVFF     0xfdb,0x1c2                                                                                     
004d1a   f1c2                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1c   d002     BRA       0x4d22             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d20   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,3,1 or CU,3,0 to turn on/off red LED FIFO empty indicator                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d22   d2aa     BRA       0x5278           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d24   0e03     MOVLW     0x3                                                                                             
004d26   6e4e     MOVWF     0x4e,0x0                                                                                        
004d28   6a4f     CLRF      0x4f,0x0                                                                                        
004d2a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d2c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d2e   e103     BNZ       0x4d36                                                                                          
004d30   52de     MOVF      0xde,0x1,0x0                                                                                    
004d32   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d34   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d36   e11c     BNZ       0x4d70                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d38   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d3a   0f02     ADDLW     0x2                                                                                             
004d3c   6ee9     MOVWF     0xe9,0x0                                                                                        
004d3e   cfda     MOVFF     0xfda,0xfea                                                                                     
004d40   ffea                                                                                                               
004d42   50ee     MOVF      0xee,0x0,0x0                                                                                    
004d44   10ed     IORWF     0xed,0x0,0x0                                                                                    
004d46   e103     BNZ       0x4d4e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d48   9006     BCF       0x6,0x0,0x0          bitclrzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4a   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4c   d010     BRA       0x4d6e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4e   0e01     MOVLW     0x1                                                                                             
004d50   6e4e     MOVWF     0x4e,0x0                                                                                        
004d52   6a4f     CLRF      0x4f,0x0                                                                                        
004d54   0e02     MOVLW     0x2                                                                                             
004d56   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d58   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d5a   e103     BNZ       0x4d62                                                                                          
004d5c   0e03     MOVLW     0x3                                                                                             
004d5e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d60   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d62   e103     BNZ       0x4d6a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d64   8006     BSF       0x6,0x0,0x0          bitsetzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d66   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d68   d002     BRA       0x4d6e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d6a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d6c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,4,<new_FIFO_size>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d6e   d284     BRA       0x5278           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d70   0e04     MOVLW     0x4                                                                                             
004d72   6e4e     MOVWF     0x4e,0x0                                                                                        
004d74   6a4f     CLRF      0x4f,0x0                                                                                        
004d76   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d78   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d7a   e103     BNZ       0x4d82                                                                                          
004d7c   52de     MOVF      0xde,0x1,0x0                                                                                    
004d7e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d80   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d82   e11d     BNZ       0x4dbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d84   0e02     MOVLW     0x2                if (paramater_value > (INT16)COMMAND_FIFO_MAX_LENGTH)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d86   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004d88   f04e                                                                                                               
004d8a   0e03     MOVLW     0x3                                                                                             
004d8c   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004d8e   f04f                                                                                                               
004d90   344f     RLCF      0x4f,0x0,0x0                                                                                    
004d92   e204     BC        0x4d9c                                                                                          
004d94   504e     MOVF      0x4e,0x0,0x0                                                                                    
004d96   0820     SUBLW     0x20                                                                                            
004d98   0e00     MOVLW     0x0                                                                                             
004d9a   544f     SUBFWB    0x4f,0x0,0x0                                                                                    
004d9c   e207     BC        0x4dac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d9e   0e20     MOVLW     0x20                 paramater_value = COMMAND_FIFO_MAX_LENGTH;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004da0   6ef3     MOVWF     0xf3,0x0                                                                                        
004da2   0e02     MOVLW     0x2                                                                                             
004da4   cff3     MOVFF     0xff3,0xfdb                                                                                     
004da6   ffdb                                                                                                               
004da8   0e03     MOVLW     0x3                                                                                             
004daa   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spin here until we're certain the FIFO is empty and there are no          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // command executing. We want the ISR to be completely idle while we         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // change this value.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dac   ec43     CALL      0x3086,0x0         while (process_QM())                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dae   f018                                                                                                               
004db0   0900     IORLW     0x0                                                                                             
004db2   e001     BZ        0x4db6                                                                                          
004db4   d7fb     BRA       0x4dac                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db6   0e02     MOVLW     0x2                gCurrentFIFOLength = paramater_value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dba   6e13     MOVWF     0x13,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,10,1 or CU,10,0 to turn on/off standardized line ending                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dbc   d25d     BRA       0x5278           else if (10u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dbe   0e0a     MOVLW     0xa                                                                                             
004dc0   6e4e     MOVWF     0x4e,0x0                                                                                        
004dc2   6a4f     CLRF      0x4f,0x0                                                                                        
004dc4   50df     MOVF      0xdf,0x0,0x0                                                                                    
004dc6   184e     XORWF     0x4e,0x0,0x0                                                                                    
004dc8   e103     BNZ       0x4dd0                                                                                          
004dca   52de     MOVF      0xde,0x1,0x0                                                                                    
004dcc   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004dce   184f     XORWF     0x4f,0x0,0x0                                                                                    
004dd0   e11c     BNZ       0x4e0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd2   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd4   0f02     ADDLW     0x2                                                                                             
004dd6   6ee9     MOVWF     0xe9,0x0                                                                                        
004dd8   cfda     MOVFF     0xfda,0xfea                                                                                     
004dda   ffea                                                                                                               
004ddc   50ee     MOVF      0xee,0x0,0x0                                                                                    
004dde   10ed     IORWF     0xed,0x0,0x0                                                                                    
004de0   e103     BNZ       0x4de8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de2   0101     MOVLB     0x1                  bitclrzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de4   91c3     BCF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de6   d010     BRA       0x4e08             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de8   0e01     MOVLW     0x1                                                                                             
004dea   6e4e     MOVWF     0x4e,0x0                                                                                        
004dec   6a4f     CLRF      0x4f,0x0                                                                                        
004dee   0e02     MOVLW     0x2                                                                                             
004df0   50db     MOVF      0xdb,0x0,0x0                                                                                    
004df2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004df4   e103     BNZ       0x4dfc                                                                                          
004df6   0e03     MOVLW     0x3                                                                                             
004df8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dfa   184f     XORWF     0x4f,0x0,0x0                                                                                    
004dfc   e103     BNZ       0x4e04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dfe   0101     MOVLB     0x1                  bitsetzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e00   81c3     BSF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e02   d002     BRA       0x4e08             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e04   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e06   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,50,1 or CU,50,0 to turn on/off automatic motor enable                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e08   d237     BRA       0x5278           else if (50u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e0a   0e32     MOVLW     0x32                                                                                            
004e0c   6e4e     MOVWF     0x4e,0x0                                                                                        
004e0e   6a4f     CLRF      0x4f,0x0                                                                                        
004e10   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e12   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e14   e103     BNZ       0x4e1c                                                                                          
004e16   52de     MOVF      0xde,0x1,0x0                                                                                    
004e18   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e1a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e1c   e10f     BNZ       0x4e3c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e20   0f02     ADDLW     0x2                                                                                             
004e22   6ee9     MOVWF     0xe9,0x0                                                                                        
004e24   cfda     MOVFF     0xfda,0xfea                                                                                     
004e26   ffea                                                                                                               
004e28   50ee     MOVF      0xee,0x0,0x0                                                                                    
004e2a   10ed     IORWF     0xed,0x0,0x0                                                                                    
004e2c   e103     BNZ       0x4e34                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e2e   0104     MOVLB     0x4                  gAutomaticMotorEnable = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e30   6bc6     CLRF      0xc6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e32   d003     BRA       0x4e3a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e34   0104     MOVLB     0x4                  gAutomaticMotorEnable = TRUE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e36   0e01     MOVLW     0x1                                                                                             
004e38   6fc6     MOVWF     0xc6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,51,<limit_switch_mask>                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e3a   d21e     BRA       0x5278           else if (51u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e3c   0e33     MOVLW     0x33                                                                                            
004e3e   6e4e     MOVWF     0x4e,0x0                                                                                        
004e40   6a4f     CLRF      0x4f,0x0                                                                                        
004e42   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e44   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e46   e103     BNZ       0x4e4e                                                                                          
004e48   52de     MOVF      0xde,0x1,0x0                                                                                    
004e4a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e4c   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e4e   e111     BNZ       0x4e72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e50   0eff     MOVLW     0xff               gLimitSwitchMask = (paramater_value & 0xFF);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e52   6ee7     MOVWF     0xe7,0x0                                                                                        
004e54   0e02     MOVLW     0x2                                                                                             
004e56   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004e58   f04e                                                                                                               
004e5a   0e03     MOVLW     0x3                                                                                             
004e5c   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004e5e   f04f                                                                                                               
004e60   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004e62   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004e64   6a4f     CLRF      0x4f,0x0                                                                                        
004e66   504e     MOVF      0x4e,0x0,0x0                                                                                    
004e68   6e0c     MOVWF     0xc,0x0                                                                                         
004e6a   500c     MOVF      0xc,0x0,0x0        if (gLimitSwitchMask == 0u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e6c   e101     BNZ       0x4e70                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e6e   900e     BCF       0xe,0x0,0x0          bitclrzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,52,<limit_siwtch_target>                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e70   d203     BRA       0x5278           else if (52u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e72   0e34     MOVLW     0x34                                                                                            
004e74   6e4e     MOVWF     0x4e,0x0                                                                                        
004e76   6a4f     CLRF      0x4f,0x0                                                                                        
004e78   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e7a   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e7c   e103     BNZ       0x4e84                                                                                          
004e7e   52de     MOVF      0xde,0x1,0x0                                                                                    
004e80   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e82   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e84   e10e     BNZ       0x4ea2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e86   0eff     MOVLW     0xff               gLimitSwitchTarget = (paramater_value & 0xFF);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e88   6ee7     MOVWF     0xe7,0x0                                                                                        
004e8a   0e02     MOVLW     0x2                                                                                             
004e8c   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004e8e   f04e                                                                                                               
004e90   0e03     MOVLW     0x3                                                                                             
004e92   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004e94   f04f                                                                                                               
004e96   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004e98   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004e9a   6a4f     CLRF      0x4f,0x0                                                                                        
004e9c   504e     MOVF      0x4e,0x0,0x0                                                                                    
004e9e   6e0d     MOVWF     0xd,0x0                                                                                         
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,53,1 turns on the sending of "Limit switch trigger" replies              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ea0   d1eb     BRA       0x5278           else if (53u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ea2   0e35     MOVLW     0x35                                                                                            
004ea4   6e4e     MOVWF     0x4e,0x0                                                                                        
004ea6   6a4f     CLRF      0x4f,0x0                                                                                        
004ea8   50df     MOVF      0xdf,0x0,0x0                                                                                    
004eaa   184e     XORWF     0x4e,0x0,0x0                                                                                    
004eac   e103     BNZ       0x4eb4                                                                                          
004eae   52de     MOVF      0xde,0x1,0x0                                                                                    
004eb0   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004eb2   184f     XORWF     0x4f,0x0,0x0                                                                                    
004eb4   e114     BNZ       0x4ede                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb6   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb8   6e4e     MOVWF     0x4e,0x0                                                                                        
004eba   6a4f     CLRF      0x4f,0x0                                                                                        
004ebc   0e02     MOVLW     0x2                                                                                             
004ebe   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ec0   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ec2   e103     BNZ       0x4eca                                                                                          
004ec4   0e03     MOVLW     0x3                                                                                             
004ec6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ec8   184f     XORWF     0x4f,0x0,0x0                                                                                    
004eca   e104     BNZ       0x4ed4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ecc   0104     MOVLB     0x4                  gLimitSwitchReplies = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ece   0e01     MOVLW     0x1                                                                                             
004ed0   6fca     MOVWF     0xca,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed2   d004     BRA       0x4edc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed4   0104     MOVLB     0x4                  gLimitSwitchReplies = FALSE;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed6   6bca     CLRF      0xca,0x1                                                                                        
004ed8   0104     MOVLB     0x4                  gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eda   6bcb     CLRF      0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,54,1 turns on command checksums                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004edc   d1cd     BRA       0x5278           else if (54u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ede   0e36     MOVLW     0x36                                                                                            
004ee0   6e4e     MOVWF     0x4e,0x0                                                                                        
004ee2   6a4f     CLRF      0x4f,0x0                                                                                        
004ee4   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ee6   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ee8   e103     BNZ       0x4ef0                                                                                          
004eea   52de     MOVF      0xde,0x1,0x0                                                                                    
004eec   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004eee   184f     XORWF     0x4f,0x0,0x0                                                                                    
004ef0   e112     BNZ       0x4f16                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef2   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef4   6e4e     MOVWF     0x4e,0x0                                                                                        
004ef6   6a4f     CLRF      0x4f,0x0                                                                                        
004ef8   0e02     MOVLW     0x2                                                                                             
004efa   50db     MOVF      0xdb,0x0,0x0                                                                                    
004efc   184e     XORWF     0x4e,0x0,0x0                                                                                    
004efe   e103     BNZ       0x4f06                                                                                          
004f00   0e03     MOVLW     0x3                                                                                             
004f02   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f04   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f06   e104     BNZ       0x4f10                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f08   0104     MOVLB     0x4                  gCommandChecksumRequired = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f0a   0e01     MOVLW     0x1                                                                                             
004f0c   6fcc     MOVWF     0xcc,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f0e   d002     BRA       0x4f14             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f10   0104     MOVLB     0x4                  gCommandChecksumRequired = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f12   6bcc     CLRF      0xcc,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,60,<NewThreshold>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f14   d1b1     BRA       0x5278           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f16   0e3c     MOVLW     0x3c                                                                                            
004f18   6e4e     MOVWF     0x4e,0x0                                                                                        
004f1a   6a4f     CLRF      0x4f,0x0                                                                                        
004f1c   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f1e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f20   e103     BNZ       0x4f28                                                                                          
004f22   52de     MOVF      0xde,0x1,0x0                                                                                    
004f24   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f26   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f28   e10d     BNZ       0x4f44                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f2a   0e02     MOVLW     0x2                g_PowerMonitorThresholdADC = (paramater_value & 0x03FF);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f2c   cfdb     MOVFF     0xfdb,0x492                                                                                     
004f2e   f492                                                                                                               
004f30   0e03     MOVLW     0x3                                                                                             
004f32   cfdb     MOVFF     0xfdb,0x493                                                                                     
004f34   f493                                                                                                               
004f36   0eff     MOVLW     0xff                                                                                            
004f38   0104     MOVLB     0x4                                                                                             
004f3a   1792     ANDWF     0x92,0x1,0x1                                                                                    
004f3c   0e03     MOVLW     0x3                                                                                             
004f3e   0104     MOVLB     0x4                                                                                             
004f40   1793     ANDWF     0x93,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,61,<NewStepperDisableTimeoutThreshold>                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f42   d19a     BRA       0x5278           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f44   0e3d     MOVLW     0x3d                                                                                            
004f46   6e4e     MOVWF     0x4e,0x0                                                                                        
004f48   6a4f     CLRF      0x4f,0x0                                                                                        
004f4a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f4c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f4e   e103     BNZ       0x4f56                                                                                          
004f50   52de     MOVF      0xde,0x1,0x0                                                                                    
004f52   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f54   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f56   e137     BNZ       0x4fc6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f58   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f5a   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;    // Turn low priority interrupts off                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f5c   0e02     MOVLW     0x2                g_StepperDisableTimeoutS = paramater_value;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f5e   cfdb     MOVFF     0xfdb,0x496                                                                                     
004f60   f496                                                                                                               
004f62   0e03     MOVLW     0x3                                                                                             
004f64   cfdb     MOVFF     0xfdb,0x497                                                                                     
004f66   f497                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f68   0104     MOVLB     0x4                if (g_StepperDisableTimeoutS == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6a   5196     MOVF      0x96,0x0,0x1                                                                                    
004f6c   1197     IORWF     0x97,0x0,0x1                                                                                    
004f6e   e109     BNZ       0x4f82                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn feature completely off no matter what state we're in               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f70   0104     MOVLB     0x4                  g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f72   6b95     CLRF      0x95,0x1                                                                                        
004f74   0104     MOVLB     0x4                  g_StepperDisableSecondCounter = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f76   6b98     CLRF      0x98,0x1                                                                                        
004f78   6b99     CLRF      0x99,0x1                                                                                        
004f7a   0104     MOVLB     0x4                  g_StepperDisableCountdownS = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f7c   6b9a     CLRF      0x9a,0x1                                                                                        
004f7e   6b9b     CLRF      0x9b,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f80   d01f     BRA       0x4fc0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // User wants feature enabled with new timeout. Do different things        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // based on current state.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f82   0104     MOVLB     0x4                  switch (g_StepperDisableState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f84   5195     MOVF      0x95,0x0,0x1                                                                                    
004f86   0a03     XORLW     0x3                                                                                             
004f88   e014     BZ        0x4fb2                                                                                          
004f8a   0a02     XORLW     0x2                                                                                             
004f8c   e00f     BZ        0x4fac                                                                                          
004f8e   0a01     XORLW     0x1                                                                                             
004f90   e00d     BZ        0x4fac                                                                                          
004f92   0a02     XORLW     0x2                                                                                             
004f94   e001     BZ        0x4f98                                                                                          
004f96   d00a     BRA       0x4fac                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_TIMING:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Always start over with new timeout value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f98   c496     MOVFF     0x496,0x49a              g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f9a   f49a                                                                                                               
004f9c   c497     MOVFF     0x497,0x49b                                                                                     
004f9e   f49b                                                                                                               
004fa0   0104     MOVLB     0x4                      g_StepperDisableSecondCounter = 1000u;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa2   0ee8     MOVLW     0xe8                                                                                            
004fa4   6f98     MOVWF     0x98,0x1                                                                                        
004fa6   0e03     MOVLW     0x3                                                                                             
004fa8   6f99     MOVWF     0x99,0x1                                                                                        
004faa   d00a     BRA       0x4fc0                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_PRIMED:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_DISABLED:                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fac   0104     MOVLB     0x4                      g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fae   0e01     MOVLW     0x1                                                                                             
004fb0   6f95     MOVWF     0x95,0x1                                                                                        
                                                     // Note intentional fall-through                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_FIRED:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fb2   0104     MOVLB     0x4                      g_StepperDisableSecondCounter = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fb4   6b98     CLRF      0x98,0x1                                                                                        
004fb6   6b99     CLRF      0x99,0x1                                                                                        
004fb8   0104     MOVLB     0x4                      g_StepperDisableCountdownS = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fba   6b9a     CLRF      0x9a,0x1                                                                                        
004fbc   6b9b     CLRF      0x9b,0x1                                                                                        
004fbe   d000     BRA       0x4fc0                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc0   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;    // Turn low priority interrupts on                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc2   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,250,1 or CU,250,0 to turn on/off GPIO ISR timing debug                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc4   d159     BRA       0x5278           else if (250u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc6   0efa     MOVLW     0xfa                                                                                            
004fc8   6e4e     MOVWF     0x4e,0x0                                                                                        
004fca   6a4f     CLRF      0x4f,0x0                                                                                        
004fcc   50df     MOVF      0xdf,0x0,0x0                                                                                    
004fce   184e     XORWF     0x4e,0x0,0x0                                                                                    
004fd0   e103     BNZ       0x4fd8                                                                                          
004fd2   52de     MOVF      0xde,0x1,0x0                                                                                    
004fd4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004fd6   184f     XORWF     0x4f,0x0,0x0                                                                                    
004fd8   e11e     BNZ       0x5016                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fda   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fdc   0f02     ADDLW     0x2                                                                                             
004fde   6ee9     MOVWF     0xe9,0x0                                                                                        
004fe0   cfda     MOVFF     0xfda,0xfea                                                                                     
004fe2   ffea                                                                                                               
004fe4   50ee     MOVF      0xee,0x0,0x0                                                                                    
004fe6   10ed     IORWF     0xed,0x0,0x0                                                                                    
004fe8   e102     BNZ       0x4fee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fea   9209     BCF       0x9,0x1,0x0          bitclr(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fec   d013     BRA       0x5014             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fee   0e01     MOVLW     0x1                                                                                             
004ff0   6e4e     MOVWF     0x4e,0x0                                                                                        
004ff2   6a4f     CLRF      0x4f,0x0                                                                                        
004ff4   0e02     MOVLW     0x2                                                                                             
004ff6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ff8   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ffa   e103     BNZ       0x5002                                                                                          
004ffc   0e03     MOVLW     0x3                                                                                             
004ffe   50db     MOVF      0xdb,0x0,0x0                                                                                    
005000   184f     XORWF     0x4f,0x0,0x0                                                                                    
005002   e106     BNZ       0x5010                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005004   8209     BSF       0x9,0x1,0x0          bitset(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005006   9295     BCF       0x95,0x1,0x0         TRISDbits.TRISD1 = 0;   // D1 high when in ISR                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005008   9095     BCF       0x95,0x0,0x0         TRISDbits.TRISD0 = 0;   // D0 high when loading next command               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500a   9292     BCF       0x92,0x1,0x0         TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500c   9692     BCF       0x92,0x3,0x0         TRISAbits.TRISA3 = 0;   // A3 when servo is moving                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500e   d002     BRA       0x5014             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005010   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005012   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,251,1 or CU,251,0 to turn on/off ISR end of move values printing (On RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005014   d131     BRA       0x5278           else if (251u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005016   0efb     MOVLW     0xfb                                                                                            
005018   6e4e     MOVWF     0x4e,0x0                                                                                        
00501a   6a4f     CLRF      0x4f,0x0                                                                                        
00501c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00501e   184e     XORWF     0x4e,0x0,0x0                                                                                    
005020   e103     BNZ       0x5028                                                                                          
005022   52de     MOVF      0xde,0x1,0x0                                                                                    
005024   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005026   184f     XORWF     0x4f,0x0,0x0                                                                                    
005028   e12b     BNZ       0x5080                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502a   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502c   0f02     ADDLW     0x2                                                                                             
00502e   6ee9     MOVWF     0xe9,0x0                                                                                        
005030   cfda     MOVFF     0xfda,0xfea                                                                                     
005032   ffea                                                                                                               
005034   50ee     MOVF      0xee,0x0,0x0                                                                                    
005036   10ed     IORWF     0xed,0x0,0x0                                                                                    
005038   e103     BNZ       0x5040                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00503a   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00503c   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00503e   d01f     BRA       0x507e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005040   0e01     MOVLW     0x1                                                                                             
005042   6e4e     MOVWF     0x4e,0x0                                                                                        
005044   6a4f     CLRF      0x4f,0x0                                                                                        
005046   0e02     MOVLW     0x2                                                                                             
005048   50db     MOVF      0xdb,0x0,0x0                                                                                    
00504a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00504c   e103     BNZ       0x5054                                                                                          
00504e   0e03     MOVLW     0x3                                                                                             
005050   50db     MOVF      0xdb,0x0,0x0                                                                                    
005052   184f     XORWF     0x4f,0x0,0x0                                                                                    
005054   e112     BNZ       0x507a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005056   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005058   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00505a   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00505c   6ee6     MOVWF     0xe6,0x0                                                                                        
00505e   ec27     CALL      0x904e,0x0                                                                                      
005060   f048                                                                                                               
005062   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00506a   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00506c   6ee6     MOVWF     0xe6,0x0                                                                                        
005064   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005066   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005068   6ae6     CLRF      0xe6,0x0                                                                                        
00506e   ec21     CALL      0x8e42,0x0                                                                                      
005070   f047                                                                                                               
005072   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005074   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005076   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005078   d002     BRA       0x507e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,252,1 or CU,252,0 to turn on/off every ISR tick values printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507e   d0fc     BRA       0x5278           else if (252u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005080   0efc     MOVLW     0xfc                                                                                            
005082   6e4e     MOVWF     0x4e,0x0                                                                                        
005084   6a4f     CLRF      0x4f,0x0                                                                                        
005086   50df     MOVF      0xdf,0x0,0x0                                                                                    
005088   184e     XORWF     0x4e,0x0,0x0                                                                                    
00508a   e103     BNZ       0x5092                                                                                          
00508c   52de     MOVF      0xde,0x1,0x0                                                                                    
00508e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005090   184f     XORWF     0x4f,0x0,0x0                                                                                    
005092   e12b     BNZ       0x50ea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005094   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005096   0f02     ADDLW     0x2                                                                                             
005098   6ee9     MOVWF     0xe9,0x0                                                                                        
00509a   cfda     MOVFF     0xfda,0xfea                                                                                     
00509c   ffea                                                                                                               
00509e   50ee     MOVF      0xee,0x0,0x0                                                                                    
0050a0   10ed     IORWF     0xed,0x0,0x0                                                                                    
0050a2   e103     BNZ       0x50aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a4   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a6   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a8   d01f     BRA       0x50e8             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050aa   0e01     MOVLW     0x1                                                                                             
0050ac   6e4e     MOVWF     0x4e,0x0                                                                                        
0050ae   6a4f     CLRF      0x4f,0x0                                                                                        
0050b0   0e02     MOVLW     0x2                                                                                             
0050b2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050b4   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050b6   e103     BNZ       0x50be                                                                                          
0050b8   0e03     MOVLW     0x3                                                                                             
0050ba   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050bc   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050be   e112     BNZ       0x50e4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c0   8609     BSF       0x9,0x3,0x0          bitset(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c2   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c4   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0050c8   ec27     CALL      0x904e,0x0                                                                                      
0050ca   f048                                                                                                               
0050cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d4   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0050ce   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d0   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d2   6ae6     CLRF      0xe6,0x0                                                                                        
0050d8   ec21     CALL      0x8e42,0x0                                                                                      
0050da   f047                                                                                                               
0050dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0050de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0050e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050e2   d002     BRA       0x50e8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050e4   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050e6   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,253,1 or CU,253,0 to turn on/off move command extra debug printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050e8   d0c7     BRA       0x5278           else if (253u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ea   0efd     MOVLW     0xfd                                                                                            
0050ec   6e4e     MOVWF     0x4e,0x0                                                                                        
0050ee   6a4f     CLRF      0x4f,0x0                                                                                        
0050f0   50df     MOVF      0xdf,0x0,0x0                                                                                    
0050f2   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050f4   e103     BNZ       0x50fc                                                                                          
0050f6   52de     MOVF      0xde,0x1,0x0                                                                                    
0050f8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050fa   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050fc   e129     BNZ       0x5150                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050fe   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005100   0f02     ADDLW     0x2                                                                                             
005102   6ee9     MOVWF     0xe9,0x0                                                                                        
005104   cfda     MOVFF     0xfda,0xfea                                                                                     
005106   ffea                                                                                                               
005108   50ee     MOVF      0xee,0x0,0x0                                                                                    
00510a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00510c   e102     BNZ       0x5112                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00510e   9809     BCF       0x9,0x4,0x0          bitclr(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005110   d01e     BRA       0x514e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005112   0e01     MOVLW     0x1                                                                                             
005114   6e4e     MOVWF     0x4e,0x0                                                                                        
005116   6a4f     CLRF      0x4f,0x0                                                                                        
005118   0e02     MOVLW     0x2                                                                                             
00511a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00511c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00511e   e103     BNZ       0x5126                                                                                          
005120   0e03     MOVLW     0x3                                                                                             
005122   50db     MOVF      0xdb,0x0,0x0                                                                                    
005124   184f     XORWF     0x4f,0x0,0x0                                                                                    
005126   e111     BNZ       0x514a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005128   8809     BSF       0x9,0x4,0x0          bitset(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00512a   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00512c   6ee6     MOVWF     0xe6,0x0                                                                                        
00512e   ec27     CALL      0x904e,0x0                                                                                      
005130   f048                                                                                                               
005132   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00513a   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00513c   6ee6     MOVWF     0xe6,0x0                                                                                        
005134   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005136   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005138   6ae6     CLRF      0xe6,0x0                                                                                        
00513e   ec21     CALL      0x8e42,0x0                                                                                      
005140   f047                                                                                                               
005142   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005144   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005146   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005148   d002     BRA       0x514e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00514a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00514c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,254 turns on 'lock up mode' for measuring true ISR timing by cycling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // I/O pin on and off as fast as possible, then breaks in that I/O toggle      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // can be seen for the ISR and measured.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00514e   d094     BRA       0x5278           else if (254u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005150   0efe     MOVLW     0xfe                                                                                            
005152   6e4e     MOVWF     0x4e,0x0                                                                                        
005154   6a4f     CLRF      0x4f,0x0                                                                                        
005156   50df     MOVF      0xdf,0x0,0x0                                                                                    
005158   184e     XORWF     0x4e,0x0,0x0                                                                                    
00515a   e103     BNZ       0x5162                                                                                          
00515c   52de     MOVF      0xde,0x1,0x0                                                                                    
00515e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005160   184f     XORWF     0x4f,0x0,0x0                                                                                    
005162   e11a     BNZ       0x5198                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005164   8209     BSF       0x9,0x1,0x0        bitset(TestMode, TEST_MODE_GPIO_NUM);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005166   9295     BCF       0x95,0x1,0x0       TRISDbits.TRISD1 = 0;   // D1 high when in ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005168   9095     BCF       0x95,0x0,0x0       TRISDbits.TRISD0 = 0;   // D0 high when loading next command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00516a   9292     BCF       0x92,0x1,0x0       TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005194   d7eb     BRA       0x516c             while(1)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00516c   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00516e   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005170   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005172   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005174   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005176   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005178   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00517a   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00517c   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00517e   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005180   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005182   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005184   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005186   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005188   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518a   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518c   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00518e   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005190   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005192   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,255,1 or CU,255,0 to turn on/off command parsing debug printing on USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005196   d070     BRA       0x5278           else if (255u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005198   684e     SETF      0x4e,0x0                                                                                        
00519a   6a4f     CLRF      0x4f,0x0                                                                                        
00519c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00519e   184e     XORWF     0x4e,0x0,0x0                                                                                    
0051a0   e103     BNZ       0x51a8                                                                                          
0051a2   52de     MOVF      0xde,0x1,0x0                                                                                    
0051a4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0051a6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0051a8   e11a     BNZ       0x51de                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051aa   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ac   0f02     ADDLW     0x2                                                                                             
0051ae   6ee9     MOVWF     0xe9,0x0                                                                                        
0051b0   cfda     MOVFF     0xfda,0xfea                                                                                     
0051b2   ffea                                                                                                               
0051b4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0051b6   10ed     IORWF     0xed,0x0,0x0                                                                                    
0051b8   e102     BNZ       0x51be                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ba   9a09     BCF       0x9,0x5,0x0          bitclr(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051bc   d00f     BRA       0x51dc             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051be   0e01     MOVLW     0x1                                                                                             
0051c0   6e4e     MOVWF     0x4e,0x0                                                                                        
0051c2   6a4f     CLRF      0x4f,0x0                                                                                        
0051c4   0e02     MOVLW     0x2                                                                                             
0051c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051c8   184e     XORWF     0x4e,0x0,0x0                                                                                    
0051ca   e103     BNZ       0x51d2                                                                                          
0051cc   0e03     MOVLW     0x3                                                                                             
0051ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051d0   184f     XORWF     0x4f,0x0,0x0                                                                                    
0051d2   e102     BNZ       0x51d8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d4   8a09     BSF       0x9,0x5,0x0          bitset(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d6   d002     BRA       0x51dc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d8   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051da   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,256,1 or CU,256,0 to turn on/off sending parsed commands to FIFO         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051dc   d04d     BRA       0x5278           else if (256u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051de   6a4e     CLRF      0x4e,0x0                                                                                        
0051e0   0e01     MOVLW     0x1                                                                                             
0051e2   6e4f     MOVWF     0x4f,0x0                                                                                        
0051e4   50df     MOVF      0xdf,0x0,0x0                                                                                    
0051e6   184e     XORWF     0x4e,0x0,0x0                                                                                    
0051e8   e103     BNZ       0x51f0                                                                                          
0051ea   52de     MOVF      0xde,0x1,0x0                                                                                    
0051ec   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0051ee   184f     XORWF     0x4f,0x0,0x0                                                                                    
0051f0   e11a     BNZ       0x5226                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f2   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f4   0f02     ADDLW     0x2                                                                                             
0051f6   6ee9     MOVWF     0xe9,0x0                                                                                        
0051f8   cfda     MOVFF     0xfda,0xfea                                                                                     
0051fa   ffea                                                                                                               
0051fc   50ee     MOVF      0xee,0x0,0x0                                                                                    
0051fe   10ed     IORWF     0xed,0x0,0x0                                                                                    
005200   e102     BNZ       0x5206                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005202   9c09     BCF       0x9,0x6,0x0          bitclr(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005204   d00f     BRA       0x5224             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005206   0e01     MOVLW     0x1                                                                                             
005208   6e4e     MOVWF     0x4e,0x0                                                                                        
00520a   6a4f     CLRF      0x4f,0x0                                                                                        
00520c   0e02     MOVLW     0x2                                                                                             
00520e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005210   184e     XORWF     0x4e,0x0,0x0                                                                                    
005212   e103     BNZ       0x521a                                                                                          
005214   0e03     MOVLW     0x3                                                                                             
005216   50db     MOVF      0xdb,0x0,0x0                                                                                    
005218   184f     XORWF     0x4f,0x0,0x0                                                                                    
00521a   e102     BNZ       0x5220                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521c   8c09     BSF       0x9,0x6,0x0          bitset(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521e   d002     BRA       0x5224             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005220   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005222   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,257,1 or CU,257,0 to turn on/off RC0 as indicator of command is parsing  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005224   d029     BRA       0x5278           else if (257u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005226   0e01     MOVLW     0x1                                                                                             
005228   6e4e     MOVWF     0x4e,0x0                                                                                        
00522a   0e01     MOVLW     0x1                                                                                             
00522c   6e4f     MOVWF     0x4f,0x0                                                                                        
00522e   50df     MOVF      0xdf,0x0,0x0                                                                                    
005230   184e     XORWF     0x4e,0x0,0x0                                                                                    
005232   e103     BNZ       0x523a                                                                                          
005234   52de     MOVF      0xde,0x1,0x0                                                                                    
005236   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005238   184f     XORWF     0x4f,0x0,0x0                                                                                    
00523a   e11c     BNZ       0x5274                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523c   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523e   0f02     ADDLW     0x2                                                                                             
005240   6ee9     MOVWF     0xe9,0x0                                                                                        
005242   cfda     MOVFF     0xfda,0xfea                                                                                     
005244   ffea                                                                                                               
005246   50ee     MOVF      0xee,0x0,0x0                                                                                    
005248   10ed     IORWF     0xed,0x0,0x0                                                                                    
00524a   e103     BNZ       0x5252                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524c   9009     BCF       0x9,0x0,0x0          bitclrzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524e   8094     BSF       0x94,0x0,0x0         TRISCbits.TRISC0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005250   d010     BRA       0x5272             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005252   0e01     MOVLW     0x1                                                                                             
005254   6e4e     MOVWF     0x4e,0x0                                                                                        
005256   6a4f     CLRF      0x4f,0x0                                                                                        
005258   0e02     MOVLW     0x2                                                                                             
00525a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00525c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00525e   e103     BNZ       0x5266                                                                                          
005260   0e03     MOVLW     0x3                                                                                             
005262   50db     MOVF      0xdb,0x0,0x0                                                                                    
005264   184f     XORWF     0x4f,0x0,0x0                                                                                    
005266   e103     BNZ       0x526e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005268   8009     BSF       0x9,0x0,0x0          bitsetzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00526a   9094     BCF       0x94,0x0,0x0         TRISCbits.TRISC0 = 0;   // C0 high when parsing command                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00526c   d002     BRA       0x5272             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00526e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005270   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005272   d002     BRA       0x5278           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005274   0104     MOVLB     0x4                bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005276   8d84     BSF       0x84,0x6,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005278   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00527a   dcb7     RCALL     0x4bea                                                                                          
00527c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00527e   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005280   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005282   e202     BC        0x5288                                                                                          
005284   6ae1     CLRF      0xe1,0x0                                                                                        
005286   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005288   6ee1     MOVWF     0xe1,0x0                                                                                        
00528a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00528c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00528e   ffd9                                                                                                               
005290   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QU is "Query Utility" and provides a simple mechanism for the PC reading      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // certain values from the EBB.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QU,<parameter_number><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns: Some value(s), dependant on what parameter_number is.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <return_packet>                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   QU,1,XX  where XX is a value from 00 to FF, representing the contents of  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //              the PortB pins at the time of the last limit switch trigger      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   QU,2,ddd to read back the maximum supported FIFO length for this version  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   QU,3,ddd to read back the current FIFO length                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   QU,4,XXX prints out stack high water value (as 3 digit hex value)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 5   QU,5,XXX prints out stack high water value (as 3 digit hex value) and resets it to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 6   QU,6,XX prints out the number of commands currently waiting in the FIFO   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005292   ec34     CALL      0x6668,0x0     void parse_QU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005294   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 parameter_number;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005296   ec47     CALL      0x668e,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005298   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529a   0e01     MOVLW     0x1              extract_number(kUCHAR, &parameter_number, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529c   ec80     CALL      0x6300,0x0                                                                                      
00529e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a0   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a2   5184     MOVF      0x84,0x0,0x1                                                                                    
0052a4   e001     BZ        0x52a8                                                                                          
0052a6   d08a     BRA       0x53bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,1 to read back current value of gLimitSwitchPortB                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,1,XX" where XX is two digit hex value from 00 to FF             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a8   04df     DECF      0xdf,0x0,0x0     if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052aa   e108     BNZ       0x52bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ac   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ae   f032                                                                                                               
00633e   6ee6     MOVWF     0xe6,0x0           ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006340   ec71     CALL      0x44e2,0x0                                                                                      
006342   f022                                                                                                               
006344   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006346   0012     RETURN    0x0                                                                                             
0052b0   0e02     MOVLW     0x2                ebb_print_hex(gLimitSwitchPortB, 2);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b2   6ee6     MOVWF     0xe6,0x0                                                                                        
0052b4   c4c9     MOVFF     0x4c9,0x4e                                                                                      
0052b6   f04e                                                                                                               
0052b8   6a4f     CLRF      0x4f,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,2 to read back the maximum supported FIFO length for this version        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,2,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ba   d01e     BRA       0x52f8           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052bc   0e02     MOVLW     0x2                                                                                             
0052be   ecd8     CALL      0x63b0,0x0                                                                                      
0052c0   f031                                                                                                               
0052c2   e108     BNZ       0x52d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c4   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c6   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c8   0e20     MOVLW     0x20               ebb_print_uint(COMMAND_FIFO_MAX_LENGTH);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0052cc   6ae6     CLRF      0xe6,0x0                                                                                        
0052ce   6ae6     CLRF      0xe6,0x0                                                                                        
0052d0   6ae6     CLRF      0xe6,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,3 to read back the current FIFO length                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,3,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d2   d04c     BRA       0x536c           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d4   0e03     MOVLW     0x3                                                                                             
0052d6   ecd8     CALL      0x63b0,0x0                                                                                      
0052d8   f031                                                                                                               
0052da   e104     BNZ       0x52e4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052dc   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052de   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052e0   5013     MOVF      0x13,0x0,0x0       ebb_print_uint(gCurrentFIFOLength);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,4 prints out current stack high water value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052e2   d026     BRA       0x5330           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052e4   0e04     MOVLW     0x4                                                                                             
0052e6   ecd8     CALL      0x63b0,0x0                                                                                      
0052e8   f031                                                                                                               
0052ea   e109     BNZ       0x52fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ec   ec67     CALL      0x40ce,0x0         check_high_water();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ee   f020                                                                                                               
0052f0   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f2   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f4   ecb2     CALL      0x6564,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f6   f032                                                                                                               
0052f8   eca4     CALL      0x6348,0x0                                                                                      
0052fa   f031                                                                                                               
006564   0e03     MOVLW     0x3                                                                                             
006566   6ee6     MOVWF     0xe6,0x0                                                                                        
006568   c4cd     MOVFF     0x4cd,0x4e                                                                                      
00656a   f04e                                                                                                               
00656c   c4ce     MOVFF     0x4ce,0x4f                                                                                      
00656e   f04f                                                                                                               
006570   0012     RETURN    0x0                                                                                             
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,5 prints out current stack high water value and resets it to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fc   d059     BRA       0x53b0           else if (5u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fe   0e05     MOVLW     0x5                                                                                             
005300   ecd8     CALL      0x63b0,0x0                                                                                      
005302   f031                                                                                                               
005304   e10e     BNZ       0x5322                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005306   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005308   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00530a   ecb2     CALL      0x6564,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00530c   f032                                                                                                               
00530e   eca4     CALL      0x6348,0x0                                                                                      
005310   f031                                                                                                               
006348   6a50     CLRF      0x50,0x0                                                                                        
00634a   6a51     CLRF      0x51,0x0                                                                                        
00634c   da54     RCALL     0x67f6                                                                                          
00634e   ef72     GOTO      0x66e4                                                                                          
006350   f033                                                                                                               
005312   ec84     CALL      0x6308,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005314   f031                                                                                                               
005316   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;  // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005318   0104     MOVLB     0x4                gStackHighWater = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531a   6bcd     CLRF      0xcd,0x1                                                                                        
00531c   6bce     CLRF      0xce,0x1                                                                                        
00531e   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;  // Turn low priority interrupts on                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,6 prints out the number of commands currently waiting in the FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005320   d04b     BRA       0x53b8           else if (6u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005322   0e06     MOVLW     0x6                                                                                             
005324   ecd8     CALL      0x63b0,0x0                                                                                      
005326   f031                                                                                                               
005328   e106     BNZ       0x5336                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532a   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532c   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532e   500f     MOVF      0xf,0x0,0x0        ebb_print_uint(gFIFOLength);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005330   ec01     CALL      0x6402,0x0                                                                                      
005332   f032                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005334   d019     BRA       0x5368           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005336   0e3c     MOVLW     0x3c                                                                                            
005338   ecd8     CALL      0x63b0,0x0                                                                                      
00533a   f031                                                                                                               
00533c   e107     BNZ       0x534c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00533e   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005340   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005342   c492     MOVFF     0x492,0x4e         ebb_print_uint(g_PowerMonitorThresholdADC);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005344   f04e                                                                                                               
005346   c493     MOVFF     0x493,0x4f                                                                                      
005348   f04f                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534a   d00a     BRA       0x5360           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534c   0e3d     MOVLW     0x3d                                                                                            
00534e   ecd8     CALL      0x63b0,0x0                                                                                      
005350   f031                                                                                                               
005352   e10f     BNZ       0x5372                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005354   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005356   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005358   c496     MOVFF     0x496,0x4e         ebb_print_uint(g_StepperDisableTimeoutS);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535a   f04e                                                                                                               
00535c   c497     MOVFF     0x497,0x4f                                                                                      
00535e   f04f                                                                                                               
005360   6a50     CLRF      0x50,0x0                                                                                        
005362   6a51     CLRF      0x51,0x0                                                                                        
005364   c04e     MOVFF     0x4e,0xfe6                                                                                      
005366   ffe6                                                                                                               
005368   ecde     CALL      0x65bc,0x0                                                                                      
00536a   f032                                                                                                               
00536c   ecc2     CALL      0x6784,0x0                                                                                      
00536e   f033                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005370   d01f     BRA       0x53b0           else if (200u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005372   0ec8     MOVLW     0xc8                                                                                            
005374   ecd8     CALL      0x63b0,0x0                                                                                      
005376   f031                                                                                                               
005378   e11e     BNZ       0x53b6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537a   ecd1     CALL      0x65a2,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537c   f032                                                                                                               
0065a2   dedc     RCALL     0x635c                                                                                          
0065a4   d900     RCALL     0x67a6                                                                                          
0065a6   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065a8   ef9f     GOTO      0x633e                                                                                          
0065aa   f031                                                                                                               
00537e   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005380   c01e     MOVFF     0x1e,0xfe6         ebb_print_uint(acc_union[0].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005382   ffe6                                                                                                               
005384   c01f     MOVFF     0x1f,0xfe6                                                                                      
005386   ffe6                                                                                                               
005388   c020     MOVFF     0x20,0xfe6                                                                                      
00538a   ffe6                                                                                                               
00538c   c021     MOVFF     0x21,0xfe6                                                                                      
00538e   ffe6                                                                                                               
005390   ecc2     CALL      0x6784,0x0                                                                                      
005392   f033                                                                                                               
005394   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005396   ec9f     CALL      0x633e,0x0                                                                                      
005398   f031                                                                                                               
00539a   c022     MOVFF     0x22,0xfe6         ebb_print_uint(acc_union[1].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00539c   ffe6                                                                                                               
00539e   c023     MOVFF     0x23,0xfe6                                                                                      
0053a0   ffe6                                                                                                               
0053a2   c024     MOVFF     0x24,0xfe6                                                                                      
0053a4   ffe6                                                                                                               
0053a6   c025     MOVFF     0x25,0xfe6                                                                                      
0053a8   ffe6                                                                                                               
0053aa   ecc2     CALL      0x6784,0x0                                                                                      
0053ac   f033                                                                                                               
0053ae   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b0   ec84     CALL      0x6308,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b2   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b4   d001     BRA       0x53b8           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b6   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b8   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ba   f031                                                                                                               
0053bc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053be   ef9b     GOTO      0x6336                                                                                          
0053c0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "T" Packet                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Causes PIC to sample digital or analog inputs at a regular interval and send  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // I (or A) packets back at that interval.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Send T,0,0<CR> to stop I (or A) packets                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: T,<TIME_BETWEEN_UPDATES_IN_MS>,<MODE><CR>                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <MODE> is 0 for digital (I packets) and 1 for analog (A packets)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,4000,0<CR>" to send an I packet back every 4 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,2000,1<CR>" to send an A packet back every 2 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int value;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char mode = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <TIME_BETWEEN_UPDATES_IN_MS> value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, (void *)&time_between_updates, kREQUIRED);               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <MODE> value                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &mode, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now start up the timer at the right rate or shut                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // it down.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (0u == mode)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of I packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of A packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // IMPORTANT: As of EBB v2.2.3 firmware, this command is different from the      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // UBW version. The analog config value is eliminated, replaced with the "AC"    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // command.                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: C,<portA_IO>,<portB_IO>,<portC_IO>,<portD_IO>,<portE_IO><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "C,255,0,4,0,0,0<CR>"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <portX_IO> is the byte sent to the Data Direction (DDR) register for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // each port. A 1 in a bit location means input, a 0 means output.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // NOTE: it is up to the user to tell the proper port direction bits to be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // inputs for the analog channels they wish to use.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053c2   ec96     CALL      0x632c,0x0     void parse_C_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053c4   f031                                                                                                               
0053c6   0e05     MOVLW     0x5                                                                                             
0053c8   ece5     CALL      0x65ca,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char PA, PB, PC, PD, PE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ca   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the four values.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053cc   0e01     MOVLW     0x1              extract_number(kUCHAR, &PA, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ce   ecae     CALL      0x675c,0x0                                                                                      
0053d0   f033                                                                                                               
0053d2   ecb2     CALL      0x6764,0x0       extract_number(kUCHAR, &PB, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d4   f033                                                                                                               
                                             extract_number(kUCHAR, &PC, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d6   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PD, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0053da   0f03     ADDLW     0x3                                                                                             
0053dc   ecd6     CALL      0x65ac,0x0                                                                                      
0053de   f032                                                                                                               
0053e0   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PE, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053e2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0053e4   0f04     ADDLW     0x4                                                                                             
0053e6   eced     CALL      0x67da,0x0                                                                                      
0053e8   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ea   e110     BNZ       0x540c           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now write those values to the data direction registers.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ec   50df     MOVF      0xdf,0x0,0x0     TRISA = PA;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ee   6e92     MOVWF     0x92,0x0                                                                                        
0053f0   0e01     MOVLW     0x1              TRISB = PB;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053f4   6e93     MOVWF     0x93,0x0                                                                                        
0053f6   0e02     MOVLW     0x2              TRISC = PC;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053fa   6e94     MOVWF     0x94,0x0                                                                                        
0053fc   0e03     MOVLW     0x3              TRISD = PD;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
005400   6e95     MOVWF     0x95,0x0                                                                                        
005402   0e04     MOVLW     0x4              TRISE = PE;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005404   50db     MOVF      0xdb,0x0,0x0                                                                                    
005406   6e96     MOVWF     0x96,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005408   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00540a   f031                                                                                                               
00540c   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00540e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005410   e202     BC        0x5416                                                                                          
005412   6ae1     CLRF      0xe1,0x0                                                                                        
005414   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005416   6ee1     MOVWF     0xe1,0x0                                                                                        
005418   ef9b     GOTO      0x6336                                                                                          
00541a   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function turns on or off an analog channel                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is called from other pieces of code, not the user                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00541c   ec96     CALL      0x632c,0x0     void AnalogConfigure(unsigned char Channel, unsigned char Enable)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00541e   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005420   0efe     MOVLW     0xfe             if (Channel > 16u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005422   50db     MOVF      0xdb,0x0,0x0                                                                                    
005424   0810     SUBLW     0x10                                                                                            
005426   e205     BC        0x5432                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005428   0e10     MOVLW     0x10               Channel = 16;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00542a   6ef3     MOVWF     0xf3,0x0                                                                                        
00542c   0efe     MOVLW     0xfe                                                                                            
00542e   cff3     MOVFF     0xff3,0xfdb                                                                                     
005430   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005432   0efd     MOVLW     0xfd             if (Enable)                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005434   50db     MOVF      0xdb,0x0,0x0                                                                                    
005436   e02b     BZ        0x548e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005438   0efe     MOVLW     0xfe               AnalogEnabledChannels |= ((unsigned int)0x0001 << Channel);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00543c   ec46     CALL      0x908c,0x0                                                                                      
00543e   f048                                                                                                               
005440   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005442   0104     MOVLB     0x4                                                                                             
005444   138e     IORWF     0x8e,0x1,0x1                                                                                    
005446   50f4     MOVF      0xf4,0x0,0x0                                                                                    
005448   138f     IORWF     0x8f,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00544a   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00544c   6ef3     MOVWF     0xf3,0x0                                                                                        
00544e   0efe     MOVLW     0xfe                                                                                            
005450   ec6a     CALL      0x64d4,0x0                                                                                      
005452   f032                                                                                                               
005454   e20d     BC        0x5470                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the right bit in ANCON0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005456   0e01     MOVLW     0x1                  ANCON0 &= ~(1 << Channel);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005458   6ef3     MOVWF     0xf3,0x0                                                                                        
00545a   0efe     MOVLW     0xfe                                                                                            
00545c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00545e   e003     BZ        0x5466                                                                                          
005460   ecc5     CALL      0x638a,0x0                                                                                      
005462   f031                                                                                                               
005464   e1fd     BNZ       0x5460                                                                                          
005466   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005468   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00546a   010f     MOVLB     0xf                                                                                             
00546c   1748     ANDWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546e   d03d     BRA       0x54ea             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005470   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005472   50db     MOVF      0xdb,0x0,0x0                                                                                    
005474   080c     SUBLW     0xc                                                                                             
005476   e339     BNC       0x54ea                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the right bit in ANCON1                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005478   ecb9     CALL      0x6572,0x0             ANCON1 &= ~(1 << (Channel-8));                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547a   f032                                                                                                               
00547c   e004     BZ        0x5486                                                                                          
00547e   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
005480   0bfe     ANDLW     0xfe                                                                                            
005482   064e     DECF      0x4e,0x1,0x0                                                                                    
005484   e1fc     BNZ       0x547e                                                                                          
005486   1ce8     COMF      0xe8,0x0,0x0                                                                                    
005488   010f     MOVLB     0xf                                                                                             
00548a   1749     ANDWF     0x49,0x1,0x1                                                                                    
006572   0efe     MOVLW     0xfe                                                                                            
006574   50db     MOVF      0xdb,0x0,0x0                                                                                    
006576   0ff8     ADDLW     0xf8                                                                                            
006578   6e4e     MOVWF     0x4e,0x0                                                                                        
00657a   0e01     MOVLW     0x1                                                                                             
00657c   524e     MOVF      0x4e,0x1,0x0                                                                                    
00657e   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548c   d02e     BRA       0x54ea           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548e   0efe     MOVLW     0xfe               AnalogEnabledChannels &= ~((unsigned int)0x0001 << Channel);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005490   50db     MOVF      0xdb,0x0,0x0                                                                                    
005492   ec46     CALL      0x908c,0x0                                                                                      
005494   f048                                                                                                               
005496   cff3     MOVFF     0xff3,0x4e                                                                                      
005498   f04e                                                                                                               
00549a   cff4     MOVFF     0xff4,0x4f                                                                                      
00549c   f04f                                                                                                               
00549e   1e4e     COMF      0x4e,0x1,0x0                                                                                    
0054a0   1e4f     COMF      0x4f,0x1,0x0                                                                                    
0054a2   504e     MOVF      0x4e,0x0,0x0                                                                                    
0054a4   0104     MOVLB     0x4                                                                                             
0054a6   178e     ANDWF     0x8e,0x1,0x1                                                                                    
0054a8   504f     MOVF      0x4f,0x0,0x0                                                                                    
0054aa   178f     ANDWF     0x8f,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input off                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ac   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ae   6ef3     MOVWF     0xf3,0x0                                                                                        
0054b0   0efe     MOVLW     0xfe                                                                                            
0054b2   ec6a     CALL      0x64d4,0x0                                                                                      
0054b4   f032                                                                                                               
0054b6   e20c     BC        0x54d0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Set the right bit in ANCON0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b8   0e01     MOVLW     0x1                  ANCON0 |= (1 << Channel);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ba   6ef3     MOVWF     0xf3,0x0                                                                                        
0054bc   0efe     MOVLW     0xfe                                                                                            
0054be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054c0   e003     BZ        0x54c8                                                                                          
0054c2   ecc5     CALL      0x638a,0x0                                                                                      
0054c4   f031                                                                                                               
0054c6   e1fd     BNZ       0x54c2                                                                                          
0054c8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0054ca   010f     MOVLB     0xf                                                                                             
0054cc   1348     IORWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ce   d00d     BRA       0x54ea             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d0   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054d4   080c     SUBLW     0xc                                                                                             
0054d6   e309     BNC       0x54ea                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the right bit in ANCON1                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d8   ecb9     CALL      0x6572,0x0             ANCON1 |= (1 << (Channel-8));                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054da   f032                                                                                                               
0054dc   e004     BZ        0x54e6                                                                                          
0054de   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0054e0   0bfe     ANDLW     0xfe                                                                                            
0054e2   064e     DECF      0x4e,0x1,0x0                                                                                    
0054e4   e1fc     BNZ       0x54de                                                                                          
0054e6   010f     MOVLB     0xf                                                                                             
0054e8   1349     IORWF     0x49,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ea   ef9b     GOTO      0x6336         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ec   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Analog Configure                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "AC,<channel>,<enable><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <channel> is one of the 16 possible analog channels, from 0 through 15        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <enable> is 0 to disable, or 1 to enable                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn on a particular analog channel, use the AC command to enable it.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn off a particular analog channel, use the AC command to disable it.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Once enabled, that channel will be converted at the normal ADC conversion     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // rate and will show up in A packets.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ee   ecf1     CALL      0x67e2,0x0     void parse_AC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f0   f033                                                                                                               
0067e2   dda4     RCALL     0x632c                                                                                          
0067e4   0e02     MOVLW     0x2                                                                                             
0067e6   def1     RCALL     0x65ca                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Channel, Enable;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the two values.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f2   ecae     CALL      0x675c,0x0       extract_number(kUCHAR, &Channel, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f4   f033                                                                                                               
0067e8   0e01     MOVLW     0x1                                                                                             
0067ea   0012     RETURN    0x0                                                                                             
0054f6   0f01     ADDLW     0x1              extract_number(kUCHAR, &Enable, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f8   eced     CALL      0x67da,0x0                                                                                      
0054fa   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054fc   e10a     BNZ       0x5512           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054fe   0e01     MOVLW     0x1              AnalogConfigure(Channel, Enable);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005500   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005502   ffe6                                                                                                               
005504   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
005506   ffe6                                                                                                               
005508   df89     RCALL     0x541c                                                                                          
00550a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00550c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00550e   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005510   f031                                                                                                               
005512   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005514   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005516   e202     BC        0x551c                                                                                          
005518   6ae1     CLRF      0xe1,0x0                                                                                        
00551a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00551c   6ee1     MOVWF     0xe1,0x0                                                                                        
00551e   ef9b     GOTO      0x6336                                                                                          
005520   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Outputs values to the ports pins that are set up as outputs.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example "O,121,224,002<CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005522   ecf1     CALL      0x67e2,0x0     void parse_O_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005524   f033                                                                                                               
0065ca   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006316   d988     RCALL     0x6628           print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065cc   6ae6     CLRF      0xe6,0x0                                                                                        
0065ce   6ae6     CLRF      0xe6,0x0                                                                                        
0065d0   ef8b     GOTO      0x6316                                                                                          
0065d2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005526   ec80     CALL      0x6300,0x0       RetVal = extract_number(kUCHAR,  &Value, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005528   f031                                                                                                               
00552a   ec1c     CALL      0x6438,0x0                                                                                      
00552c   f032                                                                                                               
006318   6ae6     CLRF      0xe6,0x0                                                                                        
00631a   ef9c     GOTO      0x6738                                                                                          
00631c   f033                                                                                                               
00552e   e127     BNZ       0x557e           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005530   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005532   50db     MOVF      0xdb,0x0,0x0                                                                                    
005534   e102     BNZ       0x553a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005536   50df     MOVF      0xdf,0x0,0x0       LATA = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005538   6e89     MOVWF     0x89,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00553a   ecfd     CALL      0x65fa,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00553c   f032                                                                                                               
00553e   e11f     BNZ       0x557e           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005540   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005542   50db     MOVF      0xdb,0x0,0x0                                                                                    
005544   e102     BNZ       0x554a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005546   50df     MOVF      0xdf,0x0,0x0       LATB = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005548   6e8a     MOVWF     0x8a,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00554a   ecfd     CALL      0x65fa,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00554c   f032                                                                                                               
00554e   e117     BNZ       0x557e           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005550   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005552   50db     MOVF      0xdb,0x0,0x0                                                                                    
005554   e102     BNZ       0x555a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005556   50df     MOVF      0xdf,0x0,0x0       LATC = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005558   6e8b     MOVWF     0x8b,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00555a   ecfd     CALL      0x65fa,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00555c   f032                                                                                                               
00555e   e10f     BNZ       0x557e           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005560   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005562   50db     MOVF      0xdb,0x0,0x0                                                                                    
005564   e102     BNZ       0x556a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005566   50df     MOVF      0xdf,0x0,0x0       LATD = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005568   6e8c     MOVWF     0x8c,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00556a   ecfd     CALL      0x65fa,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00556c   f032                                                                                                               
006438   6ee7     MOVWF     0xe7,0x0                                                                                        
00643a   0e01     MOVLW     0x1                                                                                             
00643c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00643e   ffdb                                                                                                               
006494   6ee6     MOVWF     0xe6,0x0                                                                                        
006496   ef9c     GOTO      0x6738                                                                                          
006498   f033                                                                                                               
0065fa   0e01     MOVLW     0x1                                                                                             
0065fc   df4b     RCALL     0x6494                                                                                          
0065fe   de80     RCALL     0x6300                                                                                          
006600   ef1c     GOTO      0x6438                                                                                          
006602   f032                                                                                                               
006738   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00673a   ffe6                                                                                                               
00673c   cfda     MOVFF     0xfda,0xfe6                                                                                     
00673e   ffe6                                                                                                               
006740   0012     RETURN    0x0                                                                                             
00556e   e107     BNZ       0x557e           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006440   0104     MOVLB     0x4                                                                                             
006442   5184     MOVF      0x84,0x0,0x1                                                                                    
006444   0012     RETURN    0x0                                                                                             
005570   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005572   50db     MOVF      0xdb,0x0,0x0                                                                                    
005574   e102     BNZ       0x557a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005576   50df     MOVF      0xdf,0x0,0x0       LATE = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005578   6e8d     MOVWF     0x8d,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557a   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557c   f031                                                                                                               
00557e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005580   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005582   e202     BC        0x5588                                                                                          
005584   6ae1     CLRF      0xe1,0x0                                                                                        
005586   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005588   6ee1     MOVWF     0xe1,0x0                                                                                        
00558a   ef9b     GOTO      0x6336                                                                                          
00558c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Read in the five I/O ports (A,B,C,D,E) and creates                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a packet to send back with all of values.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "I,143,221,010,008,179<CR>"                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00558e   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005590   6ee6     MOVWF     0xe6,0x0                                                                                        
005592   6ee6     MOVWF     0xe6,0x0                                                                                        
005594   ec14     CALL      0x6628,0x0                                                                                      
005596   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005598   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(PORTA);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00559a   ec02     CALL      0x6604,0x0                                                                                      
00559c   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00559e   5081     MOVF      0x81,0x0,0x0     ebb_print_uint(PORTB);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a0   ec02     CALL      0x6604,0x0                                                                                      
0055a2   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a4   5082     MOVF      0x82,0x0,0x0     ebb_print_uint(PORTC);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a6   ec02     CALL      0x6604,0x0                                                                                      
0055a8   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055aa   5083     MOVF      0x83,0x0,0x0     ebb_print_uint(PORTD);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ac   ec02     CALL      0x6604,0x0                                                                                      
0055ae   f033                                                                                                               
0062fa   d960     RCALL     0x65bc                                                                                          
0062fc   efc2     GOTO      0x6784                                                                                          
0062fe   f033                                                                                                               
0065bc   c04f     MOVFF     0x4f,0xfe6                                                                                      
0065be   ffe6                                                                                                               
0065c0   c050     MOVFF     0x50,0xfe6                                                                                      
0065c2   ffe6                                                                                                               
0065c4   c051     MOVFF     0x51,0xfe6                                                                                      
0065c6   ffe6                                                                                                               
0065c8   0012     RETURN    0x0                                                                                             
006604   d8e0     RCALL     0x67c6                                                                                          
006784   ecc0     CALL      0x8580,0x0                                                                                      
006786   f042                                                                                                               
006788   efea     GOTO      0x65d4                                                                                          
00678a   f032                                                                                                               
0067c6   de1d     RCALL     0x6402                                                                                          
0067c8   ef7d     GOTO      0x62fa                                                                                          
0067ca   f031                                                                                                               
006606   0e2c     MOVLW     0x2c             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006608   ef9f     GOTO      0x633e                                                                                          
00660a   f031                                                                                                               
0055b0   5084     MOVF      0x84,0x0,0x0     ebb_print_uint(PORTE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b2   ece3     CALL      0x67c6,0x0                                                                                      
0055b4   f033                                                                                                               
0055b6   ef84     GOTO      0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b8   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // All we do here is just print out our version number                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ba   ec5b     CALL      0x64b6,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055bc   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055be   0e66     MOVLW     0x66             ebb_print((far rom char *)st_version);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c0   6e4e     MOVWF     0x4e,0x0                                                                                        
0055c2   0e8c     MOVLW     0x8c                                                                                            
0055c4   ef06     GOTO      0x660c                                                                                          
0055c6   f033                                                                                                               
00660c   de73     RCALL     0x62f4                                                                                          
00660e   ef84     GOTO      0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006610   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // A is for read Analog inputs                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just print out the analog values for each of the                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // enabled channels.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returned packet will look like                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "A,2:421,5:891,9:3921<CR>" if channels 2, 5 and 9                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // are enabled.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c8   eccf     CALL      0x679e,0x0     void parse_A_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ca   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055cc   6adf     CLRF      0xdf,0x0         char channel = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ce   0e01     MOVLW     0x1              unsigned int ChannelBit = 0x0001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d0   6ef3     MOVWF     0xf3,0x0                                                                                        
0055d2   6edb     MOVWF     0xdb,0x0                                                                                        
0055d4   0e02     MOVLW     0x2                                                                                             
0055d6   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d8   6ae6     CLRF      0xe6,0x0         print_command(TRUE, FALSE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055da   0e01     MOVLW     0x1                                                                                             
0055dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0055de   ec14     CALL      0x6628,0x0                                                                                      
0055e0   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Sit and spin, waiting for one set of analog conversions to complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e2   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e4   d7fe     BRA       0x55e2                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now print each analog value                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e6   6adf     CLRF      0xdf,0x0         for (channel = 0; channel < 16; channel++)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e8   cfdf     MOVFF     0xfdf,0x4e                                                                                      
0055ea   f04e                                                                                                               
0055ec   0e10     MOVLW     0x10                                                                                            
0055ee   6ee7     MOVWF     0xe7,0x0                                                                                        
0055f0   184e     XORWF     0x4e,0x0,0x0                                                                                    
0055f2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0055f4   d002     BRA       0x55fa                                                                                          
0055f6   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0055f8   d002     BRA       0x55fe                                                                                          
0055fa   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0055fc   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0055fe   e23b     BC        0x5676                                                                                          
005672   2adf     INCF      0xdf,0x1,0x0                                                                                    
005674   d7b9     BRA       0x55e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005600   0e01     MOVLW     0x1                if (ChannelBit & AnalogEnabledChannels)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005602   50db     MOVF      0xdb,0x0,0x0                                                                                    
005604   0104     MOVLB     0x4                                                                                             
005606   158e     ANDWF     0x8e,0x0,0x1                                                                                    
005608   0100     MOVLB     0x0                                                                                             
00560a   6e4e     MOVWF     0x4e,0x0                                                                                        
00560c   0e02     MOVLW     0x2                                                                                             
00560e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005610   0104     MOVLB     0x4                                                                                             
005612   158f     ANDWF     0x8f,0x0,0x1                                                                                    
005614   0100     MOVLB     0x0                                                                                             
005616   6e4f     MOVWF     0x4f,0x0                                                                                        
005618   504e     MOVF      0x4e,0x0,0x0                                                                                    
00561a   104f     IORWF     0x4f,0x0,0x0                                                                                    
00561c   e01f     BZ        0x565c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561e   0e2c     MOVLW     0x2c                 ebb_print_char(',');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005620   ec9f     CALL      0x633e,0x0                                                                                      
005622   f031                                                                                                               
005624   ecae     CALL      0x635c,0x0           ebb_print_uint(channel);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005626   f031                                                                                                               
005628   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
00562a   d003     BRA       0x5632                                                                                          
00562c   684f     SETF      0x4f,0x0                                                                                        
00562e   6850     SETF      0x50,0x0                                                                                        
005630   6851     SETF      0x51,0x0                                                                                        
005632   ecd3     CALL      0x67a6,0x0                                                                                      
005634   f033                                                                                                               
005636   0e3a     MOVLW     0x3a                 ebb_print_char(':');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005638   ec9f     CALL      0x633e,0x0                                                                                      
00563a   f031                                                                                                               
00563c   cfdf     MOVFF     0xfdf,0xfe9          ebb_print_uint(ISR_A_FIFO[channel]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00563e   ffe9                                                                                                               
005640   6aea     CLRF      0xea,0x0                                                                                        
005642   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
005644   68ea     SETF      0xea,0x0                                                                                        
005646   ec24     CALL      0x6648,0x0                                                                                      
005648   f033                                                                                                               
00564a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00564c   cfee     MOVFF     0xfee,0x4e                                                                                      
00564e   f04e                                                                                                               
005650   cfef     MOVFF     0xfef,0x4f                                                                                      
005652   f04f                                                                                                               
005654   6a50     CLRF      0x50,0x0                                                                                        
005656   6a51     CLRF      0x51,0x0                                                                                        
005658   ecd3     CALL      0x67a6,0x0                                                                                      
00565a   f033                                                                                                               
006648   90d8     BCF       0xd8,0x0,0x0                                                                                    
00664a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00664c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00664e   0e00     MOVLW     0x0                                                                                             
006650   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006652   0e01     MOVLW     0x1                                                                                             
006654   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565c   ec9d     CALL      0x653a,0x0         ChannelBit = ChannelBit << 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565e   f032                                                                                                               
005660   90d8     BCF       0xd8,0x0,0x0                                                                                    
005662   364e     RLCF      0x4e,0x1,0x0                                                                                    
005664   364f     RLCF      0x4f,0x1,0x0                                                                                    
005666   0e01     MOVLW     0x1                                                                                             
005668   c04e     MOVFF     0x4e,0xfdb                                                                                      
00566a   ffdb                                                                                                               
00566c   0e02     MOVLW     0x2                                                                                             
00566e   c04f     MOVFF     0x4f,0xfdb                                                                                      
005670   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Add \r\n (for line ending legacy mode : note this is backwards from how     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // the rest of the code does legacy line endings) or just \n for new line      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // ending mode.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005676   0e02     MOVLW     0x2              print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005678   ec97     CALL      0x672e,0x0                                                                                      
00567a   f033                                                                                                               
00567c   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00567e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005680   e202     BC        0x5686                                                                                          
005682   6ae1     CLRF      0xe1,0x0                                                                                        
005684   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005686   6ee1     MOVWF     0xe1,0x0                                                                                        
005688   ef9b     GOTO      0x6336                                                                                          
00568a   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MW is for Memory Write                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location>,<value><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to write to  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is a decimal value between 0 and 255 that is the value to write       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00568c   eccb     CALL      0x6796,0x0     void parse_MW_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00568e   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005690   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005692   ecae     CALL      0x675c,0x0                                                                                      
005694   f033                                                                                                               
005696   0f02     ADDLW     0x2              extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005698   eced     CALL      0x67da,0x0                                                                                      
00569a   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00569c   e10a     BNZ       0x56b2           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00569e   ec79     CALL      0x66f2,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a0   f033                                                                                                               
0056a2   e205     BC        0x56ae                                                                                          
0066f2   dee6     RCALL     0x64c0                                                                                          
0066f4   0e00     MOVLW     0x0                                                                                             
0066f6   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0066f8   0e10     MOVLW     0x10                                                                                            
0066fa   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0066fc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a4   ec65     CALL      0x64ca,0x0         *((unsigned char *)location) = value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a6   f032                                                                                                               
0056a8   0e02     MOVLW     0x2                                                                                             
0056aa   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0056ac   ffef                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ae   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056b0   f031                                                                                                               
0056b2   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056b4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0056b6   e202     BC        0x56bc                                                                                          
0056b8   6ae1     CLRF      0xe1,0x0                                                                                        
0056ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0056bc   6ee1     MOVWF     0xe1,0x0                                                                                        
0056be   ef9b     GOTO      0x6336                                                                                          
0056c0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MR is for Memory Read                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to read from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The UBW will then send a "MR,<value><CR>" packet back to the PC               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the byte value read from the address                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c2   eccf     CALL      0x679e,0x0     void parse_MR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c4   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c6   ec47     CALL      0x668e,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c8   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ca   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056cc   ec80     CALL      0x6300,0x0                                                                                      
0056ce   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d0   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d2   5184     MOVF      0x84,0x0,0x1                                                                                    
0056d4   e10d     BNZ       0x56f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d6   ec79     CALL      0x66f2,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d8   f033                                                                                                               
0056da   e205     BC        0x56e6                                                                                          
0064c0   cfde     MOVFF     0xfde,0x4e                                                                                      
0064c2   f04e                                                                                                               
0064c4   cfdd     MOVFF     0xfdd,0x4f                                                                                      
0064c6   f04f                                                                                                               
0064c8   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056dc   ec65     CALL      0x64ca,0x0         value = *((unsigned char *)location);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056de   f032                                                                                                               
0056e0   0e02     MOVLW     0x2                                                                                             
0056e2   cfef     MOVFF     0xfef,0xfdb                                                                                     
0056e4   ffdb                                                                                                               
0064ca   cfde     MOVFF     0xfde,0xfe9                                                                                     
0064cc   ffe9                                                                                                               
0064ce   cfdd     MOVFF     0xfdd,0xfea                                                                                     
0064d0   ffea                                                                                                               
0064d2   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back the MR packet                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056e6   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056e8   ec80     CALL      0x6500,0x0                                                                                      
0056ea   f032                                                                                                               
0056ec   eced     CALL      0x65da,0x0                                                                                      
0056ee   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056f0   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056f2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0056f4   e202     BC        0x56fa                                                                                          
0056f6   6ae1     CLRF      0xe1,0x0                                                                                        
0056f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0056fa   6ee1     MOVWF     0xe1,0x0                                                                                        
0056fc   ef9b     GOTO      0x6336                                                                                          
0056fe   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PD is for Pin Direction                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PD,<port>,<pin>,<direction><CR>"                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to change direction on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <direction> is "1" for input, "0" for output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005700   ece6     CALL      0x67cc,0x0     void parse_PD_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005702   f033                                                                                                               
0067cc   dfe4     RCALL     0x6796                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char direction;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067ce   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067d0   dfc5     RCALL     0x675c                                                                                          
0067d2   dfc8     RCALL     0x6764           extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &direction, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005704   e001     BZ        0x5708           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005706   d090     BRA       0x5828                                                                                          
0067d4   0104     MOVLB     0x4                                                                                             
0067d6   5184     MOVF      0x84,0x0,0x1                                                                                    
0067d8   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005708   0e02     MOVLW     0x2              if (direction > 1u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00570a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00570c   0801     SUBLW     0x1                                                                                             
00570e   e201     BC        0x5712                                                                                          
005710   d087     BRA       0x5820                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005712   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005714   50db     MOVF      0xdb,0x0,0x0                                                                                    
005716   0807     SUBLW     0x7                                                                                             
005718   e201     BC        0x571c                                                                                          
00571a   d082     BRA       0x5820                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00571c   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00571e   ecd8     CALL      0x63b0,0x0                                                                                      
005720   f031                                                                                                               
005722   e116     BNZ       0x5750                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005724   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005726   50db     MOVF      0xdb,0x0,0x0                                                                                    
005728   e10a     BNZ       0x573e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00572a   ecd4     CALL      0x63a8,0x0           bitclr(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00572c   f031                                                                                                               
00572e   e003     BZ        0x5736                                                                                          
005730   ecc5     CALL      0x638a,0x0                                                                                      
005732   f031                                                                                                               
005734   e1fd     BNZ       0x5730                                                                                          
005736   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005738   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00573a   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573c   d073     BRA       0x5824             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573e   ecd4     CALL      0x63a8,0x0           bitset(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005740   f031                                                                                                               
005742   e003     BZ        0x574a                                                                                          
005744   ecc5     CALL      0x638a,0x0                                                                                      
005746   f031                                                                                                               
005748   e1fd     BNZ       0x5744                                                                                          
00574a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00574c   1292     IORWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00574e   d06a     BRA       0x5824           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005750   0e42     MOVLW     0x42                                                                                            
005752   ecd8     CALL      0x63b0,0x0                                                                                      
005754   f031                                                                                                               
005756   e116     BNZ       0x5784                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005758   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00575a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00575c   e10a     BNZ       0x5772                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00575e   ecd4     CALL      0x63a8,0x0           bitclr(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005760   f031                                                                                                               
005762   e003     BZ        0x576a                                                                                          
005764   ecc5     CALL      0x638a,0x0                                                                                      
005766   f031                                                                                                               
005768   e1fd     BNZ       0x5764                                                                                          
00576a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00576c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00576e   1693     ANDWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005770   d059     BRA       0x5824             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005772   ecd4     CALL      0x63a8,0x0           bitset(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005774   f031                                                                                                               
005776   e003     BZ        0x577e                                                                                          
005778   ecc5     CALL      0x638a,0x0                                                                                      
00577a   f031                                                                                                               
00577c   e1fd     BNZ       0x5778                                                                                          
00577e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005780   1293     IORWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005782   d050     BRA       0x5824           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005784   0e43     MOVLW     0x43                                                                                            
005786   ecd8     CALL      0x63b0,0x0                                                                                      
005788   f031                                                                                                               
00578a   e116     BNZ       0x57b8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00578c   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00578e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005790   e10a     BNZ       0x57a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005792   ecd4     CALL      0x63a8,0x0           bitclr(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005794   f031                                                                                                               
005796   e003     BZ        0x579e                                                                                          
005798   ecc5     CALL      0x638a,0x0                                                                                      
00579a   f031                                                                                                               
00579c   e1fd     BNZ       0x5798                                                                                          
00579e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057a0   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0057a2   1694     ANDWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a4   d03f     BRA       0x5824             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a6   ecd4     CALL      0x63a8,0x0           bitset(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a8   f031                                                                                                               
0057aa   e003     BZ        0x57b2                                                                                          
0057ac   ecc5     CALL      0x638a,0x0                                                                                      
0057ae   f031                                                                                                               
0057b0   e1fd     BNZ       0x57ac                                                                                          
0057b2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057b4   1294     IORWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b6   d036     BRA       0x5824           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b8   0e44     MOVLW     0x44                                                                                            
0057ba   ecd8     CALL      0x63b0,0x0                                                                                      
0057bc   f031                                                                                                               
0057be   e116     BNZ       0x57ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c0   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057c4   e10a     BNZ       0x57da                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c6   ecd4     CALL      0x63a8,0x0           bitclr(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c8   f031                                                                                                               
0057ca   e003     BZ        0x57d2                                                                                          
0057cc   ecc5     CALL      0x638a,0x0                                                                                      
0057ce   f031                                                                                                               
0057d0   e1fd     BNZ       0x57cc                                                                                          
0057d2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057d4   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0057d6   1695     ANDWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057d8   d025     BRA       0x5824             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057da   ecd4     CALL      0x63a8,0x0           bitset(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057dc   f031                                                                                                               
0057de   e003     BZ        0x57e6                                                                                          
0057e0   ecc5     CALL      0x638a,0x0                                                                                      
0057e2   f031                                                                                                               
0057e4   e1fd     BNZ       0x57e0                                                                                          
0057e6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057e8   1295     IORWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ea   d01c     BRA       0x5824           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ec   0e45     MOVLW     0x45                                                                                            
0057ee   ecd8     CALL      0x63b0,0x0                                                                                      
0057f0   f031                                                                                                               
0057f2   e116     BNZ       0x5820                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f4   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057f8   e10a     BNZ       0x580e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fa   ecd4     CALL      0x63a8,0x0           bitclr(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fc   f031                                                                                                               
0057fe   e003     BZ        0x5806                                                                                          
005800   ecc5     CALL      0x638a,0x0                                                                                      
005802   f031                                                                                                               
005804   e1fd     BNZ       0x5800                                                                                          
005806   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005808   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00580a   1696     ANDWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00580c   d00b     BRA       0x5824             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00580e   ecd4     CALL      0x63a8,0x0           bitset(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005810   f031                                                                                                               
005812   e003     BZ        0x581a                                                                                          
005814   ecc5     CALL      0x638a,0x0                                                                                      
005816   f031                                                                                                               
005818   e1fd     BNZ       0x5814                                                                                          
00581a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00581c   1296     IORWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00581e   d002     BRA       0x5824           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005820   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005822   d002     BRA       0x5828             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005824   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005826   f031                                                                                                               
005828   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00582a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00582c   e202     BC        0x5832                                                                                          
00582e   6ae1     CLRF      0xe1,0x0                                                                                        
005830   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005832   6ee1     MOVWF     0xe1,0x0                                                                                        
005834   ef9b     GOTO      0x6336                                                                                          
005836   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PI is for Pin Input                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PI,<port>,<pin><CR>"                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to read             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The command returns a "PI,<value><CR>" packet,                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the value (0 or 1 for digital)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // value for that pin.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005838   eccf     CALL      0x679e,0x0     void parse_PI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583a   f033                                                                                                               
00679e   ddc6     RCALL     0x632c                                                                                          
0067a0   0e03     MOVLW     0x3                                                                                             
0067a2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0067a4   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 port;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 pin;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583c   0e02     MOVLW     0x2              UINT8 value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583e   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005840   ec47     CALL      0x668e,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005842   f033                                                                                                               
00668e   0e01     MOVLW     0x1                                                                                             
006690   6ee6     MOVWF     0xe6,0x0                                                                                        
006692   6ee6     MOVWF     0xe6,0x0                                                                                        
006694   ef8b     GOTO      0x6316                                                                                          
006696   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005844   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005846   ecae     CALL      0x675c,0x0                                                                                      
005848   f033                                                                                                               
00584a   0f01     ADDLW     0x1              extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00584c   eced     CALL      0x67da,0x0                                                                                      
00584e   f033                                                                                                               
0067da   dee8     RCALL     0x65ac                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005850   e160     BNZ       0x5912           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067dc   0104     MOVLB     0x4                                                                                             
0067de   5184     MOVF      0x84,0x0,0x1                                                                                    
0067e0   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005852   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005854   50db     MOVF      0xdb,0x0,0x0                                                                                    
005856   0807     SUBLW     0x7                                                                                             
005858   e350     BNC       0x58fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Then test the bit in question based upon port                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00585a   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00585c   ecd8     CALL      0x63b0,0x0                                                                                      
00585e   f031                                                                                                               
005860   e10a     BNZ       0x5876                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005862   ecd4     CALL      0x63a8,0x0         value = bittst(PORTA, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005864   f031                                                                                                               
005866   e003     BZ        0x586e                                                                                          
005868   ecc5     CALL      0x638a,0x0                                                                                      
00586a   f031                                                                                                               
00586c   e1fd     BNZ       0x5868                                                                                          
00586e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005870   1480     ANDWF     0x80,0x0,0x0                                                                                    
005872   e039     BZ        0x58e6                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005874   d029     BRA       0x58c8           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005876   0e42     MOVLW     0x42                                                                                            
005878   ecd8     CALL      0x63b0,0x0                                                                                      
00587a   f031                                                                                                               
00587c   e10a     BNZ       0x5892                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587e   ecd4     CALL      0x63a8,0x0         value = bittst(PORTB, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005880   f031                                                                                                               
005882   e003     BZ        0x588a                                                                                          
005884   ecc5     CALL      0x638a,0x0                                                                                      
005886   f031                                                                                                               
005888   e1fd     BNZ       0x5884                                                                                          
00588a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00588c   1481     ANDWF     0x81,0x0,0x0                                                                                    
00588e   e11c     BNZ       0x58c8                                                                                          
005890   d02a     BRA       0x58e6                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005892   0e43     MOVLW     0x43             else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005894   ecd8     CALL      0x63b0,0x0                                                                                      
005896   f031                                                                                                               
005898   e10a     BNZ       0x58ae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00589a   ecd4     CALL      0x63a8,0x0         value = bittst(PORTC, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00589c   f031                                                                                                               
00589e   e003     BZ        0x58a6                                                                                          
0058a0   ecc5     CALL      0x638a,0x0                                                                                      
0058a2   f031                                                                                                               
0058a4   e1fd     BNZ       0x58a0                                                                                          
0058a6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058a8   1482     ANDWF     0x82,0x0,0x0                                                                                    
0058aa   e10e     BNZ       0x58c8                                                                                          
0058ac   d01c     BRA       0x58e6                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ae   0e44     MOVLW     0x44             else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b0   ecd8     CALL      0x63b0,0x0                                                                                      
0058b2   f031                                                                                                               
0058b4   e10b     BNZ       0x58cc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b6   ecd4     CALL      0x63a8,0x0         value = bittst(PORTD, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b8   f031                                                                                                               
0058ba   e003     BZ        0x58c2                                                                                          
0058bc   ecc5     CALL      0x638a,0x0                                                                                      
0058be   f031                                                                                                               
0058c0   e1fd     BNZ       0x58bc                                                                                          
0058c2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058c4   1483     ANDWF     0x83,0x0,0x0                                                                                    
0058c6   e00f     BZ        0x58e6                                                                                          
0058c8   0e01     MOVLW     0x1                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ca   d010     BRA       0x58ec           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058cc   0e45     MOVLW     0x45                                                                                            
0058ce   ecd8     CALL      0x63b0,0x0                                                                                      
0058d0   f031                                                                                                               
0058d2   e113     BNZ       0x58fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058d4   ecd4     CALL      0x63a8,0x0         value = bittst(PORTE, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058d6   f031                                                                                                               
0058d8   e003     BZ        0x58e0                                                                                          
0058da   ecc5     CALL      0x638a,0x0                                                                                      
0058dc   f031                                                                                                               
0058de   e1fd     BNZ       0x58da                                                                                          
0058e0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058e2   1484     ANDWF     0x84,0x0,0x0                                                                                    
0058e4   e102     BNZ       0x58ea                                                                                          
0058e6   0e00     MOVLW     0x0                                                                                             
0058e8   d001     BRA       0x58ec                                                                                          
0058ea   0e01     MOVLW     0x1                                                                                             
0058ec   6ee7     MOVWF     0xe7,0x0                                                                                        
0058ee   0e02     MOVLW     0x2                                                                                             
0058f0   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0058f2   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fa   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fc   d00a     BRA       0x5912             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Convert to just a binary 1 or 0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f4   50db     MOVF      0xdb,0x0,0x0     if (value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f6   e008     BZ        0x5908                                                                                          
0058f8   d002     BRA       0x58fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fe   0e01     MOVLW     0x1                value = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005900   6ef3     MOVWF     0xf3,0x0                                                                                        
005902   0e02     MOVLW     0x2                                                                                             
005904   cff3     MOVFF     0xff3,0xfdb                                                                                     
005906   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back our response                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005908   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00590a   ec80     CALL      0x6500,0x0                                                                                      
00590c   f032                                                                                                               
00590e   eced     CALL      0x65da,0x0                                                                                      
005910   f032                                                                                                               
006500   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006502   f04e                                                                                                               
006504   efaa     GOTO      0x6754                                                                                          
006506   f033                                                                                                               
006754   6a4f     CLRF      0x4f,0x0                                                                                        
006756   6a50     CLRF      0x50,0x0                                                                                        
006758   6a51     CLRF      0x51,0x0                                                                                        
00675a   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005912   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005914   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005916   e202     BC        0x591c                                                                                          
005918   6ae1     CLRF      0xe1,0x0                                                                                        
00591a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00591c   6ee1     MOVWF     0xe1,0x0                                                                                        
00591e   ef9b     GOTO      0x6336                                                                                          
005920   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PO is for Pin Output                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PO,<port>,<pin>,<value><CR>"                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to write out the value to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is "1" or "0" and indicates the state to change the pin to            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005922   ece6     CALL      0x67cc,0x0     void parse_PO_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005924   f033                                                                                                               
006796   ddca     RCALL     0x632c                                                                                          
006798   0e03     MOVLW     0x3                                                                                             
00679a   efe5     GOTO      0x65ca                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00679c   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00675c   ddd1     RCALL     0x6300           extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00675e   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006760   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006762   0012     RETURN    0x0                                                                                             
006764   0f01     ADDLW     0x1                                                                                             
006766   df22     RCALL     0x65ac                                                                                          
006768   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00676a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00676c   0f02     ADDLW     0x2                                                                                             
00676e   efd6     GOTO      0x65ac                                                                                          
006770   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005926   e001     BZ        0x592a           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005928   d090     BRA       0x5a4a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00592a   0e02     MOVLW     0x2              if (value > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00592c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00592e   0801     SUBLW     0x1                                                                                             
005930   e201     BC        0x5934                                                                                          
005932   d087     BRA       0x5a42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005934   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005936   50db     MOVF      0xdb,0x0,0x0                                                                                    
005938   0807     SUBLW     0x7                                                                                             
00593a   e201     BC        0x593e                                                                                          
00593c   d082     BRA       0x5a42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00593e   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005940   ecd8     CALL      0x63b0,0x0                                                                                      
005942   f031                                                                                                               
005944   e116     BNZ       0x5972                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005946   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005948   50db     MOVF      0xdb,0x0,0x0                                                                                    
00594a   e10a     BNZ       0x5960                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00594c   ecd4     CALL      0x63a8,0x0           bitclr(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00594e   f031                                                                                                               
005950   e003     BZ        0x5958                                                                                          
005952   ecc5     CALL      0x638a,0x0                                                                                      
005954   f031                                                                                                               
005956   e1fd     BNZ       0x5952                                                                                          
005958   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00595a   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00595c   1689     ANDWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00595e   d073     BRA       0x5a46             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005960   ecd4     CALL      0x63a8,0x0           bitset(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005962   f031                                                                                                               
005964   e003     BZ        0x596c                                                                                          
005966   ecc5     CALL      0x638a,0x0                                                                                      
005968   f031                                                                                                               
00596a   e1fd     BNZ       0x5966                                                                                          
00596c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00596e   1289     IORWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005970   d06a     BRA       0x5a46           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005972   0e42     MOVLW     0x42                                                                                            
005974   ecd8     CALL      0x63b0,0x0                                                                                      
005976   f031                                                                                                               
005978   e116     BNZ       0x59a6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00597a   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00597c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00597e   e10a     BNZ       0x5994                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005980   ecd4     CALL      0x63a8,0x0           bitclr(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005982   f031                                                                                                               
005984   e003     BZ        0x598c                                                                                          
005986   ecc5     CALL      0x638a,0x0                                                                                      
005988   f031                                                                                                               
00598a   e1fd     BNZ       0x5986                                                                                          
00598c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00598e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005990   168a     ANDWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005992   d059     BRA       0x5a46             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005994   ecd4     CALL      0x63a8,0x0           bitset(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005996   f031                                                                                                               
005998   e003     BZ        0x59a0                                                                                          
00599a   ecc5     CALL      0x638a,0x0                                                                                      
00599c   f031                                                                                                               
00599e   e1fd     BNZ       0x599a                                                                                          
0059a0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0059a2   128a     IORWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a4   d050     BRA       0x5a46           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a6   0e43     MOVLW     0x43                                                                                            
0059a8   ecd8     CALL      0x63b0,0x0                                                                                      
0059aa   f031                                                                                                               
0059ac   e116     BNZ       0x59da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ae   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059b2   e10a     BNZ       0x59c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b4   ecd4     CALL      0x63a8,0x0           bitclr(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b6   f031                                                                                                               
0059b8   e003     BZ        0x59c0                                                                                          
0059ba   ecc5     CALL      0x638a,0x0                                                                                      
0059bc   f031                                                                                                               
0059be   e1fd     BNZ       0x59ba                                                                                          
0059c0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0059c2   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0059c4   168b     ANDWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c6   d03f     BRA       0x5a46             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c8   ecd4     CALL      0x63a8,0x0           bitset(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ca   f031                                                                                                               
0059cc   e003     BZ        0x59d4                                                                                          
0059ce   ecc5     CALL      0x638a,0x0                                                                                      
0059d0   f031                                                                                                               
0059d2   e1fd     BNZ       0x59ce                                                                                          
0059d4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0059d6   128b     IORWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d8   d036     BRA       0x5a46           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059da   0e44     MOVLW     0x44                                                                                            
0059dc   ecd8     CALL      0x63b0,0x0                                                                                      
0059de   f031                                                                                                               
0059e0   e116     BNZ       0x5a0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e2   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059e6   e10a     BNZ       0x59fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e8   ecd4     CALL      0x63a8,0x0           bitclr(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ea   f031                                                                                                               
0059ec   e003     BZ        0x59f4                                                                                          
0059ee   ecc5     CALL      0x638a,0x0                                                                                      
0059f0   f031                                                                                                               
0059f2   e1fd     BNZ       0x59ee                                                                                          
0059f4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0059f6   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0059f8   168c     ANDWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059fa   d025     BRA       0x5a46             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059fc   ecd4     CALL      0x63a8,0x0           bitset(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059fe   f031                                                                                                               
005a00   e003     BZ        0x5a08                                                                                          
005a02   ecc5     CALL      0x638a,0x0                                                                                      
005a04   f031                                                                                                               
005a06   e1fd     BNZ       0x5a02                                                                                          
005a08   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a0a   128c     IORWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0c   d01c     BRA       0x5a46           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0e   0e45     MOVLW     0x45                                                                                            
005a10   ecd8     CALL      0x63b0,0x0                                                                                      
005a12   f031                                                                                                               
005a14   e116     BNZ       0x5a42                                                                                          
0063b0   6e4e     MOVWF     0x4e,0x0                                                                                        
0063b2   50df     MOVF      0xdf,0x0,0x0                                                                                    
0063b4   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0063b6   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a16   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a18   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a1a   e10a     BNZ       0x5a30                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1c   ecd4     CALL      0x63a8,0x0           bitclr(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1e   f031                                                                                                               
005a20   e003     BZ        0x5a28                                                                                          
005a22   ecc5     CALL      0x638a,0x0                                                                                      
005a24   f031                                                                                                               
005a26   e1fd     BNZ       0x5a22                                                                                          
005a28   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a2a   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005a2c   168d     ANDWF     0x8d,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a2e   d00b     BRA       0x5a46             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a30   ecd4     CALL      0x63a8,0x0           bitset(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a32   f031                                                                                                               
005a34   e003     BZ        0x5a3c                                                                                          
005a36   ecc5     CALL      0x638a,0x0                                                                                      
005a38   f031                                                                                                               
005a3a   e1fd     BNZ       0x5a36                                                                                          
005a3c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a3e   128d     IORWF     0x8d,0x1,0x0                                                                                    
00638a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00638c   36f3     RLCF      0xf3,0x1,0x0                                                                                    
00638e   06e8     DECF      0xe8,0x1,0x0                                                                                    
006390   0012     RETURN    0x0                                                                                             
0063a8   0e01     MOVLW     0x1                                                                                             
0063aa   6ef3     MOVWF     0xf3,0x0                                                                                        
0063ac   50db     MOVF      0xdb,0x0,0x0                                                                                    
0063ae   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a40   d002     BRA       0x5a46           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a42   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a44   d002     BRA       0x5a4a             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a46   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a48   f031                                                                                                               
005a4a   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a4c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005a4e   e202     BC        0x5a54                                                                                          
005a50   6ae1     CLRF      0xe1,0x0                                                                                        
005a52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005a54   6ee1     MOVWF     0xe1,0x0                                                                                        
005a56   ef9b     GOTO      0x6336                                                                                          
005a58   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC Pulse Configure                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses will be generated on PortB, bits 0 through 3                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses are in 1ms units, and can be from 0 (off) through 65535                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Each pin has a pulse length, and a repetition rate.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The repetition rate can be from 0 through 65535, but must be more than the pulse length D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Only the first set of parameters (for RB0) are required, the rest are optional D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC,<RB0_Len>,<RB0_Rate>,<RB1_Len>,<RB1_Rate>,...,<RB3_Len>,<RB3_Rate><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int Length, Rate;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Length, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Rate, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Handle loading things up for RB0                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = Length;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = Rate;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And now loop for the other 3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             for (i = 0; i < 3u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal1 = extract_number(kUINT, &Length, kOPTIONAL);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal2 = extract_number(kUINT, &Rate, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (RetVal1 != kEXTRACT_OK || RetVal2 != kEXTRACT_OK)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle loading things up for RB1 through RB3                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseLen[i+1] = Length;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseRate[i+1] = Rate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG Pulse Go Command                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Starts a set of pulses (as configured by the PC command)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // going. If a new set of parameters were sent by the PC command,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG will cause them all to take effect at the next 1ms                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // interval.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,1<CR>   Start pulses, or load latest set of parameters and use them        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,0<CR>   Stop pulses                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (Value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set lower four bits of PortB to outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               TRISB = TRISB & 0xF0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set global flag that turns pulses on                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear global flag that turns pulses on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a5a   cfd9     MOVFF     0xfd9,0xfe6    void LongDelay(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a5c   ffe6                                                                                                               
005a5e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005a60   ffd9                                                                                                               
005a62   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A basic for() loop decrementing a 16 bit number would be simpler, but seems to take more code space for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // a given delay.  So do this instead:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a64   6adf     CLRF      0xdf,0x0         for(i = 0; i < 0xFF; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a66   0eff     MOVLW     0xff                                                                                            
005a68   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005a6a   e20a     BC        0x5a80                                                                                          
005a7c   2adf     INCF      0xdf,0x1,0x0                                                                                    
005a7e   d7f3     BRA       0x5a66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a6c   68e8     SETF      0xe8,0x0           WREG = 0xFF;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a6e   50e8     MOVF      0xe8,0x0,0x0       while(WREG)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a70   e005     BZ        0x5a7c                                                                                          
005a7a   d7f9     BRA       0x5a6e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a72   06e8     DECF      0xe8,0x1,0x0         WREG--;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a74   d000     BRA       0x5a76               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a76   d000     BRA       0x5a78               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a78   d000     BRA       0x5a7a               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Delay is ~59.8ms at 48MHz.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a80   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005a84   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005a86   ffd9                                                                                                               
005a88   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // BL command : simply jump to the bootloader                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "BL<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8a   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8c   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8e   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a90   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a92   dfe3     RCALL     0x5a5a           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a94   ef0f     GOTO      0x1e             _asm goto 0x00001E _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a96   f000                                                                                                               
005a98   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RB ReBoot command : simply jump to the reset vector                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RB<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9a   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9c   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9e   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa0   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa2   dfdb     RCALL     0x5a5a           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa4   00ff     RESET                      Reset();                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa6   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QR Query RC Servo power state command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RR<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "0<CR><LF>OK<CR><LF>" or "1<CR><LF>OK<CR><LF>"                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 0 = power to RC servo off                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1 = power to RC servo on                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa8   ec5b     CALL      0x64b6,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aaa   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aac   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(RCServoPowerIO_PORT);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aae   0b08     ANDLW     0x8                                                                                             
005ab0   e001     BZ        0x5ab4                                                                                          
005ab2   0e01     MOVLW     0x1                                                                                             
005ab4   ece3     CALL      0x67c6,0x0                                                                                      
005ab6   f033                                                                                                               
006402   6e4e     MOVWF     0x4e,0x0                                                                                        
006404   d9a7     RCALL     0x6754                                                                                          
006406   6ee6     MOVWF     0xe6,0x0                                                                                        
006408   0012     RETURN    0x0                                                                                             
005ab8   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aba   b1c3     BTFSC     0xc3,0x0,0x1                                                                                    
005abc   d003     BRA       0x5ac4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005abe   0e02     MOVLW     0x2                print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac0   ec97     CALL      0x672e,0x0                                                                                      
005ac2   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac4   efcf     GOTO      0x639e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac6   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // SR Set RC Servo power timeout                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "SR,<new_time_ms>,<new_power_state><CR><LF>"                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "OK<CR><LF>"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_time_ms> is a 32-bit unsigned integer, representing the new RC servo     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // poweroff timeout in milliseconds. This value is not saved across reboots.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is the length of time the system will wait after any command that uses     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the motors or servo before killing power to the RC servo.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Use a value of 0 for <new_time_ms> to completely disable the poweroff timer.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_power_state> is an optional parameter of either 0 or 1. It will          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // immediately affect the servo's power state, where 0 turns it off and 1        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // turns it on.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac8   ec96     CALL      0x632c,0x0     void parse_SR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aca   f031                                                                                                               
005acc   0e06     MOVLW     0x6                                                                                             
005ace   ece5     CALL      0x65ca,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 State;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType GotState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad0   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad2   0e07     MOVLW     0x7              extract_number(kULONG, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad4   ec80     CALL      0x6300,0x0                                                                                      
005ad6   f031                                                                                                               
005ad8   0e01     MOVLW     0x1              GotState = extract_number(kUCHAR, &State, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ada   6ee6     MOVWF     0xe6,0x0                                                                                        
005adc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005ade   0f04     ADDLW     0x4                                                                                             
005ae0   ecd6     CALL      0x65ac,0x0                                                                                      
005ae2   f032                                                                                                               
005ae4   6ee7     MOVWF     0xe7,0x0                                                                                        
005ae6   0e05     MOVLW     0x5                                                                                             
005ae8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005aea   ffdb                                                                                                               
006352   6ee6     MOVWF     0xe6,0x0                                                                                        
006354   0e00     MOVLW     0x0                                                                                             
006356   20da     ADDWFC    0xda,0x0,0x0                                                                                    
006358   6ee6     MOVWF     0xe6,0x0                                                                                        
00635a   0012     RETURN    0x0                                                                                             
0065ac   ded2     RCALL     0x6352                                                                                          
0065ae   0e01     MOVLW     0x1                                                                                             
0065b0   ef80     GOTO      0x6300                                                                                          
0065b2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aec   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aee   5184     MOVF      0x84,0x0,0x1                                                                                    
005af0   e116     BNZ       0x5b1e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005af2   cfdf     MOVFF     0xfdf,0x4c2      gRCServoPoweroffCounterReloadMS = Value;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005af4   f4c2                                                                                                               
005af6   0e01     MOVLW     0x1                                                                                             
005af8   cfdb     MOVFF     0xfdb,0x4c3                                                                                     
005afa   f4c3                                                                                                               
005afc   0e02     MOVLW     0x2                                                                                             
005afe   cfdb     MOVFF     0xfdb,0x4c4                                                                                     
005b00   f4c4                                                                                                               
005b02   0e03     MOVLW     0x3                                                                                             
005b04   cfdb     MOVFF     0xfdb,0x4c5                                                                                     
005b06   f4c5                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if <new_power_state> is there                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b08   0e05     MOVLW     0x5              if (GotState == kEXTRACT_OK)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b0a   50db     MOVF      0xdb,0x0,0x0                                                                                    
005b0c   e106     BNZ       0x5b1a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yup, so set new power state                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b0e   0e04     MOVLW     0x4                if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b10   50db     MOVF      0xdb,0x0,0x0                                                                                    
005b12   e002     BZ        0x5b18                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b14   8689     BSF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_ON;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b16   d001     BRA       0x5b1a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b18   9689     BCF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b1a   eccf     CALL      0x639e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b1c   f031                                                                                                               
005b1e   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b20   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005b22   e202     BC        0x5b28                                                                                          
005b24   6ae1     CLRF      0xe1,0x0                                                                                        
005b26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005b28   6ee1     MOVWF     0xe1,0x0                                                                                        
005b2a   ef9b     GOTO      0x6336                                                                                          
005b2c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just used for testing/debugging the packet parsing routines                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2e   ec96     CALL      0x632c,0x0     void parse_CK_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b30   f031                                                                                                               
005b32   0e10     MOVLW     0x10                                                                                            
005b34   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UByte;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed char SByte;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int UInt;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed int SInt;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULong;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long SLong;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UChar;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UCaseChar;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b36   ecdf     CALL      0x67be,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b38   f033                                                                                                               
005b3a   dbe6     RCALL     0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b3c   6ae6     CLRF      0xe6,0x0         extract_number(kCHAR, &SByte, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b3e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005b40   0f01     ADDLW     0x1                                                                                             
005b42   eca9     CALL      0x6352,0x0                                                                                      
005b44   f031                                                                                                               
005b46   6ae6     CLRF      0xe6,0x0                                                                                        
005b48   d962     RCALL     0x5e0e                                                                                          
005b4a   ecea     CALL      0x65d4,0x0                                                                                      
005b4c   f032                                                                                                               
005b4e   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &UByte, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b50   ec9c     CALL      0x6738,0x0                                                                                      
005b52   f033                                                                                                               
005b54   0e01     MOVLW     0x1                                                                                             
005b56   ecae     CALL      0x675c,0x0                                                                                      
005b58   f033                                                                                                               
005b5a   0f04     ADDLW     0x4              extract_number(kINT, &SInt, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5c   eca9     CALL      0x6352,0x0                                                                                      
005b5e   f031                                                                                                               
005b60   0e02     MOVLW     0x2                                                                                             
005b62   ecae     CALL      0x675c,0x0                                                                                      
005b64   f033                                                                                                               
005b66   0f02     ADDLW     0x2              extract_number(kUINT, &UInt, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b68   eca9     CALL      0x6352,0x0                                                                                      
005b6a   f031                                                                                                               
005b6c   0e03     MOVLW     0x3                                                                                             
005b6e   ecae     CALL      0x675c,0x0                                                                                      
005b70   f033                                                                                                               
005b72   0f0a     ADDLW     0xa              extract_number(kLONG, &SLong, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b74   dbee     RCALL     0x6352                                                                                          
005b76   0e06     MOVLW     0x6                                                                                             
005b78   ecae     CALL      0x675c,0x0                                                                                      
005b7a   f033                                                                                                               
005b7c   0f06     ADDLW     0x6              extract_number(kULONG, &ULong, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b7e   dbe9     RCALL     0x6352                                                                                          
005b80   0e07     MOVLW     0x7                                                                                             
005b82   ecae     CALL      0x675c,0x0                                                                                      
005b84   f033                                                                                                               
005b86   0f0e     ADDLW     0xe              extract_number(kASCII_CHAR, &UChar, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b88   dbe4     RCALL     0x6352                                                                                          
005b8a   0e04     MOVLW     0x4                                                                                             
005b8c   ecae     CALL      0x675c,0x0                                                                                      
005b8e   f033                                                                                                               
005b90   0f0f     ADDLW     0xf              extract_number(kUCASE_ASCII_CHAR, &UCaseChar, kREQUIRED);                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b92   dbdf     RCALL     0x6352                                                                                          
005b94   0e05     MOVLW     0x5                                                                                             
005b96   dbb4     RCALL     0x6300                                                                                          
006300   6ee6     MOVWF     0xe6,0x0                                                                                        
006302   dd85     RCALL     0x5e0e                                                                                          
006304   efea     GOTO      0x65d4                                                                                          
006306   f032                                                                                                               
0065d4   d8ec     RCALL     0x67ae                                                                                          
0065d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0065d8   0012     RETURN    0x0                                                                                             
0067ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067b4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b98   0e8a     MOVLW     0x8a             ebb_print((rom char far *)"Param1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b9a   6e4e     MOVWF     0x4e,0x0                                                                                        
005b9c   0e83     MOVLW     0x83                                                                                            
005b9e   dbaa     RCALL     0x62f4                                                                                          
005ba0   0e01     MOVLW     0x1              ebb_print_int(SByte);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ba2   ec80     CALL      0x6500,0x0                                                                                      
005ba4   f032                                                                                                               
005ba6   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
005ba8   d003     BRA       0x5bb0                                                                                          
005baa   684f     SETF      0x4f,0x0                                                                                        
005bac   6850     SETF      0x50,0x0                                                                                        
005bae   6851     SETF      0x51,0x0                                                                                        
005bb0   ecbf     CALL      0x677e,0x0                                                                                      
005bb2   f033                                                                                                               
00677e   d83b     RCALL     0x67f6                                                                                          
006780   eff6     GOTO      0x67ec                                                                                          
006782   f033                                                                                                               
0067f6   c04e     MOVFF     0x4e,0xfe6                                                                                      
0067f8   ffe6                                                                                                               
0067fa   efde     GOTO      0x65bc                                                                                          
0067fc   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb4   0e82     MOVLW     0x82             ebb_print((rom char far *)"Param2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb6   6e4e     MOVWF     0x4e,0x0                                                                                        
005bb8   0e83     MOVLW     0x83                                                                                            
005bba   db9c     RCALL     0x62f4                                                                                          
005bbc   dbcf     RCALL     0x635c           ebb_print_uint(UByte);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bbe   eced     CALL      0x65da,0x0                                                                                      
005bc0   f032                                                                                                               
00635c   cfdf     MOVFF     0xfdf,0x4e                                                                                      
00635e   f04e                                                                                                               
006360   efaa     GOTO      0x6754                                                                                          
006362   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc2   0e7a     MOVLW     0x7a             ebb_print((rom char far *)"Param3=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc4   6e4e     MOVWF     0x4e,0x0                                                                                        
005bc6   0e83     MOVLW     0x83                                                                                            
005bc8   db95     RCALL     0x62f4                                                                                          
005bca   0e04     MOVLW     0x4              ebb_print_int(SInt);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bcc   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005bce   f04e                                                                                                               
005bd0   0e05     MOVLW     0x5                                                                                             
005bd2   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005bd4   f04f                                                                                                               
005bd6   6a50     CLRF      0x50,0x0                                                                                        
005bd8   6a51     CLRF      0x51,0x0                                                                                        
005bda   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005bdc   d002     BRA       0x5be2                                                                                          
005bde   6850     SETF      0x50,0x0                                                                                        
005be0   6851     SETF      0x51,0x0                                                                                        
005be2   ecbf     CALL      0x677e,0x0                                                                                      
005be4   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005be6   0e72     MOVLW     0x72             ebb_print((rom char far *)"Param4=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005be8   6e4e     MOVWF     0x4e,0x0                                                                                        
005bea   0e83     MOVLW     0x83                                                                                            
005bec   db83     RCALL     0x62f4                                                                                          
005bee   0e02     MOVLW     0x2              ebb_print_uint(UInt);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf0   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005bf2   f04e                                                                                                               
005bf4   0e03     MOVLW     0x3                                                                                             
005bf6   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005bf8   f04f                                                                                                               
005bfa   6a50     CLRF      0x50,0x0                                                                                        
005bfc   6a51     CLRF      0x51,0x0                                                                                        
005bfe   eced     CALL      0x65da,0x0                                                                                      
005c00   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c02   0e6a     MOVLW     0x6a             ebb_print((rom char far *)"Param5=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c04   6e4e     MOVWF     0x4e,0x0                                                                                        
005c06   0e83     MOVLW     0x83                                                                                            
005c08   db75     RCALL     0x62f4                                                                                          
005c0a   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(SLong);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c0c   0f0a     ADDLW     0xa                                                                                             
005c0e   dbb1     RCALL     0x6372                                                                                          
005c10   ecf6     CALL      0x67ec,0x0                                                                                      
005c12   f033                                                                                                               
0067ec   ecdc     CALL      0x85b8,0x0                                                                                      
0067ee   f042                                                                                                               
0067f0   def1     RCALL     0x65d4                                                                                          
0067f2   ef84     GOTO      0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067f4   f031                                                                                                               
005c14   ec4c     CALL      0x6698,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c16   f033                                                                                                               
005c18   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(ULong);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c1a   0f06     ADDLW     0x6                                                                                             
005c1c   dbaa     RCALL     0x6372                                                                                          
005c1e   ecc2     CALL      0x6784,0x0                                                                                      
005c20   f033                                                                                                               
005c22   db72     RCALL     0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c24   0e5a     MOVLW     0x5a             ebb_print((rom char far *)"Param7=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c26   6e4e     MOVWF     0x4e,0x0                                                                                        
005c28   0e83     MOVLW     0x83                                                                                            
005c2a   db64     RCALL     0x62f4                                                                                          
005c2c   0e0e     MOVLW     0xe              ebb_print_char(UChar);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c2e   ec65     CALL      0x66ca,0x0                                                                                      
005c30   f033                                                                                                               
0066ca   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0066cc   ffe6                                                                                                               
0066ce   ec71     CALL      0x44e2,0x0                                                                                      
0066d0   f022                                                                                                               
0066d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066d4   ef84     GOTO      0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066d6   f031                                                                                                               
005c32   0e52     MOVLW     0x52             ebb_print((rom char far *)"Param8=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c34   6e4e     MOVWF     0x4e,0x0                                                                                        
005c36   0e83     MOVLW     0x83                                                                                            
005c38   db5d     RCALL     0x62f4                                                                                          
005c3a   0e0f     MOVLW     0xf              ebb_print_char(UCaseChar);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3c   ec65     CALL      0x66ca,0x0                                                                                      
005c3e   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c40   ec4c     CALL      0x6698,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c42   f033                                                                                                               
005c44   0e08     MOVLW     0x8              ebb_print_hex(ULong, 8);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c46   6ee6     MOVWF     0xe6,0x0                                                                                        
005c48   ec19     CALL      0x6632,0x0                                                                                      
005c4a   f033                                                                                                               
006632   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006634   0f06     ADDLW     0x6                                                                                             
006636   de9d     RCALL     0x6372                                                                                          
006638   ec86     CALL      0x850c,0x0                                                                                      
00663a   f042                                                                                                               
00663c   6e4e     MOVWF     0x4e,0x0                                                                                        
00663e   0e05     MOVLW     0x5                                                                                             
006640   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006642   504e     MOVF      0x4e,0x0,0x0                                                                                    
006644   ef84     GOTO      0x6308           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006646   f031                                                                                                               
005c4c   ec4c     CALL      0x6698,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c4e   f033                                                                                                               
006698   0e62     MOVLW     0x62                                                                                            
00669a   6e4e     MOVWF     0x4e,0x0                                                                                        
00669c   0e83     MOVLW     0x83                                                                                            
00669e   ef7a     GOTO      0x62f4                                                                                          
0066a0   f031                                                                                                               
005c50   6ae6     CLRF      0xe6,0x0         ebb_print_hex(ULong, 0);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c52   ec19     CALL      0x6632,0x0                                                                                      
005c54   f033                                                                                                               
006372   6ee9     MOVWF     0xe9,0x0                                                                                        
006374   cfda     MOVFF     0xfda,0xfea                                                                                     
006376   ffea                                                                                                               
006378   cfee     MOVFF     0xfee,0xfe6                                                                                     
00637a   ffe6                                                                                                               
00637c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00637e   ffe6                                                                                                               
006380   cfee     MOVFF     0xfee,0xfe6                                                                                     
006382   ffe6                                                                                                               
006384   cfef     MOVFF     0xfef,0xfe6                                                                                     
006386   ffe6                                                                                                               
006388   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c56   dba3     RCALL     0x639e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c58   0e10     MOVLW     0x10           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c5a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005c5c   e202     BC        0x5c62                                                                                          
005c5e   6ae1     CLRF      0xe1,0x0                                                                                        
005c60   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005c62   6ee1     MOVWF     0xe1,0x0                                                                                        
005c64   d368     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c66   ec34     CALL      0x6668,0x0     void populateDeviceStringWithName(void)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c68   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extern BYTE * USB_SD_Ptr[];                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c6a   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c6c   0e11     MOVLW     0x11                                                                                            
005c6e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005c70   e204     BC        0x5c7a                                                                                          
005c76   2adf     INCF      0xdf,0x1,0x0                                                                                    
005c78   d7f9     BRA       0x5c6c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c72   dbb7     RCALL     0x63e2             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c74   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c7a   ec7f     CALL      0x66fe,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c7c   f033                                                                                                               
0066fe   de6c     RCALL     0x63d8                                                                                          
006700   ecd8     CALL      0x8db0,0x0                                                                                      
006702   f046                                                                                                               
006704   ef98     GOTO      0x6530                                                                                          
006706   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The EEB's name is now in the 'name' local variable as a straight string     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // of bytes. We need to move it to the proper locations in the sd002           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // USB string descriptor (which is in RAM now). But it needs to be a           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // unicode string, so we've got to skip every other byte.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Since the FLASH copy of 'name' is padded with zeros and is always 16        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // bytes long, we are safe to always copy 16 bytes over to the string          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Because sd002 is an anonymous structure without any names for its           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // members, we are totally going to just hack this bad boy and jump            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // into a known offset from the beginning of the structure.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // As of 2.5.5, we now not only update the Product string, but also the        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // serial number string.                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c7e   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH; i++)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c80   0e10     MOVLW     0x10                                                                                            
005c82   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005c84   e221     BC        0x5cc8                                                                                          
005cc4   2adf     INCF      0xdf,0x1,0x0                                                                                    
005cc6   d7dc     BRA       0x5c80                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only copy over valid ASCII characters. On the first invalid               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // one, bail out.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c86   dbad     RCALL     0x63e2             if (gDeviceStringName[i] <= 128u && gDeviceStringName[i] >= 32u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c88   50ef     MOVF      0xef,0x0,0x0                                                                                    
005c8a   0880     SUBLW     0x80                                                                                            
005c8c   e31d     BNC       0x5cc8                                                                                          
005c8e   dba9     RCALL     0x63e2                                                                                          
005c90   cfef     MOVFF     0xfef,0x4e                                                                                      
005c92   f04e                                                                                                               
005c94   0e20     MOVLW     0x20                                                                                            
005c96   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
005c98   e317     BNC       0x5cc8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9a   dba3     RCALL     0x63e2               *(USB_SD_Ptr[2] + 24 + (i*2)) = gDeviceStringName[i];                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9c   50ef     MOVF      0xef,0x0,0x0                                                                                    
005c9e   6ee6     MOVWF     0xe6,0x0                                                                                        
005ca0   0e18     MOVLW     0x18                                                                                            
005ca2   0102     MOVLB     0x2                                                                                             
005ca4   6a4f     CLRF      0x4f,0x0                                                                                        
005ca6   25fa     ADDWF     0xfa,0x0,0x1                                                                                    
005ca8   6e4e     MOVWF     0x4e,0x0                                                                                        
005caa   51fb     MOVF      0xfb,0x0,0x1                                                                                    
005cac   ec74     CALL      0x64e8,0x0                                                                                      
005cae   f032                                                                                                               
0064e8   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
0064ea   50df     MOVF      0xdf,0x0,0x0                                                                                    
0064ec   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0064ee   244e     ADDWF     0x4e,0x0,0x0                                                                                    
0064f0   6ee9     MOVWF     0xe9,0x0                                                                                        
0064f2   0e00     MOVLW     0x0                                                                                             
0064f4   204f     ADDWFC    0x4f,0x0,0x0                                                                                    
0064f6   6eea     MOVWF     0xea,0x0                                                                                        
0064f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0064fa   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0064fc   6eef     MOVWF     0xef,0x0                                                                                        
0064fe   0012     RETURN    0x0                                                                                             
005cb0   db98     RCALL     0x63e2               *(USB_SD_Ptr[3] + 2 + (i*2)) = gDeviceStringName[i];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb2   50ef     MOVF      0xef,0x0,0x0                                                                                    
005cb4   6ee6     MOVWF     0xe6,0x0                                                                                        
005cb6   0e02     MOVLW     0x2                                                                                             
005cb8   6a4f     CLRF      0x4f,0x0                                                                                        
005cba   25fc     ADDWF     0xfc,0x0,0x1                                                                                    
005cbc   6e4e     MOVWF     0x4e,0x0                                                                                        
005cbe   51fd     MOVF      0xfd,0x0,0x1                                                                                    
005cc0   ec74     CALL      0x64e8,0x0                                                                                      
005cc2   f032                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now update the string descriptor lengths based on how many characters       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // we copied over from Flash                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc8   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[2]) = 24 + (i * 2);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cca   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005ccc   0f18     ADDLW     0x18                                                                                            
005cce   c2fa     MOVFF     0x2fa,0xfe9                                                                                     
005cd0   ffe9                                                                                                               
005cd2   c2fb     MOVFF     0x2fb,0xfea                                                                                     
005cd4   ffea                                                                                                               
005cd6   6eef     MOVWF     0xef,0x0                                                                                        
005cd8   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[3]) = 2 + (i * 2);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cda   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005cdc   0f02     ADDLW     0x2                                                                                             
005cde   c2fc     MOVFF     0x2fc,0xfe9                                                                                     
005ce0   ffe9                                                                                                               
005ce2   c2fd     MOVFF     0x2fd,0xfea                                                                                     
005ce4   ffea                                                                                                               
005ce6   6eef     MOVWF     0xef,0x0                                                                                        
005ce8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cea   d325     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // ST command : Set Tag                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "ST,<new name><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new name> is a 0 to 16 character ASCII string.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This string gets saved in FLASH, and is returned by the "QT" command, as      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // well as being appended to the USB name that shows up in the OS                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cec   ecdb     CALL      0x67b6,0x0     void parse_ST_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cee   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf0   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf2   ecdf     CALL      0x67be,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf4   f033                                                                                                               
0067be   6ae6     CLRF      0xe6,0x0                                                                                        
0067c0   6ae6     CLRF      0xe6,0x0                                                                                        
0067c2   ef14     GOTO      0x6628                                                                                          
0067c4   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf6   0e01     MOVLW     0x1              for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf8   6adb     CLRF      0xdb,0x0                                                                                        
005cfa   0e11     MOVLW     0x11                                                                                            
005cfc   6ef3     MOVWF     0xf3,0x0                                                                                        
005cfe   0e01     MOVLW     0x1                                                                                             
005d00   dbe9     RCALL     0x64d4                                                                                          
005d02   e20b     BC        0x5d1a                                                                                          
005d14   0e01     MOVLW     0x1                                                                                             
005d16   2adb     INCF      0xdb,0x1,0x0                                                                                    
005d18   d7f0     BRA       0x5cfa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d04   0e01     MOVLW     0x1                gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d06   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d08   6aea     CLRF      0xea,0x0                                                                                        
005d0a   0fd5     ADDLW     0xd5                                                                                            
005d0c   6ee9     MOVWF     0xe9,0x0                                                                                        
005d0e   0e04     MOVLW     0x4                                                                                             
005d10   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005d12   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1a   0e10     MOVLW     0x10             bytes = extract_string(gDeviceStringName, FLASH_NAME_LENGTH);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1c   6ee6     MOVWF     0xe6,0x0                                                                                        
005d1e   eca1     CALL      0x6742,0x0                                                                                      
005d20   f033                                                                                                               
005d22   d83a     RCALL     0x5d98                                                                                          
005d24   ecd7     CALL      0x67ae,0x0                                                                                      
005d26   f033                                                                                                               
005d28   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We have reserved FLASH addresses 0xF800 to 0xFBFF (1024 bytes) for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // storing persistent variables like the EEB's name. Note that no wear-leveling D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // is done, so it's not a good idea to change these values more than 10K times. :-) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2a   68e6     SETF      0xe6,0x0         EraseFlash(FLASH_NAME_ADDRESS, FLASH_NAME_ADDRESS + 0x3FF);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2c   0efb     MOVLW     0xfb                                                                                            
005d2e   6ee6     MOVWF     0xe6,0x0                                                                                        
005d30   6ae6     CLRF      0xe6,0x0                                                                                        
005d32   ec84     CALL      0x6708,0x0                                                                                      
005d34   f033                                                                                                               
005d36   ecb7     CALL      0x8b6e,0x0                                                                                      
005d38   f045                                                                                                               
005d3a   ec98     CALL      0x6530,0x0                                                                                      
005d3c   f032                                                                                                               
006708   6ae6     CLRF      0xe6,0x0                                                                                        
00670a   6ae6     CLRF      0xe6,0x0                                                                                        
00670c   0ef8     MOVLW     0xf8                                                                                            
00670e   6ee6     MOVWF     0xe6,0x0                                                                                        
006710   6ae6     CLRF      0xe6,0x0                                                                                        
006712   6ae6     CLRF      0xe6,0x0                                                                                        
006714   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3e   db4c     RCALL     0x63d8           WriteBytesFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d40   ec81     CALL      0x8702,0x0                                                                                      
005d42   f043                                                                                                               
005d44   ec98     CALL      0x6530,0x0                                                                                      
005d46   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d48   db2a     RCALL     0x639e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d4a   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d4c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005d4e   e202     BC        0x5d54                                                                                          
005d50   6ae1     CLRF      0xe1,0x0                                                                                        
005d52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d54   6ee1     MOVWF     0xe1,0x0                                                                                        
005d56   d2ef     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QT command : Query Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QT<CR>"                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Prints out the 'tag' that was set with the "ST" command previously, if any    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// TODO: Optimize this by simply pointing ebb_print() at the string in FLASH?   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// We could save 16 bytes of RAM that way and make the code simpler.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d58   ec34     CALL      0x6668,0x0     void parse_QT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5a   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5c   dbac     RCALL     0x64b6           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064b6   0e01     MOVLW     0x1                                                                                             
0064b8   6ee6     MOVWF     0xe6,0x0                                                                                        
0064ba   6ae6     CLRF      0xe6,0x0                                                                                        
0064bc   ef14     GOTO      0x6628                                                                                          
0064be   f033                                                                                                               
006628   ecd7     CALL      0x4bae,0x0                                                                                      
00662a   f025                                                                                                               
00662c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00662e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006630   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5e   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d60   0e11     MOVLW     0x11                                                                                            
005d62   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005d64   e204     BC        0x5d6e                                                                                          
005d6a   2adf     INCF      0xdf,0x1,0x0                                                                                    
005d6c   d7f9     BRA       0x5d60                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d66   db3d     RCALL     0x63e2             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d68   6aef     CLRF      0xef,0x0                                                                                        
0063e2   50df     MOVF      0xdf,0x0,0x0                                                                                    
0063e4   6aea     CLRF      0xea,0x0                                                                                        
0063e6   0fd5     ADDLW     0xd5                                                                                            
0063e8   6ee9     MOVWF     0xe9,0x0                                                                                        
0063ea   0e04     MOVLW     0x4                                                                                             
0063ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063ee   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6e   ec7f     CALL      0x66fe,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d70   f033                                                                                                               
0063d8   d9b4     RCALL     0x6742                                                                                          
0063da   0e10     MOVLW     0x10                                                                                            
0063dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0063de   ef84     GOTO      0x6708                                                                                          
0063e0   f033                                                                                                               
006530   6e4e     MOVWF     0x4e,0x0                                                                                        
006532   0e08     MOVLW     0x8                                                                                             
006534   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006536   504e     MOVF      0x4e,0x0,0x0                                                                                    
006538   0012     RETURN    0x0                                                                                             
006742   0ed5     MOVLW     0xd5                                                                                            
006744   6ee6     MOVWF     0xe6,0x0                                                                                        
006746   0e04     MOVLW     0x4                                                                                             
006748   6ee6     MOVWF     0xe6,0x0                                                                                        
00674a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only print it out if the first character is printable ASCII                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d72   0e80     MOVLW     0x80             if (gDeviceStringName[0] < 128u && gDeviceStringName[0] > 32u)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d74   0104     MOVLB     0x4                                                                                             
005d76   5dd5     SUBWF     0xd5,0x0,0x1                                                                                    
005d78   e209     BC        0x5d8c                                                                                          
005d7a   51d5     MOVF      0xd5,0x0,0x1                                                                                    
005d7c   0820     SUBLW     0x20                                                                                            
005d7e   e206     BC        0x5d8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d80   eca1     CALL      0x6742,0x0         ebb_print_ram((char *)gDeviceStringName);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d82   f033                                                                                                               
005d84   ec7a     CALL      0x84f4,0x0                                                                                      
005d86   f042                                                                                                               
005d88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8c   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8e   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d90   dabb     RCALL     0x6308             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d92   db05     RCALL     0x639e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00639e   6ae6     CLRF      0xe6,0x0                                                                                        
0063a0   ecf5     CALL      0x4bea,0x0                                                                                      
0063a2   f025                                                                                                               
0063a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063a6   0012     RETURN    0x0                                                                                             
005d94   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d96   d2cf     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string in g_RX_buf[]                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Copy over all bytes from g_RX_buf_out into ReturnValue until you hit          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a comma or a CR or you've copied over MaxBytes characters.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return the number of bytes copied. Advance g_RX_buf_out as you go.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d98   ec34     CALL      0x6668,0x0     UINT8 extract_string (                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9a   f033                                                                                                               
00632c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00632e   ffe6                                                                                                               
006330   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006332   ffd9                                                                                                               
006334   0012     RETURN    0x0                                                                                             
006668   de61     RCALL     0x632c                                                                                          
00666a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00666c   0012     RETURN    0x0                                                                                             
                                             unsigned char * ReturnValue,                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 MaxBytes                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9c   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Always terminate the string                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9e   db53     RCALL     0x6446           *ReturnValue = 0x00;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da0   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da2   ec8b     CALL      0x6716,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da4   f033                                                                                                               
005da6   e102     BNZ       0x5dac                                                                                          
006716   0e0d     MOVLW     0xd                                                                                             
006718   6e4e     MOVWF     0x4e,0x0                                                                                        
00671a   0104     MOVLB     0x4                                                                                             
00671c   ddf8     RCALL     0x630e                                                                                          
00671e   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006720   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da8   8984     BSF       0x84,0x4,0x1       bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005daa   d005     BRA       0x5db6             return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dac   dab0     RCALL     0x630e           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dae   082c     SUBLW     0x2c                                                                                            
005db0   e004     BZ        0x5dba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db2   ecf0     CALL      0x65e0,0x0         ebb_print((rom char far *)"!5 Err: Need comma next, found: '");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db4   f032                                                                                                               
0065e0   0e30     MOVLW     0x30                                                                                            
0065e2   6e4e     MOVWF     0x4e,0x0                                                                                        
0065e4   0e83     MOVLW     0x83                                                                                            
0065e6   de86     RCALL     0x62f4                                                                                          
0065e8   0104     MOVLB     0x4                ebb_print_char(g_RX_buf[g_RX_buf_out]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065ea   de91     RCALL     0x630e                                                                                          
0065ec   dea8     RCALL     0x633e                                                                                          
0065ee   0e27     MOVLW     0x27               ebb_print_char(0x27); // The ' character                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065f0   dea6     RCALL     0x633e                                                                                          
0065f2   de8a     RCALL     0x6308             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065f4   0104     MOVLB     0x4                bitset(error_byte, kERROR_BYTE_PRINTED_ERROR);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065f6   8b84     BSF       0x84,0x5,0x1                                                                                    
0065f8   0012     RETURN    0x0                                                                                             
005db6   0e00     MOVLW     0x0                return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db8   d028     BRA       0x5e0a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dba   dad4     RCALL     0x6364           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbc   e104     BNZ       0x5dc6                                                                                          
005dbe   0e01     MOVLW     0x1                                                                                             
005dc0   184f     XORWF     0x4f,0x0,0x0                                                                                    
005dc2   e101     BNZ       0x5dc6                                                                                          
005dc4   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e08   d7de     BRA       0x5dc6           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check to see if we're already at the end                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc6   0e0d     MOVLW     0xd                if (kCR == g_RX_buf[g_RX_buf_out] || (BYTE)',' == g_RX_buf[g_RX_buf_out] || bytes >= MaxBytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc8   eca6     CALL      0x674c,0x0                                                                                      
005dca   f033                                                                                                               
005dcc   e009     BZ        0x5de0                                                                                          
005dce   0e2c     MOVLW     0x2c                                                                                            
005dd0   6e4f     MOVWF     0x4f,0x0                                                                                        
005dd2   da9d     RCALL     0x630e                                                                                          
005dd4   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
005dd6   e004     BZ        0x5de0                                                                                          
005dd8   0efc     MOVLW     0xfc                                                                                            
005dda   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ddc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005dde   e302     BNC       0x5de4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de0   50df     MOVF      0xdf,0x0,0x0         return (bytes);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de2   d013     BRA       0x5e0a                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Copy over a byte                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de4   da94     RCALL     0x630e             *ReturnValue = g_RX_buf[g_RX_buf_out];                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de6   6ee6     MOVWF     0xe6,0x0                                                                                        
005de8   db2e     RCALL     0x6446                                                                                          
005dea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005dec   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005dee   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df0   dab9     RCALL     0x6364             advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df2   e104     BNZ       0x5dfc                                                                                          
005df4   0e01     MOVLW     0x1                                                                                             
005df6   184f     XORWF     0x4f,0x0,0x0                                                                                    
005df8   e101     BNZ       0x5dfc                                                                                          
005dfa   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Count this one                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfc   2adf     INCF      0xdf,0x1,0x0       bytes++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfe   0efd     MOVLW     0xfd               ReturnValue++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e00   2adb     INCF      0xdb,0x1,0x0                                                                                    
005e02   0efe     MOVLW     0xfe                                                                                            
005e04   e3e0     BNC       0x5dc6                                                                                          
005e06   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             return(bytes);                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e0a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e0c   d294     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string pointed to by g_RX_buf[g_RX_buf_out]                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // There should be a comma where g_RX_buf[g_RX_buf_out] points to upon entry.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If not, throw a comma error.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so, then look for up to like a ton of bytes after the                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // comma for numbers, and put them all into one                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // unsigned long accumulator.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Advance the pointer to the byte after the last number                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // and return.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e0e   da8e     RCALL     0x632c         ExtractReturnType extract_number(                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e10   0e09     MOVLW     0x9                                                                                             
005e12   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             ExtractType Type,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             void * ReturnValue,                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Required                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULAccumulator;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long Accumulator;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e14   0e08     MOVLW     0x8              BOOL Negative = FALSE;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e16   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e18   ec8b     CALL      0x6716,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e1a   f033                                                                                                               
005e1c   e105     BNZ       0x5e28                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e1e   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e20   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e22   e119     BNZ       0x5e56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e24   8984     BSF       0x84,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e26   d017     BRA       0x5e56             return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e28   da72     RCALL     0x630e           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e2a   082c     SUBLW     0x2c                                                                                            
005e2c   e006     BZ        0x5e3a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e2e   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e30   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e32   e101     BNZ       0x5e36                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e34   dbd5     RCALL     0x65e0               ebb_print((rom char far *)"!5 Err: Need comma next, found: '");            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00630e   51b8     MOVF      0xb8,0x0,0x1         ebb_print_char(g_RX_buf[g_RX_buf_out]);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006310   d985     RCALL     0x661c                                                                                          
006312   50ef     MOVF      0xef,0x0,0x0                                                                                    
006314   0012     RETURN    0x0                                                                                             
                                                 ebb_print_char(0x27);     // The ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset (error_byte, kERROR_BYTE_PRINTED_ERROR);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e36   0e02     MOVLW     0x2                return(kEXTRACT_COMMA_MISSING);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e38   d11a     BRA       0x606e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3a   da94     RCALL     0x6364           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3c   e104     BNZ       0x5e46                                                                                          
005e3e   0e01     MOVLW     0x1                                                                                             
005e40   184f     XORWF     0x4f,0x0,0x0                                                                                    
005e42   e101     BNZ       0x5e46                                                                                          
005e44   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for end of command                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e46   0e0d     MOVLW     0xd              if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e48   eca6     CALL      0x674c,0x0                                                                                      
005e4a   f033                                                                                                               
005e4c   e106     BNZ       0x5e5a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4e   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e50   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e52   e101     BNZ       0x5e56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e54   8984     BSF       0x84,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e56   0e03     MOVLW     0x3                return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e58   d10a     BRA       0x606e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now check for a sign character if we're not looking for ASCII chars         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5a   0e2d     MOVLW     0x2d               ('-' == g_RX_buf[g_RX_buf_out])                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5c   eca6     CALL      0x674c,0x0                                                                                      
005e5e   f033                                                                                                               
00674c   6e4e     MOVWF     0x4e,0x0                                                                                        
00674e   dddf     RCALL     0x630e                                                                                          
006750   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006752   0012     RETURN    0x0                                                                                             
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e62   0e04     MOVLW     0x4                  (kASCII_CHAR != Type)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e64   db54     RCALL     0x650e                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e68   0e05     MOVLW     0x5                  (kUCASE_ASCII_CHAR != Type)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e6a   6e50     MOVWF     0x50,0x0                                                                                        
005e6c   0efe     MOVLW     0xfe                                                                                            
005e6e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e70   5c50     SUBWF     0x50,0x0,0x0                                                                                    
005e66   e01d     BZ        0x5ea2             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e72   e017     BZ        0x5ea2                                                                                          
005e60   e120     BNZ       0x5ea2           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // It's an error if we see a negative sign on an unsigned value              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e74   0efe     MOVLW     0xfe                 (kUCHAR == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e76   04db     DECF      0xdb,0x0,0x0                                                                                    
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e7c   0e03     MOVLW     0x3                  (kUINT == Type)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e7e   db2f     RCALL     0x64de                                                                                          
005e78   e101     BNZ       0x5e7c               ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e7a   d0c0     BRA       0x5ffc                                                                                          
005e80   e101     BNZ       0x5e84                                                                                          
005e82   d0bc     BRA       0x5ffc                                                                                          
005e84   0e07     MOVLW     0x7                  (kULONG == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e86   db43     RCALL     0x650e                                                                                          
005e88   e101     BNZ       0x5e8c             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8a   d0b8     BRA       0x5ffc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8c   0e01     MOVLW     0x1                  Negative = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8e   6ef3     MOVWF     0xf3,0x0                                                                                        
005e90   0e08     MOVLW     0x8                                                                                             
005e92   cff3     MOVFF     0xff3,0xfdb                                                                                     
005e94   ffdb                                                                                                               
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e96   da66     RCALL     0x6364               advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e98   e104     BNZ       0x5ea2                                                                                          
005e9a   0e01     MOVLW     0x1                                                                                             
005e9c   184f     XORWF     0x4f,0x0,0x0                                                                                    
005e9e   e101     BNZ       0x5ea2                                                                                          
005ea0   6bb8     CLRF      0xb8,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If we need to get a digit, go do that                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea2   0e04     MOVLW     0x4                (kASCII_CHAR != Type)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea4   db1c     RCALL     0x64de                                                                                          
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea8   0e05     MOVLW     0x5                (kUCASE_ASCII_CHAR != Type)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eaa   db31     RCALL     0x650e                                                                                          
005ea6   e009     BZ        0x5eba           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eac   e006     BZ        0x5eba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eae   0e0a     MOVLW     0xa                extract_digit(&ULAccumulator, 10);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb0   daf1     RCALL     0x6494                                                                                          
005eb2   d8e6     RCALL     0x6080                                                                                          
005eb4   ecd7     CALL      0x67ae,0x0                                                                                      
005eb6   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb8   d031     BRA       0x5f1c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Otherwise just copy the byte                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eba   51b8     MOVF      0xb8,0x0,0x1       ULAccumulator = g_RX_buf[g_RX_buf_out];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ebc   dbaf     RCALL     0x661c                                                                                          
005ebe   cfef     MOVFF     0xfef,0x4e                                                                                      
005ec0   f04e                                                                                                               
005ec2   0e00     MOVLW     0x0                                                                                             
005ec4   c04e     MOVFF     0x4e,0xfdf                                                                                      
005ec6   ffdf                                                                                                               
005ec8   db3f     RCALL     0x6548                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Force uppercase if that's what type we have                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eca   0e05     MOVLW     0x5                if (kUCASE_ASCII_CHAR == Type)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ecc   db08     RCALL     0x64de                                                                                          
005ece   e11f     BNZ       0x5f0e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed0   0e00     MOVLW     0x0                  ULAccumulator = toupper(ULAccumulator);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed2   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
005ed4   ffe6                                                                                                               
005ed6   0e01     MOVLW     0x1                                                                                             
005ed8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005eda   ffe6                                                                                                               
005edc   ec13     CALL      0x9026,0x0                                                                                      
005ede   f048                                                                                                               
005ee0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ee2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ee4   cff3     MOVFF     0xff3,0x4e                                                                                      
005ee6   f04e                                                                                                               
005ee8   cff4     MOVFF     0xff4,0x4f                                                                                      
005eea   f04f                                                                                                               
005eec   6a50     CLRF      0x50,0x0                                                                                        
005eee   6a51     CLRF      0x51,0x0                                                                                        
005ef0   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005ef2   d002     BRA       0x5ef8                                                                                          
005ef4   6850     SETF      0x50,0x0                                                                                        
005ef6   6851     SETF      0x51,0x0                                                                                        
005ef8   c04e     MOVFF     0x4e,0xfdf                                                                                      
005efa   ffdf                                                                                                               
005efc   0e01     MOVLW     0x1                                                                                             
005efe   c04f     MOVFF     0x4f,0xfdb                                                                                      
005f00   ffdb                                                                                                               
005f02   0e02     MOVLW     0x2                                                                                             
005f04   c050     MOVFF     0x50,0xfdb                                                                                      
005f06   ffdb                                                                                                               
005f08   0e03     MOVLW     0x3                                                                                             
005f0a   c051     MOVFF     0x51,0xfdb                                                                                      
005f0c   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0e   0104     MOVLB     0x4                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f10   da29     RCALL     0x6364                                                                                          
005f12   e104     BNZ       0x5f1c                                                                                          
005f14   0e01     MOVLW     0x1                                                                                             
005f16   184f     XORWF     0x4f,0x0,0x0                                                                                    
005f18   e101     BNZ       0x5f1c                                                                                          
005f1a   6bb8     CLRF      0xb8,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Range check absolute values                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f1c   0e08     MOVLW     0x8              if (Negative)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f1e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f20   e040     BZ        0x5fa2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f22   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f24   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f28   da51     RCALL     0x63cc                 (ULAccumulator > (unsigned long)128)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f2a   0e80     MOVLW     0x80                                                                                            
005f2c   da6e     RCALL     0x640a                                                                                          
005f2e   0e00     MOVLW     0x0                                                                                             
005f30   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005f26   e106     BNZ       0x5f34               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f32   e312     BNC       0x5f58                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f34   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f36   dad3     RCALL     0x64de                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f3a   da48     RCALL     0x63cc                 (ULAccumulator > (unsigned long)32768)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f3c   0e00     MOVLW     0x0                                                                                             
005f3e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005f40   0e80     MOVLW     0x80                                                                                            
005f42   da63     RCALL     0x640a                                                                                          
005f38   e106     BNZ       0x5f46               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f44   e309     BNC       0x5f58                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f46   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f48   dae2     RCALL     0x650e                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4c   da3f     RCALL     0x63cc                 (ULAccumulator > (unsigned long)0x80000000L)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4e   0e00     MOVLW     0x0                                                                                             
005f50   da5c     RCALL     0x640a                                                                                          
005f52   0e80     MOVLW     0x80                                                                                            
005f54   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005f4a   e108     BNZ       0x5f5c               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f56   e202     BC        0x5f5c                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f58   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5a   d050     BRA       0x5ffc               return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5c   da7b     RCALL     0x6454             Accumulator = ULAccumulator;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006454   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006456   ffe9                                                                                                               
006458   cfda     MOVFF     0xfda,0xfea                                                                                     
00645a   ffea                                                                                                               
00645c   0e04     MOVLW     0x4                                                                                             
00645e   cfee     MOVFF     0xfee,0xfdb                                                                                     
006460   ffdb                                                                                                               
006462   0e05     MOVLW     0x5                                                                                             
006464   cfee     MOVFF     0xfee,0xfdb                                                                                     
006466   ffdb                                                                                                               
006468   0e06     MOVLW     0x6                                                                                             
00646a   cfee     MOVFF     0xfee,0xfdb                                                                                     
00646c   ffdb                                                                                                               
00646e   0e07     MOVLW     0x7                                                                                             
006470   cfee     MOVFF     0xfee,0xfdb                                                                                     
006472   ffdb                                                                                                               
006474   0012     RETURN    0x0                                                                                             
                                               // Then apply the negative if that's the right thing to do                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5e   0e08     MOVLW     0x8                if (Negative)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f60   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f62   e053     BZ        0x600a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f64   0e04     MOVLW     0x4                  Accumulator = -Accumulator;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f66   cfdb     MOVFF     0xfdb,0x40                                                                                      
005f68   f040                                                                                                               
005f6a   0e05     MOVLW     0x5                                                                                             
005f6c   cfdb     MOVFF     0xfdb,0x41                                                                                      
005f6e   f041                                                                                                               
005f70   0e06     MOVLW     0x6                                                                                             
005f72   cfdb     MOVFF     0xfdb,0x42                                                                                      
005f74   f042                                                                                                               
005f76   0e07     MOVLW     0x7                                                                                             
005f78   cfdb     MOVFF     0xfdb,0x43                                                                                      
005f7a   f043                                                                                                               
005f7c   6845     SETF      0x45,0x0                                                                                        
005f7e   6846     SETF      0x46,0x0                                                                                        
005f80   6847     SETF      0x47,0x0                                                                                        
005f82   6848     SETF      0x48,0x0                                                                                        
005f84   ec5a     CALL      0x8eb4,0x0                                                                                      
005f86   f047                                                                                                               
005f88   0e04     MOVLW     0x4                                                                                             
005f8a   c03c     MOVFF     0x3c,0xfdb                                                                                      
005f8c   ffdb                                                                                                               
005f8e   0e05     MOVLW     0x5                                                                                             
005f90   c03d     MOVFF     0x3d,0xfdb                                                                                      
005f92   ffdb                                                                                                               
005f94   0e06     MOVLW     0x6                                                                                             
005f96   c03e     MOVFF     0x3e,0xfdb                                                                                      
005f98   ffdb                                                                                                               
005f9a   0e07     MOVLW     0x7                                                                                             
005f9c   c03f     MOVFF     0x3f,0xfdb                                                                                      
005f9e   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa0   d034     BRA       0x600a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa2   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa4   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fa8   da11     RCALL     0x63cc                 (ULAccumulator > (unsigned long)127)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005faa   0e7f     MOVLW     0x7f                                                                                            
005fac   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005fae   0e00     MOVLW     0x0                                                                                             
005fb0   da2c     RCALL     0x640a                                                                                          
005fa6   e106     BNZ       0x5fb4               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb2   e323     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   kUCHAR == Type                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb4   0efe     MOVLW     0xfe                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb6   04db     DECF      0xdb,0x0,0x0                                                                                    
005fba   db73     RCALL     0x66a2                 (ULAccumulator > (unsigned long)255)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fbc   0e00     MOVLW     0x0                                                                                             
005fbe   da25     RCALL     0x640a                                                                                          
005fb8   e104     BNZ       0x5fc2               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc0   e31c     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc2   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc4   da8c     RCALL     0x64de                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc8   db6c     RCALL     0x66a2                 (ULAccumulator > (unsigned long)32767)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fca   0e7f     MOVLW     0x7f                                                                                            
005fcc   da1e     RCALL     0x640a                                                                                          
005fc6   e104     BNZ       0x5fd0               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fce   e315     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd0   0e03     MOVLW     0x3                    kUINT == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd2   da9d     RCALL     0x650e                                                                                          
00650e   6e4f     MOVWF     0x4f,0x0                                                                                        
006510   0efe     MOVLW     0xfe                                                                                            
006512   50db     MOVF      0xdb,0x0,0x0                                                                                    
006514   5c4f     SUBWF     0x4f,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006516   0012     RETURN    0x0                                                                                             
005fd6   db65     RCALL     0x66a2                 (ULAccumulator > (unsigned long)65535)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd8   0eff     MOVLW     0xff                                                                                            
005fda   da17     RCALL     0x640a                                                                                          
00640a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00640c   0e00     MOVLW     0x0                                                                                             
00640e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006410   0e00     MOVLW     0x0                                                                                             
006412   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006414   0012     RETURN    0x0                                                                                             
005fd4   e104     BNZ       0x5fde               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fdc   e30e     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fde   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fe0   6e50     MOVWF     0x50,0x0                                                                                        
005fe2   0efe     MOVLW     0xfe                                                                                            
005fe4   50db     MOVF      0xdb,0x0,0x0                                                                                    
005fe6   5c50     SUBWF     0x50,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fea   db5b     RCALL     0x66a2                 (ULAccumulator > (unsigned long)0x7FFFFFFFL)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fec   0eff     MOVLW     0xff                                                                                            
005fee   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005ff0   0eff     MOVLW     0xff                                                                                            
005ff2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005ff4   0e7f     MOVLW     0x7f                                                                                            
005ff6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0063cc   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0063ce   ffe9                                                                                                               
0063d0   cfda     MOVFF     0xfda,0xfea                                                                                     
0063d2   ffea                                                                                                               
0063d4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0063d6   0012     RETURN    0x0                                                                                             
0066a2   de94     RCALL     0x63cc                                                                                          
0066a4   0eff     MOVLW     0xff                                                                                            
0066a6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0066a8   0012     RETURN    0x0                                                                                             
005fe8   e10c     BNZ       0x6002               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ff8   e204     BC        0x6002                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffa   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffc   8d84     BSF       0x84,0x6,0x1                                                                                    
005ffe   0e01     MOVLW     0x1                  return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006000   d036     BRA       0x606e                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006002   0e07     MOVLW     0x7                if (kULONG != Type)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006004   da6c     RCALL     0x64de                                                                                          
006006   e001     BZ        0x600a                                                                                          
0064de   6e4e     MOVWF     0x4e,0x0                                                                                        
0064e0   0efe     MOVLW     0xfe                                                                                            
0064e2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0064e4   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0064e6   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006008   da25     RCALL     0x6454               Accumulator = ULAccumulator;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If all went well, then copy the result                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00600a   0efe     MOVLW     0xfe             switch (Type)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00600c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00600e   0a07     XORLW     0x7                                                                                             
006010   e021     BZ        0x6054                                                                                          
006012   0a01     XORLW     0x1                                                                                             
006014   e017     BZ        0x6044                                                                                          
006016   0a05     XORLW     0x5                                                                                             
006018   e011     BZ        0x603c                                                                                          
00601a   0a01     XORLW     0x1                                                                                             
00601c   e00f     BZ        0x603c                                                                                          
00601e   0a03     XORLW     0x3                                                                                             
006020   e008     BZ        0x6032                                                                                          
006022   0a05     XORLW     0x5                                                                                             
006024   e006     BZ        0x6032                                                                                          
006026   0a01     XORLW     0x1                                                                                             
006028   e004     BZ        0x6032                                                                                          
00602a   0a05     XORLW     0x5                                                                                             
00602c   e002     BZ        0x6032                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kCHAR:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed char *)ReturnValue = (signed char)Accumulator;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCHAR:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kASCII_CHAR:                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCASE_ASCII_CHAR:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006032   da29     RCALL     0x6486               *(unsigned char *)ReturnValue = (unsigned char)Accumulator;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006034   0e04     MOVLW     0x4                                                                                             
006036   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006038   ffef                                                                                                               
00603a   d018     BRA       0x606c               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kINT:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed int *)ReturnValue = (signed int)Accumulator;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUINT:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00603c   db72     RCALL     0x6722               *(unsigned int *)ReturnValue = (unsigned int)Accumulator;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00603e   cfdb     MOVFF     0xfdb,0xfed                                                                                     
006040   ffed                                                                                                               
006722   deb1     RCALL     0x6486                                                                                          
006724   0e04     MOVLW     0x4                                                                                             
006726   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006728   ffee                                                                                                               
00672a   0e05     MOVLW     0x5                                                                                             
00672c   0012     RETURN    0x0                                                                                             
006042   d014     BRA       0x606c               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kLONG:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006044   db6e     RCALL     0x6722               *(signed long *)ReturnValue = Accumulator;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006046   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006048   ffee                                                                                                               
00604a   0e06     MOVLW     0x6                                                                                             
00604c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00604e   ffee                                                                                                               
006050   0e07     MOVLW     0x7                                                                                             
006486   0efc     MOVLW     0xfc                                                                                            
006488   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00648a   ffe9                                                                                                               
00648c   0efd     MOVLW     0xfd                                                                                            
00648e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006490   ffea                                                                                                               
006492   0012     RETURN    0x0                                                                                             
006052   d00a     BRA       0x6068               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kULONG:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006054   da18     RCALL     0x6486               *(unsigned long *)ReturnValue = ULAccumulator;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006056   cfdf     MOVFF     0xfdf,0xfee                                                                                     
006058   ffee                                                                                                               
00605a   0e01     MOVLW     0x1                                                                                             
00605c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00605e   ffee                                                                                                               
006060   0e02     MOVLW     0x2                                                                                             
006062   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006064   ffee                                                                                                               
006066   0e03     MOVLW     0x3                                                                                             
006068   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00606a   ffee                                                                                                               
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00602e   0e04     MOVLW     0x4                  return(kEXTRACT_INVALID_TYPE);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006030   d01e     BRA       0x606e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606c   0e00     MOVLW     0x0              return(kEXTRACT_OK);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606e   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006070   0e09     MOVLW     0x9                                                                                             
006072   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006074   e202     BC        0x607a                                                                                          
006076   6ae1     CLRF      0xe1,0x0                                                                                        
006078   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00607a   6ee1     MOVWF     0xe1,0x0                                                                                        
00607c   504e     MOVF      0x4e,0x0,0x0                                                                                    
00607e   d15b     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Loop 'digits' number of times, looking at the                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // byte in input_buffer index *ptr, and if it is                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a digit, adding it to acc. Take care of                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // powers of ten as well. If you hit a non-numerical                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // char, then return FALSE, otherwise return TRUE.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Store result as you go in *acc.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006080   db9a     RCALL     0x67b6         signed char extract_digit(unsigned long * acc, unsigned char digits)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067b6   ddba     RCALL     0x632c                                                                                          
0067b8   0e02     MOVLW     0x2                                                                                             
0067ba   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0067bc   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char val;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char digit_cnt;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006082   d9e1     RCALL     0x6446           *acc = 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006084   6aee     CLRF      0xee,0x0                                                                                        
006086   6aee     CLRF      0xee,0x0                                                                                        
006088   6aee     CLRF      0xee,0x0                                                                                        
00608a   6aee     CLRF      0xee,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00608c   0e01     MOVLW     0x1              for (digit_cnt = 0; digit_cnt < digits; digit_cnt++)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00608e   6adb     CLRF      0xdb,0x0                                                                                        
006090   0efc     MOVLW     0xfc                                                                                            
006092   50db     MOVF      0xdb,0x0,0x0                                                                                    
006094   6ef3     MOVWF     0xf3,0x0                                                                                        
006096   0e01     MOVLW     0x1                                                                                             
006098   da1d     RCALL     0x64d4                                                                                          
00609a   e24f     BC        0x613a                                                                                          
006134   0e01     MOVLW     0x1                                                                                             
006136   2adb     INCF      0xdb,0x1,0x0                                                                                    
006138   d7ab     BRA       0x6090                                                                                          
0064d4   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0064d6   fff4                                                                                                               
0064d8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0064da   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0064dc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609c   0104     MOVLB     0x4                val = g_RX_buf[g_RX_buf_out];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609e   51b8     MOVF      0xb8,0x0,0x1                                                                                    
0060a0   dabd     RCALL     0x661c                                                                                          
0060a2   cfef     MOVFF     0xfef,0xfdf                                                                                     
0060a4   ffdf                                                                                                               
0060a6   0e30     MOVLW     0x30               if ((val >= 48u) && (val <= 57u))                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0060aa   e342     BNC       0x6130                                                                                          
0060ac   50df     MOVF      0xdf,0x0,0x0                                                                                    
0060ae   0839     SUBLW     0x39                                                                                            
0060b0   e33f     BNC       0x6130                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060b2   d9c9     RCALL     0x6446               *acc = (*acc * 10) + (val - 48);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060b4   cfee     MOVFF     0xfee,0x4e                                                                                      
0060b6   f04e                                                                                                               
0060b8   cfee     MOVFF     0xfee,0x4f                                                                                      
0060ba   f04f                                                                                                               
0060bc   cfee     MOVFF     0xfee,0x50                                                                                      
0060be   f050                                                                                                               
0060c0   cfef     MOVFF     0xfef,0x51                                                                                      
0060c2   f051                                                                                                               
0060c4   0e0a     MOVLW     0xa                                                                                             
0060c6   6e45     MOVWF     0x45,0x0                                                                                        
0060c8   6a46     CLRF      0x46,0x0                                                                                        
0060ca   6a47     CLRF      0x47,0x0                                                                                        
0060cc   6a48     CLRF      0x48,0x0                                                                                        
0060ce   c04e     MOVFF     0x4e,0x40                                                                                       
0060d0   f040                                                                                                               
0060d2   c04f     MOVFF     0x4f,0x41                                                                                       
0060d4   f041                                                                                                               
0060d6   c050     MOVFF     0x50,0x42                                                                                       
0060d8   f042                                                                                                               
0060da   c051     MOVFF     0x51,0x43                                                                                       
0060dc   f043                                                                                                               
0060de   ec5a     CALL      0x8eb4,0x0                                                                                      
0060e0   f047                                                                                                               
0060e2   c03c     MOVFF     0x3c,0x4e                                                                                       
0060e4   f04e                                                                                                               
0060e6   c03d     MOVFF     0x3d,0x4f                                                                                       
0060e8   f04f                                                                                                               
0060ea   c03e     MOVFF     0x3e,0x50                                                                                       
0060ec   f050                                                                                                               
0060ee   c03f     MOVFF     0x3f,0x51                                                                                       
0060f0   f051                                                                                                               
0060f2   0e30     MOVLW     0x30                                                                                            
0060f4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0060f6   6e52     MOVWF     0x52,0x0                                                                                        
0060f8   6a53     CLRF      0x53,0x0                                                                                        
0060fa   6a54     CLRF      0x54,0x0                                                                                        
0060fc   6a55     CLRF      0x55,0x0                                                                                        
0060fe   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006100   264e     ADDWF     0x4e,0x1,0x0                                                                                    
006102   5053     MOVF      0x53,0x0,0x0                                                                                    
006104   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
006106   5054     MOVF      0x54,0x0,0x0                                                                                    
006108   2250     ADDWFC    0x50,0x1,0x0                                                                                    
00610a   5055     MOVF      0x55,0x0,0x0                                                                                    
00610c   2251     ADDWFC    0x51,0x1,0x0                                                                                    
00610e   d99b     RCALL     0x6446                                                                                          
006110   c04e     MOVFF     0x4e,0xfee                                                                                      
006112   ffee                                                                                                               
006114   c04f     MOVFF     0x4f,0xfee                                                                                      
006116   ffee                                                                                                               
006118   c050     MOVFF     0x50,0xfee                                                                                      
00611a   ffee                                                                                                               
00611c   c051     MOVFF     0x51,0xfee                                                                                      
00611e   ffee                                                                                                               
006446   0efd     MOVLW     0xfd                                                                                            
006448   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00644a   ffe9                                                                                                               
00644c   0efe     MOVLW     0xfe                                                                                            
00644e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006450   ffea                                                                                                               
006452   0012     RETURN    0x0                                                                                             
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006120   0104     MOVLB     0x4                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006122   d920     RCALL     0x6364                                                                                          
006124   e107     BNZ       0x6134                                                                                          
006126   0e01     MOVLW     0x1                                                                                             
006128   184f     XORWF     0x4f,0x0,0x0                                                                                    
00612a   e104     BNZ       0x6134                                                                                          
00612c   6bb8     CLRF      0xb8,0x1                                                                                        
006364   2bb8     INCF      0xb8,0x1,0x1                                                                                    
006366   51b8     MOVF      0xb8,0x0,0x1                                                                                    
006368   6e4e     MOVWF     0x4e,0x0                                                                                        
00636a   6a4f     CLRF      0x4f,0x0                                                                                        
00636c   0e00     MOVLW     0x0                                                                                             
00636e   184e     XORWF     0x4e,0x0,0x0                                                                                    
006370   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00612e   d002     BRA       0x6134             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006130   0e00     MOVLW     0x0                  return(FALSE);                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006132   d004     BRA       0x613c                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613a   0e01     MOVLW     0x1              return(TRUE);                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613c   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613e   0e02     MOVLW     0x2                                                                                             
006140   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006142   e202     BC        0x6148                                                                                          
006144   6ae1     CLRF      0xe1,0x0                                                                                        
006146   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006148   6ee1     MOVWF     0xe1,0x0                                                                                        
00614a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00614c   d0f4     BRA       0x6336                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For debugging, this command will spit out a bunch of values.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void print_status(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00614e   0e28     MOVLW     0x28             ebb_print((far rom char*)"Status=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006150   6e4e     MOVWF     0x4e,0x0                                                                                        
006152   0e83     MOVLW     0x83                                                                                            
006154   d8cf     RCALL     0x62f4                                                                                          
0062f4   d9b0     RCALL     0x6656                                                                                          
0062f6   efd7     GOTO      0x67ae                                                                                          
0062f8   f033                                                                                                               
006156   c47e     MOVFF     0x47e,0x4e       ebb_print_uint(ISR_D_FIFO_length);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006158   f04e                                                                                                               
00615a   dafc     RCALL     0x6754                                                                                          
00615c   efed     GOTO      0x65da                                                                                          
00615e   f032                                                                                                               
0065da   d8e5     RCALL     0x67a6                                                                                          
0067a6   c04e     MOVFF     0x4e,0xfe6                                                                                      
0067a8   ffe6                                                                                                               
0067aa   ef7d     GOTO      0x62fa                                                                                          
0067ac   f031                                                                                                               
006308   0e01     MOVLW     0x1              print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00630a   ef97     GOTO      0x672e                                                                                          
00630c   f033                                                                                                               
0065dc   ef84     GOTO      0x6308                                                                                          
0065de   f031                                                                                                               
00672e   6ee6     MOVWF     0xe6,0x0                                                                                        
006730   ecf5     CALL      0x4bea,0x0                                                                                      
006732   f025                                                                                                               
006734   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006736   0012     RETURN    0x0                                                                                             
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void BlinkUSBStatus(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs corresponding to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  the USB device state.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            mLED macros can be found in io_cfg.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  usb_device_state is declared in usbmmap.c and is modified    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  in usbdrv.c, usbctrltrf.c, and usb9.c                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static WORD LEDCount = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char LEDState = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006160   0105     MOVLB     0x5                USBDeviceState == DETACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006162   51bc     MOVF      0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006166   0e01     MOVLW     0x1                1u == USBSuspendControl                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006168   6e4e     MOVWF     0x4e,0x0                                                                                        
00616a   5065     MOVF      0x65,0x0,0x0                                                                                    
00616c   0b02     ANDLW     0x2                                                                                             
00616e   e001     BZ        0x6172                                                                                          
006170   0e01     MOVLW     0x1                                                                                             
006164   e008     BZ        0x6176           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006172   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006174   e117     BNZ       0x61a4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006176   d9d6     RCALL     0x6524             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006178   e10b     BNZ       0x6190             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617a   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617c   117d     IORWF     0x7d,0x0,0x1                                                                                    
00617e   e111     BNZ       0x61a2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006180   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006182   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006184   6f7c     MOVWF     0x7c,0x1                                                                                        
006186   0e0f     MOVLW     0xf                                                                                             
006188   6f7d     MOVWF     0x7d,0x1                                                                                        
00618a   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00618c   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00618e   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006190   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006192   117d     IORWF     0x7d,0x0,0x1                                                                                    
006194   e152     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006196   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006198   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619a   6f7c     MOVWF     0x7c,0x1                                                                                        
00619c   0e0f     MOVLW     0xf                                                                                             
00619e   6f7d     MOVWF     0x7d,0x1                                                                                        
0061a0   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061a2   0012     RETURN    0x0              else if (                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               USBDeviceState == ATTACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061a4   05bc     DECF      0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061a8   0e02     MOVLW     0x2                USBDeviceState == POWERED_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061a6   e009     BZ        0x61ba             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061aa   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0061ac   e006     BZ        0x61ba                                                                                          
0061ae   0e04     MOVLW     0x4                USBDeviceState == DEFAULT_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b0   5dbc     SUBWF     0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b2   e003     BZ        0x61ba                                                                                          
0061b4   0e10     MOVLW     0x10               USBDeviceState == ADDRESS_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b6   5dbc     SUBWF     0xbc,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061b8   e117     BNZ       0x61e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061ba   d9b4     RCALL     0x6524             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061bc   e10b     BNZ       0x61d4             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061be   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c0   117d     IORWF     0x7d,0x0,0x1                                                                                    
0061c2   e111     BNZ       0x61e6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c4   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c6   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c8   6f7c     MOVWF     0x7c,0x1                                                                                        
0061ca   0e4e     MOVLW     0x4e                                                                                            
0061cc   6f7d     MOVWF     0x7d,0x1                                                                                        
0061ce   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d0   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d2   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d4   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d6   117d     IORWF     0x7d,0x0,0x1                                                                                    
0061d8   e130     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061da   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061dc   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061de   6f7c     MOVWF     0x7c,0x1                                                                                        
0061e0   0e4e     MOVLW     0x4e                                                                                            
0061e2   6f7d     MOVWF     0x7d,0x1                                                                                        
0061e4   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061e6   0012     RETURN    0x0              else if (USBDeviceState == CONFIGURED_STATE)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061e8   0e20     MOVLW     0x20                                                                                            
0061ea   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0061ec   e126     BNZ       0x623a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061ee   d99a     RCALL     0x6524             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006524   0101     MOVLB     0x1                                                                                             
006526   077c     DECF      0x7c,0x1,0x1                                                                                    
006528   0e00     MOVLW     0x0                                                                                             
00652a   5b7d     SUBWFB    0x7d,0x1,0x1                                                                                    
0061f0   e107     BNZ       0x6200             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00652c   517e     MOVF      0x7e,0x0,0x1                                                                                    
00652e   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f2   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f4   117d     IORWF     0x7d,0x0,0x1                                                                                    
0061f6   e121     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f8   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061fa   d9ce     RCALL     0x6598                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061fc   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061fe   d015     BRA       0x622a             else if (1u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006200   057e     DECF      0x7e,0x0,0x1                                                                                    
006202   e107     BNZ       0x6212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006204   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006206   117d     IORWF     0x7d,0x0,0x1                                                                                    
006208   e118     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00620a   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00620c   d9c5     RCALL     0x6598                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00620e   0e02     MOVLW     0x2                    LEDState = 2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006210   d00c     BRA       0x622a             else if (2u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006212   0e02     MOVLW     0x2                                                                                             
006214   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
006216   e10b     BNZ       0x622e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006218   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621a   117d     IORWF     0x7d,0x0,0x1                                                                                    
00621c   e10e     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621e   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006220   0ea0     MOVLW     0xa0                   LEDCount = 100000U;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006222   6f7c     MOVWF     0x7c,0x1                                                                                        
006224   0e86     MOVLW     0x86                                                                                            
006226   6f7d     MOVWF     0x7d,0x1                                                                                        
006228   0e03     MOVLW     0x3                    LEDState = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00622a   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00622c   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00622e   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006230   117d     IORWF     0x7d,0x0,0x1                                                                                    
006232   e103     BNZ       0x623a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006234   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006236   d9b0     RCALL     0x6598                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006598   0e10     MOVLW     0x10                                                                                            
00659a   6f7c     MOVWF     0x7c,0x1                                                                                        
00659c   0e27     MOVLW     0x27                                                                                            
00659e   6f7d     MOVWF     0x7d,0x1                                                                                        
0065a0   0012     RETURN    0x0                                                                                             
006238   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnTRISPort[25] = {                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnLATPort[25] = {                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const char rom RPnBit[25] = {                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set LAT value for that pin                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623c   d877     RCALL     0x632c         void SetPinLATFromRPn(char Pin, char State)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623e   d9a0     RCALL     0x6580           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006240   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006242   d002     BRA       0x6248                                                                                          
006244   344e     RLCF      0x4e,0x0,0x0                                                                                    
006246   d003     BRA       0x624e                                                                                          
006248   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00624a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00624c   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
00624e   e323     BNC       0x6296                                                                                          
006580   0efe     MOVLW     0xfe                                                                                            
006582   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006584   f04e                                                                                                               
006586   0e19     MOVLW     0x19                                                                                            
006588   6ee7     MOVWF     0xe7,0x0                                                                                        
00658a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00658c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006250   0efd     MOVLW     0xfd             if (State)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006252   50db     MOVF      0xdb,0x0,0x0                                                                                    
006254   e010     BZ        0x6276                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006256   d90f     RCALL     0x6476             bitset(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006258   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00625a   68f7     SETF      0xf7,0x0                                                                                        
00625c   d8ad     RCALL     0x63b8                                                                                          
00625e   e004     BZ        0x6268                                                                                          
006260   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006262   0bfe     ANDLW     0xfe                                                                                            
006264   064f     DECF      0x4f,0x1,0x0                                                                                    
006266   e1fc     BNZ       0x6260                                                                                          
006268   6e4e     MOVWF     0x4e,0x0                                                                                        
00626a   d905     RCALL     0x6476                                                                                          
00626c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00626e   68f7     SETF      0xf7,0x0                                                                                        
006270   d9fe     RCALL     0x666e                                                                                          
006272   12ef     IORWF     0xef,0x1,0x0                                                                                    
00666e   90d8     BCF       0xd8,0x0,0x0                                                                                    
006670   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006672   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006674   0ec7     MOVLW     0xc7                                                                                            
006676   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006678   0e8c     MOVLW     0x8c                                                                                            
00667a   eff8     GOTO      0x63f0                                                                                          
00667c   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006274   d010     BRA       0x6296           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006276   d8ff     RCALL     0x6476             bitclr(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006278   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00627a   68f7     SETF      0xf7,0x0                                                                                        
00627c   d89d     RCALL     0x63b8                                                                                          
00627e   e004     BZ        0x6288                                                                                          
006280   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006282   0bfe     ANDLW     0xfe                                                                                            
006284   064f     DECF      0x4f,0x1,0x0                                                                                    
006286   e1fc     BNZ       0x6280                                                                                          
006288   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00628a   6e4e     MOVWF     0x4e,0x0                                                                                        
00628c   d8f4     RCALL     0x6476                                                                                          
00628e   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006290   68f7     SETF      0xf7,0x0                                                                                        
006292   d9ed     RCALL     0x666e                                                                                          
006294   16ef     ANDWF     0xef,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006296   d04f     BRA       0x6336         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set TRIS value for that pin                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006298   d849     RCALL     0x632c         void SetPinTRISFromRPn(char Pin, char State)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00629a   d972     RCALL     0x6580           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00629c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00629e   d002     BRA       0x62a4                                                                                          
0062a0   344e     RLCF      0x4e,0x0,0x0                                                                                    
0062a2   d003     BRA       0x62aa                                                                                          
0062a4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0062a6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0062a8   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
0062aa   e323     BNC       0x62f2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ac   0efd     MOVLW     0xfd             if (OUTPUT_PIN == State)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ae   50db     MOVF      0xdb,0x0,0x0                                                                                    
0062b0   e111     BNZ       0x62d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062b2   d8e1     RCALL     0x6476             bitclr (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062b4   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0062b6   68f7     SETF      0xf7,0x0                                                                                        
0062b8   d87f     RCALL     0x63b8                                                                                          
0062ba   e004     BZ        0x62c4                                                                                          
0062bc   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0062be   0bfe     ANDLW     0xfe                                                                                            
0062c0   064f     DECF      0x4f,0x1,0x0                                                                                    
0062c2   e1fc     BNZ       0x62bc                                                                                          
0062c4   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0062c6   6e4e     MOVWF     0x4e,0x0                                                                                        
0062c8   d8d6     RCALL     0x6476                                                                                          
0062ca   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0062cc   68f7     SETF      0xf7,0x0                                                                                        
0062ce   d9d7     RCALL     0x667e                                                                                          
0062d0   16ef     ANDWF     0xef,0x1,0x0                                                                                    
00667e   90d8     BCF       0xd8,0x0,0x0                                                                                    
006680   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006682   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006684   0e95     MOVLW     0x95                                                                                            
006686   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006688   0e8c     MOVLW     0x8c                                                                                            
00668a   eff8     GOTO      0x63f0                                                                                          
00668c   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d2   d00f     BRA       0x62f2           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d4   d8d0     RCALL     0x6476             bitset (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d6   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0062d8   68f7     SETF      0xf7,0x0                                                                                        
0062da   d86e     RCALL     0x63b8                                                                                          
0062dc   e004     BZ        0x62e6                                                                                          
0062de   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0062e0   0bfe     ANDLW     0xfe                                                                                            
0062e2   064f     DECF      0x4f,0x1,0x0                                                                                    
0062e4   e1fc     BNZ       0x62de                                                                                          
0062e6   6e4e     MOVWF     0x4e,0x0                                                                                        
0062e8   d8c6     RCALL     0x6476                                                                                          
0062ea   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0062ec   68f7     SETF      0xf7,0x0                                                                                        
0062ee   d9c7     RCALL     0x667e                                                                                          
0062f0   12ef     IORWF     0xef,0x1,0x0                                                                                    
0063b8   0ef9     MOVLW     0xf9                                                                                            
0063ba   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0063bc   0e8c     MOVLW     0x8c                                                                                            
0063be   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0063c0   0008     TBLRD                                                                                                     
0063c2   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0063c4   6e4f     MOVWF     0x4f,0x0                                                                                        
0063c6   0e01     MOVLW     0x1                                                                                             
0063c8   524f     MOVF      0x4f,0x1,0x0                                                                                    
0063ca   0012     RETURN    0x0                                                                                             
0063f0   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0063f2   0009     TBLRDPOSTINC                                                                                              
0063f4   cff5     MOVFF     0xff5,0xfe9                                                                                     
0063f6   ffe9                                                                                                               
0063f8   0008     TBLRD                                                                                                     
0063fa   cff5     MOVFF     0xff5,0xfea                                                                                     
0063fc   ffea                                                                                                               
0063fe   504e     MOVF      0x4e,0x0,0x0                                                                                    
006400   0012     RETURN    0x0                                                                                             
006476   0efe     MOVLW     0xfe                                                                                            
006478   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00647a   fff6                                                                                                               
00647c   6af7     CLRF      0xf7,0x0                                                                                        
00647e   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062f2   d021     BRA       0x6336         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006336   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006338   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00633a   ffd9                                                                                                               
00633c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** EOF user.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            FileName:      usb_descriptors.c                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Dependencies:  See INCLUDES section                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Processor:     PIC18 or PIC24 USB Microcontrollers                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Hardware:      The code is natively intended to be used on the following        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           hardware platforms: PICDEM FS USB Demo Board,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           PIC18F87J50 FS USB Plug-In Module, or                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           Explorer 16 + PIC24 USB PIM.  The firmware may be                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           modified for use on other USB platforms by editing the           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           HardwareProfile.h file.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Complier:      Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Company:       Microchip Technology, Inc.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Software License Agreement:                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            (the Company) for its PIC Microcontroller is intended and                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            supplied to you, the Companys customer, for use solely and                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            license.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           *********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -usb_descriptors.c-                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Device Descriptors]                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Configuration Descriptors]                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           means that for fields like the total size of the configuration where             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           too few bytes.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Endpoint Descriptors]                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Take the following example:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               // Endpoint Descriptor //                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _INT,                       //Attributes                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x02,                       //Interval                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined in usb_device.h and has the following naming                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           convention:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _EP<##>_<dir>                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           typically used because the default control transfer endpoint is                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _ISO|_AD|_FE                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           specification for details. The next parameter defines the size of                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Adding a USB String                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A string descriptor array should have the following format:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above structure provides a means for the C compiler to                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each character as a word type. The whole text string is declared                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           declaration. Let's study this through an example:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           (Using index 02)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the management of multiple strings through a look-up table.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table is defined as:                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           function.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           state according to the definition in the USB specification.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_device.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Configuration options are defined in:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_config.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb_function_cdc.h"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** CONSTANTS ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma romdata                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Device Descriptor */                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc =                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x12,                   // Size of this descriptor in bytes                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_DEVICE,  // DEVICE descriptor type                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0200,                 // USB Spec Release Number in BCD format               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DEVICE,             // Class Code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_EP0_BUFF_SIZE,      // Max packet size for EP0, see usb_config.h           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x04D8,                 // Vendor ID                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0xFD92,                 // Product ID: UBW based serial port device            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0182,                 // Device release number in BCD format                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01,                   // Manufacturer string index                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                   // Product string index                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x03,                   // Device serial number string index                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01                    // Number of possible configurations                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE configDescriptor1[] = {                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Configuration Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_CONFIGURATION,  // CONFIGURATION descriptor type                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             67,0,                   // Total length of data for this cfg                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                      // Number of interfaces in this cfg                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Index value of this configuration                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Configuration string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _DEFAULT | _SELF,       // Attributes, see usb_device.h                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             50,                     // Max power consumption (2X mA)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface Number                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Alternate Setting Number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Number of endpoints in this interface               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             COMM_INTF,              // Class code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             ABSTRACT_CONTROL_MODEL, // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             V25TER,                 // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface string index                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* CDC Class-Specific Descriptors */                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_HEADER_FN_DSC),                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_HEADER,                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x10,0x01,                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_ACM_FN_DSC),                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_ACM,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_CDC_ACM_FN_DSC_VAL,                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_UNION_FN_DSC),                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_UNION,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_COMM_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_CALL_MGT_FN_DSC),                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_CALL_MGT,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP01_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _INTERRUPT,                 // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x08,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                          // Interface Number                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Alternate Setting Number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                          // Number of endpoints in this interface           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DATA_INTF,                  // Class code                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Subclass code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             NO_PROTOCOL,                // Protocol code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Interface string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_OUT,                  // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Language code string descriptor                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000 = {                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409}                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Manufacturer string descriptor                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[11];}sd001 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd001),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'S','c','h','m','a','l','z','H','a','u','s'}                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Product string descriptor                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // As of EBB firmware v2.5.4 this is now stored in ram, and we set it up here to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // have enough space to put the 'name' (set via the 'NS' command) on the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[27];}sd002 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd002),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'E','i','B','o','t','B','o','a','r','d',',',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '} D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[16];}sd003 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd003),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of configuration descriptors                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[] = {                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             (ROM BYTE *ROM)&configDescriptor1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of string descriptors                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           BYTE * USB_SD_Ptr[USB_NUM_STRING_DESCRIPTORS] = {                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd000,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd001,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd002,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd003                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** EOF usb_descriptors.c ****************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * File:   ebb_print.c                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Author: Brian Schmalz (brian@schmalzhaus.com)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Created on October 2, 2023, 7:41 PM                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * The functions in this file are meant to replace (partially) the built-in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * printf() functionality in MAPLB C18. Even simple printf() calls were using    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up significant stack space. In an effort to maximize the number of possible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * FIFO elements, we freed up as much RAM as possible, and put the stack in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * GPR14, which is not an entire bank since there are some SFRs at the end of    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * that bank. So the stack only goes from 0xE00 to 0xEBF. With printf() taking   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up lots of that space, and because the new higher-order move instructions     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * need more stack space to operate (mainly to pass lots of paramters around)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * we were seeing stack overflows in versions around v3.0.0-a18. This re-written D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * print functionality is an attempt at fixing that problem.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * We do not need any floating point support.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * All of our printing goes to the PC via the USB port.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Virtually all of our printing can be broken down into the following types:    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - Simple strings with no variables                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned byte                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 16-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 32-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A byte as hex                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A 16-bit integer as hex                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Maximum number of output characters, plus sign, plus trailing 0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // hex needs FFFFFFFF = 9                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // uint needs 4294967296 = 11                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // int needs -2147483649 = 12                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #define EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS   12                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // String where we build up our output before printing it out                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static char gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Current position within gOutputStr                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 gPos;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 i;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           /* Print a simple string */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d2   d8dd     RCALL     0x868e         void ebb_print(far rom char * print_str)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d4   d8d0     RCALL     0x8676           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d6   e00d     BZ        0x84f2                                                                                          
0084f0   d7f1     BRA       0x84d4                                                                                          
008676   0efc     MOVLW     0xfc                                                                                            
008678   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00867a   fff6                                                                                                               
00867c   0efd     MOVLW     0xfd                                                                                            
00867e   cfdb     MOVFF     0xfdb,0xff7                                                                                     
008680   fff7                                                                                                               
008682   0efe     MOVLW     0xfe                                                                                            
008684   cfdb     MOVFF     0xfdb,0xff8                                                                                     
008686   fff8                                                                                                               
008688   0008     TBLRD                                                                                                     
00868a   50f5     MOVF      0xf5,0x0,0x0                                                                                    
00868c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d8   d8ce     RCALL     0x8676             ebb_putc((char)*print_str);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084da   d8f3     RCALL     0x86c2                                                                                          
0084dc   50d9     MOVF      0xd9,0x0,0x0       print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084de   0ffc     ADDLW     0xfc                                                                                            
0084e0   6ee9     MOVWF     0xe9,0x0                                                                                        
0084e2   0eff     MOVLW     0xff                                                                                            
0084e4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0084e6   6eea     MOVWF     0xea,0x0                                                                                        
0084e8   2aee     INCF      0xee,0x1,0x0                                                                                    
0084ea   0e00     MOVLW     0x0                                                                                             
0084ec   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0084ee   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084f2   d0f7     BRA       0x86e2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084f4   d8cc     RCALL     0x868e         void ebb_print_ram(char * print_str)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084f6   d8d6     RCALL     0x86a4           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084f8   e008     BZ        0x850a                                                                                          
008508   d7f6     BRA       0x84f6                                                                                          
0086a4   0efd     MOVLW     0xfd                                                                                            
0086a6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0086a8   ffe9                                                                                                               
0086aa   0efe     MOVLW     0xfe                                                                                            
0086ac   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0086ae   ffea                                                                                                               
0086b0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0086b2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084fa   d8d4     RCALL     0x86a4             ebb_putc(*print_str);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084fc   d8e2     RCALL     0x86c2                                                                                          
0084fe   0efd     MOVLW     0xfd               print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008500   2adb     INCF      0xdb,0x1,0x0                                                                                    
008502   0efe     MOVLW     0xfe                                                                                            
008504   e3f8     BNC       0x84f6                                                                                          
008506   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00850a   d0eb     BRA       0x86e2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a hex value, zero-padded to <length> digits               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00850c   d8ee     RCALL     0x86ea         void ebb_print_hex(UINT32 data, UINT8 length)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086ea   dfd1     RCALL     0x868e                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086ec   0101     MOVLB     0x1              gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086ee   6bfc     CLRF      0xfc,0x1                                                                                        
0086f0   0e0a     MOVLW     0xa              gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086f2   6ffd     MOVWF     0xfd,0x1                                                                                        
0086f4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00850e   0e0f     MOVLW     0xf                i = data & 0x0000000F;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008510   6e4e     MOVWF     0x4e,0x0                                                                                        
008512   6a4f     CLRF      0x4f,0x0                                                                                        
008514   6a50     CLRF      0x50,0x0                                                                                        
008516   50d9     MOVF      0xd9,0x0,0x0                                                                                    
008518   d8bf     RCALL     0x8698                                                                                          
00851a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00851c   164e     ANDWF     0x4e,0x1,0x0                                                                                    
00851e   50ee     MOVF      0xee,0x0,0x0                                                                                    
008520   164f     ANDWF     0x4f,0x1,0x0                                                                                    
008522   50ee     MOVF      0xee,0x0,0x0                                                                                    
008524   1650     ANDWF     0x50,0x1,0x0                                                                                    
008526   50ee     MOVF      0xee,0x0,0x0                                                                                    
008528   c04e     MOVFF     0x4e,0x1fe                                                                                      
00852a   f1fe                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00852c   504e     MOVF      0x4e,0x0,0x0       if (i <= 0x09u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00852e   0809     SUBLW     0x9                                                                                             
008530   e302     BNC       0x8536                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008532   0e30     MOVLW     0x30                 gOutputStr[gPos] = i + '0';                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008534   d001     BRA       0x8538             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008536   0e37     MOVLW     0x37                 gOutputStr[gPos] = i + ('A' - 0x0A);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008538   25fe     ADDWF     0xfe,0x0,0x1                                                                                    
00853a   d8c8     RCALL     0x86cc                                                                                          
0086cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0086ce   51fd     MOVF      0xfd,0x0,0x1                                                                                    
0086d0   6aea     CLRF      0xea,0x0                                                                                        
0086d2   0ff1     ADDLW     0xf1                                                                                            
0086d4   6ee9     MOVWF     0xe9,0x0                                                                                        
0086d6   0e01     MOVLW     0x1                                                                                             
0086d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0086da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0086dc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0086de   6eef     MOVWF     0xef,0x0                                                                                        
0086e0   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00853c   d873     RCALL     0x8624             data = data >> 4;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00853e   0e04     MOVLW     0x4                                                                                             
008540   90d8     BCF       0xd8,0x0,0x0                                                                                    
008542   3251     RRCF      0x51,0x1,0x0                                                                                    
008544   3250     RRCF      0x50,0x1,0x0                                                                                    
008546   324f     RRCF      0x4f,0x1,0x0                                                                                    
008548   324e     RRCF      0x4e,0x1,0x0                                                                                    
00854a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00854c   e1f9     BNZ       0x8540                                                                                          
00854e   0efb     MOVLW     0xfb                                                                                            
008550   c04e     MOVFF     0x4e,0xfdb                                                                                      
008552   ffdb                                                                                                               
008554   0efc     MOVLW     0xfc                                                                                            
008556   c04f     MOVFF     0x4f,0xfdb                                                                                      
008558   ffdb                                                                                                               
00855a   0efd     MOVLW     0xfd                                                                                            
00855c   c050     MOVFF     0x50,0xfdb                                                                                      
00855e   ffdb                                                                                                               
008560   0efe     MOVLW     0xfe                                                                                            
008562   c051     MOVFF     0x51,0xfdb                                                                                      
008564   ffdb                                                                                                               
008566   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008568   07fd     DECF      0xfd,0x1,0x1                                                                                    
00856a   0efa     MOVLW     0xfa               if (length)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00856c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00856e   e002     BZ        0x8574                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008570   0efa     MOVLW     0xfa                 length--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008572   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008574   d8c0     RCALL     0x86f6           while (data != 0u || length != 0u);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008576   e1cb     BNZ       0x850e                                                                                          
008578   0efa     MOVLW     0xfa                                                                                            
00857a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00857c   e1c8     BNZ       0x850e                                                                                          
0086f6   df96     RCALL     0x8624                                                                                          
0086f8   504e     MOVF      0x4e,0x0,0x0                                                                                    
0086fa   104f     IORWF     0x4f,0x0,0x0                                                                                    
0086fc   1050     IORWF     0x50,0x0,0x0                                                                                    
0086fe   1051     IORWF     0x51,0x0,0x0                                                                                    
008700   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00857e   d06c     BRA       0x8658           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008658   2bfd     INCF      0xfd,0x1,0x1                                                                                    
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00865a   51fd     MOVF      0xfd,0x0,0x1     ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00865c   6a4f     CLRF      0x4f,0x0                                                                                        
00865e   0ff1     ADDLW     0xf1                                                                                            
008660   6e4e     MOVWF     0x4e,0x0                                                                                        
008662   0e01     MOVLW     0x1                                                                                             
008664   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
008666   c04e     MOVFF     0x4e,0xfe6                                                                                      
008668   ffe6                                                                                                               
00866a   c04f     MOVFF     0x4f,0xfe6                                                                                      
00866c   ffe6                                                                                                               
00866e   df42     RCALL     0x84f4                                                                                          
008670   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008672   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008674   d036     BRA       0x86e2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0086e4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0086e6   ffd9                                                                                                               
0086e8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as an unsigned integer                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008580   d8b4     RCALL     0x86ea         void ebb_print_uint(UINT32 data)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008582   d85d     RCALL     0x863e             i = data % 10;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008584   d897     RCALL     0x86b4                                                                                          
008586   c03c     MOVFF     0x3c,0x1fe                                                                                      
008588   f1fe                                                                                                               
0086b4   0e0a     MOVLW     0xa                                                                                             
0086b6   6e45     MOVWF     0x45,0x0                                                                                        
0086b8   6a46     CLRF      0x46,0x0                                                                                        
0086ba   6a47     CLRF      0x47,0x0                                                                                        
0086bc   6a48     CLRF      0x48,0x0                                                                                        
0086be   efbe     GOTO      0x8f7c                                                                                          
0086c0   f047                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00858a   0e30     MOVLW     0x30               gOutputStr[gPos] = i + '0';                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00858c   0101     MOVLB     0x1                                                                                             
00858e   243c     ADDWF     0x3c,0x0,0x0                                                                                    
008590   d89d     RCALL     0x86cc                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008592   d855     RCALL     0x863e             data = data / 10;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008594   d88f     RCALL     0x86b4                                                                                          
008596   0efb     MOVLW     0xfb                                                                                            
008598   c040     MOVFF     0x40,0xfdb                                                                                      
00859a   ffdb                                                                                                               
00859c   0efc     MOVLW     0xfc                                                                                            
00859e   c041     MOVFF     0x41,0xfdb                                                                                      
0085a0   ffdb                                                                                                               
0085a2   0efd     MOVLW     0xfd                                                                                            
0085a4   c042     MOVFF     0x42,0xfdb                                                                                      
0085a6   ffdb                                                                                                               
0085a8   0efe     MOVLW     0xfe                                                                                            
0085aa   c043     MOVFF     0x43,0xfdb                                                                                      
0085ac   ffdb                                                                                                               
00863e   0efb     MOVLW     0xfb                                                                                            
008640   cfdb     MOVFF     0xfdb,0x40                                                                                      
008642   f040                                                                                                               
008644   0efc     MOVLW     0xfc                                                                                            
008646   cfdb     MOVFF     0xfdb,0x41                                                                                      
008648   f041                                                                                                               
00864a   0efd     MOVLW     0xfd                                                                                            
00864c   cfdb     MOVFF     0xfdb,0x42                                                                                      
00864e   f042                                                                                                               
008650   0efe     MOVLW     0xfe                                                                                            
008652   cfdb     MOVFF     0xfdb,0x43                                                                                      
008654   f043                                                                                                               
008656   0012     RETURN    0x0                                                                                             
0085ae   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b0   07fd     DECF      0xfd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b2   d8a1     RCALL     0x86f6           while (data != 0u);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b4   e1e6     BNZ       0x8582                                                                                          
008624   0efb     MOVLW     0xfb                                                                                            
008626   cfdb     MOVFF     0xfdb,0x4e                                                                                      
008628   f04e                                                                                                               
00862a   0efc     MOVLW     0xfc                                                                                            
00862c   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00862e   f04f                                                                                                               
008630   0efd     MOVLW     0xfd                                                                                            
008632   cfdb     MOVFF     0xfdb,0x50                                                                                      
008634   f050                                                                                                               
008636   0efe     MOVLW     0xfe                                                                                            
008638   cfdb     MOVFF     0xfdb,0x51                                                                                      
00863a   f051                                                                                                               
00863c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b6   d050     BRA       0x8658           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a signed integer                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b8   d86a     RCALL     0x868e         void ebb_print_int(INT32 data)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00868e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008690   ffe6                                                                                                               
008692   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008694   ffd9                                                                                                               
008696   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // Handle negative sign                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085ba   50e1     MOVF      0xe1,0x0,0x0     if (data < 0)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085bc   d86d     RCALL     0x8698                                                                                          
0085be   90d8     BCF       0xd8,0x0,0x0                                                                                    
0085c0   0e03     MOVLW     0x3                                                                                             
0085c2   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0085c4   0a00     XORLW     0x0                                                                                             
0085c6   e608     BN        0x85d8                                                                                          
0085c8   0e00     MOVLW     0x0                                                                                             
0085ca   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0085cc   0e00     MOVLW     0x0                                                                                             
0085ce   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0085d0   0e00     MOVLW     0x0                                                                                             
0085d2   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0085d4   0e00     MOVLW     0x0                                                                                             
0085d6   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0085d8   e215     BC        0x8604                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085da   0e2d     MOVLW     0x2d               ebb_print_char('-');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085dc   d872     RCALL     0x86c2                                                                                          
0086c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0086c4   ec71     CALL      0x44e2,0x0                                                                                      
0086c6   f022                                                                                                               
0086c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0086ca   0012     RETURN    0x0                                                                                             
0085de   d82f     RCALL     0x863e             data = -data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085e0   6845     SETF      0x45,0x0                                                                                        
0085e2   6846     SETF      0x46,0x0                                                                                        
0085e4   6847     SETF      0x47,0x0                                                                                        
0085e6   6848     SETF      0x48,0x0                                                                                        
0085e8   ec5a     CALL      0x8eb4,0x0                                                                                      
0085ea   f047                                                                                                               
0085ec   0efb     MOVLW     0xfb                                                                                            
0085ee   c03c     MOVFF     0x3c,0xfdb                                                                                      
0085f0   ffdb                                                                                                               
0085f2   0efc     MOVLW     0xfc                                                                                            
0085f4   c03d     MOVFF     0x3d,0xfdb                                                                                      
0085f6   ffdb                                                                                                               
0085f8   0efd     MOVLW     0xfd                                                                                            
0085fa   c03e     MOVFF     0x3e,0xfdb                                                                                      
0085fc   ffdb                                                                                                               
0085fe   0efe     MOVLW     0xfe                                                                                            
008600   c03f     MOVFF     0x3f,0xfdb                                                                                      
008602   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008604   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(data);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008606   d848     RCALL     0x8698                                                                                          
008608   cfee     MOVFF     0xfee,0xfe6                                                                                     
00860a   ffe6                                                                                                               
00860c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00860e   ffe6                                                                                                               
008610   cfee     MOVFF     0xfee,0xfe6                                                                                     
008612   ffe6                                                                                                               
008614   cfef     MOVFF     0xfef,0xfe6                                                                                     
008616   ffe6                                                                                                               
008618   dfb3     RCALL     0x8580                                                                                          
00861a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00861c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00861e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008620   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008698   0ffb     ADDLW     0xfb                                                                                            
00869a   6ee9     MOVWF     0xe9,0x0                                                                                        
00869c   0eff     MOVLW     0xff                                                                                            
00869e   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0086a0   6eea     MOVWF     0xea,0x0                                                                                        
0086a2   0012     RETURN    0x0                                                                                             
008622   d05f     BRA       0x86e2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18F46J50.inc>                                                         source\squareroot.s
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                           ;  MPASM PIC18F46J50 processor include                                           C:\MCC18\mpasm\p18F46J50.inc
                                           ;                                                                                C:\MCC18\mpasm\p18F46J50.inc
                                           ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved             C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            source\squareroot.s
                                           ; When assembly code is placed in a psect, it can be manipulated as a            source\squareroot.s
                                           ; whole by the linker and placed in memory.                                      source\squareroot.s
                                           ;                                                                                source\squareroot.s
                                           ; In this example, barfunc is the program section (psect) name, 'local' means    source\squareroot.s
                                           ; that the section will not be combined with other sections even if they have    source\squareroot.s
                                           ; the same name.  class=CODE means the barfunc must go in the CODE container.    source\squareroot.s
                                           ; PIC18 should have a delta (addressible unit size) of 1 (default) since they    source\squareroot.s
                                           ; are byte addressible.  PIC10/12/16 have a delta of 2 since they are word       source\squareroot.s
                                           ; addressible.  PIC18 should have a reloc (alignment) flag of 2 for any          source\squareroot.s
                                           ; psect which contains executable code.  PIC10/12/16 can use the default         source\squareroot.s
                                           ; reloc value of 1.  Use one of the psects below for the device you use:         source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; psect   barfunc,local,class=CODE,delta=2 ; PIC10/12/16                         source\squareroot.s
                                           ;;;psect   barfunc,local,class=CODE,reloc=2 ; PIC18                              source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;global _bar ; extern of bar function goes in the C source file                source\squareroot.s
                                           ;;;_bar:                                                                         source\squareroot.s
                                           ;;;    movf PORTA,w    ; here we use a symbol defined via xc.inc                 source\squareroot.s
                                           ;;;    return                                                                    source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;    RES0, RES1                                                                source\squareroot.s
                                           ;;;EXTERN Sqrt                                                                   source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;W equ 0 ; Standard constants                                                  source\squareroot.s
                                           ;;;F equ 1                                                                       source\squareroot.s
                                           ;;;a equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;R_Vctr CODE 0x0000                                                            source\squareroot.s
                                           ;;;goto Main                                                                     source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;Software License Agreement                                                      source\squareroot.s
                                           ;The software supplied herewith by Microchip Technology Incorporated             source\squareroot.s
                                           ;(the ?Company?) for its PICmicro Microcontroller is intended and               source\squareroot.s
                                           ;supplied to you, the Company?s customer, for use solely and                     source\squareroot.s
                                           ;exclusively on Microchip PICmicro Microcontroller products. The                 source\squareroot.s
                                           ;software is owned by the Company and/or its supplier, and is                    source\squareroot.s
                                           ;protected under applicable copyright laws. All rights are reserved.             source\squareroot.s
                                           ;Any use in violation of the foregoing restrictions may subject the              source\squareroot.s
                                           ;user to criminal sanctions under applicable laws, as well as to civil           source\squareroot.s
                                           ;liability for the breach of the terms and conditions of this license.           source\squareroot.s
                                           ;THIS SOFTWARE IS PROVIDED IN AN ?AS IS? CONDITION. NO WARRANTIES,               source\squareroot.s
                                           ;WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO,           source\squareroot.s
                                           ;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR              source\squareroot.s
                                           ;PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY                   source\squareroot.s
                                           ;CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL               source\squareroot.s
                                           ;DAMAGES, FOR ANY REASON WHATSOEVER.                                             source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; Calling Routine                                                                source\squareroot.s
                                           ;;;SRoot CODE                                                                    source\squareroot.s
                                           ;;;Main                                                                          source\squareroot.s
                                           ;;;movlw 0xCF                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x48                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xCF48)                                                      source\squareroot.s
                                           ; RES0 should now contain 0xE6                                                   source\squareroot.s
                                           ;;;movlw 0xE0                                                                    source\squareroot.s
                                           ;;;movwf ARGA3, a                                                                source\squareroot.s
                                           ;;;movlw 0x12                                                                    source\squareroot.s
                                           ;;;movwf ARGA2, a                                                                source\squareroot.s
                                           ;;;movlw 0xA1                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x40                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xE012A140)                                                  source\squareroot.s
                                           ; RES1:RES0 should now contain 0xEF81                                            source\squareroot.s
                                           ;;;bra Main                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;END                                                                           source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                               Title"16/32 bit Integer Square Root"                                         source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Author: Ross Fosler ***                                                    source\squareroot.s
                                           ; *** Applications Engineer ***                                                  source\squareroot.s
                                           ; *** Microchip Technology Inc. ***                                              source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Program:sqrt.asm ***                                                       source\squareroot.s
                                           ; *** This module contains code to perform fast integer ***                      source\squareroot.s
                                           ; *** square root functions on either 16 or 32 bit ***                           source\squareroot.s
                                           ; *** values. ***                                                                source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Last Rev:August 10, 2000 ***                                               source\squareroot.s
                                           ; *** Ver 1.00 ***                                                               source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;#include P18C252.INC                                                          source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;MSB	equ 7		    ; general literal constants                                    source\squareroot.s
                                           ;;;LSB	equ 0                                                                     source\squareroot.s
                                           ;;;W	equ 0                                                                       source\squareroot.s
                                           ;;;F	equ 1                                                                       source\squareroot.s
                                           ;;;a	equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           sqrtVar	UDATA	0x500		    ; allocate RAM in grp5 section                          source\squareroot.s
                                           ARGA0	res 1			    ; various argument registers                                   source\squareroot.s
                                           ARGA1	res 1                                                                      source\squareroot.s
                                           ARGA2	res 1                                                                      source\squareroot.s
                                           ARGA3	res 1                                                                      source\squareroot.s
                                               GLOBAL ARGA0, ARGA1, ARGA2, ARGA3                                            source\squareroot.s
                                           ARG1H	res 1                                                                      source\squareroot.s
                                           ARG1L	res 1                                                                      source\squareroot.s
                                           ARG2H	res 1                                                                      source\squareroot.s
                                           ARG2L	res 1                                                                      source\squareroot.s
                                               GLOBAL ARG1H, ARG1L, ARG2H, ARG2L                                            source\squareroot.s
                                           SARG1	res 1			    ; signed arguments                                             source\squareroot.s
                                           SARG2	res 1                                                                      source\squareroot.s
                                               GLOBAL SARG1, SARG2                                                          source\squareroot.s
                                           RES1	res 1			    ; result registers                                              source\squareroot.s
                                           RES0	res 1                                                                       source\squareroot.s
                                               GLOBAL RES0, RES1                                                            source\squareroot.s
                                           SQRES0	res 1                                                                     source\squareroot.s
                                           SQRES1	res 1                                                                     source\squareroot.s
                                           SQRES2	res 1                                                                     source\squareroot.s
                                           SQRES3	res 1                                                                     source\squareroot.s
                                               GLOBAL SQRES0, SQRES1, SQRES2, SQRES3                                        source\squareroot.s
                                           BITLOC0 res 1			    ; temporary registers                                        source\squareroot.s
                                           BITLOC1 res 1                                                                    source\squareroot.s
                                           TEMP0	res 1                                                                      source\squareroot.s
                                           TEMP1	res 1                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; The function of this square root routine is to determine the root              source\squareroot.s
                                           ; to the nearest integer. At the same time the root is found at the              source\squareroot.s
                                           ; best possible speed; therefore, the root is found a little differently         source\squareroot.s
                                           ; for the two basic sizes of numbers, 16-bit and 32-bit. The following           source\squareroot.s
                                           ; differentiates the two and jumps to the appropriate function.                  source\squareroot.s
                                           ; Sqrt(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                    source\squareroot.s
                                           	CODE                                                                            source\squareroot.s
                                           Sqrt	                                                                            source\squareroot.s
008a2e   cfd9     MOVFF     0xfd9,0xfe6    	movff	0xfd9, 0xfe6                                                              source\squareroot.s
008a30   ffe6                                                                                                               
008a32   cfe1     MOVFF     0xfe1,0xfd9    	movff	0xfe1, 0xfd9                                                              source\squareroot.s
008a34   ffd9                                                                                                               
008a36   0105     MOVLB     0x5            	movlb	5		    ; All our RAM is in bank 5                                         source\squareroot.s
008a38   0efb     MOVLW     0xfb           	movlw	0xFB		    ; load -1 into W                                                source\squareroot.s
008a3a   cfdb     MOVFF     0xfdb,0x500    	movff	PLUSW2, ARGA0	    ; And offset FSR1 by W and store in ARGA3               source\squareroot.s
008a3c   f500                                                                                                               
008a3e   0efc     MOVLW     0xfc           	movlw	0xFC		    ; load -2 into W and do the same for the                        source\squareroot.s
008a40   cfdb     MOVFF     0xfdb,0x501    	movff	PLUSW2, ARGA1	    ; other bytes in the input parameter                    source\squareroot.s
008a42   f501                                                                                                               
008a44   0efd     MOVLW     0xfd           	movlw	0xFD                                                                      source\squareroot.s
008a46   cfdb     MOVFF     0xfdb,0x502    	movff	PLUSW2, ARGA2                                                             source\squareroot.s
008a48   f502                                                                                                               
008a4a   0efe     MOVLW     0xfe           	movlw	0xFE                                                                      source\squareroot.s
008a4c   cfdb     MOVFF     0xfdb,0x503    	movff	PLUSW2, ARGA3                                                             source\squareroot.s
008a4e   f503                                                                                                               
008a50   6703     TSTFSZ    0x3,0x1        	tstfsz	ARGA3, BANKED	    ; determine if the number is 16-bit                    source\squareroot.s
008a52   d025     BRA       0x8a9e         	bra	Sqrt32		    ; or 32-bit and call the best function                          source\squareroot.s
008a54   6702     TSTFSZ    0x2,0x1        	tstfsz	ARGA2, BANKED                                                            source\squareroot.s
008a56   d023     BRA       0x8a9e         	bra	Sqrt32                                                                      source\squareroot.s
                                           				    ; Fallthrough to Sqrt16                                                  source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt16(ARGA1:ARGA0) = PRODL                                                    source\squareroot.s
                                           Sqrt16	                                                                          source\squareroot.s
008a58   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008a5a   0e80     MOVLW     0x80           	movlw	0x80		    ; setup the first bit                                           source\squareroot.s
008a5c   6f10     MOVWF     0x10,0x1       	movwf	BITLOC0, BANKED                                                           source\squareroot.s
008a5e   6f0b     MOVWF     0xb,0x1        	movwf	RES0, BANKED                                                              source\squareroot.s
008a60   510b     MOVF      0xb,0x0,0x1    Square8 movf	RES0, W, BANKED	    ; square the guess                              source\squareroot.s
008a62   030b     MULWF     0xb,0x1        	mulwf	RES0, BANKED                                                              source\squareroot.s
008a64   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS    ; ARGA - PROD test                                     source\squareroot.s
008a66   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008a68   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS                                                           source\squareroot.s
008a6a   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
008a6c   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008a6e   d008     BRA       0x8a80         	bra	NextBit		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008a70   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008a72   f50b                                                                                                               
008a74   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; then rotote the bit and put it                      source\squareroot.s
008a76   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED  ; back into RES0                                       source\squareroot.s
008a78   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008a7a   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008a7c   d009     BRA       0x8a90         	bra	Done		    ; out                                                             source\squareroot.s
008a7e   d7f0     BRA       0x8a60         	bra	Square8		    ; elso go back for another test                                source\squareroot.s
008a80   c50b     MOVFF     0x50b,0x512    NextBit movff	RES0, TEMP0	    ; copy the last good approximation                 source\squareroot.s
008a82   f512                                                                                                               
008a84   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; rotate the bit location register                    source\squareroot.s
008a86   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008a88   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008a8a   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008a8c   d001     BRA       0x8a90         	bra	Done		    ; out                                                             source\squareroot.s
008a8e   d7e8     BRA       0x8a60         	bra	Square8                                                                     source\squareroot.s
008a90   c512     MOVFF     0x512,0xff3    Done	movff	TEMP0,PRODL	    ; put the final result in PRODL                       source\squareroot.s
008a92   fff3                                                                                                               
008a94   6af4     CLRF      0xf4,0x0       	clrf	PRODH, ACCESS	    ; clear out upper byte to be nice                        source\squareroot.s
008a96   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008a98   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008a9a   ffd9                                                                                                               
008a9c   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt32(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                  source\squareroot.s
                                           Sqrt32	                                                                          source\squareroot.s
008a9e   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008aa0   6b13     CLRF      0x13,0x1       	clrf	TEMP1, BANKED                                                              source\squareroot.s
008aa2   6b10     CLRF      0x10,0x1       	clrf	BITLOC0, BANKED	    ; setup the first bit                                  source\squareroot.s
008aa4   6b0b     CLRF      0xb,0x1        	clrf	RES0, BANKED                                                               source\squareroot.s
008aa6   0e80     MOVLW     0x80           	movlw	0x80                                                                      source\squareroot.s
008aa8   6f11     MOVWF     0x11,0x1       	movwf	BITLOC1, BANKED	    ; BitLoc = 0x8000                                     source\squareroot.s
008aaa   6f0a     MOVWF     0xa,0x1        	movwf	RES1, BANKED	    ; RES = 0x8000                                           source\squareroot.s
008aac   c50b     MOVFF     0x50b,0x505    Squar16 movff	RES0, ARG1L	    ; square the guess                                 source\squareroot.s
008aae   f505                                                                                                               
008ab0   c50a     MOVFF     0x50a,0x504    	movff	RES1, ARG1H                                                               source\squareroot.s
008ab2   f504                                                                                                               
008ab4   ec8a     CALL      0x8b14,0x0     	call	Sq16                                                                       source\squareroot.s
008ab6   f045                                                                                                               
008ab8   510c     MOVF      0xc,0x0,0x1    	movf	SQRES0, W, BANKED   ; ARGA - PROD test                                     source\squareroot.s
008aba   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008abc   510d     MOVF      0xd,0x0,0x1    	movf	SQRES1, W, BANKED                                                          source\squareroot.s
008abe   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
008ac0   510e     MOVF      0xe,0x0,0x1    	movf	SQRES2, W, BANKED                                                          source\squareroot.s
008ac2   5902     SUBWFB    0x2,0x0,0x1    	subwfb	ARGA2, W, BANKED                                                         source\squareroot.s
008ac4   510f     MOVF      0xf,0x0,0x1    	movf	SQRES3, W, BANKED                                                          source\squareroot.s
008ac6   5903     SUBWFB    0x3,0x0,0x1    	subwfb	ARGA3, W, BANKED                                                         source\squareroot.s
008ac8   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008aca   d00e     BRA       0x8ae8         	bra	NxtBt16		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008acc   0f00     ADDLW     0x0            	addlw	0x00		    ; clear carry                                                   source\squareroot.s
008ace   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008ad0   f50b                                                                                                               
008ad2   c513     MOVFF     0x513,0x50a    	movff	TEMP1, RES1                                                               source\squareroot.s
008ad4   f50a                                                                                                               
008ad6   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; then rotote the bit and put it                       source\squareroot.s
008ad8   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008ada   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; back into RES1:RES0                                  source\squareroot.s
008adc   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
008ade   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008ae0   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008ae2   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
008ae4   d00f     BRA       0x8b04         	bra	Done32		    ; out                                                           source\squareroot.s
008ae6   d7e2     BRA       0x8aac         	bra	Squar16		    ; elso go back for another test                                source\squareroot.s
008ae8   0f00     ADDLW     0x0            NxtBt16 addlw	0x00		    ; clear carry                                            source\squareroot.s
008aea   c50b     MOVFF     0x50b,0x512    	movff	RES0, TEMP0	    ; copy the last good approximation                        source\squareroot.s
008aec   f512                                                                                                               
008aee   c50a     MOVFF     0x50a,0x513    	movff	RES1, TEMP1                                                               source\squareroot.s
008af0   f513                                                                                                               
008af2   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; rotate the bit location register                     source\squareroot.s
008af4   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008af6   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; and put back into RES1:RES0                          source\squareroot.s
008af8   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
008afa   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008afc   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008afe   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
008b00   d001     BRA       0x8b04         	bra	Done32		    ; out                                                           source\squareroot.s
008b02   d7d4     BRA       0x8aac         	bra	Squar16                                                                     source\squareroot.s
008b04   c512     MOVFF     0x512,0xff3    Done32	movff	TEMP0,PRODL	    ; put the final result in PRODL:PRODH               source\squareroot.s
008b06   fff3                                                                                                               
008b08   c513     MOVFF     0x513,0xff4    	movff	TEMP1,PRODH                                                               source\squareroot.s
008b0a   fff4                                                                                                               
008b0c   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008b0e   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008b10   ffd9                                                                                                               
008b12   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *********** 16 X 16 Unsigned Square *****************************              source\squareroot.s
                                           ; SQRES3:SQRES0 = ARG1H:ARG1L ^2                                                 source\squareroot.s
008b14   5105     MOVF      0x5,0x0,0x1    Sq16	movf	ARG1L, W, BANKED                                                       source\squareroot.s
008b16   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1L * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008b18   cff4     MOVFF     0xff4,0x50d    	movff	PRODH, SQRES1                                                             source\squareroot.s
008b1a   f50d                                                                                                               
008b1c   cff3     MOVFF     0xff3,0x50c    	movff	PRODL, SQRES0                                                             source\squareroot.s
008b1e   f50c                                                                                                               
008b20   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008b22   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1H * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008b24   cff4     MOVFF     0xff4,0x50f    	movff	PRODH, SQRES3                                                             source\squareroot.s
008b26   f50f                                                                                                               
008b28   cff3     MOVFF     0xff3,0x50e    	movff	PRODL, SQRES2                                                             source\squareroot.s
008b2a   f50e                                                                                                               
008b2c   5105     MOVF      0x5,0x0,0x1    	movf	ARG1L, W, BANKED                                                           source\squareroot.s
008b2e   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1L * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008b30   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008b32   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008b34   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008b36   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008b38   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008b3a   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008b3c   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008b3e   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1H * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008b40   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008b42   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008b44   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008b46   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008b48   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008b4a   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008b4c   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                           	                                                                                source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           	GLOBAL	Sqrt                                                                     source\squareroot.s
                                                                                                                            source\squareroot.s
                                           	end                                                                             source\squareroot.s
